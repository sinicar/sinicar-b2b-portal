import { InstallmentFilters } from './installment.repository';
import { PaginationParams } from '../../utils/pagination';
import { CreateInstallmentRequestInput, AdminReviewInput, ForwardToSuppliersInput, CreateOfferInput, OfferResponseInput } from '../../schemas/installment.schema';
export declare class InstallmentService {
    list(filters: InstallmentFilters, pagination: PaginationParams): Promise<import("../../utils/pagination").PaginatedResult<{
        items: {
            id: string;
            partNumber: string;
            quantity: number;
            partName: string | null;
            requestId: string;
            estimatedPrice: number;
        }[];
        customer: {
            id: string;
            clientId: string;
            name: string;
            profile: {
                companyName: string | null;
            } | null;
        };
        offers: {
            id: string;
            status: string;
            createdAt: Date;
            type: string;
            createdBy: string | null;
            notes: string | null;
            requestId: string;
            sourceType: string;
            supplierId: string | null;
            supplierName: string | null;
            itemsApproved: string | null;
            totalApprovedValue: number;
            schedule: string | null;
        }[];
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>>;
    getById(id: string): Promise<{
        items: {
            id: string;
            partNumber: string;
            quantity: number;
            partName: string | null;
            requestId: string;
            estimatedPrice: number;
        }[];
        customer: {
            profile: {
                id: string;
                phone: string | null;
                createdAt: Date;
                updatedAt: Date;
                userId: string;
                companyName: string | null;
                region: string | null;
                city: string | null;
                crNumber: string | null;
                taxNumber: string | null;
                nationalAddress: string | null;
                customerType: string;
                businessCustomerType: string | null;
                assignedPriceLevel: string;
                priceVisibility: string;
                isApproved: boolean;
                searchPointsTotal: number;
                searchPointsRemaining: number;
                suspendedUntil: Date | null;
                internalNotes: string | null;
            } | null;
        } & {
            role: string;
            id: string;
            clientId: string;
            name: string;
            email: string | null;
            phone: string | null;
            password: string | null;
            employeeRole: string | null;
            status: string;
            isActive: boolean;
            parentId: string | null;
            businessId: string | null;
            activationCode: string | null;
            passwordResetToken: string | null;
            passwordResetExpiry: Date | null;
            searchLimit: number;
            searchUsed: number;
            failedLoginAttempts: number;
            lastLoginAt: Date | null;
            lastActiveAt: Date | null;
            createdAt: Date;
            updatedAt: Date;
            isCustomer: boolean;
            isSupplier: boolean;
            completionPercent: number;
            whatsapp: string | null;
            clientCode: string | null;
            preferredCurrency: string | null;
            preferredLanguage: string;
        };
        offers: {
            id: string;
            status: string;
            createdAt: Date;
            type: string;
            createdBy: string | null;
            notes: string | null;
            requestId: string;
            sourceType: string;
            supplierId: string | null;
            supplierName: string | null;
            itemsApproved: string | null;
            totalApprovedValue: number;
            schedule: string | null;
        }[];
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    getByCustomer(customerId: string, pagination: PaginationParams): Promise<import("../../utils/pagination").PaginatedResult<{
        items: {
            id: string;
            partNumber: string;
            quantity: number;
            partName: string | null;
            requestId: string;
            estimatedPrice: number;
        }[];
        offers: {
            id: string;
            status: string;
            createdAt: Date;
            type: string;
            createdBy: string | null;
            notes: string | null;
            requestId: string;
            sourceType: string;
            supplierId: string | null;
            supplierName: string | null;
            itemsApproved: string | null;
            totalApprovedValue: number;
            schedule: string | null;
        }[];
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>>;
    create(customerId: string, customerName: string, input: CreateInstallmentRequestInput): Promise<{
        items: {
            id: string;
            partNumber: string;
            quantity: number;
            partName: string | null;
            requestId: string;
            estimatedPrice: number;
        }[];
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    adminReview(requestId: string, reviewedBy: string, input: AdminReviewInput): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    forwardToSuppliers(requestId: string, input: ForwardToSuppliersInput): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    createOffer(requestId: string, createdBy: string, input: CreateOfferInput): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        type: string;
        createdBy: string | null;
        notes: string | null;
        requestId: string;
        sourceType: string;
        supplierId: string | null;
        supplierName: string | null;
        itemsApproved: string | null;
        totalApprovedValue: number;
        schedule: string | null;
    }>;
    customerOfferResponse(offerId: string, customerId: string, input: OfferResponseInput): Promise<{
        request: {
            id: string;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            reviewedBy: string | null;
            reviewedAt: Date | null;
            adminNotes: string | null;
            customerId: string;
            customerName: string | null;
            totalRequestedValue: number;
            paymentFrequency: string;
            requestedDurationMonths: number;
            sinicarDecision: string;
            allowedForSuppliers: boolean;
            forwardedToSupplierIds: string | null;
            acceptedOfferId: string | null;
            closedAt: Date | null;
            closedReason: string | null;
        };
    } & {
        id: string;
        status: string;
        createdAt: Date;
        type: string;
        createdBy: string | null;
        notes: string | null;
        requestId: string;
        sourceType: string;
        supplierId: string | null;
        supplierName: string | null;
        itemsApproved: string | null;
        totalApprovedValue: number;
        schedule: string | null;
    }>;
    cancel(requestId: string, customerId: string, reason?: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    close(requestId: string, reason: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    complete(requestId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        adminNotes: string | null;
        customerId: string;
        customerName: string | null;
        totalRequestedValue: number;
        paymentFrequency: string;
        requestedDurationMonths: number;
        sinicarDecision: string;
        allowedForSuppliers: boolean;
        forwardedToSupplierIds: string | null;
        acceptedOfferId: string | null;
        closedAt: Date | null;
        closedReason: string | null;
    }>;
    getSettings(): Promise<{
        id: string;
        key: string;
        enableInstallments: boolean;
        allowSupplierOffers: boolean;
        minInstallmentValue: number;
        maxInstallmentValue: number;
        minDurationMonths: number;
        maxDurationMonths: number;
        defaultCommission: number;
    } | null>;
    updateSettings(data: any): Promise<{
        id: string;
        key: string;
        enableInstallments: boolean;
        allowSupplierOffers: boolean;
        minInstallmentValue: number;
        maxInstallmentValue: number;
        minDurationMonths: number;
        maxDurationMonths: number;
        defaultCommission: number;
    }>;
    getStats(customerId?: string): Promise<{
        total: number;
        pending: number;
        active: number;
        completed: number;
        cancelled: number;
        totalValue: number;
    }>;
    private generatePaymentSchedule;
}
export declare const installmentService: InstallmentService;
//# sourceMappingURL=installment.service.d.ts.map