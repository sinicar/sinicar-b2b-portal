(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uv={exports:{}},pf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function GB(){if(LT)return pf;LT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var c in n)c!=="key"&&(i[c]=n[c])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:l,ref:n!==void 0?n:null,props:i}}return pf.Fragment=t,pf.jsx=r,pf.jsxs=r,pf}var FT;function WB(){return FT||(FT=1,Uv.exports=GB()),Uv.exports}var s=WB(),Bv={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function XB(){if(UT)return Et;UT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function _(Y,F,K){this.props=Y,this.context=F,this.refs=S,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(Y,F){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,F,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=_.prototype;function E(Y,F,K){this.props=Y,this.context=F,this.refs=S,this.updater=K||y}var O=E.prototype=new w;O.constructor=E,b(O,_.prototype),O.isPureReactComponent=!0;var A=Array.isArray;function T(){}var N={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(Y,F,K){var J=K.ref;return{$$typeof:e,type:Y,key:F,ref:J!==void 0?J:null,props:K}}function M(Y,F){return L(Y.type,F,Y.props)}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function I(Y){var F={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(K){return F[K]})}var V=/\/+/g;function q(Y,F){return typeof Y=="object"&&Y!==null&&Y.key!=null?I(""+Y.key):F.toString(36)}function z(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(T,T):(Y.status="pending",Y.then(function(F){Y.status==="pending"&&(Y.status="fulfilled",Y.value=F)},function(F){Y.status==="pending"&&(Y.status="rejected",Y.reason=F)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function R(Y,F,K,J,H){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var le=!1;if(Y===null)le=!0;else switch(ce){case"bigint":case"string":case"number":le=!0;break;case"object":switch(Y.$$typeof){case e:case t:le=!0;break;case p:return le=Y._init,R(le(Y._payload),F,K,J,H)}}if(le)return H=H(Y),le=J===""?"."+q(Y,0):J,A(H)?(K="",le!=null&&(K=le.replace(V,"$&/")+"/"),R(H,F,K,"",function(fe){return fe})):H!=null&&(k(H)&&(H=M(H,K+(H.key==null||Y&&Y.key===H.key?"":(""+H.key).replace(V,"$&/")+"/")+le)),F.push(H)),1;le=0;var xe=J===""?".":J+":";if(A(Y))for(var se=0;se<Y.length;se++)J=Y[se],ce=xe+q(J,se),le+=R(J,F,K,ce,H);else if(se=v(Y),typeof se=="function")for(Y=se.call(Y),se=0;!(J=Y.next()).done;)J=J.value,ce=xe+q(J,se++),le+=R(J,F,K,ce,H);else if(ce==="object"){if(typeof Y.then=="function")return R(z(Y),F,K,J,H);throw F=String(Y),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(Y,F,K){if(Y==null)return Y;var J=[],H=0;return R(Y,J,"","",function(ce){return F.call(K,ce,H++)}),J}function X(Y){if(Y._status===-1){var F=Y._result;F=F(),F.then(function(K){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=K)},function(K){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=K)}),Y._status===-1&&(Y._status=0,Y._result=F)}if(Y._status===1)return Y._result.default;throw Y._result}var B=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ee={map:W,forEach:function(Y,F,K){W(Y,function(){F.apply(this,arguments)},K)},count:function(Y){var F=0;return W(Y,function(){F++}),F},toArray:function(Y){return W(Y,function(F){return F})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Et.Activity=m,Et.Children=ee,Et.Component=_,Et.Fragment=r,Et.Profiler=n,Et.PureComponent=E,Et.StrictMode=a,Et.Suspense=u,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return N.H.useMemoCache(Y)}},Et.cache=function(Y){return function(){return Y.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(Y,F,K){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var J=b({},Y.props),H=Y.key;if(F!=null)for(ce in F.key!==void 0&&(H=""+F.key),F)!D.call(F,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&F.ref===void 0||(J[ce]=F[ce]);var ce=arguments.length-2;if(ce===1)J.children=K;else if(1<ce){for(var le=Array(ce),xe=0;xe<ce;xe++)le[xe]=arguments[xe+2];J.children=le}return L(Y.type,H,J)},Et.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:i,_context:Y},Y},Et.createElement=function(Y,F,K){var J,H={},ce=null;if(F!=null)for(J in F.key!==void 0&&(ce=""+F.key),F)D.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(H[J]=F[J]);var le=arguments.length-2;if(le===1)H.children=K;else if(1<le){for(var xe=Array(le),se=0;se<le;se++)xe[se]=arguments[se+2];H.children=xe}if(Y&&Y.defaultProps)for(J in le=Y.defaultProps,le)H[J]===void 0&&(H[J]=le[J]);return L(Y,ce,H)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(Y){return{$$typeof:c,render:Y}},Et.isValidElement=k,Et.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:X}},Et.memo=function(Y,F){return{$$typeof:f,type:Y,compare:F===void 0?null:F}},Et.startTransition=function(Y){var F=N.T,K={};N.T=K;try{var J=Y(),H=N.S;H!==null&&H(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(T,B)}catch(ce){B(ce)}finally{F!==null&&K.types!==null&&(F.types=K.types),N.T=F}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(Y){return N.H.use(Y)},Et.useActionState=function(Y,F,K){return N.H.useActionState(Y,F,K)},Et.useCallback=function(Y,F){return N.H.useCallback(Y,F)},Et.useContext=function(Y){return N.H.useContext(Y)},Et.useDebugValue=function(){},Et.useDeferredValue=function(Y,F){return N.H.useDeferredValue(Y,F)},Et.useEffect=function(Y,F){return N.H.useEffect(Y,F)},Et.useEffectEvent=function(Y){return N.H.useEffectEvent(Y)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(Y,F,K){return N.H.useImperativeHandle(Y,F,K)},Et.useInsertionEffect=function(Y,F){return N.H.useInsertionEffect(Y,F)},Et.useLayoutEffect=function(Y,F){return N.H.useLayoutEffect(Y,F)},Et.useMemo=function(Y,F){return N.H.useMemo(Y,F)},Et.useOptimistic=function(Y,F){return N.H.useOptimistic(Y,F)},Et.useReducer=function(Y,F,K){return N.H.useReducer(Y,F,K)},Et.useRef=function(Y){return N.H.useRef(Y)},Et.useState=function(Y){return N.H.useState(Y)},Et.useSyncExternalStore=function(Y,F,K){return N.H.useSyncExternalStore(Y,F,K)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.0",Et}var BT;function zx(){return BT||(BT=1,Bv.exports=XB()),Bv.exports}var P=zx();const ge=jr(P);var zv={exports:{}},xf={},qv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function YB(){return zT||(zT=1,(function(e){function t(R,W){var X=R.length;R.push(W);e:for(;0<X;){var B=X-1>>>1,ee=R[B];if(0<n(ee,W))R[B]=W,R[X]=ee,X=B;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var W=R[0],X=R.pop();if(X!==W){R[0]=X;e:for(var B=0,ee=R.length,Y=ee>>>1;B<Y;){var F=2*(B+1)-1,K=R[F],J=F+1,H=R[J];if(0>n(K,X))J<ee&&0>n(H,K)?(R[B]=H,R[J]=X,B=J):(R[B]=K,R[F]=X,B=F);else if(J<ee&&0>n(H,X))R[B]=H,R[J]=X,B=J;else break e}}return W}function n(R,W){var X=R.sortIndex-W.sortIndex;return X!==0?X:R.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],f=[],p=1,m=null,x=3,v=!1,y=!1,b=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var W=r(f);W!==null;){if(W.callback===null)a(f);else if(W.startTime<=R)a(f),W.sortIndex=W.expirationTime,t(u,W);else break;W=r(f)}}function A(R){if(b=!1,O(R),!y)if(r(u)!==null)y=!0,T||(T=!0,I());else{var W=r(f);W!==null&&z(A,W.startTime-R)}}var T=!1,N=-1,D=5,L=-1;function M(){return S?!0:!(e.unstable_now()-L<D)}function k(){if(S=!1,T){var R=e.unstable_now();L=R;var W=!0;try{e:{y=!1,b&&(b=!1,w(N),N=-1),v=!0;var X=x;try{t:{for(O(R),m=r(u);m!==null&&!(m.expirationTime>R&&M());){var B=m.callback;if(typeof B=="function"){m.callback=null,x=m.priorityLevel;var ee=B(m.expirationTime<=R);if(R=e.unstable_now(),typeof ee=="function"){m.callback=ee,O(R),W=!0;break t}m===r(u)&&a(u),O(R)}else a(u);m=r(u)}if(m!==null)W=!0;else{var Y=r(f);Y!==null&&z(A,Y.startTime-R),W=!1}}break e}finally{m=null,x=X,v=!1}W=void 0}}finally{W?I():T=!1}}}var I;if(typeof E=="function")I=function(){E(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=k,I=function(){q.postMessage(null)}}else I=function(){_(k,0)};function z(R,W){N=_(function(){R(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var X=x;x=W;try{return R()}finally{x=X}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=x;x=R;try{return W()}finally{x=X}},e.unstable_scheduleCallback=function(R,W,X){var B=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=X+ee,R={id:p++,callback:W,priorityLevel:R,startTime:X,expirationTime:ee,sortIndex:-1},X>B?(R.sortIndex=X,t(f,R),r(u)===null&&R===r(f)&&(b?(w(N),N=-1):b=!0,z(A,X-B))):(R.sortIndex=ee,t(u,R),y||v||(y=!0,T||(T=!0,I()))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var W=x;return function(){var X=x;x=W;try{return R.apply(this,arguments)}finally{x=X}}}})($v)),$v}var qT;function KB(){return qT||(qT=1,qv.exports=YB()),qv.exports}var Hv={exports:{}},Za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function QB(){if($T)return Za;$T=1;var e=zx();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:u,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Za.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,p)},Za.flushSync=function(u){var f=l.T,p=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=f,a.p=p,a.d.f()}},Za.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(u,f))},Za.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Za.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:v}):p==="script"&&a.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Za.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);a.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(u)},Za.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);a.d.L(u,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Za.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);a.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(u)},Za.requestFormReset=function(u){a.d.r(u)},Za.unstable_batchedUpdates=function(u,f){return u(f)},Za.useFormState=function(u,f,p){return l.H.useFormState(u,f,p)},Za.useFormStatus=function(){return l.H.useHostTransitionStatus()},Za.version="19.2.0",Za}var HT;function MI(){if(HT)return Hv.exports;HT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hv.exports=QB(),Hv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function JB(){if(VT)return xf;VT=1;var e=KB(),t=zx(),r=MI();function a(o){var d="https://react.dev/errors/"+o;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var d=o,h=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(h=d.return),o=d.return;while(o)}return d.tag===3?h:null}function l(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function c(o){if(o.tag===31){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(a(188))}function f(o){var d=o.alternate;if(!d){if(d=i(o),d===null)throw Error(a(188));return d!==o?null:o}for(var h=o,g=d;;){var j=h.return;if(j===null)break;var C=j.alternate;if(C===null){if(g=j.return,g!==null){h=g;continue}break}if(j.child===C.child){for(C=j.child;C;){if(C===h)return u(j),o;if(C===g)return u(j),d;C=C.sibling}throw Error(a(188))}if(h.return!==g.return)h=j,g=C;else{for(var U=!1,Z=j.child;Z;){if(Z===h){U=!0,h=j,g=C;break}if(Z===g){U=!0,g=j,h=C;break}Z=Z.sibling}if(!U){for(Z=C.child;Z;){if(Z===h){U=!0,h=C,g=j;break}if(Z===g){U=!0,g=C,h=j;break}Z=Z.sibling}if(!U)throw Error(a(189))}}if(h.alternate!==g)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?o:d}function p(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o;for(o=o.child;o!==null;){if(d=p(o),d!==null)return d;o=o.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=k&&o[k]||o["@@iterator"],typeof o=="function"?o:null)}var V=Symbol.for("react.client.reference");function q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===V?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case E:return o.displayName||"Context";case w:return(o._context.displayName||"Context")+".Consumer";case O:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return d=o.displayName||null,d!==null?d:q(o.type)||"Memo";case D:d=o._payload,o=o._init;try{return q(o(d))}catch{}}return null}var z=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},B=[],ee=-1;function Y(o){return{current:o}}function F(o){0>ee||(o.current=B[ee],B[ee]=null,ee--)}function K(o,d){ee++,B[ee]=o.current,o.current=d}var J=Y(null),H=Y(null),ce=Y(null),le=Y(null);function xe(o,d){switch(K(ce,d),K(H,o),K(J,null),d.nodeType){case 9:case 11:o=(o=d.documentElement)&&(o=o.namespaceURI)?iT(o):0;break;default:if(o=d.tagName,d=d.namespaceURI)d=iT(d),o=lT(d,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(J),K(J,o)}function se(){F(J),F(H),F(ce)}function fe(o){o.memoizedState!==null&&K(le,o);var d=J.current,h=lT(d,o.type);d!==h&&(K(H,o),K(J,h))}function we(o){H.current===o&&(F(J),F(H)),le.current===o&&(F(le),uf._currentValue=X)}var G,He;function Ue(o){if(G===void 0)try{throw Error()}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||"",He=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+o+He}var he=!1;function Me(o,d){if(!o||he)return"";he=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Re){var Ce=Re}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(Re){Ce=Re}o.call(ze.prototype)}}else{try{throw Error()}catch(Re){Ce=Re}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Re){if(Re&&Ce&&typeof Re.stack=="string")return[Re.stack,Ce.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),U=C[0],Z=C[1];if(U&&Z){var me=U.split(`
`),je=Z.split(`
`);for(j=g=0;g<me.length&&!me[g].includes("DetermineComponentFrameRoot");)g++;for(;j<je.length&&!je[j].includes("DetermineComponentFrameRoot");)j++;if(g===me.length||j===je.length)for(g=me.length-1,j=je.length-1;1<=g&&0<=j&&me[g]!==je[j];)j--;for(;1<=g&&0<=j;g--,j--)if(me[g]!==je[j]){if(g!==1||j!==1)do if(g--,j--,0>j||me[g]!==je[j]){var Ie=`
`+me[g].replace(" at new "," at ");return o.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",o.displayName)),Ie}while(1<=g&&0<=j);break}}}finally{he=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ue(h):""}function ye(o,d){switch(o.tag){case 26:case 27:case 5:return Ue(o.type);case 16:return Ue("Lazy");case 13:return o.child!==d&&d!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Me(o.type,!1);case 11:return Me(o.type.render,!1);case 1:return Me(o.type,!0);case 31:return Ue("Activity");default:return""}}function $e(o){try{var d="",h=null;do d+=ye(o,h),h=o,o=o.return;while(o);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var rt=Object.prototype.hasOwnProperty,it=e.unstable_scheduleCallback,ve=e.unstable_cancelCallback,tt=e.unstable_shouldYield,wt=e.unstable_requestPaint,Nt=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,ft=e.unstable_ImmediatePriority,kt=e.unstable_UserBlockingPriority,Yt=e.unstable_NormalPriority,Xe=e.unstable_LowPriority,ct=e.unstable_IdlePriority,$t=e.log,Er=e.unstable_setDisableYieldValue,Se=null,ur=null;function ma(o){if(typeof $t=="function"&&Er(o),ur&&typeof ur.setStrictMode=="function")try{ur.setStrictMode(Se,o)}catch{}}var Zt=Math.clz32?Math.clz32:at,ps=Math.log,Oe=Math.LN2;function at(o){return o>>>=0,o===0?32:31-(ps(o)/Oe|0)|0}var It=256,nr=262144,qr=4194304;function $a(o){var d=o&42;if(d!==0)return d;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Mn(o,d,h){var g=o.pendingLanes;if(g===0)return 0;var j=0,C=o.suspendedLanes,U=o.pingedLanes;o=o.warmLanes;var Z=g&134217727;return Z!==0?(g=Z&~C,g!==0?j=$a(g):(U&=Z,U!==0?j=$a(U):h||(h=Z&~o,h!==0&&(j=$a(h))))):(Z=g&~C,Z!==0?j=$a(Z):U!==0?j=$a(U):h||(h=g&~o,h!==0&&(j=$a(h)))),j===0?0:d!==0&&d!==j&&(d&C)===0&&(C=j&-j,h=d&-d,C>=h||C===32&&(h&4194048)!==0)?d:j}function Zs(o,d){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&d)===0}function bl(o,d){switch(o){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var o=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),o}function vt(o){for(var d=[],h=0;31>h;h++)d.push(o);return d}function Rt(o,d){o.pendingLanes|=d,d!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ht(o,d,h,g,j,C){var U=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var Z=o.entanglements,me=o.expirationTimes,je=o.hiddenUpdates;for(h=U&~h;0<h;){var Ie=31-Zt(h),ze=1<<Ie;Z[Ie]=0,me[Ie]=-1;var Ce=je[Ie];if(Ce!==null)for(je[Ie]=null,Ie=0;Ie<Ce.length;Ie++){var Re=Ce[Ie];Re!==null&&(Re.lane&=-536870913)}h&=~ze}g!==0&&Ar(o,g,0),C!==0&&j===0&&o.tag!==0&&(o.suspendedLanes|=C&~(U&~d))}function Ar(o,d,h){o.pendingLanes|=d,o.suspendedLanes&=~d;var g=31-Zt(d);o.entangledLanes|=d,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function Pe(o,d){var h=o.entangledLanes|=d;for(o=o.entanglements;h;){var g=31-Zt(h),j=1<<g;j&d|o[g]&d&&(o[g]|=d),h&=~j}}function mt(o,d){var h=d&-d;return h=(h&42)!==0?1:Vt(h),(h&(o.suspendedLanes|d))!==0?0:h}function Vt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $r(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Q(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:OT(o.type))}function ie(o,d){var h=W.p;try{return W.p=o,d()}finally{W.p=h}}var re=Math.random().toString(36).slice(2),te="__reactFiber$"+re,ne="__reactProps$"+re,oe="__reactContainer$"+re,Ee="__reactEvents$"+re,Fe="__reactListeners$"+re,Ae="__reactHandles$"+re,_e="__reactResources$"+re,Te="__reactMarker$"+re;function Ve(o){delete o[te],delete o[ne],delete o[Ee],delete o[Fe],delete o[Ae]}function Ye(o){var d=o[te];if(d)return d;for(var h=o.parentNode;h;){if(d=h[oe]||h[te]){if(h=d.alternate,d.child!==null||h!==null&&h.child!==null)for(o=hT(o);o!==null;){if(h=o[te])return h;o=hT(o)}return d}o=h,h=o.parentNode}return null}function et(o){if(o=o[te]||o[oe]){var d=o.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return o}return null}function Ge(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o.stateNode;throw Error(a(33))}function Ze(o){var d=o[_e];return d||(d=o[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function lt(o){o[Te]=!0}var Tr=new Set,Or={};function Hr(o,d){en(o,d),en(o+"Capture",d)}function en(o,d){for(Or[o]=d,o=0;o<d.length;o++)Tr.add(d[o])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},ti={};function Au(o){return rt.call(ti,o)?!0:rt.call(vl,o)?!1:yo.test(o)?ti[o]=!0:(vl[o]=!0,!1)}function Ss(o,d,h){if(Au(d))if(h===null)o.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(d);return}}o.setAttribute(d,""+h)}}function jm(o,d,h){if(h===null)o.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttribute(d,""+h)}}function Ni(o,d,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(d,h,""+g)}}function tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function JE(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function U7(o,d,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,d);if(!o.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var j=g.get,C=g.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return j.call(this)},set:function(U){h=""+U,C.call(this,U)}}),Object.defineProperty(o,d,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(U){h=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Rg(o){if(!o._valueTracker){var d=JE(o)?"checked":"value";o._valueTracker=U7(o,d,""+o[d])}}function ZE(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var h=d.getValue(),g="";return o&&(g=JE(o)?o.checked?"true":"false":o.value),o=g,o!==h?(d.setValue(o),!0):!1}function Em(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var B7=/[\n"\\]/g;function rn(o){return o.replace(B7,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Pg(o,d,h,g,j,C,U,Z){o.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.type=U:o.removeAttribute("type"),d!=null?U==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+tn(d)):o.value!==""+tn(d)&&(o.value=""+tn(d)):U!=="submit"&&U!=="reset"||o.removeAttribute("value"),d!=null?Dg(o,U,tn(d)):h!=null?Dg(o,U,tn(h)):g!=null&&o.removeAttribute("value"),j==null&&C!=null&&(o.defaultChecked=!!C),j!=null&&(o.checked=j&&typeof j!="function"&&typeof j!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?o.name=""+tn(Z):o.removeAttribute("name")}function eA(o,d,h,g,j,C,U,Z){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),d!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||d!=null)){Rg(o);return}h=h!=null?""+tn(h):"",d=d!=null?""+tn(d):h,Z||d===o.value||(o.value=d),o.defaultValue=d}g=g??j,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=Z?o.checked:!!g,o.defaultChecked=!!g,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(o.name=U),Rg(o)}function Dg(o,d,h){d==="number"&&Em(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Oc(o,d,h,g){if(o=o.options,d){d={};for(var j=0;j<h.length;j++)d["$"+h[j]]=!0;for(h=0;h<o.length;h++)j=d.hasOwnProperty("$"+o[h].value),o[h].selected!==j&&(o[h].selected=j),j&&g&&(o[h].defaultSelected=!0)}else{for(h=""+tn(h),d=null,j=0;j<o.length;j++){if(o[j].value===h){o[j].selected=!0,g&&(o[j].defaultSelected=!0);return}d!==null||o[j].disabled||(d=o[j])}d!==null&&(d.selected=!0)}}function tA(o,d,h){if(d!=null&&(d=""+tn(d),d!==o.value&&(o.value=d),h==null)){o.defaultValue!==d&&(o.defaultValue=d);return}o.defaultValue=h!=null?""+tn(h):""}function rA(o,d,h,g){if(d==null){if(g!=null){if(h!=null)throw Error(a(92));if(z(g)){if(1<g.length)throw Error(a(93));g=g[0]}h=g}h==null&&(h=""),d=h}h=tn(d),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),Rg(o)}function kc(o,d){if(d){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=d;return}}o.textContent=d}var z7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aA(o,d,h){var g=d.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="":g?o.setProperty(d,h):typeof h!="number"||h===0||z7.has(d)?d==="float"?o.cssFloat=h:o[d]=(""+h).trim():o[d]=h+"px"}function sA(o,d,h){if(d!=null&&typeof d!="object")throw Error(a(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var j in d)g=d[j],d.hasOwnProperty(j)&&h[j]!==g&&aA(o,j,g)}else for(var C in d)d.hasOwnProperty(C)&&aA(o,C,d[C])}function Ig(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Am(o){return $7.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ji(){}var Mg=null;function Lg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Rc=null,Pc=null;function nA(o){var d=et(o);if(d&&(o=d.stateNode)){var h=o[ne]||null;e:switch(o=d.stateNode,d.type){case"input":if(Pg(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),d=h.name,h.type==="radio"&&d!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+rn(""+d)+'"][type="radio"]'),d=0;d<h.length;d++){var g=h[d];if(g!==o&&g.form===o.form){var j=g[ne]||null;if(!j)throw Error(a(90));Pg(g,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(d=0;d<h.length;d++)g=h[d],g.form===o.form&&ZE(g)}break e;case"textarea":tA(o,h.value,h.defaultValue);break e;case"select":d=h.value,d!=null&&Oc(o,!!h.multiple,d,!1)}}}var Fg=!1;function iA(o,d,h){if(Fg)return o(d,h);Fg=!0;try{var g=o(d);return g}finally{if(Fg=!1,(Rc!==null||Pc!==null)&&(mh(),Rc&&(d=Rc,o=Pc,Pc=Rc=null,nA(d),o)))for(d=0;d<o.length;d++)nA(o[d])}}function _u(o,d){var h=o.stateNode;if(h===null)return null;var g=h[ne]||null;if(g===null)return null;h=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(a(231,d,typeof h));return h}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=!1;if(Ei)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Ug=!1}var yl=null,Bg=null,_m=null;function lA(){if(_m)return _m;var o,d=Bg,h=d.length,g,j="value"in yl?yl.value:yl.textContent,C=j.length;for(o=0;o<h&&d[o]===j[o];o++);var U=h-o;for(g=1;g<=U&&d[h-g]===j[C-g];g++);return _m=j.slice(o,1<g?1-g:void 0)}function Cm(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Tm(){return!0}function oA(){return!1}function ws(o){function d(h,g,j,C,U){this._reactName=h,this._targetInst=j,this.type=g,this.nativeEvent=C,this.target=U,this.currentTarget=null;for(var Z in o)o.hasOwnProperty(Z)&&(h=o[Z],this[Z]=h?h(C):C[Z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Tm:oA,this.isPropagationStopped=oA,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),d}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=ws(So),Tu=m({},So,{view:0,detail:0}),H7=ws(Tu),zg,qg,Ou,km=m({},Tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ou&&(Ou&&o.type==="mousemove"?(zg=o.screenX-Ou.screenX,qg=o.screenY-Ou.screenY):qg=zg=0,Ou=o),zg)},movementY:function(o){return"movementY"in o?o.movementY:qg}}),cA=ws(km),V7=m({},km,{dataTransfer:0}),G7=ws(V7),W7=m({},Tu,{relatedTarget:0}),$g=ws(W7),X7=m({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Y7=ws(X7),K7=m({},So,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Q7=ws(K7),J7=m({},So,{data:0}),dA=ws(J7),Z7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rU(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=tU[o])?!!d[o]:!1}function Hg(){return rU}var aU=m({},Tu,{key:function(o){if(o.key){var d=Z7[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Cm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?eU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(o){return o.type==="keypress"?Cm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),sU=ws(aU),nU=m({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uA=ws(nU),iU=m({},Tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),lU=ws(iU),oU=m({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),cU=ws(oU),dU=m({},km,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),uU=ws(dU),fU=m({},So,{newState:0,oldState:0}),mU=ws(fU),hU=[9,13,27,32],Vg=Ei&&"CompositionEvent"in window,ku=null;Ei&&"documentMode"in document&&(ku=document.documentMode);var pU=Ei&&"TextEvent"in window&&!ku,fA=Ei&&(!Vg||ku&&8<ku&&11>=ku),mA=" ",hA=!1;function pA(o,d){switch(o){case"keyup":return hU.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Dc=!1;function xU(o,d){switch(o){case"compositionend":return xA(d);case"keypress":return d.which!==32?null:(hA=!0,mA);case"textInput":return o=d.data,o===mA&&hA?null:o;default:return null}}function gU(o,d){if(Dc)return o==="compositionend"||!Vg&&pA(o,d)?(o=lA(),_m=Bg=yl=null,Dc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return fA&&d.locale!=="ko"?null:d.data;default:return null}}var bU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gA(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!bU[o.type]:d==="textarea"}function bA(o,d,h,g){Rc?Pc?Pc.push(g):Pc=[g]:Rc=g,d=yh(d,"onChange"),0<d.length&&(h=new Om("onChange","change",null,h,g),o.push({event:h,listeners:d}))}var Ru=null,Pu=null;function vU(o){eT(o,0)}function Rm(o){var d=Ge(o);if(ZE(d))return o}function vA(o,d){if(o==="change")return d}var yA=!1;if(Ei){var Gg;if(Ei){var Wg="oninput"in document;if(!Wg){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),Wg=typeof SA.oninput=="function"}Gg=Wg}else Gg=!1;yA=Gg&&(!document.documentMode||9<document.documentMode)}function wA(){Ru&&(Ru.detachEvent("onpropertychange",NA),Pu=Ru=null)}function NA(o){if(o.propertyName==="value"&&Rm(Pu)){var d=[];bA(d,Pu,o,Lg(o)),iA(vU,d)}}function yU(o,d,h){o==="focusin"?(wA(),Ru=d,Pu=h,Ru.attachEvent("onpropertychange",NA)):o==="focusout"&&wA()}function SU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Rm(Pu)}function wU(o,d){if(o==="click")return Rm(d)}function NU(o,d){if(o==="input"||o==="change")return Rm(d)}function jU(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Ps=typeof Object.is=="function"?Object.is:jU;function Du(o,d){if(Ps(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var h=Object.keys(o),g=Object.keys(d);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var j=h[g];if(!rt.call(d,j)||!Ps(o[j],d[j]))return!1}return!0}function jA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function EA(o,d){var h=jA(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=d&&g>=d)return{node:h,offset:d-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=jA(h)}}function AA(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?AA(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function _A(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var d=Em(o.document);d instanceof o.HTMLIFrameElement;){try{var h=typeof d.contentWindow.location.href=="string"}catch{h=!1}if(h)o=d.contentWindow;else break;d=Em(o.document)}return d}function Xg(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}var EU=Ei&&"documentMode"in document&&11>=document.documentMode,Ic=null,Yg=null,Iu=null,Kg=!1;function CA(o,d,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Kg||Ic==null||Ic!==Em(g)||(g=Ic,"selectionStart"in g&&Xg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Iu&&Du(Iu,g)||(Iu=g,g=yh(Yg,"onSelect"),0<g.length&&(d=new Om("onSelect","select",null,d,h),o.push({event:d,listeners:g}),d.target=Ic)))}function wo(o,d){var h={};return h[o.toLowerCase()]=d.toLowerCase(),h["Webkit"+o]="webkit"+d,h["Moz"+o]="moz"+d,h}var Mc={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},Qg={},TA={};Ei&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function No(o){if(Qg[o])return Qg[o];if(!Mc[o])return o;var d=Mc[o],h;for(h in d)if(d.hasOwnProperty(h)&&h in TA)return Qg[o]=d[h];return o}var OA=No("animationend"),kA=No("animationiteration"),RA=No("animationstart"),AU=No("transitionrun"),_U=No("transitionstart"),CU=No("transitioncancel"),PA=No("transitionend"),DA=new Map,Jg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jg.push("scrollEnd");function Ln(o,d){DA.set(o,d),Hr(d,[o])}var Pm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},an=[],Lc=0,Zg=0;function Dm(){for(var o=Lc,d=Zg=Lc=0;d<o;){var h=an[d];an[d++]=null;var g=an[d];an[d++]=null;var j=an[d];an[d++]=null;var C=an[d];if(an[d++]=null,g!==null&&j!==null){var U=g.pending;U===null?j.next=j:(j.next=U.next,U.next=j),g.pending=j}C!==0&&IA(h,j,C)}}function Im(o,d,h,g){an[Lc++]=o,an[Lc++]=d,an[Lc++]=h,an[Lc++]=g,Zg|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function eb(o,d,h,g){return Im(o,d,h,g),Mm(o)}function jo(o,d){return Im(o,null,null,d),Mm(o)}function IA(o,d,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var j=!1,C=o.return;C!==null;)C.childLanes|=h,g=C.alternate,g!==null&&(g.childLanes|=h),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(j=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,j&&d!==null&&(j=31-Zt(h),o=C.hiddenUpdates,g=o[j],g===null?o[j]=[d]:g.push(d),d.lane=h|536870912),C):null}function Mm(o){if(50<af)throw af=0,cv=null,Error(a(185));for(var d=o.return;d!==null;)o=d,d=o.return;return o.tag===3?o.stateNode:null}var Fc={};function TU(o,d,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(o,d,h,g){return new TU(o,d,h,g)}function tb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ai(o,d){var h=o.alternate;return h===null?(h=Ds(o.tag,d,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=d,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,d=o.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function MA(o,d){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=d,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,d=h.dependencies,o.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),o}function Lm(o,d,h,g,j,C){var U=0;if(g=o,typeof o=="function")tb(o)&&(U=1);else if(typeof o=="string")U=DB(o,h,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Ds(31,h,d,j),o.elementType=L,o.lanes=C,o;case b:return Eo(h.children,j,C,d);case S:U=8,j|=24;break;case _:return o=Ds(12,h,d,j|2),o.elementType=_,o.lanes=C,o;case A:return o=Ds(13,h,d,j),o.elementType=A,o.lanes=C,o;case T:return o=Ds(19,h,d,j),o.elementType=T,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:U=10;break e;case w:U=9;break e;case O:U=11;break e;case N:U=14;break e;case D:U=16,g=null;break e}U=29,h=Error(a(130,o===null?"null":typeof o,"")),g=null}return d=Ds(U,h,d,j),d.elementType=o,d.type=g,d.lanes=C,d}function Eo(o,d,h,g){return o=Ds(7,o,g,d),o.lanes=h,o}function rb(o,d,h){return o=Ds(6,o,null,d),o.lanes=h,o}function LA(o){var d=Ds(18,null,null,0);return d.stateNode=o,d}function ab(o,d,h){return d=Ds(4,o.children!==null?o.children:[],o.key,d),d.lanes=h,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}var FA=new WeakMap;function sn(o,d){if(typeof o=="object"&&o!==null){var h=FA.get(o);return h!==void 0?h:(d={value:o,source:d,stack:$e(d)},FA.set(o,d),d)}return{value:o,source:d,stack:$e(d)}}var Uc=[],Bc=0,Fm=null,Mu=0,nn=[],ln=0,Sl=null,ri=1,ai="";function _i(o,d){Uc[Bc++]=Mu,Uc[Bc++]=Fm,Fm=o,Mu=d}function UA(o,d,h){nn[ln++]=ri,nn[ln++]=ai,nn[ln++]=Sl,Sl=o;var g=ri;o=ai;var j=32-Zt(g)-1;g&=~(1<<j),h+=1;var C=32-Zt(d)+j;if(30<C){var U=j-j%5;C=(g&(1<<U)-1).toString(32),g>>=U,j-=U,ri=1<<32-Zt(d)+j|h<<j|g,ai=C+o}else ri=1<<C|h<<j|g,ai=o}function sb(o){o.return!==null&&(_i(o,1),UA(o,1,0))}function nb(o){for(;o===Fm;)Fm=Uc[--Bc],Uc[Bc]=null,Mu=Uc[--Bc],Uc[Bc]=null;for(;o===Sl;)Sl=nn[--ln],nn[ln]=null,ai=nn[--ln],nn[ln]=null,ri=nn[--ln],nn[ln]=null}function BA(o,d){nn[ln++]=ri,nn[ln++]=ai,nn[ln++]=Sl,ri=d.id,ai=d.overflow,Sl=o}var Ha=null,Ir=null,Gt=!1,wl=null,on=!1,ib=Error(a(519));function Nl(o){var d=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lu(sn(d,o)),ib}function zA(o){var d=o.stateNode,h=o.type,g=o.memoizedProps;switch(d[te]=o,d[ne]=g,h){case"dialog":Lt("cancel",d),Lt("close",d);break;case"iframe":case"object":case"embed":Lt("load",d);break;case"video":case"audio":for(h=0;h<nf.length;h++)Lt(nf[h],d);break;case"source":Lt("error",d);break;case"img":case"image":case"link":Lt("error",d),Lt("load",d);break;case"details":Lt("toggle",d);break;case"input":Lt("invalid",d),eA(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Lt("invalid",d);break;case"textarea":Lt("invalid",d),rA(d,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||d.textContent===""+h||g.suppressHydrationWarning===!0||sT(d.textContent,h)?(g.popover!=null&&(Lt("beforetoggle",d),Lt("toggle",d)),g.onScroll!=null&&Lt("scroll",d),g.onScrollEnd!=null&&Lt("scrollend",d),g.onClick!=null&&(d.onclick=ji),d=!0):d=!1,d||Nl(o,!0)}function qA(o){for(Ha=o.return;Ha;)switch(Ha.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Ha=Ha.return}}function zc(o){if(o!==Ha)return!1;if(!Gt)return qA(o),Gt=!0,!1;var d=o.tag,h;if((h=d!==3&&d!==27)&&((h=d===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||jv(o.type,o.memoizedProps)),h=!h),h&&Ir&&Nl(o),qA(o),d===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));Ir=mT(o)}else if(d===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));Ir=mT(o)}else d===27?(d=Ir,Ll(o.type)?(o=Tv,Tv=null,Ir=o):Ir=d):Ir=Ha?dn(o.stateNode.nextSibling):null;return!0}function Ao(){Ir=Ha=null,Gt=!1}function lb(){var o=wl;return o!==null&&(As===null?As=o:As.push.apply(As,o),wl=null),o}function Lu(o){wl===null?wl=[o]:wl.push(o)}var ob=Y(null),_o=null,Ci=null;function jl(o,d,h){K(ob,d._currentValue),d._currentValue=h}function Ti(o){o._currentValue=ob.current,F(ob)}function cb(o,d,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),o===h)break;o=o.return}}function db(o,d,h,g){var j=o.child;for(j!==null&&(j.return=o);j!==null;){var C=j.dependencies;if(C!==null){var U=j.child;C=C.firstContext;e:for(;C!==null;){var Z=C;C=j;for(var me=0;me<d.length;me++)if(Z.context===d[me]){C.lanes|=h,Z=C.alternate,Z!==null&&(Z.lanes|=h),cb(C.return,h,o),g||(U=null);break e}C=Z.next}}else if(j.tag===18){if(U=j.return,U===null)throw Error(a(341));U.lanes|=h,C=U.alternate,C!==null&&(C.lanes|=h),cb(U,h,o),U=null}else U=j.child;if(U!==null)U.return=j;else for(U=j;U!==null;){if(U===o){U=null;break}if(j=U.sibling,j!==null){j.return=U.return,U=j;break}U=U.return}j=U}}function qc(o,d,h,g){o=null;for(var j=d,C=!1;j!==null;){if(!C){if((j.flags&524288)!==0)C=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var U=j.alternate;if(U===null)throw Error(a(387));if(U=U.memoizedProps,U!==null){var Z=j.type;Ps(j.pendingProps.value,U.value)||(o!==null?o.push(Z):o=[Z])}}else if(j===le.current){if(U=j.alternate,U===null)throw Error(a(387));U.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(o!==null?o.push(uf):o=[uf])}j=j.return}o!==null&&db(d,o,h,g),d.flags|=262144}function Um(o){for(o=o.firstContext;o!==null;){if(!Ps(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Co(o){_o=o,Ci=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Va(o){return $A(_o,o)}function Bm(o,d){return _o===null&&Co(o),$A(o,d)}function $A(o,d){var h=d._currentValue;if(d={context:d,memoizedValue:h,next:null},Ci===null){if(o===null)throw Error(a(308));Ci=d,o.dependencies={lanes:0,firstContext:d},o.flags|=524288}else Ci=Ci.next=d;return h}var OU=typeof AbortController<"u"?AbortController:function(){var o=[],d=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){d.aborted=!0,o.forEach(function(h){return h()})}},kU=e.unstable_scheduleCallback,RU=e.unstable_NormalPriority,ha={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ub(){return{controller:new OU,data:new Map,refCount:0}}function Fu(o){o.refCount--,o.refCount===0&&kU(RU,function(){o.controller.abort()})}var Uu=null,fb=0,$c=0,Hc=null;function PU(o,d){if(Uu===null){var h=Uu=[];fb=0,$c=pv(),Hc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return fb++,d.then(HA,HA),d}function HA(){if(--fb===0&&Uu!==null){Hc!==null&&(Hc.status="fulfilled");var o=Uu;Uu=null,$c=0,Hc=null;for(var d=0;d<o.length;d++)(0,o[d])()}}function DU(o,d){var h=[],g={status:"pending",value:null,reason:null,then:function(j){h.push(j)}};return o.then(function(){g.status="fulfilled",g.value=d;for(var j=0;j<h.length;j++)(0,h[j])(d)},function(j){for(g.status="rejected",g.reason=j,j=0;j<h.length;j++)(0,h[j])(void 0)}),g}var VA=R.S;R.S=function(o,d){CC=Nt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&PU(o,d),VA!==null&&VA(o,d)};var To=Y(null);function mb(){var o=To.current;return o!==null?o:_r.pooledCache}function zm(o,d){d===null?K(To,To.current):K(To,d.pool)}function GA(){var o=mb();return o===null?null:{parent:ha._currentValue,pool:o}}var Vc=Error(a(460)),hb=Error(a(474)),qm=Error(a(542)),$m={then:function(){}};function WA(o){return o=o.status,o==="fulfilled"||o==="rejected"}function XA(o,d,h){switch(h=o[h],h===void 0?o.push(d):h!==d&&(d.then(ji,ji),d=h),d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,KA(o),o;default:if(typeof d.status=="string")d.then(ji,ji);else{if(o=_r,o!==null&&100<o.shellSuspendCounter)throw Error(a(482));o=d,o.status="pending",o.then(function(g){if(d.status==="pending"){var j=d;j.status="fulfilled",j.value=g}},function(g){if(d.status==="pending"){var j=d;j.status="rejected",j.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,KA(o),o}throw ko=d,Vc}}function Oo(o){try{var d=o._init;return d(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ko=h,Vc):h}}var ko=null;function YA(){if(ko===null)throw Error(a(459));var o=ko;return ko=null,o}function KA(o){if(o===Vc||o===qm)throw Error(a(483))}var Gc=null,Bu=0;function Hm(o){var d=Bu;return Bu+=1,Gc===null&&(Gc=[]),XA(Gc,o,d)}function zu(o,d){d=d.props.ref,o.ref=d!==void 0?d:null}function Vm(o,d){throw d.$$typeof===x?Error(a(525)):(o=Object.prototype.toString.call(d),Error(a(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o)))}function QA(o){function d(be,pe){if(o){var Ne=be.deletions;Ne===null?(be.deletions=[pe],be.flags|=16):Ne.push(pe)}}function h(be,pe){if(!o)return null;for(;pe!==null;)d(be,pe),pe=pe.sibling;return null}function g(be){for(var pe=new Map;be!==null;)be.key!==null?pe.set(be.key,be):pe.set(be.index,be),be=be.sibling;return pe}function j(be,pe){return be=Ai(be,pe),be.index=0,be.sibling=null,be}function C(be,pe,Ne){return be.index=Ne,o?(Ne=be.alternate,Ne!==null?(Ne=Ne.index,Ne<pe?(be.flags|=67108866,pe):Ne):(be.flags|=67108866,pe)):(be.flags|=1048576,pe)}function U(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function Z(be,pe,Ne,Be){return pe===null||pe.tag!==6?(pe=rb(Ne,be.mode,Be),pe.return=be,pe):(pe=j(pe,Ne),pe.return=be,pe)}function me(be,pe,Ne,Be){var ut=Ne.type;return ut===b?Ie(be,pe,Ne.props.children,Be,Ne.key):pe!==null&&(pe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&Oo(ut)===pe.type)?(pe=j(pe,Ne.props),zu(pe,Ne),pe.return=be,pe):(pe=Lm(Ne.type,Ne.key,Ne.props,null,be.mode,Be),zu(pe,Ne),pe.return=be,pe)}function je(be,pe,Ne,Be){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ne.containerInfo||pe.stateNode.implementation!==Ne.implementation?(pe=ab(Ne,be.mode,Be),pe.return=be,pe):(pe=j(pe,Ne.children||[]),pe.return=be,pe)}function Ie(be,pe,Ne,Be,ut){return pe===null||pe.tag!==7?(pe=Eo(Ne,be.mode,Be,ut),pe.return=be,pe):(pe=j(pe,Ne),pe.return=be,pe)}function ze(be,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=rb(""+pe,be.mode,Ne),pe.return=be,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Ne=Lm(pe.type,pe.key,pe.props,null,be.mode,Ne),zu(Ne,pe),Ne.return=be,Ne;case y:return pe=ab(pe,be.mode,Ne),pe.return=be,pe;case D:return pe=Oo(pe),ze(be,pe,Ne)}if(z(pe)||I(pe))return pe=Eo(pe,be.mode,Ne,null),pe.return=be,pe;if(typeof pe.then=="function")return ze(be,Hm(pe),Ne);if(pe.$$typeof===E)return ze(be,Bm(be,pe),Ne);Vm(be,pe)}return null}function Ce(be,pe,Ne,Be){var ut=pe!==null?pe.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ut!==null?null:Z(be,pe,""+Ne,Be);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case v:return Ne.key===ut?me(be,pe,Ne,Be):null;case y:return Ne.key===ut?je(be,pe,Ne,Be):null;case D:return Ne=Oo(Ne),Ce(be,pe,Ne,Be)}if(z(Ne)||I(Ne))return ut!==null?null:Ie(be,pe,Ne,Be,null);if(typeof Ne.then=="function")return Ce(be,pe,Hm(Ne),Be);if(Ne.$$typeof===E)return Ce(be,pe,Bm(be,Ne),Be);Vm(be,Ne)}return null}function Re(be,pe,Ne,Be,ut){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return be=be.get(Ne)||null,Z(pe,be,""+Be,ut);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case v:return be=be.get(Be.key===null?Ne:Be.key)||null,me(pe,be,Be,ut);case y:return be=be.get(Be.key===null?Ne:Be.key)||null,je(pe,be,Be,ut);case D:return Be=Oo(Be),Re(be,pe,Ne,Be,ut)}if(z(Be)||I(Be))return be=be.get(Ne)||null,Ie(pe,be,Be,ut,null);if(typeof Be.then=="function")return Re(be,pe,Ne,Hm(Be),ut);if(Be.$$typeof===E)return Re(be,pe,Ne,Bm(pe,Be),ut);Vm(pe,Be)}return null}function nt(be,pe,Ne,Be){for(var ut=null,er=null,ot=pe,Ct=pe=0,Bt=null;ot!==null&&Ct<Ne.length;Ct++){ot.index>Ct?(Bt=ot,ot=null):Bt=ot.sibling;var tr=Ce(be,ot,Ne[Ct],Be);if(tr===null){ot===null&&(ot=Bt);break}o&&ot&&tr.alternate===null&&d(be,ot),pe=C(tr,pe,Ct),er===null?ut=tr:er.sibling=tr,er=tr,ot=Bt}if(Ct===Ne.length)return h(be,ot),Gt&&_i(be,Ct),ut;if(ot===null){for(;Ct<Ne.length;Ct++)ot=ze(be,Ne[Ct],Be),ot!==null&&(pe=C(ot,pe,Ct),er===null?ut=ot:er.sibling=ot,er=ot);return Gt&&_i(be,Ct),ut}for(ot=g(ot);Ct<Ne.length;Ct++)Bt=Re(ot,be,Ct,Ne[Ct],Be),Bt!==null&&(o&&Bt.alternate!==null&&ot.delete(Bt.key===null?Ct:Bt.key),pe=C(Bt,pe,Ct),er===null?ut=Bt:er.sibling=Bt,er=Bt);return o&&ot.forEach(function(ql){return d(be,ql)}),Gt&&_i(be,Ct),ut}function ht(be,pe,Ne,Be){if(Ne==null)throw Error(a(151));for(var ut=null,er=null,ot=pe,Ct=pe=0,Bt=null,tr=Ne.next();ot!==null&&!tr.done;Ct++,tr=Ne.next()){ot.index>Ct?(Bt=ot,ot=null):Bt=ot.sibling;var ql=Ce(be,ot,tr.value,Be);if(ql===null){ot===null&&(ot=Bt);break}o&&ot&&ql.alternate===null&&d(be,ot),pe=C(ql,pe,Ct),er===null?ut=ql:er.sibling=ql,er=ql,ot=Bt}if(tr.done)return h(be,ot),Gt&&_i(be,Ct),ut;if(ot===null){for(;!tr.done;Ct++,tr=Ne.next())tr=ze(be,tr.value,Be),tr!==null&&(pe=C(tr,pe,Ct),er===null?ut=tr:er.sibling=tr,er=tr);return Gt&&_i(be,Ct),ut}for(ot=g(ot);!tr.done;Ct++,tr=Ne.next())tr=Re(ot,be,Ct,tr.value,Be),tr!==null&&(o&&tr.alternate!==null&&ot.delete(tr.key===null?Ct:tr.key),pe=C(tr,pe,Ct),er===null?ut=tr:er.sibling=tr,er=tr);return o&&ot.forEach(function(VB){return d(be,VB)}),Gt&&_i(be,Ct),ut}function Sr(be,pe,Ne,Be){if(typeof Ne=="object"&&Ne!==null&&Ne.type===b&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case v:e:{for(var ut=Ne.key;pe!==null;){if(pe.key===ut){if(ut=Ne.type,ut===b){if(pe.tag===7){h(be,pe.sibling),Be=j(pe,Ne.props.children),Be.return=be,be=Be;break e}}else if(pe.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&Oo(ut)===pe.type){h(be,pe.sibling),Be=j(pe,Ne.props),zu(Be,Ne),Be.return=be,be=Be;break e}h(be,pe);break}else d(be,pe);pe=pe.sibling}Ne.type===b?(Be=Eo(Ne.props.children,be.mode,Be,Ne.key),Be.return=be,be=Be):(Be=Lm(Ne.type,Ne.key,Ne.props,null,be.mode,Be),zu(Be,Ne),Be.return=be,be=Be)}return U(be);case y:e:{for(ut=Ne.key;pe!==null;){if(pe.key===ut)if(pe.tag===4&&pe.stateNode.containerInfo===Ne.containerInfo&&pe.stateNode.implementation===Ne.implementation){h(be,pe.sibling),Be=j(pe,Ne.children||[]),Be.return=be,be=Be;break e}else{h(be,pe);break}else d(be,pe);pe=pe.sibling}Be=ab(Ne,be.mode,Be),Be.return=be,be=Be}return U(be);case D:return Ne=Oo(Ne),Sr(be,pe,Ne,Be)}if(z(Ne))return nt(be,pe,Ne,Be);if(I(Ne)){if(ut=I(Ne),typeof ut!="function")throw Error(a(150));return Ne=ut.call(Ne),ht(be,pe,Ne,Be)}if(typeof Ne.then=="function")return Sr(be,pe,Hm(Ne),Be);if(Ne.$$typeof===E)return Sr(be,pe,Bm(be,Ne),Be);Vm(be,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,pe!==null&&pe.tag===6?(h(be,pe.sibling),Be=j(pe,Ne),Be.return=be,be=Be):(h(be,pe),Be=rb(Ne,be.mode,Be),Be.return=be,be=Be),U(be)):h(be,pe)}return function(be,pe,Ne,Be){try{Bu=0;var ut=Sr(be,pe,Ne,Be);return Gc=null,ut}catch(ot){if(ot===Vc||ot===qm)throw ot;var er=Ds(29,ot,null,be.mode);return er.lanes=Be,er.return=be,er}finally{}}}var Ro=QA(!0),JA=QA(!1),El=!1;function pb(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Al(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function _l(o,d,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ir&2)!==0){var j=g.pending;return j===null?d.next=d:(d.next=j.next,j.next=d),g.pending=d,d=Mm(o),IA(o,null,h),d}return Im(o,g,d,h),Mm(o)}function qu(o,d,h){if(d=d.updateQueue,d!==null&&(d=d.shared,(h&4194048)!==0)){var g=d.lanes;g&=o.pendingLanes,h|=g,d.lanes=h,Pe(o,h)}}function gb(o,d){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var j=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?j=C=U:C=C.next=U,h=h.next}while(h!==null);C===null?j=C=d:C=C.next=d}else j=C=d;h={baseState:g.baseState,firstBaseUpdate:j,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=d}var bb=!1;function $u(){if(bb){var o=Hc;if(o!==null)throw o}}function Hu(o,d,h,g){bb=!1;var j=o.updateQueue;El=!1;var C=j.firstBaseUpdate,U=j.lastBaseUpdate,Z=j.shared.pending;if(Z!==null){j.shared.pending=null;var me=Z,je=me.next;me.next=null,U===null?C=je:U.next=je,U=me;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,Z=Ie.lastBaseUpdate,Z!==U&&(Z===null?Ie.firstBaseUpdate=je:Z.next=je,Ie.lastBaseUpdate=me))}if(C!==null){var ze=j.baseState;U=0,Ie=je=me=null,Z=C;do{var Ce=Z.lane&-536870913,Re=Ce!==Z.lane;if(Re?(Ut&Ce)===Ce:(g&Ce)===Ce){Ce!==0&&Ce===$c&&(bb=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var nt=o,ht=Z;Ce=d;var Sr=h;switch(ht.tag){case 1:if(nt=ht.payload,typeof nt=="function"){ze=nt.call(Sr,ze,Ce);break e}ze=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=ht.payload,Ce=typeof nt=="function"?nt.call(Sr,ze,Ce):nt,Ce==null)break e;ze=m({},ze,Ce);break e;case 2:El=!0}}Ce=Z.callback,Ce!==null&&(o.flags|=64,Re&&(o.flags|=8192),Re=j.callbacks,Re===null?j.callbacks=[Ce]:Re.push(Ce))}else Re={lane:Ce,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ie===null?(je=Ie=Re,me=ze):Ie=Ie.next=Re,U|=Ce;if(Z=Z.next,Z===null){if(Z=j.shared.pending,Z===null)break;Re=Z,Z=Re.next,Re.next=null,j.lastBaseUpdate=Re,j.shared.pending=null}}while(!0);Ie===null&&(me=ze),j.baseState=me,j.firstBaseUpdate=je,j.lastBaseUpdate=Ie,C===null&&(j.shared.lanes=0),Rl|=U,o.lanes=U,o.memoizedState=ze}}function ZA(o,d){if(typeof o!="function")throw Error(a(191,o));o.call(d)}function e_(o,d){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ZA(h[o],d)}var Wc=Y(null),Gm=Y(0);function t_(o,d){o=Fi,K(Gm,o),K(Wc,d),Fi=o|d.baseLanes}function vb(){K(Gm,Fi),K(Wc,Wc.current)}function yb(){Fi=Gm.current,F(Wc),F(Gm)}var Is=Y(null),cn=null;function Cl(o){var d=o.alternate;K(la,la.current&1),K(Is,o),cn===null&&(d===null||Wc.current!==null||d.memoizedState!==null)&&(cn=o)}function Sb(o){K(la,la.current),K(Is,o),cn===null&&(cn=o)}function r_(o){o.tag===22?(K(la,la.current),K(Is,o),cn===null&&(cn=o)):Tl()}function Tl(){K(la,la.current),K(Is,Is.current)}function Ms(o){F(Is),cn===o&&(cn=null),F(la)}var la=Y(0);function Wm(o){for(var d=o;d!==null;){if(d.tag===13){var h=d.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||_v(h)||Cv(h)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Oi=0,At=null,vr=null,pa=null,Xm=!1,Xc=!1,Po=!1,Ym=0,Vu=0,Yc=null,IU=0;function Zr(){throw Error(a(321))}function wb(o,d){if(d===null)return!1;for(var h=0;h<d.length&&h<o.length;h++)if(!Ps(o[h],d[h]))return!1;return!0}function Nb(o,d,h,g,j,C){return Oi=C,At=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,R.H=o===null||o.memoizedState===null?U_:Fb,Po=!1,C=h(g,j),Po=!1,Xc&&(C=s_(d,h,g,j)),a_(o),C}function a_(o){R.H=Xu;var d=vr!==null&&vr.next!==null;if(Oi=0,pa=vr=At=null,Xm=!1,Vu=0,Yc=null,d)throw Error(a(300));o===null||xa||(o=o.dependencies,o!==null&&Um(o)&&(xa=!0))}function s_(o,d,h,g){At=o;var j=0;do{if(Xc&&(Yc=null),Vu=0,Xc=!1,25<=j)throw Error(a(301));if(j+=1,pa=vr=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}R.H=B_,C=d(h,g)}while(Xc);return C}function MU(){var o=R.H,d=o.useState()[0];return d=typeof d.then=="function"?Gu(d):d,o=o.useState()[0],(vr!==null?vr.memoizedState:null)!==o&&(At.flags|=1024),d}function jb(){var o=Ym!==0;return Ym=0,o}function Eb(o,d,h){d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~h}function Ab(o){if(Xm){for(o=o.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Xm=!1}Oi=0,pa=vr=At=null,Xc=!1,Vu=Ym=0,Yc=null}function xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pa===null?At.memoizedState=pa=o:pa=pa.next=o,pa}function oa(){if(vr===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var d=pa===null?At.memoizedState:pa.next;if(d!==null)pa=d,vr=o;else{if(o===null)throw At.alternate===null?Error(a(467)):Error(a(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},pa===null?At.memoizedState=pa=o:pa=pa.next=o}return pa}function Km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(o){var d=Vu;return Vu+=1,Yc===null&&(Yc=[]),o=XA(Yc,o,d),d=At,(pa===null?d.memoizedState:pa.next)===null&&(d=d.alternate,R.H=d===null||d.memoizedState===null?U_:Fb),o}function Qm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Gu(o);if(o.$$typeof===E)return Va(o)}throw Error(a(438,String(o)))}function _b(o){var d=null,h=At.updateQueue;if(h!==null&&(d=h.memoCache),d==null){var g=At.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(j){return j.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),h===null&&(h=Km(),At.updateQueue=h),h.memoCache=d,h=d.data[d.index],h===void 0)for(h=d.data[d.index]=Array(o),g=0;g<o;g++)h[g]=M;return d.index++,h}function ki(o,d){return typeof d=="function"?d(o):d}function Jm(o){var d=oa();return Cb(d,vr,o)}function Cb(o,d,h){var g=o.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=h;var j=o.baseQueue,C=g.pending;if(C!==null){if(j!==null){var U=j.next;j.next=C.next,C.next=U}d.baseQueue=j=C,g.pending=null}if(C=o.baseState,j===null)o.memoizedState=C;else{d=j.next;var Z=U=null,me=null,je=d,Ie=!1;do{var ze=je.lane&-536870913;if(ze!==je.lane?(Ut&ze)===ze:(Oi&ze)===ze){var Ce=je.revertLane;if(Ce===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),ze===$c&&(Ie=!0);else if((Oi&Ce)===Ce){je=je.next,Ce===$c&&(Ie=!0);continue}else ze={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},me===null?(Z=me=ze,U=C):me=me.next=ze,At.lanes|=Ce,Rl|=Ce;ze=je.action,Po&&h(C,ze),C=je.hasEagerState?je.eagerState:h(C,ze)}else Ce={lane:ze,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},me===null?(Z=me=Ce,U=C):me=me.next=Ce,At.lanes|=ze,Rl|=ze;je=je.next}while(je!==null&&je!==d);if(me===null?U=C:me.next=Z,!Ps(C,o.memoizedState)&&(xa=!0,Ie&&(h=Hc,h!==null)))throw h;o.memoizedState=C,o.baseState=U,o.baseQueue=me,g.lastRenderedState=C}return j===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Tb(o){var d=oa(),h=d.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=o;var g=h.dispatch,j=h.pending,C=d.memoizedState;if(j!==null){h.pending=null;var U=j=j.next;do C=o(C,U.action),U=U.next;while(U!==j);Ps(C,d.memoizedState)||(xa=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),h.lastRenderedState=C}return[C,g]}function n_(o,d,h){var g=At,j=oa(),C=Gt;if(C){if(h===void 0)throw Error(a(407));h=h()}else h=d();var U=!Ps((vr||j).memoizedState,h);if(U&&(j.memoizedState=h,xa=!0),j=j.queue,Rb(o_.bind(null,g,j,o),[o]),j.getSnapshot!==d||U||pa!==null&&pa.memoizedState.tag&1){if(g.flags|=2048,Kc(9,{destroy:void 0},l_.bind(null,g,j,h,d),null),_r===null)throw Error(a(349));C||(Oi&127)!==0||i_(g,d,h)}return h}function i_(o,d,h){o.flags|=16384,o={getSnapshot:d,value:h},d=At.updateQueue,d===null?(d=Km(),At.updateQueue=d,d.stores=[o]):(h=d.stores,h===null?d.stores=[o]:h.push(o))}function l_(o,d,h,g){d.value=h,d.getSnapshot=g,c_(d)&&d_(o)}function o_(o,d,h){return h(function(){c_(d)&&d_(o)})}function c_(o){var d=o.getSnapshot;o=o.value;try{var h=d();return!Ps(o,h)}catch{return!0}}function d_(o){var d=jo(o,2);d!==null&&_s(d,o,2)}function Ob(o){var d=xs();if(typeof o=="function"){var h=o;if(o=h(),Po){ma(!0);try{h()}finally{ma(!1)}}}return d.memoizedState=d.baseState=o,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:o},d}function u_(o,d,h,g){return o.baseState=h,Cb(o,vr,typeof g=="function"?g:ki)}function LU(o,d,h,g,j){if(th(o))throw Error(a(485));if(o=d.action,o!==null){var C={payload:j,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){C.listeners.push(U)}};R.T!==null?h(!0):C.isTransition=!1,g(C),h=d.pending,h===null?(C.next=d.pending=C,f_(d,C)):(C.next=h.next,d.pending=h.next=C)}}function f_(o,d){var h=d.action,g=d.payload,j=o.state;if(d.isTransition){var C=R.T,U={};R.T=U;try{var Z=h(j,g),me=R.S;me!==null&&me(U,Z),m_(o,d,Z)}catch(je){kb(o,d,je)}finally{C!==null&&U.types!==null&&(C.types=U.types),R.T=C}}else try{C=h(j,g),m_(o,d,C)}catch(je){kb(o,d,je)}}function m_(o,d,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){h_(o,d,g)},function(g){return kb(o,d,g)}):h_(o,d,h)}function h_(o,d,h){d.status="fulfilled",d.value=h,p_(d),o.state=h,d=o.pending,d!==null&&(h=d.next,h===d?o.pending=null:(h=h.next,d.next=h,f_(o,h)))}function kb(o,d,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=h,p_(d),d=d.next;while(d!==g)}o.action=null}function p_(o){o=o.listeners;for(var d=0;d<o.length;d++)(0,o[d])()}function x_(o,d){return d}function g_(o,d){if(Gt){var h=_r.formState;if(h!==null){e:{var g=At;if(Gt){if(Ir){t:{for(var j=Ir,C=on;j.nodeType!==8;){if(!C){j=null;break t}if(j=dn(j.nextSibling),j===null){j=null;break t}}C=j.data,j=C==="F!"||C==="F"?j:null}if(j){Ir=dn(j.nextSibling),g=j.data==="F!";break e}}Nl(g)}g=!1}g&&(d=h[0])}}return h=xs(),h.memoizedState=h.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:d},h.queue=g,h=M_.bind(null,At,g),g.dispatch=h,g=Ob(!1),C=Lb.bind(null,At,!1,g.queue),g=xs(),j={state:d,dispatch:null,action:o,pending:null},g.queue=j,h=LU.bind(null,At,j,C,h),j.dispatch=h,g.memoizedState=o,[d,h,!1]}function b_(o){var d=oa();return v_(d,vr,o)}function v_(o,d,h){if(d=Cb(o,d,x_)[0],o=Jm(ki)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=Gu(d)}catch(U){throw U===Vc?qm:U}else g=d;d=oa();var j=d.queue,C=j.dispatch;return h!==d.memoizedState&&(At.flags|=2048,Kc(9,{destroy:void 0},FU.bind(null,j,h),null)),[g,C,o]}function FU(o,d){o.action=d}function y_(o){var d=oa(),h=vr;if(h!==null)return v_(d,h,o);oa(),d=d.memoizedState,h=oa();var g=h.queue.dispatch;return h.memoizedState=o,[d,g,!1]}function Kc(o,d,h,g){return o={tag:o,create:h,deps:g,inst:d,next:null},d=At.updateQueue,d===null&&(d=Km(),At.updateQueue=d),h=d.lastEffect,h===null?d.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,d.lastEffect=o),o}function S_(){return oa().memoizedState}function Zm(o,d,h,g){var j=xs();At.flags|=o,j.memoizedState=Kc(1|d,{destroy:void 0},h,g===void 0?null:g)}function eh(o,d,h,g){var j=oa();g=g===void 0?null:g;var C=j.memoizedState.inst;vr!==null&&g!==null&&wb(g,vr.memoizedState.deps)?j.memoizedState=Kc(d,C,h,g):(At.flags|=o,j.memoizedState=Kc(1|d,C,h,g))}function w_(o,d){Zm(8390656,8,o,d)}function Rb(o,d){eh(2048,8,o,d)}function UU(o){At.flags|=4;var d=At.updateQueue;if(d===null)d=Km(),At.updateQueue=d,d.events=[o];else{var h=d.events;h===null?d.events=[o]:h.push(o)}}function N_(o){var d=oa().memoizedState;return UU({ref:d,nextImpl:o}),function(){if((ir&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}function j_(o,d){return eh(4,2,o,d)}function E_(o,d){return eh(4,4,o,d)}function A_(o,d){if(typeof d=="function"){o=o();var h=d(o);return function(){typeof h=="function"?h():d(null)}}if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function __(o,d,h){h=h!=null?h.concat([o]):null,eh(4,4,A_.bind(null,d,o),h)}function Pb(){}function C_(o,d){var h=oa();d=d===void 0?null:d;var g=h.memoizedState;return d!==null&&wb(d,g[1])?g[0]:(h.memoizedState=[o,d],o)}function T_(o,d){var h=oa();d=d===void 0?null:d;var g=h.memoizedState;if(d!==null&&wb(d,g[1]))return g[0];if(g=o(),Po){ma(!0);try{o()}finally{ma(!1)}}return h.memoizedState=[g,d],g}function Db(o,d,h){return h===void 0||(Oi&1073741824)!==0&&(Ut&261930)===0?o.memoizedState=d:(o.memoizedState=h,o=OC(),At.lanes|=o,Rl|=o,h)}function O_(o,d,h,g){return Ps(h,d)?h:Wc.current!==null?(o=Db(o,h,g),Ps(o,d)||(xa=!0),o):(Oi&42)===0||(Oi&1073741824)!==0&&(Ut&261930)===0?(xa=!0,o.memoizedState=h):(o=OC(),At.lanes|=o,Rl|=o,d)}function k_(o,d,h,g,j){var C=W.p;W.p=C!==0&&8>C?C:8;var U=R.T,Z={};R.T=Z,Lb(o,!1,d,h);try{var me=j(),je=R.S;if(je!==null&&je(Z,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ie=DU(me,g);Wu(o,d,Ie,Us(o))}else Wu(o,d,g,Us(o))}catch(ze){Wu(o,d,{then:function(){},status:"rejected",reason:ze},Us())}finally{W.p=C,U!==null&&Z.types!==null&&(U.types=Z.types),R.T=U}}function BU(){}function Ib(o,d,h,g){if(o.tag!==5)throw Error(a(476));var j=R_(o).queue;k_(o,j,d,X,h===null?BU:function(){return P_(o),h(g)})}function R_(o){var d=o.memoizedState;if(d!==null)return d;d={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:X},next:null};var h={};return d.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:h},next:null},o.memoizedState=d,o=o.alternate,o!==null&&(o.memoizedState=d),d}function P_(o){var d=R_(o);d.next===null&&(d=o.alternate.memoizedState),Wu(o,d.next.queue,{},Us())}function Mb(){return Va(uf)}function D_(){return oa().memoizedState}function I_(){return oa().memoizedState}function zU(o){for(var d=o.return;d!==null;){switch(d.tag){case 24:case 3:var h=Us();o=Al(h);var g=_l(d,o,h);g!==null&&(_s(g,d,h),qu(g,d,h)),d={cache:ub()},o.payload=d;return}d=d.return}}function qU(o,d,h){var g=Us();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},th(o)?L_(d,h):(h=eb(o,d,h,g),h!==null&&(_s(h,o,g),F_(h,d,g)))}function M_(o,d,h){var g=Us();Wu(o,d,h,g)}function Wu(o,d,h,g){var j={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(th(o))L_(d,j);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var U=d.lastRenderedState,Z=C(U,h);if(j.hasEagerState=!0,j.eagerState=Z,Ps(Z,U))return Im(o,d,j,0),_r===null&&Dm(),!1}catch{}finally{}if(h=eb(o,d,j,g),h!==null)return _s(h,o,g),F_(h,d,g),!0}return!1}function Lb(o,d,h,g){if(g={lane:2,revertLane:pv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},th(o)){if(d)throw Error(a(479))}else d=eb(o,h,g,2),d!==null&&_s(d,o,2)}function th(o){var d=o.alternate;return o===At||d!==null&&d===At}function L_(o,d){Xc=Xm=!0;var h=o.pending;h===null?d.next=d:(d.next=h.next,h.next=d),o.pending=d}function F_(o,d,h){if((h&4194048)!==0){var g=d.lanes;g&=o.pendingLanes,h|=g,d.lanes=h,Pe(o,h)}}var Xu={readContext:Va,use:Qm,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr};Xu.useEffectEvent=Zr;var U_={readContext:Va,use:Qm,useCallback:function(o,d){return xs().memoizedState=[o,d===void 0?null:d],o},useContext:Va,useEffect:w_,useImperativeHandle:function(o,d,h){h=h!=null?h.concat([o]):null,Zm(4194308,4,A_.bind(null,d,o),h)},useLayoutEffect:function(o,d){return Zm(4194308,4,o,d)},useInsertionEffect:function(o,d){Zm(4,2,o,d)},useMemo:function(o,d){var h=xs();d=d===void 0?null:d;var g=o();if(Po){ma(!0);try{o()}finally{ma(!1)}}return h.memoizedState=[g,d],g},useReducer:function(o,d,h){var g=xs();if(h!==void 0){var j=h(d);if(Po){ma(!0);try{h(d)}finally{ma(!1)}}}else j=d;return g.memoizedState=g.baseState=j,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:j},g.queue=o,o=o.dispatch=qU.bind(null,At,o),[g.memoizedState,o]},useRef:function(o){var d=xs();return o={current:o},d.memoizedState=o},useState:function(o){o=Ob(o);var d=o.queue,h=M_.bind(null,At,d);return d.dispatch=h,[o.memoizedState,h]},useDebugValue:Pb,useDeferredValue:function(o,d){var h=xs();return Db(h,o,d)},useTransition:function(){var o=Ob(!1);return o=k_.bind(null,At,o.queue,!0,!1),xs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,d,h){var g=At,j=xs();if(Gt){if(h===void 0)throw Error(a(407));h=h()}else{if(h=d(),_r===null)throw Error(a(349));(Ut&127)!==0||i_(g,d,h)}j.memoizedState=h;var C={value:h,getSnapshot:d};return j.queue=C,w_(o_.bind(null,g,C,o),[o]),g.flags|=2048,Kc(9,{destroy:void 0},l_.bind(null,g,C,h,d),null),h},useId:function(){var o=xs(),d=_r.identifierPrefix;if(Gt){var h=ai,g=ri;h=(g&~(1<<32-Zt(g)-1)).toString(32)+h,d="_"+d+"R_"+h,h=Ym++,0<h&&(d+="H"+h.toString(32)),d+="_"}else h=IU++,d="_"+d+"r_"+h.toString(32)+"_";return o.memoizedState=d},useHostTransitionStatus:Mb,useFormState:g_,useActionState:g_,useOptimistic:function(o){var d=xs();d.memoizedState=d.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=h,d=Lb.bind(null,At,!0,h),h.dispatch=d,[o,d]},useMemoCache:_b,useCacheRefresh:function(){return xs().memoizedState=zU.bind(null,At)},useEffectEvent:function(o){var d=xs(),h={impl:o};return d.memoizedState=h,function(){if((ir&2)!==0)throw Error(a(440));return h.impl.apply(void 0,arguments)}}},Fb={readContext:Va,use:Qm,useCallback:C_,useContext:Va,useEffect:Rb,useImperativeHandle:__,useInsertionEffect:j_,useLayoutEffect:E_,useMemo:T_,useReducer:Jm,useRef:S_,useState:function(){return Jm(ki)},useDebugValue:Pb,useDeferredValue:function(o,d){var h=oa();return O_(h,vr.memoizedState,o,d)},useTransition:function(){var o=Jm(ki)[0],d=oa().memoizedState;return[typeof o=="boolean"?o:Gu(o),d]},useSyncExternalStore:n_,useId:D_,useHostTransitionStatus:Mb,useFormState:b_,useActionState:b_,useOptimistic:function(o,d){var h=oa();return u_(h,vr,o,d)},useMemoCache:_b,useCacheRefresh:I_};Fb.useEffectEvent=N_;var B_={readContext:Va,use:Qm,useCallback:C_,useContext:Va,useEffect:Rb,useImperativeHandle:__,useInsertionEffect:j_,useLayoutEffect:E_,useMemo:T_,useReducer:Tb,useRef:S_,useState:function(){return Tb(ki)},useDebugValue:Pb,useDeferredValue:function(o,d){var h=oa();return vr===null?Db(h,o,d):O_(h,vr.memoizedState,o,d)},useTransition:function(){var o=Tb(ki)[0],d=oa().memoizedState;return[typeof o=="boolean"?o:Gu(o),d]},useSyncExternalStore:n_,useId:D_,useHostTransitionStatus:Mb,useFormState:y_,useActionState:y_,useOptimistic:function(o,d){var h=oa();return vr!==null?u_(h,vr,o,d):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:_b,useCacheRefresh:I_};B_.useEffectEvent=N_;function Ub(o,d,h,g){d=o.memoizedState,h=h(g,d),h=h==null?d:m({},d,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Bb={enqueueSetState:function(o,d,h){o=o._reactInternals;var g=Us(),j=Al(g);j.payload=d,h!=null&&(j.callback=h),d=_l(o,j,g),d!==null&&(_s(d,o,g),qu(d,o,g))},enqueueReplaceState:function(o,d,h){o=o._reactInternals;var g=Us(),j=Al(g);j.tag=1,j.payload=d,h!=null&&(j.callback=h),d=_l(o,j,g),d!==null&&(_s(d,o,g),qu(d,o,g))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var h=Us(),g=Al(h);g.tag=2,d!=null&&(g.callback=d),d=_l(o,g,h),d!==null&&(_s(d,o,h),qu(d,o,h))}};function z_(o,d,h,g,j,C,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,C,U):d.prototype&&d.prototype.isPureReactComponent?!Du(h,g)||!Du(j,C):!0}function q_(o,d,h,g){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(h,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(h,g),d.state!==o&&Bb.enqueueReplaceState(d,d.state,null)}function Do(o,d){var h=d;if("ref"in d){h={};for(var g in d)g!=="ref"&&(h[g]=d[g])}if(o=o.defaultProps){h===d&&(h=m({},h));for(var j in o)h[j]===void 0&&(h[j]=o[j])}return h}function $_(o){Pm(o)}function H_(o){console.error(o)}function V_(o){Pm(o)}function rh(o,d){try{var h=o.onUncaughtError;h(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function G_(o,d,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function zb(o,d,h){return h=Al(h),h.tag=3,h.payload={element:null},h.callback=function(){rh(o,d)},h}function W_(o){return o=Al(o),o.tag=3,o}function X_(o,d,h,g){var j=h.type.getDerivedStateFromError;if(typeof j=="function"){var C=g.value;o.payload=function(){return j(C)},o.callback=function(){G_(d,h,g)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(o.callback=function(){G_(d,h,g),typeof j!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var Z=g.stack;this.componentDidCatch(g.value,{componentStack:Z!==null?Z:""})})}function $U(o,d,h,g,j){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=h.alternate,d!==null&&qc(d,h,j,!0),h=Is.current,h!==null){switch(h.tag){case 31:case 13:return cn===null?hh():h.alternate===null&&ea===0&&(ea=3),h.flags&=-257,h.flags|=65536,h.lanes=j,g===$m?h.flags|=16384:(d=h.updateQueue,d===null?h.updateQueue=new Set([g]):d.add(g),fv(o,g,j)),!1;case 22:return h.flags|=65536,g===$m?h.flags|=16384:(d=h.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=d):(h=d.retryQueue,h===null?d.retryQueue=new Set([g]):h.add(g)),fv(o,g,j)),!1}throw Error(a(435,h.tag))}return fv(o,g,j),hh(),!1}if(Gt)return d=Is.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=j,g!==ib&&(o=Error(a(422),{cause:g}),Lu(sn(o,h)))):(g!==ib&&(d=Error(a(423),{cause:g}),Lu(sn(d,h))),o=o.current.alternate,o.flags|=65536,j&=-j,o.lanes|=j,g=sn(g,h),j=zb(o.stateNode,g,j),gb(o,j),ea!==4&&(ea=2)),!1;var C=Error(a(520),{cause:g});if(C=sn(C,h),rf===null?rf=[C]:rf.push(C),ea!==4&&(ea=2),d===null)return!0;g=sn(g,h),h=d;do{switch(h.tag){case 3:return h.flags|=65536,o=j&-j,h.lanes|=o,o=zb(h.stateNode,g,o),gb(h,o),!1;case 1:if(d=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pl===null||!Pl.has(C))))return h.flags|=65536,j&=-j,h.lanes|=j,j=W_(j),X_(j,o,h,g),gb(h,j),!1}h=h.return}while(h!==null);return!1}var qb=Error(a(461)),xa=!1;function Ga(o,d,h,g){d.child=o===null?JA(d,null,h,g):Ro(d,o.child,h,g)}function Y_(o,d,h,g,j){h=h.render;var C=d.ref;if("ref"in g){var U={};for(var Z in g)Z!=="ref"&&(U[Z]=g[Z])}else U=g;return Co(d),g=Nb(o,d,h,U,C,j),Z=jb(),o!==null&&!xa?(Eb(o,d,j),Ri(o,d,j)):(Gt&&Z&&sb(d),d.flags|=1,Ga(o,d,g,j),d.child)}function K_(o,d,h,g,j){if(o===null){var C=h.type;return typeof C=="function"&&!tb(C)&&C.defaultProps===void 0&&h.compare===null?(d.tag=15,d.type=C,Q_(o,d,C,g,j)):(o=Lm(h.type,null,g,d,d.mode,j),o.ref=d.ref,o.return=d,d.child=o)}if(C=o.child,!Kb(o,j)){var U=C.memoizedProps;if(h=h.compare,h=h!==null?h:Du,h(U,g)&&o.ref===d.ref)return Ri(o,d,j)}return d.flags|=1,o=Ai(C,g),o.ref=d.ref,o.return=d,d.child=o}function Q_(o,d,h,g,j){if(o!==null){var C=o.memoizedProps;if(Du(C,g)&&o.ref===d.ref)if(xa=!1,d.pendingProps=g=C,Kb(o,j))(o.flags&131072)!==0&&(xa=!0);else return d.lanes=o.lanes,Ri(o,d,j)}return $b(o,d,h,g,j)}function J_(o,d,h,g){var j=g.children,C=o!==null?o.memoizedState:null;if(o===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((d.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,o!==null){for(g=d.child=o.child,j=0;g!==null;)j=j|g.lanes|g.childLanes,g=g.sibling;g=j&~C}else g=0,d.child=null;return Z_(o,d,C,h,g)}if((h&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},o!==null&&zm(d,C!==null?C.cachePool:null),C!==null?t_(d,C):vb(),r_(d);else return g=d.lanes=536870912,Z_(o,d,C!==null?C.baseLanes|h:h,h,g)}else C!==null?(zm(d,C.cachePool),t_(d,C),Tl(),d.memoizedState=null):(o!==null&&zm(d,null),vb(),Tl());return Ga(o,d,j,h),d.child}function Yu(o,d){return o!==null&&o.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function Z_(o,d,h,g,j){var C=mb();return C=C===null?null:{parent:ha._currentValue,pool:C},d.memoizedState={baseLanes:h,cachePool:C},o!==null&&zm(d,null),vb(),r_(d),o!==null&&qc(o,d,g,!0),d.childLanes=j,null}function ah(o,d){return d=nh({mode:d.mode,children:d.children},o.mode),d.ref=o.ref,o.child=d,d.return=o,d}function eC(o,d,h){return Ro(d,o.child,null,h),o=ah(d,d.pendingProps),o.flags|=2,Ms(d),d.memoizedState=null,o}function HU(o,d,h){var g=d.pendingProps,j=(d.flags&128)!==0;if(d.flags&=-129,o===null){if(Gt){if(g.mode==="hidden")return o=ah(d,g),d.lanes=536870912,Yu(null,o);if(Sb(d),(o=Ir)?(o=fT(o,on),o=o!==null&&o.data==="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:Sl!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},h=LA(o),h.return=d,d.child=h,Ha=d,Ir=null)):o=null,o===null)throw Nl(d);return d.lanes=536870912,null}return ah(d,g)}var C=o.memoizedState;if(C!==null){var U=C.dehydrated;if(Sb(d),j)if(d.flags&256)d.flags&=-257,d=eC(o,d,h);else if(d.memoizedState!==null)d.child=o.child,d.flags|=128,d=null;else throw Error(a(558));else if(xa||qc(o,d,h,!1),j=(h&o.childLanes)!==0,xa||j){if(g=_r,g!==null&&(U=mt(g,h),U!==0&&U!==C.retryLane))throw C.retryLane=U,jo(o,U),_s(g,o,U),qb;hh(),d=eC(o,d,h)}else o=C.treeContext,Ir=dn(U.nextSibling),Ha=d,Gt=!0,wl=null,on=!1,o!==null&&BA(d,o),d=ah(d,g),d.flags|=4096;return d}return o=Ai(o.child,{mode:g.mode,children:g.children}),o.ref=d.ref,d.child=o,o.return=d,o}function sh(o,d){var h=d.ref;if(h===null)o!==null&&o.ref!==null&&(d.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(a(284));(o===null||o.ref!==h)&&(d.flags|=4194816)}}function $b(o,d,h,g,j){return Co(d),h=Nb(o,d,h,g,void 0,j),g=jb(),o!==null&&!xa?(Eb(o,d,j),Ri(o,d,j)):(Gt&&g&&sb(d),d.flags|=1,Ga(o,d,h,j),d.child)}function tC(o,d,h,g,j,C){return Co(d),d.updateQueue=null,h=s_(d,g,h,j),a_(o),g=jb(),o!==null&&!xa?(Eb(o,d,C),Ri(o,d,C)):(Gt&&g&&sb(d),d.flags|=1,Ga(o,d,h,C),d.child)}function rC(o,d,h,g,j){if(Co(d),d.stateNode===null){var C=Fc,U=h.contextType;typeof U=="object"&&U!==null&&(C=Va(U)),C=new h(g,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Bb,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=g,C.state=d.memoizedState,C.refs={},pb(d),U=h.contextType,C.context=typeof U=="object"&&U!==null?Va(U):Fc,C.state=d.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(Ub(d,h,U,g),C.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(U=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),U!==C.state&&Bb.enqueueReplaceState(C,C.state,null),Hu(d,g,C,j),$u(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(o===null){C=d.stateNode;var Z=d.memoizedProps,me=Do(h,Z);C.props=me;var je=C.context,Ie=h.contextType;U=Fc,typeof Ie=="object"&&Ie!==null&&(U=Va(Ie));var ze=h.getDerivedStateFromProps;Ie=typeof ze=="function"||typeof C.getSnapshotBeforeUpdate=="function",Z=d.pendingProps!==Z,Ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Z||je!==U)&&q_(d,C,g,U),El=!1;var Ce=d.memoizedState;C.state=Ce,Hu(d,g,C,j),$u(),je=d.memoizedState,Z||Ce!==je||El?(typeof ze=="function"&&(Ub(d,h,ze,g),je=d.memoizedState),(me=El||z_(d,h,me,g,Ce,je,U))?(Ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=je),C.props=g,C.state=je,C.context=U,g=me):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{C=d.stateNode,xb(o,d),U=d.memoizedProps,Ie=Do(h,U),C.props=Ie,ze=d.pendingProps,Ce=C.context,je=h.contextType,me=Fc,typeof je=="object"&&je!==null&&(me=Va(je)),Z=h.getDerivedStateFromProps,(je=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==ze||Ce!==me)&&q_(d,C,g,me),El=!1,Ce=d.memoizedState,C.state=Ce,Hu(d,g,C,j),$u();var Re=d.memoizedState;U!==ze||Ce!==Re||El||o!==null&&o.dependencies!==null&&Um(o.dependencies)?(typeof Z=="function"&&(Ub(d,h,Z,g),Re=d.memoizedState),(Ie=El||z_(d,h,Ie,g,Ce,Re,me)||o!==null&&o.dependencies!==null&&Um(o.dependencies))?(je||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Re,me),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Re,me)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=Re),C.props=g,C.state=Re,C.context=me,g=Ie):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=1024),g=!1)}return C=g,sh(o,d),g=(d.flags&128)!==0,C||g?(C=d.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,o!==null&&g?(d.child=Ro(d,o.child,null,j),d.child=Ro(d,null,h,j)):Ga(o,d,h,j),d.memoizedState=C.state,o=d.child):o=Ri(o,d,j),o}function aC(o,d,h,g){return Ao(),d.flags|=256,Ga(o,d,h,g),d.child}var Hb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vb(o){return{baseLanes:o,cachePool:GA()}}function Gb(o,d,h){return o=o!==null?o.childLanes&~h:0,d&&(o|=Fs),o}function sC(o,d,h){var g=d.pendingProps,j=!1,C=(d.flags&128)!==0,U;if((U=C)||(U=o!==null&&o.memoizedState===null?!1:(la.current&2)!==0),U&&(j=!0,d.flags&=-129),U=(d.flags&32)!==0,d.flags&=-33,o===null){if(Gt){if(j?Cl(d):Tl(),(o=Ir)?(o=fT(o,on),o=o!==null&&o.data!=="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:Sl!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},h=LA(o),h.return=d,d.child=h,Ha=d,Ir=null)):o=null,o===null)throw Nl(d);return Cv(o)?d.lanes=32:d.lanes=536870912,null}var Z=g.children;return g=g.fallback,j?(Tl(),j=d.mode,Z=nh({mode:"hidden",children:Z},j),g=Eo(g,j,h,null),Z.return=d,g.return=d,Z.sibling=g,d.child=Z,g=d.child,g.memoizedState=Vb(h),g.childLanes=Gb(o,U,h),d.memoizedState=Hb,Yu(null,g)):(Cl(d),Wb(d,Z))}var me=o.memoizedState;if(me!==null&&(Z=me.dehydrated,Z!==null)){if(C)d.flags&256?(Cl(d),d.flags&=-257,d=Xb(o,d,h)):d.memoizedState!==null?(Tl(),d.child=o.child,d.flags|=128,d=null):(Tl(),Z=g.fallback,j=d.mode,g=nh({mode:"visible",children:g.children},j),Z=Eo(Z,j,h,null),Z.flags|=2,g.return=d,Z.return=d,g.sibling=Z,d.child=g,Ro(d,o.child,null,h),g=d.child,g.memoizedState=Vb(h),g.childLanes=Gb(o,U,h),d.memoizedState=Hb,d=Yu(null,g));else if(Cl(d),Cv(Z)){if(U=Z.nextSibling&&Z.nextSibling.dataset,U)var je=U.dgst;U=je,g=Error(a(419)),g.stack="",g.digest=U,Lu({value:g,source:null,stack:null}),d=Xb(o,d,h)}else if(xa||qc(o,d,h,!1),U=(h&o.childLanes)!==0,xa||U){if(U=_r,U!==null&&(g=mt(U,h),g!==0&&g!==me.retryLane))throw me.retryLane=g,jo(o,g),_s(U,o,g),qb;_v(Z)||hh(),d=Xb(o,d,h)}else _v(Z)?(d.flags|=192,d.child=o.child,d=null):(o=me.treeContext,Ir=dn(Z.nextSibling),Ha=d,Gt=!0,wl=null,on=!1,o!==null&&BA(d,o),d=Wb(d,g.children),d.flags|=4096);return d}return j?(Tl(),Z=g.fallback,j=d.mode,me=o.child,je=me.sibling,g=Ai(me,{mode:"hidden",children:g.children}),g.subtreeFlags=me.subtreeFlags&65011712,je!==null?Z=Ai(je,Z):(Z=Eo(Z,j,h,null),Z.flags|=2),Z.return=d,g.return=d,g.sibling=Z,d.child=g,Yu(null,g),g=d.child,Z=o.child.memoizedState,Z===null?Z=Vb(h):(j=Z.cachePool,j!==null?(me=ha._currentValue,j=j.parent!==me?{parent:me,pool:me}:j):j=GA(),Z={baseLanes:Z.baseLanes|h,cachePool:j}),g.memoizedState=Z,g.childLanes=Gb(o,U,h),d.memoizedState=Hb,Yu(o.child,g)):(Cl(d),h=o.child,o=h.sibling,h=Ai(h,{mode:"visible",children:g.children}),h.return=d,h.sibling=null,o!==null&&(U=d.deletions,U===null?(d.deletions=[o],d.flags|=16):U.push(o)),d.child=h,d.memoizedState=null,h)}function Wb(o,d){return d=nh({mode:"visible",children:d},o.mode),d.return=o,o.child=d}function nh(o,d){return o=Ds(22,o,null,d),o.lanes=0,o}function Xb(o,d,h){return Ro(d,o.child,null,h),o=Wb(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function nC(o,d,h){o.lanes|=d;var g=o.alternate;g!==null&&(g.lanes|=d),cb(o.return,d,h)}function Yb(o,d,h,g,j,C){var U=o.memoizedState;U===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:j,treeForkCount:C}:(U.isBackwards=d,U.rendering=null,U.renderingStartTime=0,U.last=g,U.tail=h,U.tailMode=j,U.treeForkCount=C)}function iC(o,d,h){var g=d.pendingProps,j=g.revealOrder,C=g.tail;g=g.children;var U=la.current,Z=(U&2)!==0;if(Z?(U=U&1|2,d.flags|=128):U&=1,K(la,U),Ga(o,d,g,h),g=Gt?Mu:0,!Z&&o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nC(o,h,d);else if(o.tag===19)nC(o,h,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(j){case"forwards":for(h=d.child,j=null;h!==null;)o=h.alternate,o!==null&&Wm(o)===null&&(j=h),h=h.sibling;h=j,h===null?(j=d.child,d.child=null):(j=h.sibling,h.sibling=null),Yb(d,!1,j,h,C,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,j=d.child,d.child=null;j!==null;){if(o=j.alternate,o!==null&&Wm(o)===null){d.child=j;break}o=j.sibling,j.sibling=h,h=j,j=o}Yb(d,!0,h,null,C,g);break;case"together":Yb(d,!1,null,null,void 0,g);break;default:d.memoizedState=null}return d.child}function Ri(o,d,h){if(o!==null&&(d.dependencies=o.dependencies),Rl|=d.lanes,(h&d.childLanes)===0)if(o!==null){if(qc(o,d,h,!1),(h&d.childLanes)===0)return null}else return null;if(o!==null&&d.child!==o.child)throw Error(a(153));if(d.child!==null){for(o=d.child,h=Ai(o,o.pendingProps),d.child=h,h.return=d;o.sibling!==null;)o=o.sibling,h=h.sibling=Ai(o,o.pendingProps),h.return=d;h.sibling=null}return d.child}function Kb(o,d){return(o.lanes&d)!==0?!0:(o=o.dependencies,!!(o!==null&&Um(o)))}function VU(o,d,h){switch(d.tag){case 3:xe(d,d.stateNode.containerInfo),jl(d,ha,o.memoizedState.cache),Ao();break;case 27:case 5:fe(d);break;case 4:xe(d,d.stateNode.containerInfo);break;case 10:jl(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,Sb(d),null;break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(Cl(d),d.flags|=128,null):(h&d.child.childLanes)!==0?sC(o,d,h):(Cl(d),o=Ri(o,d,h),o!==null?o.sibling:null);Cl(d);break;case 19:var j=(o.flags&128)!==0;if(g=(h&d.childLanes)!==0,g||(qc(o,d,h,!1),g=(h&d.childLanes)!==0),j){if(g)return iC(o,d,h);d.flags|=128}if(j=d.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),K(la,la.current),g)break;return null;case 22:return d.lanes=0,J_(o,d,h,d.pendingProps);case 24:jl(d,ha,o.memoizedState.cache)}return Ri(o,d,h)}function lC(o,d,h){if(o!==null)if(o.memoizedProps!==d.pendingProps)xa=!0;else{if(!Kb(o,h)&&(d.flags&128)===0)return xa=!1,VU(o,d,h);xa=(o.flags&131072)!==0}else xa=!1,Gt&&(d.flags&1048576)!==0&&UA(d,Mu,d.index);switch(d.lanes=0,d.tag){case 16:e:{var g=d.pendingProps;if(o=Oo(d.elementType),d.type=o,typeof o=="function")tb(o)?(g=Do(o,g),d.tag=1,d=rC(null,d,o,g,h)):(d.tag=0,d=$b(null,d,o,g,h));else{if(o!=null){var j=o.$$typeof;if(j===O){d.tag=11,d=Y_(null,d,o,g,h);break e}else if(j===N){d.tag=14,d=K_(null,d,o,g,h);break e}}throw d=q(o)||o,Error(a(306,d,""))}}return d;case 0:return $b(o,d,d.type,d.pendingProps,h);case 1:return g=d.type,j=Do(g,d.pendingProps),rC(o,d,g,j,h);case 3:e:{if(xe(d,d.stateNode.containerInfo),o===null)throw Error(a(387));g=d.pendingProps;var C=d.memoizedState;j=C.element,xb(o,d),Hu(d,g,null,h);var U=d.memoizedState;if(g=U.cache,jl(d,ha,g),g!==C.cache&&db(d,[ha],h,!0),$u(),g=U.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:U.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=aC(o,d,g,h);break e}else if(g!==j){j=sn(Error(a(424)),d),Lu(j),d=aC(o,d,g,h);break e}else{switch(o=d.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ir=dn(o.firstChild),Ha=d,Gt=!0,wl=null,on=!0,h=JA(d,null,g,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ao(),g===j){d=Ri(o,d,h);break e}Ga(o,d,g,h)}d=d.child}return d;case 26:return sh(o,d),o===null?(h=bT(d.type,null,d.pendingProps,null))?d.memoizedState=h:Gt||(h=d.type,o=d.pendingProps,g=Sh(ce.current).createElement(h),g[te]=d,g[ne]=o,Wa(g,h,o),lt(g),d.stateNode=g):d.memoizedState=bT(d.type,o.memoizedProps,d.pendingProps,o.memoizedState),null;case 27:return fe(d),o===null&&Gt&&(g=d.stateNode=pT(d.type,d.pendingProps,ce.current),Ha=d,on=!0,j=Ir,Ll(d.type)?(Tv=j,Ir=dn(g.firstChild)):Ir=j),Ga(o,d,d.pendingProps.children,h),sh(o,d),o===null&&(d.flags|=4194304),d.child;case 5:return o===null&&Gt&&((j=g=Ir)&&(g=SB(g,d.type,d.pendingProps,on),g!==null?(d.stateNode=g,Ha=d,Ir=dn(g.firstChild),on=!1,j=!0):j=!1),j||Nl(d)),fe(d),j=d.type,C=d.pendingProps,U=o!==null?o.memoizedProps:null,g=C.children,jv(j,C)?g=null:U!==null&&jv(j,U)&&(d.flags|=32),d.memoizedState!==null&&(j=Nb(o,d,MU,null,null,h),uf._currentValue=j),sh(o,d),Ga(o,d,g,h),d.child;case 6:return o===null&&Gt&&((o=h=Ir)&&(h=wB(h,d.pendingProps,on),h!==null?(d.stateNode=h,Ha=d,Ir=null,o=!0):o=!1),o||Nl(d)),null;case 13:return sC(o,d,h);case 4:return xe(d,d.stateNode.containerInfo),g=d.pendingProps,o===null?d.child=Ro(d,null,g,h):Ga(o,d,g,h),d.child;case 11:return Y_(o,d,d.type,d.pendingProps,h);case 7:return Ga(o,d,d.pendingProps,h),d.child;case 8:return Ga(o,d,d.pendingProps.children,h),d.child;case 12:return Ga(o,d,d.pendingProps.children,h),d.child;case 10:return g=d.pendingProps,jl(d,d.type,g.value),Ga(o,d,g.children,h),d.child;case 9:return j=d.type._context,g=d.pendingProps.children,Co(d),j=Va(j),g=g(j),d.flags|=1,Ga(o,d,g,h),d.child;case 14:return K_(o,d,d.type,d.pendingProps,h);case 15:return Q_(o,d,d.type,d.pendingProps,h);case 19:return iC(o,d,h);case 31:return HU(o,d,h);case 22:return J_(o,d,h,d.pendingProps);case 24:return Co(d),g=Va(ha),o===null?(j=mb(),j===null&&(j=_r,C=ub(),j.pooledCache=C,C.refCount++,C!==null&&(j.pooledCacheLanes|=h),j=C),d.memoizedState={parent:g,cache:j},pb(d),jl(d,ha,j)):((o.lanes&h)!==0&&(xb(o,d),Hu(d,null,null,h),$u()),j=o.memoizedState,C=d.memoizedState,j.parent!==g?(j={parent:g,cache:g},d.memoizedState=j,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=j),jl(d,ha,g)):(g=C.cache,jl(d,ha,g),g!==j.cache&&db(d,[ha],h,!0))),Ga(o,d,d.pendingProps.children,h),d.child;case 29:throw d.pendingProps}throw Error(a(156,d.tag))}function Pi(o){o.flags|=4}function Qb(o,d,h,g,j){if((d=(o.mode&32)!==0)&&(d=!1),d){if(o.flags|=16777216,(j&335544128)===j)if(o.stateNode.complete)o.flags|=8192;else if(DC())o.flags|=8192;else throw ko=$m,hb}else o.flags&=-16777217}function oC(o,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!NT(d))if(DC())o.flags|=8192;else throw ko=$m,hb}function ih(o,d){d!==null&&(o.flags|=4),o.flags&16384&&(d=o.tag!==22?ue():536870912,o.lanes|=d,ed|=d)}function Ku(o,d){if(!Gt)switch(o.tailMode){case"hidden":d=o.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Mr(o){var d=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(d)for(var j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags&65011712,g|=j.flags&65011712,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags,g|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=g,o.childLanes=h,d}function GU(o,d,h){var g=d.pendingProps;switch(nb(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(d),null;case 1:return Mr(d),null;case 3:return h=d.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Ti(ha),se(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(zc(d)?Pi(d):o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,lb())),Mr(d),null;case 26:var j=d.type,C=d.memoizedState;return o===null?(Pi(d),C!==null?(Mr(d),oC(d,C)):(Mr(d),Qb(d,j,null,g,h))):C?C!==o.memoizedState?(Pi(d),Mr(d),oC(d,C)):(Mr(d),d.flags&=-16777217):(o=o.memoizedProps,o!==g&&Pi(d),Mr(d),Qb(d,j,o,g,h)),null;case 27:if(we(d),h=ce.current,j=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==g&&Pi(d);else{if(!g){if(d.stateNode===null)throw Error(a(166));return Mr(d),null}o=J.current,zc(d)?zA(d):(o=pT(j,g,h),d.stateNode=o,Pi(d))}return Mr(d),null;case 5:if(we(d),j=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==g&&Pi(d);else{if(!g){if(d.stateNode===null)throw Error(a(166));return Mr(d),null}if(C=J.current,zc(d))zA(d);else{var U=Sh(ce.current);switch(C){case 1:C=U.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:C=U.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":C=U.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":C=U.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":C=U.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?U.createElement("select",{is:g.is}):U.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?U.createElement(j,{is:g.is}):U.createElement(j)}}C[te]=d,C[ne]=g;e:for(U=d.child;U!==null;){if(U.tag===5||U.tag===6)C.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===d)break e;for(;U.sibling===null;){if(U.return===null||U.return===d)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}d.stateNode=C;e:switch(Wa(C,j,g),j){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Pi(d)}}return Mr(d),Qb(d,d.type,o===null?null:o.memoizedProps,d.pendingProps,h),null;case 6:if(o&&d.stateNode!=null)o.memoizedProps!==g&&Pi(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(a(166));if(o=ce.current,zc(d)){if(o=d.stateNode,h=d.memoizedProps,g=null,j=Ha,j!==null)switch(j.tag){case 27:case 5:g=j.memoizedProps}o[te]=d,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||sT(o.nodeValue,h)),o||Nl(d,!0)}else o=Sh(o).createTextNode(g),o[te]=d,d.stateNode=o}return Mr(d),null;case 31:if(h=d.memoizedState,o===null||o.memoizedState!==null){if(g=zc(d),h!==null){if(o===null){if(!g)throw Error(a(318));if(o=d.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(557));o[te]=d}else Ao(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Mr(d),o=!1}else h=lb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return d.flags&256?(Ms(d),d):(Ms(d),null);if((d.flags&128)!==0)throw Error(a(558))}return Mr(d),null;case 13:if(g=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(j=zc(d),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(a(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(a(317));j[te]=d}else Ao(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Mr(d),j=!1}else j=lb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=j),j=!0;if(!j)return d.flags&256?(Ms(d),d):(Ms(d),null)}return Ms(d),(d.flags&128)!==0?(d.lanes=h,d):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=d.child,j=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(j=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==j&&(g.flags|=2048)),h!==o&&h&&(d.child.flags|=8192),ih(d,d.updateQueue),Mr(d),null);case 4:return se(),o===null&&vv(d.stateNode.containerInfo),Mr(d),null;case 10:return Ti(d.type),Mr(d),null;case 19:if(F(la),g=d.memoizedState,g===null)return Mr(d),null;if(j=(d.flags&128)!==0,C=g.rendering,C===null)if(j)Ku(g,!1);else{if(ea!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(C=Wm(o),C!==null){for(d.flags|=128,Ku(g,!1),o=C.updateQueue,d.updateQueue=o,ih(d,o),d.subtreeFlags=0,o=h,h=d.child;h!==null;)MA(h,o),h=h.sibling;return K(la,la.current&1|2),Gt&&_i(d,g.treeForkCount),d.child}o=o.sibling}g.tail!==null&&Nt()>uh&&(d.flags|=128,j=!0,Ku(g,!1),d.lanes=4194304)}else{if(!j)if(o=Wm(C),o!==null){if(d.flags|=128,j=!0,o=o.updateQueue,d.updateQueue=o,ih(d,o),Ku(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!Gt)return Mr(d),null}else 2*Nt()-g.renderingStartTime>uh&&h!==536870912&&(d.flags|=128,j=!0,Ku(g,!1),d.lanes=4194304);g.isBackwards?(C.sibling=d.child,d.child=C):(o=g.last,o!==null?o.sibling=C:d.child=C,g.last=C)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Nt(),o.sibling=null,h=la.current,K(la,j?h&1|2:h&1),Gt&&_i(d,g.treeForkCount),o):(Mr(d),null);case 22:case 23:return Ms(d),yb(),g=d.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(h&536870912)!==0&&(d.flags&128)===0&&(Mr(d),d.subtreeFlags&6&&(d.flags|=8192)):Mr(d),h=d.updateQueue,h!==null&&ih(d,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==h&&(d.flags|=2048),o!==null&&F(To),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),d.memoizedState.cache!==h&&(d.flags|=2048),Ti(ha),Mr(d),null;case 25:return null;case 30:return null}throw Error(a(156,d.tag))}function WU(o,d){switch(nb(d),d.tag){case 1:return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Ti(ha),se(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 26:case 27:case 5:return we(d),null;case 31:if(d.memoizedState!==null){if(Ms(d),d.alternate===null)throw Error(a(340));Ao()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 13:if(Ms(d),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(a(340));Ao()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return F(la),null;case 4:return se(),null;case 10:return Ti(d.type),null;case 22:case 23:return Ms(d),yb(),o!==null&&F(To),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 24:return Ti(ha),null;case 25:return null;default:return null}}function cC(o,d){switch(nb(d),d.tag){case 3:Ti(ha),se();break;case 26:case 27:case 5:we(d);break;case 4:se();break;case 31:d.memoizedState!==null&&Ms(d);break;case 13:Ms(d);break;case 19:F(la);break;case 10:Ti(d.type);break;case 22:case 23:Ms(d),yb(),o!==null&&F(To);break;case 24:Ti(ha)}}function Qu(o,d){try{var h=d.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var j=g.next;h=j;do{if((h.tag&o)===o){g=void 0;var C=h.create,U=h.inst;g=C(),U.destroy=g}h=h.next}while(h!==j)}}catch(Z){mr(d,d.return,Z)}}function Ol(o,d,h){try{var g=d.updateQueue,j=g!==null?g.lastEffect:null;if(j!==null){var C=j.next;g=C;do{if((g.tag&o)===o){var U=g.inst,Z=U.destroy;if(Z!==void 0){U.destroy=void 0,j=d;var me=h,je=Z;try{je()}catch(Ie){mr(j,me,Ie)}}}g=g.next}while(g!==C)}}catch(Ie){mr(d,d.return,Ie)}}function dC(o){var d=o.updateQueue;if(d!==null){var h=o.stateNode;try{e_(d,h)}catch(g){mr(o,o.return,g)}}}function uC(o,d,h){h.props=Do(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){mr(o,d,g)}}function Ju(o,d){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(j){mr(o,d,j)}}function si(o,d){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(j){mr(o,d,j)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(j){mr(o,d,j)}else h.current=null}function fC(o){var d=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(j){mr(o,o.return,j)}}function Jb(o,d,h){try{var g=o.stateNode;pB(g,o.type,h,d),g[ne]=d}catch(j){mr(o,o.return,j)}}function mC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ll(o.type)||o.tag===4}function Zb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ll(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ev(o,d,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,d?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,d):(d=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,d.appendChild(o),h=h._reactRootContainer,h!=null||d.onclick!==null||(d.onclick=ji));else if(g!==4&&(g===27&&Ll(o.type)&&(h=o.stateNode,d=null),o=o.child,o!==null))for(ev(o,d,h),o=o.sibling;o!==null;)ev(o,d,h),o=o.sibling}function lh(o,d,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,d?h.insertBefore(o,d):h.appendChild(o);else if(g!==4&&(g===27&&Ll(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(lh(o,d,h),o=o.sibling;o!==null;)lh(o,d,h),o=o.sibling}function hC(o){var d=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,j=d.attributes;j.length;)d.removeAttributeNode(j[0]);Wa(d,g,h),d[te]=o,d[ne]=h}catch(C){mr(o,o.return,C)}}var Di=!1,ga=!1,tv=!1,pC=typeof WeakSet=="function"?WeakSet:Set,Ia=null;function XU(o,d){if(o=o.containerInfo,wv=Ch,o=_A(o),Xg(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var j=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var U=0,Z=-1,me=-1,je=0,Ie=0,ze=o,Ce=null;t:for(;;){for(var Re;ze!==h||j!==0&&ze.nodeType!==3||(Z=U+j),ze!==C||g!==0&&ze.nodeType!==3||(me=U+g),ze.nodeType===3&&(U+=ze.nodeValue.length),(Re=ze.firstChild)!==null;)Ce=ze,ze=Re;for(;;){if(ze===o)break t;if(Ce===h&&++je===j&&(Z=U),Ce===C&&++Ie===g&&(me=U),(Re=ze.nextSibling)!==null)break;ze=Ce,Ce=ze.parentNode}ze=Re}h=Z===-1||me===-1?null:{start:Z,end:me}}else h=null}h=h||{start:0,end:0}}else h=null;for(Nv={focusedElem:o,selectionRange:h},Ch=!1,Ia=d;Ia!==null;)if(d=Ia,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Ia=o;else for(;Ia!==null;){switch(d=Ia,C=d.alternate,o=d.flags,d.tag){case 0:if((o&4)!==0&&(o=d.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)j=o[h],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,h=d,j=C.memoizedProps,C=C.memoizedState,g=h.stateNode;try{var nt=Do(h.type,j);o=g.getSnapshotBeforeUpdate(nt,C),g.__reactInternalSnapshotBeforeUpdate=o}catch(ht){mr(h,h.return,ht)}}break;case 3:if((o&1024)!==0){if(o=d.stateNode.containerInfo,h=o.nodeType,h===9)Av(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Av(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(a(163))}if(o=d.sibling,o!==null){o.return=d.return,Ia=o;break}Ia=d.return}}function xC(o,d,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Mi(o,h),g&4&&Qu(5,h);break;case 1:if(Mi(o,h),g&4)if(o=h.stateNode,d===null)try{o.componentDidMount()}catch(U){mr(h,h.return,U)}else{var j=Do(h.type,d.memoizedProps);d=d.memoizedState;try{o.componentDidUpdate(j,d,o.__reactInternalSnapshotBeforeUpdate)}catch(U){mr(h,h.return,U)}}g&64&&dC(h),g&512&&Ju(h,h.return);break;case 3:if(Mi(o,h),g&64&&(o=h.updateQueue,o!==null)){if(d=null,h.child!==null)switch(h.child.tag){case 27:case 5:d=h.child.stateNode;break;case 1:d=h.child.stateNode}try{e_(o,d)}catch(U){mr(h,h.return,U)}}break;case 27:d===null&&g&4&&hC(h);case 26:case 5:Mi(o,h),d===null&&g&4&&fC(h),g&512&&Ju(h,h.return);break;case 12:Mi(o,h);break;case 31:Mi(o,h),g&4&&vC(o,h);break;case 13:Mi(o,h),g&4&&yC(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=aB.bind(null,h),NB(o,h))));break;case 22:if(g=h.memoizedState!==null||Di,!g){d=d!==null&&d.memoizedState!==null||ga,j=Di;var C=ga;Di=g,(ga=d)&&!C?Li(o,h,(h.subtreeFlags&8772)!==0):Mi(o,h),Di=j,ga=C}break;case 30:break;default:Mi(o,h)}}function gC(o){var d=o.alternate;d!==null&&(o.alternate=null,gC(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&Ve(d)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Vr=null,Ns=!1;function Ii(o,d,h){for(h=h.child;h!==null;)bC(o,d,h),h=h.sibling}function bC(o,d,h){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Se,h)}catch{}switch(h.tag){case 26:ga||si(h,d),Ii(o,d,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ga||si(h,d);var g=Vr,j=Ns;Ll(h.type)&&(Vr=h.stateNode,Ns=!1),Ii(o,d,h),of(h.stateNode),Vr=g,Ns=j;break;case 5:ga||si(h,d);case 6:if(g=Vr,j=Ns,Vr=null,Ii(o,d,h),Vr=g,Ns=j,Vr!==null)if(Ns)try{(Vr.nodeType===9?Vr.body:Vr.nodeName==="HTML"?Vr.ownerDocument.body:Vr).removeChild(h.stateNode)}catch(C){mr(h,d,C)}else try{Vr.removeChild(h.stateNode)}catch(C){mr(h,d,C)}break;case 18:Vr!==null&&(Ns?(o=Vr,dT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),od(o)):dT(Vr,h.stateNode));break;case 4:g=Vr,j=Ns,Vr=h.stateNode.containerInfo,Ns=!0,Ii(o,d,h),Vr=g,Ns=j;break;case 0:case 11:case 14:case 15:Ol(2,h,d),ga||Ol(4,h,d),Ii(o,d,h);break;case 1:ga||(si(h,d),g=h.stateNode,typeof g.componentWillUnmount=="function"&&uC(h,d,g)),Ii(o,d,h);break;case 21:Ii(o,d,h);break;case 22:ga=(g=ga)||h.memoizedState!==null,Ii(o,d,h),ga=g;break;default:Ii(o,d,h)}}function vC(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{od(o)}catch(h){mr(d,d.return,h)}}}function yC(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{od(o)}catch(h){mr(d,d.return,h)}}function YU(o){switch(o.tag){case 31:case 13:case 19:var d=o.stateNode;return d===null&&(d=o.stateNode=new pC),d;case 22:return o=o.stateNode,d=o._retryCache,d===null&&(d=o._retryCache=new pC),d;default:throw Error(a(435,o.tag))}}function oh(o,d){var h=YU(o);d.forEach(function(g){if(!h.has(g)){h.add(g);var j=sB.bind(null,o,g);g.then(j,j)}})}function js(o,d){var h=d.deletions;if(h!==null)for(var g=0;g<h.length;g++){var j=h[g],C=o,U=d,Z=U;e:for(;Z!==null;){switch(Z.tag){case 27:if(Ll(Z.type)){Vr=Z.stateNode,Ns=!1;break e}break;case 5:Vr=Z.stateNode,Ns=!1;break e;case 3:case 4:Vr=Z.stateNode.containerInfo,Ns=!0;break e}Z=Z.return}if(Vr===null)throw Error(a(160));bC(C,U,j),Vr=null,Ns=!1,C=j.alternate,C!==null&&(C.return=null),j.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)SC(d,o),d=d.sibling}var Fn=null;function SC(o,d){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:js(d,o),Es(o),g&4&&(Ol(3,o,o.return),Qu(3,o),Ol(5,o,o.return));break;case 1:js(d,o),Es(o),g&512&&(ga||h===null||si(h,h.return)),g&64&&Di&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var j=Fn;if(js(d,o),Es(o),g&512&&(ga||h===null||si(h,h.return)),g&4){var C=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,j=j.ownerDocument||j;t:switch(g){case"title":C=j.getElementsByTagName("title")[0],(!C||C[Te]||C[te]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=j.createElement(g),j.head.insertBefore(C,j.querySelector("head > title"))),Wa(C,g,h),C[te]=o,lt(C),g=C;break e;case"link":var U=ST("link","href",j).get(g+(h.href||""));if(U){for(var Z=0;Z<U.length;Z++)if(C=U[Z],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(Z,1);break t}}C=j.createElement(g),Wa(C,g,h),j.head.appendChild(C);break;case"meta":if(U=ST("meta","content",j).get(g+(h.content||""))){for(Z=0;Z<U.length;Z++)if(C=U[Z],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(Z,1);break t}}C=j.createElement(g),Wa(C,g,h),j.head.appendChild(C);break;default:throw Error(a(468,g))}C[te]=o,lt(C),g=C}o.stateNode=g}else wT(j,o.type,o.stateNode);else o.stateNode=yT(j,g,o.memoizedProps);else C!==g?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,g===null?wT(j,o.type,o.stateNode):yT(j,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Jb(o,o.memoizedProps,h.memoizedProps)}break;case 27:js(d,o),Es(o),g&512&&(ga||h===null||si(h,h.return)),h!==null&&g&4&&Jb(o,o.memoizedProps,h.memoizedProps);break;case 5:if(js(d,o),Es(o),g&512&&(ga||h===null||si(h,h.return)),o.flags&32){j=o.stateNode;try{kc(j,"")}catch(nt){mr(o,o.return,nt)}}g&4&&o.stateNode!=null&&(j=o.memoizedProps,Jb(o,j,h!==null?h.memoizedProps:j)),g&1024&&(tv=!0);break;case 6:if(js(d,o),Es(o),g&4){if(o.stateNode===null)throw Error(a(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(nt){mr(o,o.return,nt)}}break;case 3:if(jh=null,j=Fn,Fn=wh(d.containerInfo),js(d,o),Fn=j,Es(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{od(d.containerInfo)}catch(nt){mr(o,o.return,nt)}tv&&(tv=!1,wC(o));break;case 4:g=Fn,Fn=wh(o.stateNode.containerInfo),js(d,o),Es(o),Fn=g;break;case 12:js(d,o),Es(o);break;case 31:js(d,o),Es(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,oh(o,g)));break;case 13:js(d,o),Es(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(dh=Nt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,oh(o,g)));break;case 22:j=o.memoizedState!==null;var me=h!==null&&h.memoizedState!==null,je=Di,Ie=ga;if(Di=je||j,ga=Ie||me,js(d,o),ga=Ie,Di=je,Es(o),g&8192)e:for(d=o.stateNode,d._visibility=j?d._visibility&-2:d._visibility|1,j&&(h===null||me||Di||ga||Io(o)),h=null,d=o;;){if(d.tag===5||d.tag===26){if(h===null){me=h=d;try{if(C=me.stateNode,j)U=C.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Z=me.stateNode;var ze=me.memoizedProps.style,Ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;Z.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(nt){mr(me,me.return,nt)}}}else if(d.tag===6){if(h===null){me=d;try{me.stateNode.nodeValue=j?"":me.memoizedProps}catch(nt){mr(me,me.return,nt)}}}else if(d.tag===18){if(h===null){me=d;try{var Re=me.stateNode;j?uT(Re,!0):uT(me.stateNode,!1)}catch(nt){mr(me,me.return,nt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===o)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,oh(o,h))));break;case 19:js(d,o),Es(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,oh(o,g)));break;case 30:break;case 21:break;default:js(d,o),Es(o)}}function Es(o){var d=o.flags;if(d&2){try{for(var h,g=o.return;g!==null;){if(mC(g)){h=g;break}g=g.return}if(h==null)throw Error(a(160));switch(h.tag){case 27:var j=h.stateNode,C=Zb(o);lh(o,C,j);break;case 5:var U=h.stateNode;h.flags&32&&(kc(U,""),h.flags&=-33);var Z=Zb(o);lh(o,Z,U);break;case 3:case 4:var me=h.stateNode.containerInfo,je=Zb(o);ev(o,je,me);break;default:throw Error(a(161))}}catch(Ie){mr(o,o.return,Ie)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function wC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var d=o;wC(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),o=o.sibling}}function Mi(o,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)xC(o,d.alternate,d),d=d.sibling}function Io(o){for(o=o.child;o!==null;){var d=o;switch(d.tag){case 0:case 11:case 14:case 15:Ol(4,d,d.return),Io(d);break;case 1:si(d,d.return);var h=d.stateNode;typeof h.componentWillUnmount=="function"&&uC(d,d.return,h),Io(d);break;case 27:of(d.stateNode);case 26:case 5:si(d,d.return),Io(d);break;case 22:d.memoizedState===null&&Io(d);break;case 30:Io(d);break;default:Io(d)}o=o.sibling}}function Li(o,d,h){for(h=h&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,j=o,C=d,U=C.flags;switch(C.tag){case 0:case 11:case 15:Li(j,C,h),Qu(4,C);break;case 1:if(Li(j,C,h),g=C,j=g.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(je){mr(g,g.return,je)}if(g=C,j=g.updateQueue,j!==null){var Z=g.stateNode;try{var me=j.shared.hiddenCallbacks;if(me!==null)for(j.shared.hiddenCallbacks=null,j=0;j<me.length;j++)ZA(me[j],Z)}catch(je){mr(g,g.return,je)}}h&&U&64&&dC(C),Ju(C,C.return);break;case 27:hC(C);case 26:case 5:Li(j,C,h),h&&g===null&&U&4&&fC(C),Ju(C,C.return);break;case 12:Li(j,C,h);break;case 31:Li(j,C,h),h&&U&4&&vC(j,C);break;case 13:Li(j,C,h),h&&U&4&&yC(j,C);break;case 22:C.memoizedState===null&&Li(j,C,h),Ju(C,C.return);break;case 30:break;default:Li(j,C,h)}d=d.sibling}}function rv(o,d){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(o=d.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Fu(h))}function av(o,d){o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Fu(o))}function Un(o,d,h,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)NC(o,d,h,g),d=d.sibling}function NC(o,d,h,g){var j=d.flags;switch(d.tag){case 0:case 11:case 15:Un(o,d,h,g),j&2048&&Qu(9,d);break;case 1:Un(o,d,h,g);break;case 3:Un(o,d,h,g),j&2048&&(o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Fu(o)));break;case 12:if(j&2048){Un(o,d,h,g),o=d.stateNode;try{var C=d.memoizedProps,U=C.id,Z=C.onPostCommit;typeof Z=="function"&&Z(U,d.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){mr(d,d.return,me)}}else Un(o,d,h,g);break;case 31:Un(o,d,h,g);break;case 13:Un(o,d,h,g);break;case 23:break;case 22:C=d.stateNode,U=d.alternate,d.memoizedState!==null?C._visibility&2?Un(o,d,h,g):Zu(o,d):C._visibility&2?Un(o,d,h,g):(C._visibility|=2,Qc(o,d,h,g,(d.subtreeFlags&10256)!==0||!1)),j&2048&&rv(U,d);break;case 24:Un(o,d,h,g),j&2048&&av(d.alternate,d);break;default:Un(o,d,h,g)}}function Qc(o,d,h,g,j){for(j=j&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var C=o,U=d,Z=h,me=g,je=U.flags;switch(U.tag){case 0:case 11:case 15:Qc(C,U,Z,me,j),Qu(8,U);break;case 23:break;case 22:var Ie=U.stateNode;U.memoizedState!==null?Ie._visibility&2?Qc(C,U,Z,me,j):Zu(C,U):(Ie._visibility|=2,Qc(C,U,Z,me,j)),j&&je&2048&&rv(U.alternate,U);break;case 24:Qc(C,U,Z,me,j),j&&je&2048&&av(U.alternate,U);break;default:Qc(C,U,Z,me,j)}d=d.sibling}}function Zu(o,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var h=o,g=d,j=g.flags;switch(g.tag){case 22:Zu(h,g),j&2048&&rv(g.alternate,g);break;case 24:Zu(h,g),j&2048&&av(g.alternate,g);break;default:Zu(h,g)}d=d.sibling}}var ef=8192;function Jc(o,d,h){if(o.subtreeFlags&ef)for(o=o.child;o!==null;)jC(o,d,h),o=o.sibling}function jC(o,d,h){switch(o.tag){case 26:Jc(o,d,h),o.flags&ef&&o.memoizedState!==null&&IB(h,Fn,o.memoizedState,o.memoizedProps);break;case 5:Jc(o,d,h);break;case 3:case 4:var g=Fn;Fn=wh(o.stateNode.containerInfo),Jc(o,d,h),Fn=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=ef,ef=16777216,Jc(o,d,h),ef=g):Jc(o,d,h));break;default:Jc(o,d,h)}}function EC(o){var d=o.alternate;if(d!==null&&(o=d.child,o!==null)){d.child=null;do d=o.sibling,o.sibling=null,o=d;while(o!==null)}}function tf(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];Ia=g,_C(g,o)}EC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)AC(o),o=o.sibling}function AC(o){switch(o.tag){case 0:case 11:case 15:tf(o),o.flags&2048&&Ol(9,o,o.return);break;case 3:tf(o);break;case 12:tf(o);break;case 22:var d=o.stateNode;o.memoizedState!==null&&d._visibility&2&&(o.return===null||o.return.tag!==13)?(d._visibility&=-3,ch(o)):tf(o);break;default:tf(o)}}function ch(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];Ia=g,_C(g,o)}EC(o)}for(o=o.child;o!==null;){switch(d=o,d.tag){case 0:case 11:case 15:Ol(8,d,d.return),ch(d);break;case 22:h=d.stateNode,h._visibility&2&&(h._visibility&=-3,ch(d));break;default:ch(d)}o=o.sibling}}function _C(o,d){for(;Ia!==null;){var h=Ia;switch(h.tag){case 0:case 11:case 15:Ol(8,h,d);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Fu(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ia=g;else e:for(h=o;Ia!==null;){g=Ia;var j=g.sibling,C=g.return;if(gC(g),g===h){Ia=null;break e}if(j!==null){j.return=C,Ia=j;break e}Ia=C}}}var KU={getCacheForType:function(o){var d=Va(ha),h=d.data.get(o);return h===void 0&&(h=o(),d.data.set(o,h)),h},cacheSignal:function(){return Va(ha).controller.signal}},QU=typeof WeakMap=="function"?WeakMap:Map,ir=0,_r=null,Mt=null,Ut=0,fr=0,Ls=null,kl=!1,Zc=!1,sv=!1,Fi=0,ea=0,Rl=0,Mo=0,nv=0,Fs=0,ed=0,rf=null,As=null,iv=!1,dh=0,CC=0,uh=1/0,fh=null,Pl=null,Aa=0,Dl=null,td=null,Ui=0,lv=0,ov=null,TC=null,af=0,cv=null;function Us(){return(ir&2)!==0&&Ut!==0?Ut&-Ut:R.T!==null?pv():Q()}function OC(){if(Fs===0)if((Ut&536870912)===0||Gt){var o=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Fs=o}else Fs=536870912;return o=Is.current,o!==null&&(o.flags|=32),Fs}function _s(o,d,h){(o===_r&&(fr===2||fr===9)||o.cancelPendingCommit!==null)&&(rd(o,0),Il(o,Ut,Fs,!1)),Rt(o,h),((ir&2)===0||o!==_r)&&(o===_r&&((ir&2)===0&&(Mo|=h),ea===4&&Il(o,Ut,Fs,!1)),ni(o))}function kC(o,d,h){if((ir&6)!==0)throw Error(a(327));var g=!h&&(d&127)===0&&(d&o.expiredLanes)===0||Zs(o,d),j=g?eB(o,d):uv(o,d,!0),C=g;do{if(j===0){Zc&&!g&&Il(o,d,0,!1);break}else{if(h=o.current.alternate,C&&!JU(h)){j=uv(o,d,!1),C=!1;continue}if(j===2){if(C=d,o.errorRecoveryDisabledLanes&C)var U=0;else U=o.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){d=U;e:{var Z=o;j=rf;var me=Z.current.memoizedState.isDehydrated;if(me&&(rd(Z,U).flags|=256),U=uv(Z,U,!1),U!==2){if(sv&&!me){Z.errorRecoveryDisabledLanes|=C,Mo|=C,j=4;break e}C=As,As=j,C!==null&&(As===null?As=C:As.push.apply(As,C))}j=U}if(C=!1,j!==2)continue}}if(j===1){rd(o,0),Il(o,d,0,!0);break}e:{switch(g=o,C=j,C){case 0:case 1:throw Error(a(345));case 4:if((d&4194048)!==d)break;case 6:Il(g,d,Fs,!kl);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(a(329))}if((d&62914560)===d&&(j=dh+300-Nt(),10<j)){if(Il(g,d,Fs,!kl),Mn(g,0,!0)!==0)break e;Ui=d,g.timeoutHandle=oT(RC.bind(null,g,h,As,fh,iv,d,Fs,Mo,ed,kl,C,"Throttled",-0,0),j);break e}RC(g,h,As,fh,iv,d,Fs,Mo,ed,kl,C,null,-0,0)}}break}while(!0);ni(o)}function RC(o,d,h,g,j,C,U,Z,me,je,Ie,ze,Ce,Re){if(o.timeoutHandle=-1,ze=d.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ji},jC(d,C,ze);var nt=(C&62914560)===C?dh-Nt():(C&4194048)===C?CC-Nt():0;if(nt=MB(ze,nt),nt!==null){Ui=C,o.cancelPendingCommit=nt(BC.bind(null,o,d,C,h,g,j,U,Z,me,Ie,ze,null,Ce,Re)),Il(o,C,U,!je);return}}BC(o,d,C,h,g,j,U,Z,me)}function JU(o){for(var d=o;;){var h=d.tag;if((h===0||h===11||h===15)&&d.flags&16384&&(h=d.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var j=h[g],C=j.getSnapshot;j=j.value;try{if(!Ps(C(),j))return!1}catch{return!1}}if(h=d.child,d.subtreeFlags&16384&&h!==null)h.return=d,d=h;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Il(o,d,h,g){d&=~nv,d&=~Mo,o.suspendedLanes|=d,o.pingedLanes&=~d,g&&(o.warmLanes|=d),g=o.expirationTimes;for(var j=d;0<j;){var C=31-Zt(j),U=1<<C;g[C]=-1,j&=~U}h!==0&&Ar(o,h,d)}function mh(){return(ir&6)===0?(sf(0),!1):!0}function dv(){if(Mt!==null){if(fr===0)var o=Mt.return;else o=Mt,Ci=_o=null,Ab(o),Gc=null,Bu=0,o=Mt;for(;o!==null;)cC(o.alternate,o),o=o.return;Mt=null}}function rd(o,d){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,bB(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Ui=0,dv(),_r=o,Mt=h=Ai(o.current,null),Ut=d,fr=0,Ls=null,kl=!1,Zc=Zs(o,d),sv=!1,ed=Fs=nv=Mo=Rl=ea=0,As=rf=null,iv=!1,(d&8)!==0&&(d|=d&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=d;0<g;){var j=31-Zt(g),C=1<<j;d|=o[j],g&=~C}return Fi=d,Dm(),h}function PC(o,d){At=null,R.H=Xu,d===Vc||d===qm?(d=YA(),fr=3):d===hb?(d=YA(),fr=4):fr=d===qb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ls=d,Mt===null&&(ea=1,rh(o,sn(d,o.current)))}function DC(){var o=Is.current;return o===null?!0:(Ut&4194048)===Ut?cn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?o===cn:!1}function IC(){var o=R.H;return R.H=Xu,o===null?Xu:o}function MC(){var o=R.A;return R.A=KU,o}function hh(){ea=4,kl||(Ut&4194048)!==Ut&&Is.current!==null||(Zc=!0),(Rl&134217727)===0&&(Mo&134217727)===0||_r===null||Il(_r,Ut,Fs,!1)}function uv(o,d,h){var g=ir;ir|=2;var j=IC(),C=MC();(_r!==o||Ut!==d)&&(fh=null,rd(o,d)),d=!1;var U=ea;e:do try{if(fr!==0&&Mt!==null){var Z=Mt,me=Ls;switch(fr){case 8:dv(),U=6;break e;case 3:case 2:case 9:case 6:Is.current===null&&(d=!0);var je=fr;if(fr=0,Ls=null,ad(o,Z,me,je),h&&Zc){U=0;break e}break;default:je=fr,fr=0,Ls=null,ad(o,Z,me,je)}}ZU(),U=ea;break}catch(Ie){PC(o,Ie)}while(!0);return d&&o.shellSuspendCounter++,Ci=_o=null,ir=g,R.H=j,R.A=C,Mt===null&&(_r=null,Ut=0,Dm()),U}function ZU(){for(;Mt!==null;)LC(Mt)}function eB(o,d){var h=ir;ir|=2;var g=IC(),j=MC();_r!==o||Ut!==d?(fh=null,uh=Nt()+500,rd(o,d)):Zc=Zs(o,d);e:do try{if(fr!==0&&Mt!==null){d=Mt;var C=Ls;t:switch(fr){case 1:fr=0,Ls=null,ad(o,d,C,1);break;case 2:case 9:if(WA(C)){fr=0,Ls=null,FC(d);break}d=function(){fr!==2&&fr!==9||_r!==o||(fr=7),ni(o)},C.then(d,d);break e;case 3:fr=7;break e;case 4:fr=5;break e;case 7:WA(C)?(fr=0,Ls=null,FC(d)):(fr=0,Ls=null,ad(o,d,C,7));break;case 5:var U=null;switch(Mt.tag){case 26:U=Mt.memoizedState;case 5:case 27:var Z=Mt;if(U?NT(U):Z.stateNode.complete){fr=0,Ls=null;var me=Z.sibling;if(me!==null)Mt=me;else{var je=Z.return;je!==null?(Mt=je,ph(je)):Mt=null}break t}}fr=0,Ls=null,ad(o,d,C,5);break;case 6:fr=0,Ls=null,ad(o,d,C,6);break;case 8:dv(),ea=6;break e;default:throw Error(a(462))}}tB();break}catch(Ie){PC(o,Ie)}while(!0);return Ci=_o=null,R.H=g,R.A=j,ir=h,Mt!==null?0:(_r=null,Ut=0,Dm(),ea)}function tB(){for(;Mt!==null&&!tt();)LC(Mt)}function LC(o){var d=lC(o.alternate,o,Fi);o.memoizedProps=o.pendingProps,d===null?ph(o):Mt=d}function FC(o){var d=o,h=d.alternate;switch(d.tag){case 15:case 0:d=tC(h,d,d.pendingProps,d.type,void 0,Ut);break;case 11:d=tC(h,d,d.pendingProps,d.type.render,d.ref,Ut);break;case 5:Ab(d);default:cC(h,d),d=Mt=MA(d,Fi),d=lC(h,d,Fi)}o.memoizedProps=o.pendingProps,d===null?ph(o):Mt=d}function ad(o,d,h,g){Ci=_o=null,Ab(d),Gc=null,Bu=0;var j=d.return;try{if($U(o,j,d,h,Ut)){ea=1,rh(o,sn(h,o.current)),Mt=null;return}}catch(C){if(j!==null)throw Mt=j,C;ea=1,rh(o,sn(h,o.current)),Mt=null;return}d.flags&32768?(Gt||g===1?o=!0:Zc||(Ut&536870912)!==0?o=!1:(kl=o=!0,(g===2||g===9||g===3||g===6)&&(g=Is.current,g!==null&&g.tag===13&&(g.flags|=16384))),UC(d,o)):ph(d)}function ph(o){var d=o;do{if((d.flags&32768)!==0){UC(d,kl);return}o=d.return;var h=GU(d.alternate,d,Fi);if(h!==null){Mt=h;return}if(d=d.sibling,d!==null){Mt=d;return}Mt=d=o}while(d!==null);ea===0&&(ea=5)}function UC(o,d){do{var h=WU(o.alternate,o);if(h!==null){h.flags&=32767,Mt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!d&&(o=o.sibling,o!==null)){Mt=o;return}Mt=o=h}while(o!==null);ea=6,Mt=null}function BC(o,d,h,g,j,C,U,Z,me){o.cancelPendingCommit=null;do xh();while(Aa!==0);if((ir&6)!==0)throw Error(a(327));if(d!==null){if(d===o.current)throw Error(a(177));if(C=d.lanes|d.childLanes,C|=Zg,Ht(o,h,C,U,Z,me),o===_r&&(Mt=_r=null,Ut=0),td=d,Dl=o,Ui=h,lv=C,ov=j,TC=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,nB(Yt,function(){return VC(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=R.T,R.T=null,j=W.p,W.p=2,U=ir,ir|=4;try{XU(o,d,h)}finally{ir=U,W.p=j,R.T=g}}Aa=1,zC(),qC(),$C()}}function zC(){if(Aa===1){Aa=0;var o=Dl,d=td,h=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||h){h=R.T,R.T=null;var g=W.p;W.p=2;var j=ir;ir|=4;try{SC(d,o);var C=Nv,U=_A(o.containerInfo),Z=C.focusedElem,me=C.selectionRange;if(U!==Z&&Z&&Z.ownerDocument&&AA(Z.ownerDocument.documentElement,Z)){if(me!==null&&Xg(Z)){var je=me.start,Ie=me.end;if(Ie===void 0&&(Ie=je),"selectionStart"in Z)Z.selectionStart=je,Z.selectionEnd=Math.min(Ie,Z.value.length);else{var ze=Z.ownerDocument||document,Ce=ze&&ze.defaultView||window;if(Ce.getSelection){var Re=Ce.getSelection(),nt=Z.textContent.length,ht=Math.min(me.start,nt),Sr=me.end===void 0?ht:Math.min(me.end,nt);!Re.extend&&ht>Sr&&(U=Sr,Sr=ht,ht=U);var be=EA(Z,ht),pe=EA(Z,Sr);if(be&&pe&&(Re.rangeCount!==1||Re.anchorNode!==be.node||Re.anchorOffset!==be.offset||Re.focusNode!==pe.node||Re.focusOffset!==pe.offset)){var Ne=ze.createRange();Ne.setStart(be.node,be.offset),Re.removeAllRanges(),ht>Sr?(Re.addRange(Ne),Re.extend(pe.node,pe.offset)):(Ne.setEnd(pe.node,pe.offset),Re.addRange(Ne))}}}}for(ze=[],Re=Z;Re=Re.parentNode;)Re.nodeType===1&&ze.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<ze.length;Z++){var Be=ze[Z];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Ch=!!wv,Nv=wv=null}finally{ir=j,W.p=g,R.T=h}}o.current=d,Aa=2}}function qC(){if(Aa===2){Aa=0;var o=Dl,d=td,h=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||h){h=R.T,R.T=null;var g=W.p;W.p=2;var j=ir;ir|=4;try{xC(o,d.alternate,d)}finally{ir=j,W.p=g,R.T=h}}Aa=3}}function $C(){if(Aa===4||Aa===3){Aa=0,wt();var o=Dl,d=td,h=Ui,g=TC;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Aa=5:(Aa=0,td=Dl=null,HC(o,o.pendingLanes));var j=o.pendingLanes;if(j===0&&(Pl=null),$r(h),d=d.stateNode,ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Se,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=R.T,j=W.p,W.p=2,R.T=null;try{for(var C=o.onRecoverableError,U=0;U<g.length;U++){var Z=g[U];C(Z.value,{componentStack:Z.stack})}}finally{R.T=d,W.p=j}}(Ui&3)!==0&&xh(),ni(o),j=o.pendingLanes,(h&261930)!==0&&(j&42)!==0?o===cv?af++:(af=0,cv=o):af=0,sf(0)}}function HC(o,d){(o.pooledCacheLanes&=d)===0&&(d=o.pooledCache,d!=null&&(o.pooledCache=null,Fu(d)))}function xh(){return zC(),qC(),$C(),VC()}function VC(){if(Aa!==5)return!1;var o=Dl,d=lv;lv=0;var h=$r(Ui),g=R.T,j=W.p;try{W.p=32>h?32:h,R.T=null,h=ov,ov=null;var C=Dl,U=Ui;if(Aa=0,td=Dl=null,Ui=0,(ir&6)!==0)throw Error(a(331));var Z=ir;if(ir|=4,AC(C.current),NC(C,C.current,U,h),ir=Z,sf(0,!1),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Se,C)}catch{}return!0}finally{W.p=j,R.T=g,HC(o,d)}}function GC(o,d,h){d=sn(h,d),d=zb(o.stateNode,d,2),o=_l(o,d,2),o!==null&&(Rt(o,2),ni(o))}function mr(o,d,h){if(o.tag===3)GC(o,o,h);else for(;d!==null;){if(d.tag===3){GC(d,o,h);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Pl===null||!Pl.has(g))){o=sn(h,o),h=W_(2),g=_l(d,h,2),g!==null&&(X_(h,g,d,o),Rt(g,2),ni(g));break}}d=d.return}}function fv(o,d,h){var g=o.pingCache;if(g===null){g=o.pingCache=new QU;var j=new Set;g.set(d,j)}else j=g.get(d),j===void 0&&(j=new Set,g.set(d,j));j.has(h)||(sv=!0,j.add(h),o=rB.bind(null,o,d,h),d.then(o,o))}function rB(o,d,h){var g=o.pingCache;g!==null&&g.delete(d),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,_r===o&&(Ut&h)===h&&(ea===4||ea===3&&(Ut&62914560)===Ut&&300>Nt()-dh?(ir&2)===0&&rd(o,0):nv|=h,ed===Ut&&(ed=0)),ni(o)}function WC(o,d){d===0&&(d=ue()),o=jo(o,d),o!==null&&(Rt(o,d),ni(o))}function aB(o){var d=o.memoizedState,h=0;d!==null&&(h=d.retryLane),WC(o,h)}function sB(o,d){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,j=o.memoizedState;j!==null&&(h=j.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(a(314))}g!==null&&g.delete(d),WC(o,h)}function nB(o,d){return it(o,d)}var gh=null,sd=null,mv=!1,bh=!1,hv=!1,Ml=0;function ni(o){o!==sd&&o.next===null&&(sd===null?gh=sd=o:sd=sd.next=o),bh=!0,mv||(mv=!0,lB())}function sf(o,d){if(!hv&&bh){hv=!0;do for(var h=!1,g=gh;g!==null;){if(o!==0){var j=g.pendingLanes;if(j===0)var C=0;else{var U=g.suspendedLanes,Z=g.pingedLanes;C=(1<<31-Zt(42|o)+1)-1,C&=j&~(U&~Z),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,QC(g,C))}else C=Ut,C=Mn(g,g===_r?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||Zs(g,C)||(h=!0,QC(g,C));g=g.next}while(h);hv=!1}}function iB(){XC()}function XC(){bh=mv=!1;var o=0;Ml!==0&&gB()&&(o=Ml);for(var d=Nt(),h=null,g=gh;g!==null;){var j=g.next,C=YC(g,d);C===0?(g.next=null,h===null?gh=j:h.next=j,j===null&&(sd=h)):(h=g,(o!==0||(C&3)!==0)&&(bh=!0)),g=j}Aa!==0&&Aa!==5||sf(o),Ml!==0&&(Ml=0)}function YC(o,d){for(var h=o.suspendedLanes,g=o.pingedLanes,j=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var U=31-Zt(C),Z=1<<U,me=j[U];me===-1?((Z&h)===0||(Z&g)!==0)&&(j[U]=bl(Z,d)):me<=d&&(o.expiredLanes|=Z),C&=~Z}if(d=_r,h=Ut,h=Mn(o,o===d?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===d&&(fr===2||fr===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&ve(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Zs(o,h)){if(d=h&-h,d===o.callbackPriority)return d;switch(g!==null&&ve(g),$r(h)){case 2:case 8:h=kt;break;case 32:h=Yt;break;case 268435456:h=ct;break;default:h=Yt}return g=KC.bind(null,o),h=it(h,g),o.callbackPriority=d,o.callbackNode=h,d}return g!==null&&g!==null&&ve(g),o.callbackPriority=2,o.callbackNode=null,2}function KC(o,d){if(Aa!==0&&Aa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(xh()&&o.callbackNode!==h)return null;var g=Ut;return g=Mn(o,o===_r?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(kC(o,g,d),YC(o,Nt()),o.callbackNode!=null&&o.callbackNode===h?KC.bind(null,o):null)}function QC(o,d){if(xh())return null;kC(o,d,!0)}function lB(){vB(function(){(ir&6)!==0?it(ft,iB):XC()})}function pv(){if(Ml===0){var o=$c;o===0&&(o=It,It<<=1,(It&261888)===0&&(It=256)),Ml=o}return Ml}function JC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Am(""+o)}function ZC(o,d){var h=d.ownerDocument.createElement("input");return h.name=d.name,h.value=d.value,o.id&&h.setAttribute("form",o.id),d.parentNode.insertBefore(h,d),o=new FormData(o),h.parentNode.removeChild(h),o}function oB(o,d,h,g,j){if(d==="submit"&&h&&h.stateNode===j){var C=JC((j[ne]||null).action),U=g.submitter;U&&(d=(d=U[ne]||null)?JC(d.formAction):U.getAttribute("formAction"),d!==null&&(C=d,U=null));var Z=new Om("action","action",null,g,j);o.push({event:Z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ml!==0){var me=U?ZC(j,U):new FormData(j);Ib(h,{pending:!0,data:me,method:j.method,action:C},null,me)}}else typeof C=="function"&&(Z.preventDefault(),me=U?ZC(j,U):new FormData(j),Ib(h,{pending:!0,data:me,method:j.method,action:C},C,me))},currentTarget:j}]})}}for(var xv=0;xv<Jg.length;xv++){var gv=Jg[xv],cB=gv.toLowerCase(),dB=gv[0].toUpperCase()+gv.slice(1);Ln(cB,"on"+dB)}Ln(OA,"onAnimationEnd"),Ln(kA,"onAnimationIteration"),Ln(RA,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(AU,"onTransitionRun"),Ln(_U,"onTransitionStart"),Ln(CU,"onTransitionCancel"),Ln(PA,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nf));function eT(o,d){d=(d&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],j=g.event;g=g.listeners;e:{var C=void 0;if(d)for(var U=g.length-1;0<=U;U--){var Z=g[U],me=Z.instance,je=Z.currentTarget;if(Z=Z.listener,me!==C&&j.isPropagationStopped())break e;C=Z,j.currentTarget=je;try{C(j)}catch(Ie){Pm(Ie)}j.currentTarget=null,C=me}else for(U=0;U<g.length;U++){if(Z=g[U],me=Z.instance,je=Z.currentTarget,Z=Z.listener,me!==C&&j.isPropagationStopped())break e;C=Z,j.currentTarget=je;try{C(j)}catch(Ie){Pm(Ie)}j.currentTarget=null,C=me}}}}function Lt(o,d){var h=d[Ee];h===void 0&&(h=d[Ee]=new Set);var g=o+"__bubble";h.has(g)||(tT(d,o,2,!1),h.add(g))}function bv(o,d,h){var g=0;d&&(g|=4),tT(h,o,g,d)}var vh="_reactListening"+Math.random().toString(36).slice(2);function vv(o){if(!o[vh]){o[vh]=!0,Tr.forEach(function(h){h!=="selectionchange"&&(uB.has(h)||bv(h,!1,o),bv(h,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[vh]||(d[vh]=!0,bv("selectionchange",!1,d))}}function tT(o,d,h,g){switch(OT(d)){case 2:var j=UB;break;case 8:j=BB;break;default:j=Dv}h=j.bind(null,d,h,o),j=void 0,!Ug||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(j=!0),g?j!==void 0?o.addEventListener(d,h,{capture:!0,passive:j}):o.addEventListener(d,h,!0):j!==void 0?o.addEventListener(d,h,{passive:j}):o.addEventListener(d,h,!1)}function yv(o,d,h,g,j){var C=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var U=g.tag;if(U===3||U===4){var Z=g.stateNode.containerInfo;if(Z===j)break;if(U===4)for(U=g.return;U!==null;){var me=U.tag;if((me===3||me===4)&&U.stateNode.containerInfo===j)return;U=U.return}for(;Z!==null;){if(U=Ye(Z),U===null)return;if(me=U.tag,me===5||me===6||me===26||me===27){g=C=U;continue e}Z=Z.parentNode}}g=g.return}iA(function(){var je=C,Ie=Lg(h),ze=[];e:{var Ce=DA.get(o);if(Ce!==void 0){var Re=Om,nt=o;switch(o){case"keypress":if(Cm(h)===0)break e;case"keydown":case"keyup":Re=sU;break;case"focusin":nt="focus",Re=$g;break;case"focusout":nt="blur",Re=$g;break;case"beforeblur":case"afterblur":Re=$g;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=cA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=G7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=lU;break;case OA:case kA:case RA:Re=Y7;break;case PA:Re=cU;break;case"scroll":case"scrollend":Re=H7;break;case"wheel":Re=uU;break;case"copy":case"cut":case"paste":Re=Q7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=uA;break;case"toggle":case"beforetoggle":Re=mU}var ht=(d&4)!==0,Sr=!ht&&(o==="scroll"||o==="scrollend"),be=ht?Ce!==null?Ce+"Capture":null:Ce;ht=[];for(var pe=je,Ne;pe!==null;){var Be=pe;if(Ne=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Ne===null||be===null||(Be=_u(pe,be),Be!=null&&ht.push(lf(pe,Be,Ne))),Sr)break;pe=pe.return}0<ht.length&&(Ce=new Re(Ce,nt,null,h,Ie),ze.push({event:Ce,listeners:ht}))}}if((d&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",Ce&&h!==Mg&&(nt=h.relatedTarget||h.fromElement)&&(Ye(nt)||nt[oe]))break e;if((Re||Ce)&&(Ce=Ie.window===Ie?Ie:(Ce=Ie.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Re?(nt=h.relatedTarget||h.toElement,Re=je,nt=nt?Ye(nt):null,nt!==null&&(Sr=i(nt),ht=nt.tag,nt!==Sr||ht!==5&&ht!==27&&ht!==6)&&(nt=null)):(Re=null,nt=je),Re!==nt)){if(ht=cA,Be="onMouseLeave",be="onMouseEnter",pe="mouse",(o==="pointerout"||o==="pointerover")&&(ht=uA,Be="onPointerLeave",be="onPointerEnter",pe="pointer"),Sr=Re==null?Ce:Ge(Re),Ne=nt==null?Ce:Ge(nt),Ce=new ht(Be,pe+"leave",Re,h,Ie),Ce.target=Sr,Ce.relatedTarget=Ne,Be=null,Ye(Ie)===je&&(ht=new ht(be,pe+"enter",nt,h,Ie),ht.target=Ne,ht.relatedTarget=Sr,Be=ht),Sr=Be,Re&&nt)t:{for(ht=fB,be=Re,pe=nt,Ne=0,Be=be;Be;Be=ht(Be))Ne++;Be=0;for(var ut=pe;ut;ut=ht(ut))Be++;for(;0<Ne-Be;)be=ht(be),Ne--;for(;0<Be-Ne;)pe=ht(pe),Be--;for(;Ne--;){if(be===pe||pe!==null&&be===pe.alternate){ht=be;break t}be=ht(be),pe=ht(pe)}ht=null}else ht=null;Re!==null&&rT(ze,Ce,Re,ht,!1),nt!==null&&Sr!==null&&rT(ze,Sr,nt,ht,!0)}}e:{if(Ce=je?Ge(je):window,Re=Ce.nodeName&&Ce.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ce.type==="file")var er=vA;else if(gA(Ce))if(yA)er=NU;else{er=SU;var ot=yU}else Re=Ce.nodeName,!Re||Re.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?je&&Ig(je.elementType)&&(er=vA):er=wU;if(er&&(er=er(o,je))){bA(ze,er,h,Ie);break e}ot&&ot(o,Ce,je),o==="focusout"&&je&&Ce.type==="number"&&je.memoizedProps.value!=null&&Dg(Ce,"number",Ce.value)}switch(ot=je?Ge(je):window,o){case"focusin":(gA(ot)||ot.contentEditable==="true")&&(Ic=ot,Yg=je,Iu=null);break;case"focusout":Iu=Yg=Ic=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,CA(ze,h,Ie);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":CA(ze,h,Ie)}var Ct;if(Vg)e:{switch(o){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else Dc?pA(o,h)&&(Bt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Bt="onCompositionStart");Bt&&(fA&&h.locale!=="ko"&&(Dc||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Dc&&(Ct=lA()):(yl=Ie,Bg="value"in yl?yl.value:yl.textContent,Dc=!0)),ot=yh(je,Bt),0<ot.length&&(Bt=new dA(Bt,o,null,h,Ie),ze.push({event:Bt,listeners:ot}),Ct?Bt.data=Ct:(Ct=xA(h),Ct!==null&&(Bt.data=Ct)))),(Ct=pU?xU(o,h):gU(o,h))&&(Bt=yh(je,"onBeforeInput"),0<Bt.length&&(ot=new dA("onBeforeInput","beforeinput",null,h,Ie),ze.push({event:ot,listeners:Bt}),ot.data=Ct)),oB(ze,o,je,h,Ie)}eT(ze,d)})}function lf(o,d,h){return{instance:o,listener:d,currentTarget:h}}function yh(o,d){for(var h=d+"Capture",g=[];o!==null;){var j=o,C=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||C===null||(j=_u(o,h),j!=null&&g.unshift(lf(o,j,C)),j=_u(o,d),j!=null&&g.push(lf(o,j,C))),o.tag===3)return g;o=o.return}return[]}function fB(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function rT(o,d,h,g,j){for(var C=d._reactName,U=[];h!==null&&h!==g;){var Z=h,me=Z.alternate,je=Z.stateNode;if(Z=Z.tag,me!==null&&me===g)break;Z!==5&&Z!==26&&Z!==27||je===null||(me=je,j?(je=_u(h,C),je!=null&&U.unshift(lf(h,je,me))):j||(je=_u(h,C),je!=null&&U.push(lf(h,je,me)))),h=h.return}U.length!==0&&o.push({event:d,listeners:U})}var mB=/\r\n?/g,hB=/\u0000|\uFFFD/g;function aT(o){return(typeof o=="string"?o:""+o).replace(mB,`
`).replace(hB,"")}function sT(o,d){return d=aT(d),aT(o)===d}function yr(o,d,h,g,j,C){switch(h){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||kc(o,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&kc(o,""+g);break;case"className":jm(o,"class",g);break;case"tabIndex":jm(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":jm(o,h,g);break;case"style":sA(o,g,C);break;case"data":if(d!=="object"){jm(o,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Am(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(d!=="input"&&yr(o,d,"name",j.name,j,null),yr(o,d,"formEncType",j.formEncType,j,null),yr(o,d,"formMethod",j.formMethod,j,null),yr(o,d,"formTarget",j.formTarget,j,null)):(yr(o,d,"encType",j.encType,j,null),yr(o,d,"method",j.method,j,null),yr(o,d,"target",j.target,j,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Am(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=ji);break;case"onScroll":g!=null&&Lt("scroll",o);break;case"onScrollEnd":g!=null&&Lt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Am(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Lt("beforetoggle",o),Lt("toggle",o),Ss(o,"popover",g);break;case"xlinkActuate":Ni(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ni(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ni(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ni(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ni(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ni(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ni(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ni(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ni(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ss(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=q7.get(h)||h,Ss(o,h,g))}}function Sv(o,d,h,g,j,C){switch(h){case"style":sA(o,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(a(60));o.innerHTML=h}}break;case"children":typeof g=="string"?kc(o,g):(typeof g=="number"||typeof g=="bigint")&&kc(o,""+g);break;case"onScroll":g!=null&&Lt("scroll",o);break;case"onScrollEnd":g!=null&&Lt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(j=h.endsWith("Capture"),d=h.slice(2,j?h.length-7:void 0),C=o[ne]||null,C=C!=null?C[h]:null,typeof C=="function"&&o.removeEventListener(d,C,j),typeof g=="function")){typeof C!="function"&&C!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(d,g,j);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Ss(o,h,g)}}}function Wa(o,d,h){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",o),Lt("load",o);var g=!1,j=!1,C;for(C in h)if(h.hasOwnProperty(C)){var U=h[C];if(U!=null)switch(C){case"src":g=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,d));default:yr(o,d,C,U,h,null)}}j&&yr(o,d,"srcSet",h.srcSet,h,null),g&&yr(o,d,"src",h.src,h,null);return;case"input":Lt("invalid",o);var Z=C=U=j=null,me=null,je=null;for(g in h)if(h.hasOwnProperty(g)){var Ie=h[g];if(Ie!=null)switch(g){case"name":j=Ie;break;case"type":U=Ie;break;case"checked":me=Ie;break;case"defaultChecked":je=Ie;break;case"value":C=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(a(137,d));break;default:yr(o,d,g,Ie,h,null)}}eA(o,C,Z,me,je,U,j,!1);return;case"select":Lt("invalid",o),g=U=C=null;for(j in h)if(h.hasOwnProperty(j)&&(Z=h[j],Z!=null))switch(j){case"value":C=Z;break;case"defaultValue":U=Z;break;case"multiple":g=Z;default:yr(o,d,j,Z,h,null)}d=C,h=U,o.multiple=!!g,d!=null?Oc(o,!!g,d,!1):h!=null&&Oc(o,!!g,h,!0);return;case"textarea":Lt("invalid",o),C=j=g=null;for(U in h)if(h.hasOwnProperty(U)&&(Z=h[U],Z!=null))switch(U){case"value":g=Z;break;case"defaultValue":j=Z;break;case"children":C=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(91));break;default:yr(o,d,U,Z,h,null)}rA(o,g,j,C);return;case"option":for(me in h)if(h.hasOwnProperty(me)&&(g=h[me],g!=null))switch(me){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:yr(o,d,me,g,h,null)}return;case"dialog":Lt("beforetoggle",o),Lt("toggle",o),Lt("cancel",o),Lt("close",o);break;case"iframe":case"object":Lt("load",o);break;case"video":case"audio":for(g=0;g<nf.length;g++)Lt(nf[g],o);break;case"image":Lt("error",o),Lt("load",o);break;case"details":Lt("toggle",o);break;case"embed":case"source":case"link":Lt("error",o),Lt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in h)if(h.hasOwnProperty(je)&&(g=h[je],g!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,d));default:yr(o,d,je,g,h,null)}return;default:if(Ig(d)){for(Ie in h)h.hasOwnProperty(Ie)&&(g=h[Ie],g!==void 0&&Sv(o,d,Ie,g,h,void 0));return}}for(Z in h)h.hasOwnProperty(Z)&&(g=h[Z],g!=null&&yr(o,d,Z,g,h,null))}function pB(o,d,h,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,C=null,U=null,Z=null,me=null,je=null,Ie=null;for(Re in h){var ze=h[Re];if(h.hasOwnProperty(Re)&&ze!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":me=ze;default:g.hasOwnProperty(Re)||yr(o,d,Re,null,g,ze)}}for(var Ce in g){var Re=g[Ce];if(ze=h[Ce],g.hasOwnProperty(Ce)&&(Re!=null||ze!=null))switch(Ce){case"type":C=Re;break;case"name":j=Re;break;case"checked":je=Re;break;case"defaultChecked":Ie=Re;break;case"value":U=Re;break;case"defaultValue":Z=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(a(137,d));break;default:Re!==ze&&yr(o,d,Ce,Re,g,ze)}}Pg(o,U,Z,me,je,Ie,C,j);return;case"select":Re=U=Z=Ce=null;for(C in h)if(me=h[C],h.hasOwnProperty(C)&&me!=null)switch(C){case"value":break;case"multiple":Re=me;default:g.hasOwnProperty(C)||yr(o,d,C,null,g,me)}for(j in g)if(C=g[j],me=h[j],g.hasOwnProperty(j)&&(C!=null||me!=null))switch(j){case"value":Ce=C;break;case"defaultValue":Z=C;break;case"multiple":U=C;default:C!==me&&yr(o,d,j,C,g,me)}d=Z,h=U,g=Re,Ce!=null?Oc(o,!!h,Ce,!1):!!g!=!!h&&(d!=null?Oc(o,!!h,d,!0):Oc(o,!!h,h?[]:"",!1));return;case"textarea":Re=Ce=null;for(Z in h)if(j=h[Z],h.hasOwnProperty(Z)&&j!=null&&!g.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:yr(o,d,Z,null,g,j)}for(U in g)if(j=g[U],C=h[U],g.hasOwnProperty(U)&&(j!=null||C!=null))switch(U){case"value":Ce=j;break;case"defaultValue":Re=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:j!==C&&yr(o,d,U,j,g,C)}tA(o,Ce,Re);return;case"option":for(var nt in h)if(Ce=h[nt],h.hasOwnProperty(nt)&&Ce!=null&&!g.hasOwnProperty(nt))switch(nt){case"selected":o.selected=!1;break;default:yr(o,d,nt,null,g,Ce)}for(me in g)if(Ce=g[me],Re=h[me],g.hasOwnProperty(me)&&Ce!==Re&&(Ce!=null||Re!=null))switch(me){case"selected":o.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:yr(o,d,me,Ce,g,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in h)Ce=h[ht],h.hasOwnProperty(ht)&&Ce!=null&&!g.hasOwnProperty(ht)&&yr(o,d,ht,null,g,Ce);for(je in g)if(Ce=g[je],Re=h[je],g.hasOwnProperty(je)&&Ce!==Re&&(Ce!=null||Re!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,d));break;default:yr(o,d,je,Ce,g,Re)}return;default:if(Ig(d)){for(var Sr in h)Ce=h[Sr],h.hasOwnProperty(Sr)&&Ce!==void 0&&!g.hasOwnProperty(Sr)&&Sv(o,d,Sr,void 0,g,Ce);for(Ie in g)Ce=g[Ie],Re=h[Ie],!g.hasOwnProperty(Ie)||Ce===Re||Ce===void 0&&Re===void 0||Sv(o,d,Ie,Ce,g,Re);return}}for(var be in h)Ce=h[be],h.hasOwnProperty(be)&&Ce!=null&&!g.hasOwnProperty(be)&&yr(o,d,be,null,g,Ce);for(ze in g)Ce=g[ze],Re=h[ze],!g.hasOwnProperty(ze)||Ce===Re||Ce==null&&Re==null||yr(o,d,ze,Ce,g,Re)}function nT(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xB(){if(typeof performance.getEntriesByType=="function"){for(var o=0,d=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var j=h[g],C=j.transferSize,U=j.initiatorType,Z=j.duration;if(C&&Z&&nT(U)){for(U=0,Z=j.responseEnd,g+=1;g<h.length;g++){var me=h[g],je=me.startTime;if(je>Z)break;var Ie=me.transferSize,ze=me.initiatorType;Ie&&nT(ze)&&(me=me.responseEnd,U+=Ie*(me<Z?1:(Z-je)/(me-je)))}if(--g,d+=8*(C+U)/(j.duration/1e3),o++,10<o)break}}if(0<o)return d/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var wv=null,Nv=null;function Sh(o){return o.nodeType===9?o:o.ownerDocument}function iT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lT(o,d){if(o===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&d==="foreignObject"?0:o}function jv(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ev=null;function gB(){var o=window.event;return o&&o.type==="popstate"?o===Ev?!1:(Ev=o,!0):(Ev=null,!1)}var oT=typeof setTimeout=="function"?setTimeout:void 0,bB=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,vB=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(o){return cT.resolve(null).then(o).catch(yB)}:oT;function yB(o){setTimeout(function(){throw o})}function Ll(o){return o==="head"}function dT(o,d){var h=d,g=0;do{var j=h.nextSibling;if(o.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(j),od(d);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")of(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,of(h);for(var C=h.firstChild;C;){var U=C.nextSibling,Z=C.nodeName;C[Te]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}}else h==="body"&&of(o.ownerDocument.body);h=j}while(h);od(d)}function uT(o,d){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?d?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(d?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function Av(o){var d=o.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var h=d;switch(d=d.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Av(h),Ve(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function SB(o,d,h,g){for(;o.nodeType===1;){var j=h;if(o.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Te])switch(d){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==j.rel||o.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||o.getAttribute("title")!==(j.title==null?null:j.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(j.src==null?null:j.src)||o.getAttribute("type")!==(j.type==null?null:j.type)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(d==="input"&&o.type==="hidden"){var C=j.name==null?null:""+j.name;if(j.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=dn(o.nextSibling),o===null)break}return null}function wB(o,d,h){if(d==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=dn(o.nextSibling),o===null))return null;return o}function fT(o,d){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=dn(o.nextSibling),o===null))return null;return o}function _v(o){return o.data==="$?"||o.data==="$~"}function Cv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function NB(o,d){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=d;else if(o.data!=="$?"||h.readyState!=="loading")d();else{var g=function(){d(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function dn(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return o}var Tv=null;function mT(o){o=o.nextSibling;for(var d=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(d===0)return dn(o.nextSibling);d--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||d++}o=o.nextSibling}return null}function hT(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(d===0)return o;d--}else h!=="/$"&&h!=="/&"||d++}o=o.previousSibling}return null}function pT(o,d,h){switch(d=Sh(h),o){case"html":if(o=d.documentElement,!o)throw Error(a(452));return o;case"head":if(o=d.head,!o)throw Error(a(453));return o;case"body":if(o=d.body,!o)throw Error(a(454));return o;default:throw Error(a(451))}}function of(o){for(var d=o.attributes;d.length;)o.removeAttributeNode(d[0]);Ve(o)}var un=new Map,xT=new Set;function wh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bi=W.d;W.d={f:jB,r:EB,D:AB,C:_B,L:CB,m:TB,X:kB,S:OB,M:RB};function jB(){var o=Bi.f(),d=mh();return o||d}function EB(o){var d=et(o);d!==null&&d.tag===5&&d.type==="form"?P_(d):Bi.r(o)}var nd=typeof document>"u"?null:document;function gT(o,d,h){var g=nd;if(g&&typeof d=="string"&&d){var j=rn(d);j='link[rel="'+o+'"][href="'+j+'"]',typeof h=="string"&&(j+='[crossorigin="'+h+'"]'),xT.has(j)||(xT.add(j),o={rel:o,crossOrigin:h,href:d},g.querySelector(j)===null&&(d=g.createElement("link"),Wa(d,"link",o),lt(d),g.head.appendChild(d)))}}function AB(o){Bi.D(o),gT("dns-prefetch",o,null)}function _B(o,d){Bi.C(o,d),gT("preconnect",o,d)}function CB(o,d,h){Bi.L(o,d,h);var g=nd;if(g&&o&&d){var j='link[rel="preload"][as="'+rn(d)+'"]';d==="image"&&h&&h.imageSrcSet?(j+='[imagesrcset="'+rn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(j+='[imagesizes="'+rn(h.imageSizes)+'"]')):j+='[href="'+rn(o)+'"]';var C=j;switch(d){case"style":C=id(o);break;case"script":C=ld(o)}un.has(C)||(o=m({rel:"preload",href:d==="image"&&h&&h.imageSrcSet?void 0:o,as:d},h),un.set(C,o),g.querySelector(j)!==null||d==="style"&&g.querySelector(cf(C))||d==="script"&&g.querySelector(df(C))||(d=g.createElement("link"),Wa(d,"link",o),lt(d),g.head.appendChild(d)))}}function TB(o,d){Bi.m(o,d);var h=nd;if(h&&o){var g=d&&typeof d.as=="string"?d.as:"script",j='link[rel="modulepreload"][as="'+rn(g)+'"][href="'+rn(o)+'"]',C=j;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=ld(o)}if(!un.has(C)&&(o=m({rel:"modulepreload",href:o},d),un.set(C,o),h.querySelector(j)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(df(C)))return}g=h.createElement("link"),Wa(g,"link",o),lt(g),h.head.appendChild(g)}}}function OB(o,d,h){Bi.S(o,d,h);var g=nd;if(g&&o){var j=Ze(g).hoistableStyles,C=id(o);d=d||"default";var U=j.get(C);if(!U){var Z={loading:0,preload:null};if(U=g.querySelector(cf(C)))Z.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":d},h),(h=un.get(C))&&Ov(o,h);var me=U=g.createElement("link");lt(me),Wa(me,"link",o),me._p=new Promise(function(je,Ie){me.onload=je,me.onerror=Ie}),me.addEventListener("load",function(){Z.loading|=1}),me.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Nh(U,d,g)}U={type:"stylesheet",instance:U,count:1,state:Z},j.set(C,U)}}}function kB(o,d){Bi.X(o,d);var h=nd;if(h&&o){var g=Ze(h).hoistableScripts,j=ld(o),C=g.get(j);C||(C=h.querySelector(df(j)),C||(o=m({src:o,async:!0},d),(d=un.get(j))&&kv(o,d),C=h.createElement("script"),lt(C),Wa(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(j,C))}}function RB(o,d){Bi.M(o,d);var h=nd;if(h&&o){var g=Ze(h).hoistableScripts,j=ld(o),C=g.get(j);C||(C=h.querySelector(df(j)),C||(o=m({src:o,async:!0,type:"module"},d),(d=un.get(j))&&kv(o,d),C=h.createElement("script"),lt(C),Wa(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(j,C))}}function bT(o,d,h,g){var j=(j=ce.current)?wh(j):null;if(!j)throw Error(a(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(d=id(h.href),h=Ze(j).hoistableStyles,g=h.get(d),g||(g={type:"style",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=id(h.href);var C=Ze(j).hoistableStyles,U=C.get(o);if(U||(j=j.ownerDocument||j,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,U),(C=j.querySelector(cf(o)))&&!C._p&&(U.instance=C,U.state.loading=5),un.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},un.set(o,h),C||PB(j,o,h,U.state))),d&&g===null)throw Error(a(528,""));return U}if(d&&g!==null)throw Error(a(529,""));return null;case"script":return d=h.async,h=h.src,typeof h=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=ld(h),h=Ze(j).hoistableScripts,g=h.get(d),g||(g={type:"script",instance:null,count:0,state:null},h.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,o))}}function id(o){return'href="'+rn(o)+'"'}function cf(o){return'link[rel="stylesheet"]['+o+"]"}function vT(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function PB(o,d,h,g){o.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=o.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),Wa(d,"link",h),lt(d),o.head.appendChild(d))}function ld(o){return'[src="'+rn(o)+'"]'}function df(o){return"script[async]"+o}function yT(o,d,h){if(d.count++,d.instance===null)switch(d.type){case"style":var g=o.querySelector('style[data-href~="'+rn(h.href)+'"]');if(g)return d.instance=g,lt(g),g;var j=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),lt(g),Wa(g,"style",j),Nh(g,h.precedence,o),d.instance=g;case"stylesheet":j=id(h.href);var C=o.querySelector(cf(j));if(C)return d.state.loading|=4,d.instance=C,lt(C),C;g=vT(h),(j=un.get(j))&&Ov(g,j),C=(o.ownerDocument||o).createElement("link"),lt(C);var U=C;return U._p=new Promise(function(Z,me){U.onload=Z,U.onerror=me}),Wa(C,"link",g),d.state.loading|=4,Nh(C,h.precedence,o),d.instance=C;case"script":return C=ld(h.src),(j=o.querySelector(df(C)))?(d.instance=j,lt(j),j):(g=h,(j=un.get(C))&&(g=m({},h),kv(g,j)),o=o.ownerDocument||o,j=o.createElement("script"),lt(j),Wa(j,"link",g),o.head.appendChild(j),d.instance=j);case"void":return null;default:throw Error(a(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,Nh(g,h.precedence,o));return d.instance}function Nh(o,d,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=g.length?g[g.length-1]:null,C=j,U=0;U<g.length;U++){var Z=g[U];if(Z.dataset.precedence===d)C=Z;else if(C!==j)break}C?C.parentNode.insertBefore(o,C.nextSibling):(d=h.nodeType===9?h.head:h,d.insertBefore(o,d.firstChild))}function Ov(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.title==null&&(o.title=d.title)}function kv(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.integrity==null&&(o.integrity=d.integrity)}var jh=null;function ST(o,d,h){if(jh===null){var g=new Map,j=jh=new Map;j.set(h,g)}else j=jh,g=j.get(h),g||(g=new Map,j.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),j=0;j<h.length;j++){var C=h[j];if(!(C[Te]||C[te]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var U=C.getAttribute(d)||"";U=o+U;var Z=g.get(U);Z?Z.push(C):g.set(U,[C])}}return g}function wT(o,d,h){o=o.ownerDocument||o,o.head.insertBefore(h,d==="title"?o.querySelector("head > title"):null)}function DB(o,d,h){if(h===1||d.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return o=d.disabled,typeof d.precedence=="string"&&o==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function NT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function IB(o,d,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var j=id(g.href),C=d.querySelector(cf(j));if(C){d=C._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(o.count++,o=Eh.bind(o),d.then(o,o)),h.state.loading|=4,h.instance=C,lt(C);return}C=d.ownerDocument||d,g=vT(g),(j=un.get(j))&&Ov(g,j),C=C.createElement("link"),lt(C);var U=C;U._p=new Promise(function(Z,me){U.onload=Z,U.onerror=me}),Wa(C,"link",g),h.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Eh.bind(o),d.addEventListener("load",h),d.addEventListener("error",h))}}var Rv=0;function MB(o,d){return o.stylesheets&&o.count===0&&_h(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&_h(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+d);0<o.imgBytes&&Rv===0&&(Rv=62500*xB());var j=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&_h(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>Rv?50:800)+d);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(j)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ah=null;function _h(o,d){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ah=new Map,d.forEach(LB,o),Ah=null,Eh.call(o))}function LB(o,d){if(!(d.state.loading&4)){var h=Ah.get(o);if(h)var g=h.get(null);else{h=new Map,Ah.set(o,h);for(var j=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<j.length;C++){var U=j[C];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),g=U)}g&&h.set(null,g)}j=d.instance,U=j.getAttribute("data-precedence"),C=h.get(U)||g,C===g&&h.set(null,j),h.set(U,j),this.count++,g=Eh.bind(this),j.addEventListener("load",g),j.addEventListener("error",g),C?C.parentNode.insertBefore(j,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(j,o.firstChild)),d.state.loading|=4}}var uf={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function FB(o,d,h,g,j,C,U,Z,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.hiddenUpdates=vt(null),this.identifierPrefix=g,this.onUncaughtError=j,this.onCaughtError=C,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function jT(o,d,h,g,j,C,U,Z,me,je,Ie,ze){return o=new FB(o,d,h,U,me,je,Ie,ze,Z),d=1,C===!0&&(d|=24),C=Ds(3,null,null,d),o.current=C,C.stateNode=o,d=ub(),d.refCount++,o.pooledCache=d,d.refCount++,C.memoizedState={element:g,isDehydrated:h,cache:d},pb(C),o}function ET(o){return o?(o=Fc,o):Fc}function AT(o,d,h,g,j,C){j=ET(j),g.context===null?g.context=j:g.pendingContext=j,g=Al(d),g.payload={element:h},C=C===void 0?null:C,C!==null&&(g.callback=C),h=_l(o,g,d),h!==null&&(_s(h,o,d),qu(h,o,d))}function _T(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<d?h:d}}function Pv(o,d){_T(o,d),(o=o.alternate)&&_T(o,d)}function CT(o){if(o.tag===13||o.tag===31){var d=jo(o,67108864);d!==null&&_s(d,o,67108864),Pv(o,67108864)}}function TT(o){if(o.tag===13||o.tag===31){var d=Us();d=Vt(d);var h=jo(o,d);h!==null&&_s(h,o,d),Pv(o,d)}}var Ch=!0;function UB(o,d,h,g){var j=R.T;R.T=null;var C=W.p;try{W.p=2,Dv(o,d,h,g)}finally{W.p=C,R.T=j}}function BB(o,d,h,g){var j=R.T;R.T=null;var C=W.p;try{W.p=8,Dv(o,d,h,g)}finally{W.p=C,R.T=j}}function Dv(o,d,h,g){if(Ch){var j=Iv(g);if(j===null)yv(o,d,g,Th,h),kT(o,g);else if(qB(j,o,d,h,g))g.stopPropagation();else if(kT(o,g),d&4&&-1<zB.indexOf(o)){for(;j!==null;){var C=et(j);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var U=$a(C.pendingLanes);if(U!==0){var Z=C;for(Z.pendingLanes|=2,Z.entangledLanes|=2;U;){var me=1<<31-Zt(U);Z.entanglements[1]|=me,U&=~me}ni(C),(ir&6)===0&&(uh=Nt()+500,sf(0))}}break;case 31:case 13:Z=jo(C,2),Z!==null&&_s(Z,C,2),mh(),Pv(C,2)}if(C=Iv(g),C===null&&yv(o,d,g,Th,h),C===j)break;j=C}j!==null&&g.stopPropagation()}else yv(o,d,g,null,h)}}function Iv(o){return o=Lg(o),Mv(o)}var Th=null;function Mv(o){if(Th=null,o=Ye(o),o!==null){var d=i(o);if(d===null)o=null;else{var h=d.tag;if(h===13){if(o=l(d),o!==null)return o;o=null}else if(h===31){if(o=c(d),o!==null)return o;o=null}else if(h===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null)}}return Th=o,null}function OT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case ft:return 2;case kt:return 8;case Yt:case Xe:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Lv=!1,Fl=null,Ul=null,Bl=null,ff=new Map,mf=new Map,zl=[],zB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kT(o,d){switch(o){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":ff.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(d.pointerId)}}function hf(o,d,h,g,j,C){return o===null||o.nativeEvent!==C?(o={blockedOn:d,domEventName:h,eventSystemFlags:g,nativeEvent:C,targetContainers:[j]},d!==null&&(d=et(d),d!==null&&CT(d)),o):(o.eventSystemFlags|=g,d=o.targetContainers,j!==null&&d.indexOf(j)===-1&&d.push(j),o)}function qB(o,d,h,g,j){switch(d){case"focusin":return Fl=hf(Fl,o,d,h,g,j),!0;case"dragenter":return Ul=hf(Ul,o,d,h,g,j),!0;case"mouseover":return Bl=hf(Bl,o,d,h,g,j),!0;case"pointerover":var C=j.pointerId;return ff.set(C,hf(ff.get(C)||null,o,d,h,g,j)),!0;case"gotpointercapture":return C=j.pointerId,mf.set(C,hf(mf.get(C)||null,o,d,h,g,j)),!0}return!1}function RT(o){var d=Ye(o.target);if(d!==null){var h=i(d);if(h!==null){if(d=h.tag,d===13){if(d=l(h),d!==null){o.blockedOn=d,ie(o.priority,function(){TT(h)});return}}else if(d===31){if(d=c(h),d!==null){o.blockedOn=d,ie(o.priority,function(){TT(h)});return}}else if(d===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Oh(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var h=Iv(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Mg=g,h.target.dispatchEvent(g),Mg=null}else return d=et(h),d!==null&&CT(d),o.blockedOn=h,!1;d.shift()}return!0}function PT(o,d,h){Oh(o)&&h.delete(d)}function $B(){Lv=!1,Fl!==null&&Oh(Fl)&&(Fl=null),Ul!==null&&Oh(Ul)&&(Ul=null),Bl!==null&&Oh(Bl)&&(Bl=null),ff.forEach(PT),mf.forEach(PT)}function kh(o,d){o.blockedOn===d&&(o.blockedOn=null,Lv||(Lv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$B)))}var Rh=null;function DT(o){Rh!==o&&(Rh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rh===o&&(Rh=null);for(var d=0;d<o.length;d+=3){var h=o[d],g=o[d+1],j=o[d+2];if(typeof g!="function"){if(Mv(g||h)===null)continue;break}var C=et(h);C!==null&&(o.splice(d,3),d-=3,Ib(C,{pending:!0,data:j,method:h.method,action:g},g,j))}}))}function od(o){function d(me){return kh(me,o)}Fl!==null&&kh(Fl,o),Ul!==null&&kh(Ul,o),Bl!==null&&kh(Bl,o),ff.forEach(d),mf.forEach(d);for(var h=0;h<zl.length;h++){var g=zl[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<zl.length&&(h=zl[0],h.blockedOn===null);)RT(h),h.blockedOn===null&&zl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var j=h[g],C=h[g+1],U=j[ne]||null;if(typeof C=="function")U||DT(h);else if(U){var Z=null;if(C&&C.hasAttribute("formAction")){if(j=C,U=C[ne]||null)Z=U.formAction;else if(Mv(j)!==null)continue}else Z=U.action;typeof Z=="function"?h[g+1]=Z:(h.splice(g,3),g-=3),DT(h)}}}function IT(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(U){return j=U})},focusReset:"manual",scroll:"manual"})}function d(){j!==null&&(j(),j=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,j=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),j!==null&&(j(),j=null)}}}function Fv(o){this._internalRoot=o}Ph.prototype.render=Fv.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(a(409));var h=d.current,g=Us();AT(h,g,o,d,null,null)},Ph.prototype.unmount=Fv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;AT(o.current,2,null,o,null,null),mh(),d[oe]=null}};function Ph(o){this._internalRoot=o}Ph.prototype.unstable_scheduleHydration=function(o){if(o){var d=Q();o={blockedOn:null,target:o,priority:d};for(var h=0;h<zl.length&&d!==0&&d<zl[h].priority;h++);zl.splice(h,0,o),h===0&&RT(o)}};var MT=t.version;if(MT!=="19.2.0")throw Error(a(527,MT,"19.2.0"));W.findDOMNode=function(o){var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(a(188)):(o=Object.keys(o).join(","),Error(a(268,o)));return o=f(d),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var HB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Se=Dh.inject(HB),ur=Dh}catch{}}return xf.createRoot=function(o,d){if(!n(o))throw Error(a(299));var h=!1,g="",j=$_,C=H_,U=V_;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError)),d=jT(o,1,!1,null,null,h,g,null,j,C,U,IT),o[oe]=d.current,vv(o),new Fv(d)},xf.hydrateRoot=function(o,d,h){if(!n(o))throw Error(a(299));var g=!1,j="",C=$_,U=H_,Z=V_,me=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError),h.formState!==void 0&&(me=h.formState)),d=jT(o,1,!0,d,h??null,g,j,me,C,U,Z,IT),d.context=ET(null),h=d.current,g=Us(),g=Vt(g),j=Al(g),j.callback=null,_l(h,j,g),h=g,d.current.lanes=h,Rt(d,h),ni(d),o[oe]=d.current,vv(o),new Ph(d)},xf.version="19.2.0",xf}var GT;function ZB(){if(GT)return zv.exports;GT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zv.exports=JB(),zv.exports}var ez=ZB();const tz=jr(ez),jt=e=>typeof e=="string",gf=()=>{let e,t;const r=new Promise((a,n)=>{e=a,t=n});return r.resolve=e,r.reject=t,r},WT=e=>e==null?"":""+e,rz=(e,t,r)=>{e.forEach(a=>{t[a]&&(r[a]=t[a])})},az=/###/g,XT=e=>e&&e.indexOf("###")>-1?e.replace(az,"."):e,YT=e=>!e||jt(e),If=(e,t,r)=>{const a=jt(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(YT(e))return{};const i=XT(a[n]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return YT(e)?{}:{obj:e,k:XT(a[n])}},KT=(e,t,r)=>{const{obj:a,k:n}=If(e,t,Object);if(a!==void 0||t.length===1){a[n]=r;return}let i=t[t.length-1],l=t.slice(0,t.length-1),c=If(e,l,Object);for(;c.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),c=If(e,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},sz=(e,t,r,a)=>{const{obj:n,k:i}=If(e,t,Object);n[i]=n[i]||[],n[i].push(r)},yp=(e,t)=>{const{obj:r,k:a}=If(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},nz=(e,t,r)=>{const a=yp(e,r);return a!==void 0?a:yp(t,r)},LI=(e,t,r)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?jt(e[a])||e[a]instanceof String||jt(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):LI(e[a],t[a],r):e[a]=t[a]);return e},cd=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var iz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const lz=e=>jt(e)?e.replace(/[&<>"'\/]/g,t=>iz[t]):e;class oz{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const cz=[" ",",","?","!",";"],dz=new oz(20),uz=(e,t,r)=>{t=t||"",r=r||"";const a=cz.filter(l=>t.indexOf(l)<0&&r.indexOf(l)<0);if(a.length===0)return!0;const n=dz.getRegExp(`(${a.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!n.test(e);if(!i){const l=e.indexOf(r);l>0&&!n.test(e.substring(0,l))&&(i=!0)}return i},pw=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(r);let n=e;for(let i=0;i<a.length;){if(!n||typeof n!="object")return;let l,c="";for(let u=i;u<a.length;++u)if(u!==i&&(c+=r),c+=a[u],l=n[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<a.length-1)continue;i+=u-i+1;break}n=l}return n},Jf=e=>e==null?void 0:e.replace("_","-"),fz={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,a;(a=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||a.call(r,console,t)}};class Sp{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||fz,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,a,n){return n&&!this.debug?null:(jt(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Sp(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Sp(this.logger,t)}}var ci=new Sp;let qx=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const n=this.observers[a].get(r)||0;this.observers[a].set(r,n+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let l=0;l<i;l++)n.apply(n,[t,...r])})}};class QT extends qx{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,a,n={}){var f,p;const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,r],a&&(Array.isArray(a)?c.push(...a):jt(a)&&i?c.push(...a.split(i)):c.push(a)));const u=yp(this.data,c);return!u&&!r&&!a&&t.indexOf(".")>-1&&(t=c[0],r=c[1],a=c.slice(2).join(".")),u||!l||!jt(a)?u:pw((p=(f=this.data)==null?void 0:f[t])==null?void 0:p[r],a,i)}addResource(t,r,a,n,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,r];a&&(c=c.concat(l?a.split(l):a)),t.indexOf(".")>-1&&(c=t.split("."),n=r,r=c[1]),this.addNamespaces(r),KT(this.data,c,n),i.silent||this.emit("added",t,r,a,n)}addResources(t,r,a,n={silent:!1}){for(const i in a)(jt(a[i])||Array.isArray(a[i]))&&this.addResource(t,r,i,a[i],{silent:!0});n.silent||this.emit("added",t,r,a)}addResourceBundle(t,r,a,n,i,l={silent:!1,skipCopy:!1}){let c=[t,r];t.indexOf(".")>-1&&(c=t.split("."),n=a,a=r,r=c[1]),this.addNamespaces(r);let u=yp(this.data,c)||{};l.skipCopy||(a=JSON.parse(JSON.stringify(a))),n?LI(u,a,i):u={...u,...a},KT(this.data,c,u),l.silent||this.emit("added",t,r,a)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var FI={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,n){return e.forEach(i=>{var l;t=((l=this.processors[i])==null?void 0:l.process(t,r,a,n))??t}),t}};const UI=Symbol("i18next/PATH_KEY");function mz(){const e=[],t=Object.create(null);let r;return t.get=(a,n)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),n===UI?e:(e.push(n),r=Proxy.revocable(a,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function xw(e,t){const{[UI]:r}=e(mz());return r.join((t==null?void 0:t.keySeparator)??".")}const JT={},Vv=e=>!jt(e)&&typeof e!="boolean"&&typeof e!="number";class wp extends qx{constructor(t,r={}){super(),rz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ci.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const a={...r};if(t==null)return!1;const n=this.resolve(t,a);if((n==null?void 0:n.res)===void 0)return!1;const i=Vv(n.res);return!(a.returnObjects===!1&&i)}extractFromKey(t,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const l=a&&t.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!uz(t,a,n);if(l&&!c){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:jt(i)?[i]:i};const f=t.split(a);(a!==n||a===n&&this.options.ns.indexOf(f[0])>-1)&&(i=f.shift()),t=f.join(n)}return{key:t,namespaces:jt(i)?[i]:i}}translate(t,r,a){let n=typeof r=="object"?{...r}:r;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=xw(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(t[t.length-1],n),f=u[u.length-1];let p=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const m=n.lng||this.language,x=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return x?i?{res:`${f}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(n)}:`${f}${p}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(n)}:c;const v=this.resolve(t,n);let y=v==null?void 0:v.res;const b=(v==null?void 0:v.usedKey)||c,S=(v==null?void 0:v.exactUsedKey)||c,_=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,O=n.count!==void 0&&!jt(n.count),A=wp.hasDefaultValue(n),T=O?this.pluralResolver.getSuffix(m,n.count,n):"",N=n.ordinal&&O?this.pluralResolver.getSuffix(m,n.count,{ordinal:!1}):"",D=O&&!n.ordinal&&n.count===0,L=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${T}`]||n[`defaultValue${N}`]||n.defaultValue;let M=y;E&&!y&&A&&(M=L);const k=Vv(M),I=Object.prototype.toString.apply(M);if(E&&M&&k&&_.indexOf(I)<0&&!(jt(w)&&Array.isArray(M))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,M,{...n,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(v.res=V,v.usedParams=this.getUsedParamsDetails(n),v):V}if(l){const V=Array.isArray(M),q=V?[]:{},z=V?S:b;for(const R in M)if(Object.prototype.hasOwnProperty.call(M,R)){const W=`${z}${l}${R}`;A&&!y?q[R]=this.translate(W,{...n,defaultValue:Vv(L)?L[R]:void 0,joinArrays:!1,ns:u}):q[R]=this.translate(W,{...n,joinArrays:!1,ns:u}),q[R]===W&&(q[R]=M[R])}y=q}}else if(E&&jt(w)&&Array.isArray(y))y=y.join(w),y&&(y=this.extendTranslation(y,t,n,a));else{let V=!1,q=!1;!this.isValidLookup(y)&&A&&(V=!0,y=L),this.isValidLookup(y)||(q=!0,y=c);const R=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:y,W=A&&L!==y&&this.options.updateMissing;if(q||V||W){if(this.logger.log(W?"updateKey":"missingKey",m,f,c,W?L:y),l){const Y=this.resolve(c,{...n,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let Y=0;Y<B.length;Y++)X.push(B[Y]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(n.lng||this.language):X.push(n.lng||this.language);const ee=(Y,F,K)=>{var H;const J=A&&K!==y?K:R;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,f,F,J,W,n):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(Y,f,F,J,W,n),this.emit("missingKey",Y,f,F,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?X.forEach(Y=>{const F=this.pluralResolver.getSuffixes(Y,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(K=>{ee([Y],c+K,n[`defaultValue${K}`]||L)})}):ee(X,c,L))}y=this.extendTranslation(y,t,n,v,a),q&&y===c&&this.options.appendNamespaceToMissingKey&&(y=`${f}${p}${c}`),(q||V)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${c}`:c,V?y:void 0,n))}return i?(v.res=y,v.usedParams=this.getUsedParamsDetails(n),v):y}extendTranslation(t,r,a,n,i){var u,f;if((u=this.i18nFormat)!=null&&u.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const p=jt(t)&&(((f=a==null?void 0:a.interpolation)==null?void 0:f.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const v=t.match(this.interpolator.nestingRegexp);m=v&&v.length}let x=a.replace&&!jt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,a.lng||this.language||n.usedLng,a),p){const v=t.match(this.interpolator.nestingRegexp),y=v&&v.length;m<y&&(a.nest=!1)}!a.lng&&n&&n.res&&(a.lng=this.language||n.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>(i==null?void 0:i[0])===v[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),a)),a.interpolation&&this.interpolator.reset()}const l=a.postProcess||this.options.postProcess,c=jt(l)?[l]:l;return t!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(t=FI.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,r={}){let a,n,i,l,c;return jt(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(a))return;const f=this.extractFromKey(u,r),p=f.key;n=p;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const x=r.count!==void 0&&!jt(r.count),v=x&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(jt(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(S=>{var _,w;this.isValidLookup(a)||(c=S,!JT[`${b[0]}-${S}`]&&((_=this.utils)!=null&&_.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(c))&&(JT[`${b[0]}-${S}`]=!0,this.logger.warn(`key "${n}" for languages "${b.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(E=>{var T;if(this.isValidLookup(a))return;l=E;const O=[p];if((T=this.i18nFormat)!=null&&T.addLookupKeys)this.i18nFormat.addLookupKeys(O,p,E,S,r);else{let N;x&&(N=this.pluralResolver.getSuffix(E,r.count,r));const D=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(r.ordinal&&N.indexOf(L)===0&&O.push(p+N.replace(L,this.options.pluralSeparator)),O.push(p+N),v&&O.push(p+D)),y){const M=`${p}${this.options.contextSeparator||"_"}${r.context}`;O.push(M),x&&(r.ordinal&&N.indexOf(L)===0&&O.push(M+N.replace(L,this.options.pluralSeparator)),O.push(M+N),v&&O.push(M+D))}}let A;for(;A=O.pop();)this.isValidLookup(a)||(i=A,a=this.getResource(E,S,A,r))}))})}),{res:a,usedKey:n,exactUsedKey:i,usedLng:l,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,a,n={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,r,a,n):this.resourceStore.getResource(t,r,a,n)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!jt(t.replace);let n=a?t.replace:t;if(a&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!a){n={...n};for(const i of r)delete n[i]}return n}static hasDefaultValue(t){const r="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r===a.substring(0,r.length)&&t[a]!==void 0)return!0;return!1}}class ZT{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ci.create("languageUtils")}getScriptPartFromCode(t){if(t=Jf(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Jf(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(jt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(a=>{if(r)return;const n=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&t.forEach(a=>{if(r)return;const n=this.getScriptPartFromCode(a);if(this.isSupportedCode(n))return r=n;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),jt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let a=t[r];return a||(a=t[this.getScriptPartFromCode(r)]),a||(a=t[this.formatLanguageCode(r)]),a||(a=t[this.getLanguagePartFromCode(r)]),a||(a=t.default),a||[]}toResolveHierarchy(t,r){const a=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),n=[],i=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return jt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):jt(t)&&i(this.formatLanguageCode(t)),a.forEach(l=>{n.indexOf(l)<0&&i(this.formatLanguageCode(l))}),n}}const eO={zero:0,one:1,two:2,few:3,many:4,other:5},tO={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hz{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=ci.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const a=Jf(t==="dev"?"en":t),n=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(a,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),tO;if(!t.match(/-|_/))return tO;const u=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(u,r)}return this.pluralRulesCache[i]=l,l}needsPlural(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,a={}){return this.getSuffixes(t,a).map(n=>`${r}${n}`)}getSuffixes(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((n,i)=>eO[n]-eO[i]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,r,a={}){const n=this.getRule(t,a);return n?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,a))}}const rO=(e,t,r,a=".",n=!0)=>{let i=nz(e,t,r);return!i&&n&&jt(r)&&(i=pw(e,r,a),i===void 0&&(i=pw(t,r,a))),i},Gv=e=>e.replace(/\$/g,"$$$$");class aO{constructor(t={}){var r;this.logger=ci.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:n,prefix:i,prefixEscaped:l,suffix:c,suffixEscaped:u,formatSeparator:f,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:S,maxReplaces:_,alwaysFormat:w}=t.interpolation;this.escape=r!==void 0?r:lz,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?cd(i):l||"{{",this.suffix=c?cd(c):u||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?cd(x):v||cd("$t("),this.nestingSuffix=y?cd(y):b||cd(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=_||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,a)=>(r==null?void 0:r.source)===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,a,n){var v;let i,l,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=y=>{if(y.indexOf(this.formatSeparator)<0){const w=rO(r,u,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,a,{...n,...r,interpolationkey:y}):w}const b=y.split(this.formatSeparator),S=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format(rO(r,u,S,this.options.keySeparator,this.options.ignoreJSONStructure),_,a,{...n,...r,interpolationkey:S})};this.resetRegExp();const p=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((v=n==null?void 0:n.interpolation)==null?void 0:v.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>Gv(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?Gv(this.escape(y)):Gv(y)}].forEach(y=>{for(c=0;i=y.regex.exec(t);){const b=i[1].trim();if(l=f(b),l===void 0)if(typeof p=="function"){const _=p(t,i,n);l=jt(_)?_:""}else if(n&&Object.prototype.hasOwnProperty.call(n,b))l="";else if(m){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),l="";else!jt(l)&&!this.useRawValueToEscape&&(l=WT(l));const S=y.safeValue(l);if(t=t.replace(i[0],S),m?(y.regex.lastIndex+=l.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,r,a={}){let n,i,l;const c=(u,f)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const m=u.split(new RegExp(`${p}[ ]*{`));let x=`{${m[1]}`;u=m[0],x=this.interpolate(x,l);const v=x.match(/'/g),y=x.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!y||y.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),f&&(l={...f,...l})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,b),`${u}${p}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;n=this.nestingRegexp.exec(t);){let u=[];l={...a},l=l.replace&&!jt(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const f=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(f!==-1&&(u=n[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),n[1]=n[1].slice(0,f)),i=r(c.call(this,n[1].trim(),l),l),i&&n[0]===t&&!jt(i))return i;jt(i)||(i=WT(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),u.length&&(i=u.reduce((p,m)=>this.format(p,m,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const pz=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);t==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(l=>{if(l){const[c,...u]=l.split(":"),f=u.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();r[p]||(r[p]=f),f==="false"&&(r[p]=!1),f==="true"&&(r[p]=!0),isNaN(f)||(r[p]=parseInt(f,10))}})}return{formatName:t,formatOptions:r}},sO=e=>{const t={};return(r,a,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const l=a+JSON.stringify(i);let c=t[l];return c||(c=e(Jf(a),n),t[l]=c),c(r)}},xz=e=>(t,r,a)=>e(Jf(r),a)(t);class gz{constructor(t={}){this.logger=ci.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?sO:xz;this.formats={number:a((n,i)=>{const l=new Intl.NumberFormat(n,{...i});return c=>l.format(c)}),currency:a((n,i)=>{const l=new Intl.NumberFormat(n,{...i,style:"currency"});return c=>l.format(c)}),datetime:a((n,i)=>{const l=new Intl.DateTimeFormat(n,{...i});return c=>l.format(c)}),relativetime:a((n,i)=>{const l=new Intl.RelativeTimeFormat(n,{...i});return c=>l.format(c,i.range||"day")}),list:a((n,i)=>{const l=new Intl.ListFormat(n,{...i});return c=>l.format(c)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=sO(r)}format(t,r,a,n={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,u)=>{var m;const{formatName:f,formatOptions:p}=pz(u);if(this.formats[f]){let x=c;try{const v=((m=n==null?void 0:n.formatParams)==null?void 0:m[n.interpolationkey])||{},y=v.locale||v.lng||n.locale||n.lng||a;x=this.formats[f](c,y,{...p,...n,...v})}catch(v){this.logger.warn(v)}return x}else this.logger.warn(`there was no format function for ${f}`);return c},t)}}const bz=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class vz extends qx{constructor(t,r,a,n={}){var i,l;super(),this.backend=t,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=n,this.logger=ci.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(l=(i=this.backend)==null?void 0:i.init)==null||l.call(i,a,n.backend,n)}queueLoad(t,r,a,n){const i={},l={},c={},u={};return t.forEach(f=>{let p=!0;r.forEach(m=>{const x=`${f}|${m}`;!a.reload&&this.store.hasResourceBundle(f,m)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,p=!1,l[x]===void 0&&(l[x]=!0),i[x]===void 0&&(i[x]=!0),u[m]===void 0&&(u[m]=!0)))}),p||(c[f]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(t,r,a){const n=t.split("|"),i=n[0],l=n[1];r&&this.emit("failedLoading",i,l,r),!r&&a&&this.store.addResourceBundle(i,l,a,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&a&&(this.state[t]=0);const c={};this.queue.forEach(u=>{sz(u.loaded,[i],l),bz(u,t),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(f=>{c[f]||(c[f]={});const p=u.loaded[f];p.length&&p.forEach(m=>{c[f][m]===void 0&&(c[f][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(t,r,a,n=0,i=this.retryTimeout,l){if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:a,tried:n,wait:i,callback:l});return}this.readingCalls++;const c=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&p&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,a,n+1,i*2,l)},i);return}l(f,p)},u=this.backend[a].bind(this.backend);if(u.length===2){try{const f=u(t,r);f&&typeof f.then=="function"?f.then(p=>c(null,p)).catch(c):c(null,f)}catch(f){c(f)}return}return u(t,r,c)}prepareLoading(t,r,a={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();jt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),jt(r)&&(r=[r]);const i=this.queueLoad(t,r,a,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(t,r,a){this.prepareLoading(t,r,{},a)}reload(t,r,a){this.prepareLoading(t,r,{reload:!0},a)}loadOne(t,r=""){const a=t.split("|"),n=a[0],i=a[1];this.read(n,i,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${r}loading namespace ${i} for language ${n} failed`,l),!l&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${n}`,c),this.loaded(t,l,c)})}saveMissing(t,r,a,n,i,l={},c=()=>{}){var u,f,p,m,x;if((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace&&!((m=(p=this.services)==null?void 0:p.utils)!=null&&m.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((x=this.backend)!=null&&x.create){const v={...l,isUpdate:i},y=this.backend.create.bind(this.backend);if(y.length<6)try{let b;y.length===5?b=y(t,r,a,n,v):b=y(t,r,a,n),b&&typeof b.then=="function"?b.then(S=>c(null,S)).catch(c):c(null,b)}catch(b){c(b)}else y(t,r,a,n,c,v)}!t||!t[0]||this.store.addResource(t[0],r,a,n)}}}const nO=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),jt(e[1])&&(t.defaultValue=e[1]),jt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{t[a]=r[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iO=e=>{var t,r;return jt(e.ns)&&(e.ns=[e.ns]),jt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),jt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Mh=()=>{},yz=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Mf extends qx{constructor(t={},r){if(super(),this.options=iO(t),this.services={},this.logger=ci,this.modules={external:[]},yz(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(jt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=nO();this.options={...a,...this.options,...iO(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ci.init(n(this.modules.logger),this.options):ci.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=gz;const p=new ZT(this.options);this.store=new QT(this.options.resources,this.options);const m=this.services;m.logger=ci,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new hz(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(m.formatter=n(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new aO(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new vz(n(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.languageDetector&&(m.languageDetector=n(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=n(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new wp(this.services,this.options),this.translator.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Mh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const c=gf(),u=()=>{const f=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),r(p,m)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(t,r=Mh){var i,l;let a=r;const n=jt(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],u=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(m=>{m!=="cimode"&&c.indexOf(m)<0&&c.push(m)})};n?u(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(l=(i=this.options.preload)==null?void 0:i.forEach)==null||l.call(i,f=>u(f)),this.services.backendConnector.load(c,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(f)})}else a(null)}reloadResources(t,r,a){const n=gf();return typeof t=="function"&&(a=t,t=void 0),typeof r=="function"&&(a=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),a||(a=Mh),this.services.backendConnector.reload(t,r,i=>{n.resolve(),a(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&FI.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const a=gf();this.emit("languageChanging",t);const n=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?this.isLanguageChangingTo===t&&(n(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve((...f)=>this.t(...f)),r&&r(c,(...f)=>this.t(...f))},l=c=>{var p,m;!t&&!c&&this.services.languageDetector&&(c=[]);const u=jt(c)?c:c&&c[0],f=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(jt(c)?[c]:c);f&&(this.language||n(f),this.translator.language||this.translator.changeLanguage(f),(m=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||m.call(p,f)),this.loadResources(f,x=>{i(x,f)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),a}getFixedT(t,r,a){const n=(i,l,...c)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([i,l].concat(c)):u={...l},u.lng=u.lng||n.lng,u.lngs=u.lngs||n.lngs,u.ns=u.ns||n.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||a||n.keyPrefix);const f=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(i)?p=i.map(m=>(typeof m=="function"&&(m=xw(m,{...this.options,...l})),`${u.keyPrefix}${f}${m}`)):(typeof i=="function"&&(i=xw(i,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${f}${i}`:i),this.t(p,u)};return jt(t)?n.lng=t:n.lngs=t,n.ns=r,n.keyPrefix=a,n}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const f=this.services.backendConnector.state[`${c}|${u}`];return f===-1||f===0||f===2};if(r.precheck){const c=r.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(a,t)&&(!n||l(i,t)))}loadNamespaces(t,r){const a=gf();return this.options.ns?(jt(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{a.resolve(),r&&r(n)}),a):(r&&r(),Promise.resolve())}loadLanguages(t,r){const a=gf();jt(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=n.concat(i),this.loadResources(l=>{a.resolve(),r&&r(l)}),a):(r&&r(),Promise.resolve())}dir(t){var n,i;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const l=new Intl.Locale(t);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new ZT(nO());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const a=new Mf(t,r);return a.createInstance=Mf.createInstance,a}cloneInstance(t={},r=Mh){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new Mf(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const c=Object.keys(this.store.data).reduce((u,f)=>(u[f]={...this.store.data[f]},u[f]=Object.keys(u[f]).reduce((p,m)=>(p[m]={...u[f][m]},p),u[f]),u),{});i.store=new QT(c,n),i.services.resourceStore=i.store}return t.interpolation&&(i.services.interpolator=new aO(n)),i.translator=new wp(i.services,n),i.translator.on("*",(c,...u)=>{i.emit(c,...u)}),i.init(n,r),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ms=Mf.createInstance();ms.createInstance;ms.dir;ms.init;ms.loadResources;ms.reloadResources;ms.use;ms.changeLanguage;ms.getFixedT;ms.t;ms.exists;ms.setDefaultNamespace;ms.hasLoadedNamespace;ms.loadNamespaces;ms.loadLanguages;const Sz=(e,t,r,a)=>{var i,l,c,u;const n=[r,{code:t,...a||{}}];if((l=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&l.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);ac(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(u=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&u.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},lO={},BI=(e,t,r,a)=>{ac(r)&&lO[r]||(ac(r)&&(lO[r]=new Date),Sz(e,t,r,a))},zI=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},gw=(e,t,r)=>{e.loadNamespaces(t,zI(e,r))},oO=(e,t,r,a)=>{if(ac(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return gw(e,r,a);r.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,zI(e,a))},wz=(e,t,r={})=>!t.languages||!t.languages.length?(BI(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(a,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),ac=e=>typeof e=="string",Nz=e=>typeof e=="object"&&e!==null,jz=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ez={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Az=e=>Ez[e],_z=e=>e.replace(jz,Az);let bw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_z};const Cz=(e={})=>{bw={...bw,...e}},Tz=()=>bw;let qI;const Oz=e=>{qI=e},kz=()=>qI,Rz={type:"3rdParty",init(e){Cz(e.options.react),Oz(e)}},Pz=P.createContext();class Dz{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Wv={exports:{}},Xv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO;function Iz(){if(cO)return Xv;cO=1;var e=zx();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(m,x){var v=x(),y=a({inst:{value:v,getSnapshot:x}}),b=y[0].inst,S=y[1];return i(function(){b.value=v,b.getSnapshot=x,u(b)&&S({inst:b})},[m,v,x]),n(function(){return u(b)&&S({inst:b}),m(function(){u(b)&&S({inst:b})})},[m]),l(v),v}function u(m){var x=m.getSnapshot;m=m.value;try{var v=x();return!r(m,v)}catch{return!0}}function f(m,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Xv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Xv}var dO;function Mz(){return dO||(dO=1,Wv.exports=Iz()),Wv.exports}var Lz=Mz();const Fz=(e,t)=>ac(t)?t:Nz(t)&&ac(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Uz={t:Fz,ready:!1},Bz=()=>()=>{},na=(e,t={})=>{var L,M,k;const{i18n:r}=t,{i18n:a,defaultNS:n}=P.useContext(Pz)||{},i=r||a||kz();i&&!i.reportNamespaces&&(i.reportNamespaces=new Dz),i||BI(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=P.useMemo(()=>{var I;return{...Tz(),...(I=i==null?void 0:i.options)==null?void 0:I.react,...t}},[i,t]),{useSuspense:c,keyPrefix:u}=l,f=n||((L=i==null?void 0:i.options)==null?void 0:L.defaultNS),p=ac(f)?[f]:f||["translation"],m=P.useMemo(()=>p,p);(k=(M=i==null?void 0:i.reportNamespaces)==null?void 0:M.addUsedNamespaces)==null||k.call(M,m);const x=P.useRef(0),v=P.useCallback(I=>{if(!i)return Bz;const{bindI18n:V,bindI18nStore:q}=l,z=()=>{x.current+=1,I()};return V&&i.on(V,z),q&&i.store.on(q,z),()=>{V&&V.split(" ").forEach(R=>i.off(R,z)),q&&q.split(" ").forEach(R=>i.store.off(R,z))}},[i,l]),y=P.useRef(),b=P.useCallback(()=>{if(!i)return Uz;const I=!!(i.isInitialized||i.initializedStoreOnce)&&m.every(X=>wz(X,i,l)),V=t.lng||i.language,q=x.current,z=y.current;if(z&&z.ready===I&&z.lng===V&&z.keyPrefix===u&&z.revision===q)return z;const W={t:i.getFixedT(V,l.nsMode==="fallback"?m:m[0],u),ready:I,lng:V,keyPrefix:u,revision:q};return y.current=W,W},[i,m,u,l,t.lng]),[S,_]=P.useState(0),{t:w,ready:E}=Lz.useSyncExternalStore(v,b,b);P.useEffect(()=>{if(i&&!E&&!c){const I=()=>_(V=>V+1);t.lng?oO(i,t.lng,m,I):gw(i,m,I)}},[i,t.lng,m,E,c,S]);const O=i||{},A=P.useRef(null),T=P.useRef(),N=I=>{const V=Object.getOwnPropertyDescriptors(I);V.__original&&delete V.__original;const q=Object.create(Object.getPrototypeOf(I),V);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:I,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},D=P.useMemo(()=>{const I=O,V=I==null?void 0:I.language;let q=I;I&&(A.current&&A.current.__original===I?T.current!==V?(q=N(I),A.current=q,T.current=V):q=A.current:(q=N(I),A.current=q,T.current=V));const z=[w,q,E];return z.t=w,z.i18n=q,z.ready=E,z},[w,O,E,O.resolvedLanguage,O.language,O.languages]);if(i&&c&&!E)throw new Promise(I=>{const V=()=>I();t.lng?oO(i,t.lng,m,V):gw(i,m,V)});return D};var Bs=(e=>(e.MANAGER="MANAGER",e.BUYER="BUYER",e))(Bs||{}),$I=(e=>(e.SPARE_PARTS_SHOP="  ",e.RENTAL_COMPANY="  ",e.SALES_REP=" ",e.MAINTENANCE_CENTER=" ",e.INSURANCE_COMPANY=" ",e))($I||{}),Je=(e=>(e.PENDING=" ",e.APPROVED=" ",e.REJECTED="",e.SHIPPED=" ",e.DELIVERED=" ",e.CANCELLED=" ",e))(Je||{});const Lh=[{key:"partNumber",label:" ",required:!0},{key:"name",label:" ",required:!0},{key:"brand",label:"",required:!1},{key:"qtyTotal",label:"",required:!0},{key:"priceWholesale",label:" ",required:!1},{key:"priceRetail",label:" ",required:!1},{key:"priceWholeWholesale",label:"  ",required:!1},{key:"priceEcommerce",label:"  ",required:!1},{key:"qtyStore103",label:"  103",required:!1},{key:"qtyStore105",label:"  105",required:!1},{key:"rack103",label:"  103",required:!1},{key:"rack105",label:"  105",required:!1},{key:"carName",label:" ",required:!1},{key:"description",label:"",required:!1},{key:"manufacturerPartNumber",label:" ",required:!1},{key:"globalCategory",label:" ",required:!1},{key:"modelYear",label:" ",required:!1},{key:"quality",label:"",required:!1}],Yv={dashboard:" ",products:"",customers:"",customer_requests:" ",account_requests:"  ",quotes:" ",orders:"",imports:" ",missing:"",crm:" ",activity_log:" ",notifications:"",settings_general:" ",settings_status_labels:" ",settings_api:" API",settings_backup:" ",settings_security:" ",users:"",roles:" ",export_center:" ",content_management:" ",other:""},uO={view:"",create:"",edit:"",delete:"",approve:"",reject:"",export:"",import:"",configure:"",manage_status:" ",manage_users:" ",manage_roles:" ",run_backup:"  ",manage_api:" API",other:""},fO={dashboard:["view"],products:["view","create","edit","delete","export","import"],customers:["view","create","edit","delete","export","manage_status"],customer_requests:["view","edit","approve","reject","export"],account_requests:["view","approve","reject","export"],quotes:["view","create","edit","delete","approve","reject","export"],orders:["view","create","edit","delete","approve","reject","export","manage_status"],imports:["view","create","edit","delete","approve","reject","export","manage_status"],missing:["view","create","edit","delete","export","manage_status"],crm:["view","create","edit","delete","export"],activity_log:["view","export"],notifications:["view","create","delete"],settings_general:["view","configure"],settings_status_labels:["view","create","edit","delete"],settings_api:["view","configure","manage_api"],settings_backup:["view","run_backup"],settings_security:["view","configure"],users:["view","create","edit","delete","manage_users"],roles:["view","create","edit","delete","manage_roles"],export_center:["view","export"],content_management:["view","create","edit","delete"],other:["view","other"]};function zz(e){return e.replace(/[-]/g,t=>String("".indexOf(t)))}function hi(e){if(!e)return"";let t=zz(e);return t=t.toUpperCase(),t=t.replace(/[^A-Z0-9]/g,""),t}function Zf(e){return hi(e).replace(/[^0-9]/g,"")}function qz(e){return{clean:hi(e),numericCore:Zf(e)}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Np={};Np.version="0.18.5";var HI=1252,$z=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ej={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},tj=function(e){$z.indexOf(e)!=-1&&(HI=ej[0]=e)};function Hz(){tj(1252)}var Gn=function(e){tj(e)};function rj(){Gn(1200),Hz()}function mO(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function Vz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function VI(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Tf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Vz(e.slice(2)):t==254&&r==255?VI(e.slice(2)):t==65279?e.slice(1):e},Fh=function(t){return String.fromCharCode(t)},hO=function(t){return String.fromCharCode(t)},e0,Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t0(e){for(var t="",r=0,a=0,n=0,i=0,l=0,c=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,a=e.charCodeAt(f++),l=(r&3)<<4|a>>4,n=e.charCodeAt(f++),c=(a&15)<<2|n>>6,u=n&63,isNaN(a)?c=u=64:isNaN(n)&&(u=64),t+=Xl.charAt(i)+Xl.charAt(l)+Xl.charAt(c)+Xl.charAt(u);return t}function Ks(e){var t="",r=0,a=0,n=0,i=0,l=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=Xl.indexOf(e.charAt(f++)),l=Xl.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),c=Xl.indexOf(e.charAt(f++)),a=(l&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(a)),u=Xl.indexOf(e.charAt(f++)),n=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),fl=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function ro(e){return Pt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function pO(e){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Vs=function(t){return Pt?fl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function $x(e){if(typeof ArrayBuffer>"u")return Vs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function uo(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Gz(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function aj(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return aj(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ba=Pt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:fl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Wz(e){for(var t=[],r=0,a=e.length+250,n=ro(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[r++]=l;else if(l<2048)n[r++]=192|l>>6&31,n[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=e.charCodeAt(++i)&1023;n[r++]=240|l>>8&7,n[r++]=128|l>>2&63,n[r++]=128|c>>6&15|(l&3)<<4,n[r++]=128|c&63}else n[r++]=224|l>>12&15,n[r++]=128|l>>6&63,n[r++]=128|l&63;r>a&&(t.push(n.slice(0,r)),r=0,n=ro(65535),a=65530)}return t.push(n.slice(0,r)),Ba(t)}var ys=/\u0000/g,Of=/[\u0001-\u0006]/g;function jd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Wn(e,t){var r=""+e;return r.length>=t?r:ta("0",t-r.length)+r}function sj(e,t){var r=""+e;return r.length>=t?r:ta(" ",t-r.length)+r}function jp(e,t){var r=""+e;return r.length>=t?r:r+ta(" ",t-r.length)}function Xz(e,t){var r=""+Math.round(e);return r.length>=t?r:ta("0",t-r.length)+r}function Yz(e,t){var r=""+e;return r.length>=t?r:ta("0",t-r.length)+r}var xO=Math.pow(2,32);function dd(e,t){if(e>xO||e<-xO)return Xz(e,t);var r=Math.round(e);return Yz(r,t)}function Ep(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var gO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Kv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Kz(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qz={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ap(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,l=1,c=0,u=1,f=0,p=0,m=Math.floor(n);f<t&&(m=Math.floor(n),c=m*l+i,p=m*f+u,!(n-m<5e-8));)n=1/(n-m),i=l,l=c,u=f,f=p;if(p>t&&(f>t?(p=u,c=i):(p=f,c=l)),!r)return[0,a*c,p];var x=Math.floor(a*c/p);return[x,a*c-x*p,p]}function $o(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],c={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++n==86400&&(c.T=n=0,++a,++c.D)),a===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),r&&(i=aq(u,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=n%60,n=Math.floor(n/60),c.M=n%60,n=Math.floor(n/60),c.H=n,c.q=i,c}var GI=new Date(1899,11,31,0,0,0),Jz=GI.getTime(),Zz=new Date(1900,2,1,0,0,0);function WI(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Zz&&(r+=1440*60*1e3),(r-(Jz+(e.getTimezoneOffset()-GI.getTimezoneOffset())*6e4))/(1440*60*1e3)}function nj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function eq(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function tq(e){var t=e<0?12:11,r=nj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function rq(e){var t=nj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function r0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=tq(e):t===10?r=e.toFixed(10).substr(0,12):r=rq(e),nj(eq(r.toUpperCase()))}function sc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):r0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return kn(14,WI(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function aq(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function sq(e,t,r,a){var n="",i=0,l=0,c=r.y,u,f=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,f=2;break;default:u=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return Kv[r.m-1][1];case 5:return Kv[r.m-1][0];default:return Kv[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return gO[r.q][0];default:return gO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Wn(r.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=Wn(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=c,f=1;break}var p=f>0?Wn(u,f):"";return p}function Yl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var XI=/%/g;function nq(e,t,r){var a=t.replace(XI,""),n=t.length-a.length;return Qi(e,a,r*Math.pow(10,2*n))+ta("%",n)}function iq(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Qi(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function YI(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YI(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,p){return u+f+p.substr(0,(n+i)%n)+"."+p.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var KI=/# (\?+)( ?)\/( ?)(\d+)/;function lq(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),l=n-i*a,c=a;return r+(i===0?"":""+i)+" "+(l===0?ta(" ",e[1].length+1+e[4].length):sj(l,e[1].length)+e[2]+"/"+e[3]+Wn(c,e[4].length))}function oq(e,t,r){return r+(t===0?"":""+t)+ta(" ",e[1].length+2+e[4].length)}var QI=/^#*0*\.([0#]+)/,JI=/\).*[0#]/,ZI=/\(###\) ###\\?-####/;function gs(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function vO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function yO(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function cq(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function dq(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(JI)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xn("n",a,r):"("+xn("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return iq(e,t,r);if(t.indexOf("%")!==-1)return nq(e,t,r);if(t.indexOf("E")!==-1)return YI(t,r);if(t.charCodeAt(0)===36)return"$"+xn(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,l,c,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+dd(u,t.length);if(t.match(/^[#?]+$/))return n=dd(r,0),n==="0"&&(n=""),n.length>t.length?n:gs(t.substr(0,t.length-n.length))+n;if(i=t.match(KI))return lq(i,u,f);if(t.match(/^#+0+$/))return f+dd(u,t.length-t.indexOf("0"));if(i=t.match(QI))return n=vO(r,i[1].length).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])).replace(/\.(\d*)$/,function(y,b){return"."+b+ta("0",gs(i[1]).length-b.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+vO(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Yl(dd(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xn(e,t,-r):Yl(""+(Math.floor(r)+cq(r,i[1].length)))+"."+Wn(yO(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return xn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=jd(xn(e,t.replace(/[\\-]/g,""),r)),l=0,jd(jd(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(t.match(ZI))return n=xn(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=Ap(u,Math.pow(10,l)-1,!1),n=""+f,p=Qi("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),n+=p+i[2]+"/"+i[3],p=jp(c[2],l),p.length<i[4].length&&(p=gs(i[4].substr(i[4].length-p.length))+p),n+=p,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=Ap(u,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?sj(c[1],l)+i[2]+"/"+i[3]+jp(c[2],l):ta(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=dd(r,0),t.length<=n.length?n:gs(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,x=t.length-n.length-m;return gs(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=yO(r,i[1].length),r<0?"-"+xn(e,t,-r):Yl(dq(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Wn(0,3-y.length):"")+y})+"."+Wn(l,i[1].length);switch(t){case"###,##0.00":return xn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Yl(dd(u,0));return v!=="0"?f+v:"";case"###,###.00":return xn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function uq(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Qi(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function fq(e,t,r){var a=t.replace(XI,""),n=t.length-a.length;return Qi(e,a,r*Math.pow(10,2*n))+ta("%",n)}function e6(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+e6(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,p){return u+f+p.substr(0,(n+i)%n)+"."+p.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function li(e,t,r){if(e.charCodeAt(0)===40&&!t.match(JI)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?li("n",a,r):"("+li("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return uq(e,t,r);if(t.indexOf("%")!==-1)return fq(e,t,r);if(t.indexOf("E")!==-1)return e6(t,r);if(t.charCodeAt(0)===36)return"$"+li(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,l,c,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Wn(u,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:gs(t.substr(0,t.length-n.length))+n;if(i=t.match(KI))return oq(i,u,f);if(t.match(/^#+0+$/))return f+Wn(u,t.length-t.indexOf("0"));if(i=t.match(QI))return n=(""+r).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])),n=n.replace(/\.(\d*)$/,function(y,b){return"."+b+ta("0",gs(i[1]).length-b.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+Yl(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+li(e,t,-r):Yl(""+r)+"."+ta("0",i[1].length);if(i=t.match(/^#,#*,#0/))return li(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=jd(li(e,t.replace(/[\\-]/g,""),r)),l=0,jd(jd(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(t.match(ZI))return n=li(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=Ap(u,Math.pow(10,l)-1,!1),n=""+f,p=Qi("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),n+=p+i[2]+"/"+i[3],p=jp(c[2],l),p.length<i[4].length&&(p=gs(i[4].substr(i[4].length-p.length))+p),n+=p,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=Ap(u,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?sj(c[1],l)+i[2]+"/"+i[3]+jp(c[2],l):ta(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:gs(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,x=t.length-n.length-m;return gs(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+li(e,t,-r):Yl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Wn(0,3-y.length):"")+y})+"."+Wn(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=Yl(""+u);return v!=="0"?f+v:"";default:if(t.match(/\.[0#?]*$/))return li(e,t.slice(0,t.lastIndexOf(".")),r)+gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Qi(e,t,r){return(r|0)===r?li(e,t,r):xn(e,t,r)}function mq(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var t6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mu(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Ep(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(t6))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function hq(e,t,r,a){for(var n=[],i="",l=0,c="",u="t",f,p,m,x="H";l<e.length;)switch(c=e.charAt(l)){case"G":if(!Ep(e,l))throw new Error("unrecognized character "+c+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var v=e.charAt(++l),y=v==="("||v===")"?v:"t";n[n.length]={t:y,v},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=$o(t,r,e.charAt(l+1)==="2"),f==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},u=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=$o(t,r),f==null))return"";for(i=c;++l<e.length&&e.charAt(l).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=x),n[n.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var b={t:c,v:c};if(f==null&&(f=$o(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",l+=5,x="h"):(b.t="t",++l),f==null&&b.t==="T")return"";n[n.length]=b,u=c;break;case"[":for(i=c;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(t6)){if(f==null&&(f=$o(t,r),f==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",mu(e)||(n[n.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=c;++l<e.length&&(c=e.charAt(l))==="0";)i+=c;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++l<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(l))>-1;)i+=c;n[n.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++l)===c;)i+=c;n[n.length]={t:c,v:i},u=c;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:c,v:c},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);n[n.length]={t:"t",v:c},++l;break}var S=0,_=0,w;for(l=n.length-1,u="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,u="h",S<1&&(S=1);break;case"s":(w=n[l].v.match(/\.0+$/))&&(_=Math.max(_,w[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":u=n[l].t;break;case"m":u==="s"&&(n[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&n[l].v.match(/[Hh]/)&&(S=1),S<2&&n[l].v.match(/[Mm]/)&&(S=2),S<3&&n[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",O;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=sq(n[l].t.charCodeAt(0),n[l].v,f,_),n[l].t="t";break;case"n":case"?":for(O=l+1;n[O]!=null&&((c=n[O].t)==="?"||c==="D"||(c===" "||c==="t")&&n[O+1]!=null&&(n[O+1].t==="?"||n[O+1].t==="t"&&n[O+1].v==="/")||n[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(n[O].v==="/"||n[O].v===" "&&n[O+1]!=null&&n[O+1].t=="?"));)n[l].v+=n[O].v,n[O]={v:"",t:";"},++O;E+=n[l].v,l=O-1;break;case"G":n[l].t="t",n[l].v=sc(t,r);break}var A="",T,N;if(E.length>0){E.charCodeAt(0)==40?(T=t<0&&E.charCodeAt(0)===45?-t:t,N=Qi("n",E,T)):(T=t<0&&a>1?-t:t,N=Qi("n",E,T),T<0&&n[0]&&n[0].t=="t"&&(N=N.substr(1),n[0].v="-"+n[0].v)),O=N.length-1;var D=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){D=l;break}var L=n.length;if(D===n.length&&N.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(O>=n[l].v.length-1?(O-=n[l].v.length,n[l].v=N.substr(O+1,n[l].v.length)):O<0?n[l].v="":(n[l].v=N.substr(0,O+1),O=-1),n[l].t="t",L=l);O>=0&&L<n.length&&(n[L].v=N.substr(0,O+1)+n[L].v)}else if(D!==n.length&&N.indexOf("E")===-1){for(O=N.indexOf(".")-1,l=D;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(p=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")-1:n[l].v.length-1,A=n[l].v.substr(p+1);p>=0;--p)O>=0&&(n[l].v.charAt(p)==="0"||n[l].v.charAt(p)==="#")&&(A=N.charAt(O--)+A);n[l].v=A,n[l].t="t",L=l}for(O>=0&&L<n.length&&(n[L].v=N.substr(0,O+1)+n[L].v),O=N.indexOf(".")+1,l=D;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==D)){for(p=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")+1:0,A=n[l].v.substr(0,p);p<n[l].v.length;++p)O<N.length&&(A+=N.charAt(O++));n[l].v=A,n[l].t="t",L=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(T=a>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=Qi(n[l].t,n[l].v,T),n[l].t="t");var M="";for(l=0;l!==n.length;++l)n[l]!=null&&(M+=n[l].v);return M}var SO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function pq(e,t){var r=mq(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(SO),c=r[1].match(SO);return wO(t,l)?[a,r[0]]:wO(t,c)?[a,r[1]]:[a,r[l!=null&&c!=null?2:1]]}return[a,i]}function kn(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:gt)[e],a==null&&(a=r.table&&r.table[bO[e]]||gt[bO[e]]),a==null&&(a=Qz[e]||"General");break}if(Ep(a,0))return sc(t,r);t instanceof Date&&(t=WI(t,r.date1904));var n=pq(a,t);if(Ep(n[1]))return sc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return hq(n[1],t,r,n[0])}function Ji(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(gt[r]==null){t<0&&(t=r);continue}if(gt[r]==e){t=r;break}}t<0&&(t=391)}return gt[t]=e,t}function Hx(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Ji(e[t],t)}function hu(){gt=Kz()}var xq={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},r6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gq(e){var t=typeof e=="number"?gt[e]:e;return t=t.replace(r6,"(\\d+)"),new RegExp("^"+t+"$")}function bq(e,t,r){var a=-1,n=-1,i=-1,l=-1,c=-1,u=-1;(t.match(r6)||[]).forEach(function(m,x){var v=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=v;break;case"d":i=v;break;case"h":l=v;break;case"s":u=v;break;case"m":l>=0?c=v:n=v;break}}),u>=0&&c==-1&&n>=0&&(c=n,n=-1);var f=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&c==-1&&u==-1?f:a==-1&&n==-1&&i==-1?p:f+"T"+p}var vq=(function(){var e={};e.version="1.2.0";function t(){for(var N=0,D=new Array(256),L=0;L!=256;++L)N=L,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,D[L]=N;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function a(N){var D=0,L=0,M=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)k[M]=N[M];for(M=0;M!=256;++M)for(L=N[M],D=256+M;D<4096;D+=256)L=k[D]=L>>>8^N[L&255];var I=[];for(M=1;M!=16;++M)I[M-1]=typeof Int32Array<"u"?k.subarray(M*256,M*256+256):k.slice(M*256,M*256+256);return I}var n=a(r),i=n[0],l=n[1],c=n[2],u=n[3],f=n[4],p=n[5],m=n[6],x=n[7],v=n[8],y=n[9],b=n[10],S=n[11],_=n[12],w=n[13],E=n[14];function O(N,D){for(var L=D^-1,M=0,k=N.length;M<k;)L=L>>>8^r[(L^N.charCodeAt(M++))&255];return~L}function A(N,D){for(var L=D^-1,M=N.length-15,k=0;k<M;)L=E[N[k++]^L&255]^w[N[k++]^L>>8&255]^_[N[k++]^L>>16&255]^S[N[k++]^L>>>24]^b[N[k++]]^y[N[k++]]^v[N[k++]]^x[N[k++]]^m[N[k++]]^p[N[k++]]^f[N[k++]]^u[N[k++]]^c[N[k++]]^l[N[k++]]^i[N[k++]]^r[N[k++]];for(M+=15;k<M;)L=L>>>8^r[(L^N[k++])&255];return~L}function T(N,D){for(var L=D^-1,M=0,k=N.length,I=0,V=0;M<k;)I=N.charCodeAt(M++),I<128?L=L>>>8^r[(L^I)&255]:I<2048?(L=L>>>8^r[(L^(192|I>>6&31))&255],L=L>>>8^r[(L^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,V=N.charCodeAt(M++)&1023,L=L>>>8^r[(L^(240|I>>8&7))&255],L=L>>>8^r[(L^(128|I>>2&63))&255],L=L>>>8^r[(L^(128|V>>6&15|(I&3)<<4))&255],L=L>>>8^r[(L^(128|V&63))&255]):(L=L>>>8^r[(L^(224|I>>12&15))&255],L=L>>>8^r[(L^(128|I>>6&63))&255],L=L>>>8^r[(L^(128|I&63))&255]);return~L}return e.table=r,e.bstr=O,e.buf=A,e.str=T,e})(),dt=(function(){var t={};t.version="1.2.1";function r(Q,ie){for(var re=Q.split("/"),te=ie.split("/"),ne=0,oe=0,Ee=Math.min(re.length,te.length);ne<Ee;++ne){if(oe=re[ne].length-te[ne].length)return oe;if(re[ne]!=te[ne])return re[ne]<te[ne]?-1:1}return re.length-te.length}function a(Q){if(Q.charAt(Q.length-1)=="/")return Q.slice(0,-1).indexOf("/")===-1?Q:a(Q.slice(0,-1));var ie=Q.lastIndexOf("/");return ie===-1?Q:Q.slice(0,ie+1)}function n(Q){if(Q.charAt(Q.length-1)=="/")return n(Q.slice(0,-1));var ie=Q.lastIndexOf("/");return ie===-1?Q:Q.slice(ie+1)}function i(Q,ie){typeof ie=="string"&&(ie=new Date(ie));var re=ie.getHours();re=re<<6|ie.getMinutes(),re=re<<5|ie.getSeconds()>>>1,Q.write_shift(2,re);var te=ie.getFullYear()-1980;te=te<<4|ie.getMonth()+1,te=te<<5|ie.getDate(),Q.write_shift(2,te)}function l(Q){var ie=Q.read_shift(2)&65535,re=Q.read_shift(2)&65535,te=new Date,ne=re&31;re>>>=5;var oe=re&15;re>>>=4,te.setMilliseconds(0),te.setFullYear(re+1980),te.setMonth(oe-1),te.setDate(ne);var Ee=ie&31;ie>>>=5;var Fe=ie&63;return ie>>>=6,te.setHours(ie),te.setMinutes(Fe),te.setSeconds(Ee<<1),te}function c(Q){Ka(Q,0);for(var ie={},re=0;Q.l<=Q.length-4;){var te=Q.read_shift(2),ne=Q.read_shift(2),oe=Q.l+ne,Ee={};switch(te){case 21589:re=Q.read_shift(1),re&1&&(Ee.mtime=Q.read_shift(4)),ne>5&&(re&2&&(Ee.atime=Q.read_shift(4)),re&4&&(Ee.ctime=Q.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}Q.l=oe,ie[te]=Ee}return ie}var u;function f(){return u||(u={})}function p(Q,ie){if(Q[0]==80&&Q[1]==75)return It(Q,ie);if((Q[0]|32)==109&&(Q[1]|32)==105)return Rt(Q,ie);if(Q.length<512)throw new Error("CFB file size "+Q.length+" < 512");var re=3,te=512,ne=0,oe=0,Ee=0,Fe=0,Ae=0,_e=[],Te=Q.slice(0,512);Ka(Te,0);var Ve=m(Te);switch(re=Ve[0],re){case 3:te=512;break;case 4:te=4096;break;case 0:if(Ve[1]==0)return It(Q,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}te!==512&&(Te=Q.slice(0,te),Ka(Te,28));var Ye=Q.slice(0,te);x(Te,re);var et=Te.read_shift(4,"i");if(re===3&&et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+et);Te.l+=4,Ee=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Fe=Te.read_shift(4,"i"),ne=Te.read_shift(4,"i"),Ae=Te.read_shift(4,"i"),oe=Te.read_shift(4,"i");for(var Ge=-1,Ze=0;Ze<109&&(Ge=Te.read_shift(4,"i"),!(Ge<0));++Ze)_e[Ze]=Ge;var lt=v(Q,te);S(Ae,oe,lt,te,_e);var Tr=w(lt,Ee,_e,te);Tr[Ee].name="!Directory",ne>0&&Fe!==V&&(Tr[Fe].name="!MiniFAT"),Tr[_e[0]].name="!FAT",Tr.fat_addrs=_e,Tr.ssz=te;var Or={},Hr=[],en=[],yo=[];E(Ee,Tr,lt,Hr,ne,Or,en,Fe),y(en,yo,Hr),Hr.shift();var vl={FileIndex:en,FullPaths:yo};return ie&&ie.raw&&(vl.raw={header:Ye,sectors:lt}),vl}function m(Q){if(Q[Q.l]==80&&Q[Q.l+1]==75)return[0,0];Q.chk(q,"Header Signature: "),Q.l+=16;var ie=Q.read_shift(2,"u");return[Q.read_shift(2,"u"),ie]}function x(Q,ie){var re=9;switch(Q.l+=2,re=Q.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}Q.chk("0600","Mini Sector Shift: "),Q.chk("000000000000","Reserved: ")}function v(Q,ie){for(var re=Math.ceil(Q.length/ie)-1,te=[],ne=1;ne<re;++ne)te[ne-1]=Q.slice(ne*ie,(ne+1)*ie);return te[re-1]=Q.slice(re*ie),te}function y(Q,ie,re){for(var te=0,ne=0,oe=0,Ee=0,Fe=0,Ae=re.length,_e=[],Te=[];te<Ae;++te)_e[te]=Te[te]=te,ie[te]=re[te];for(;Fe<Te.length;++Fe)te=Te[Fe],ne=Q[te].L,oe=Q[te].R,Ee=Q[te].C,_e[te]===te&&(ne!==-1&&_e[ne]!==ne&&(_e[te]=_e[ne]),oe!==-1&&_e[oe]!==oe&&(_e[te]=_e[oe])),Ee!==-1&&(_e[Ee]=te),ne!==-1&&te!=_e[te]&&(_e[ne]=_e[te],Te.lastIndexOf(ne)<Fe&&Te.push(ne)),oe!==-1&&te!=_e[te]&&(_e[oe]=_e[te],Te.lastIndexOf(oe)<Fe&&Te.push(oe));for(te=1;te<Ae;++te)_e[te]===te&&(oe!==-1&&_e[oe]!==oe?_e[te]=_e[oe]:ne!==-1&&_e[ne]!==ne&&(_e[te]=_e[ne]));for(te=1;te<Ae;++te)if(Q[te].type!==0){if(Fe=te,Fe!=_e[Fe])do Fe=_e[Fe],ie[te]=ie[Fe]+"/"+ie[te];while(Fe!==0&&_e[Fe]!==-1&&Fe!=_e[Fe]);_e[te]=-1}for(ie[0]+="/",te=1;te<Ae;++te)Q[te].type!==2&&(ie[te]+="/")}function b(Q,ie,re){for(var te=Q.start,ne=Q.size,oe=[],Ee=te;re&&ne>0&&Ee>=0;)oe.push(ie.slice(Ee*I,Ee*I+I)),ne-=I,Ee=qo(re,Ee*4);return oe.length===0?De(0):Ba(oe).slice(0,Q.size)}function S(Q,ie,re,te,ne){var oe=V;if(Q===V){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(Q!==-1){var Ee=re[Q],Fe=(te>>>2)-1;if(!Ee)return;for(var Ae=0;Ae<Fe&&(oe=qo(Ee,Ae*4))!==V;++Ae)ne.push(oe);S(qo(Ee,te-4),ie-1,re,te,ne)}}function _(Q,ie,re,te,ne){var oe=[],Ee=[];ne||(ne=[]);var Fe=te-1,Ae=0,_e=0;for(Ae=ie;Ae>=0;){ne[Ae]=!0,oe[oe.length]=Ae,Ee.push(Q[Ae]);var Te=re[Math.floor(Ae*4/te)];if(_e=Ae*4&Fe,te<4+_e)throw new Error("FAT boundary crossed: "+Ae+" 4 "+te);if(!Q[Te])break;Ae=qo(Q[Te],_e)}return{nodes:oe,data:DO([Ee])}}function w(Q,ie,re,te){var ne=Q.length,oe=[],Ee=[],Fe=[],Ae=[],_e=te-1,Te=0,Ve=0,Ye=0,et=0;for(Te=0;Te<ne;++Te)if(Fe=[],Ye=Te+ie,Ye>=ne&&(Ye-=ne),!Ee[Ye]){Ae=[];var Ge=[];for(Ve=Ye;Ve>=0;){Ge[Ve]=!0,Ee[Ve]=!0,Fe[Fe.length]=Ve,Ae.push(Q[Ve]);var Ze=re[Math.floor(Ve*4/te)];if(et=Ve*4&_e,te<4+et)throw new Error("FAT boundary crossed: "+Ve+" 4 "+te);if(!Q[Ze]||(Ve=qo(Q[Ze],et),Ge[Ve]))break}oe[Ye]={nodes:Fe,data:DO([Ae])}}return oe}function E(Q,ie,re,te,ne,oe,Ee,Fe){for(var Ae=0,_e=te.length?2:0,Te=ie[Q].data,Ve=0,Ye=0,et;Ve<Te.length;Ve+=128){var Ge=Te.slice(Ve,Ve+128);Ka(Ge,64),Ye=Ge.read_shift(2),et=fj(Ge,0,Ye-_e),te.push(et);var Ze={name:et,type:Ge.read_shift(1),color:Ge.read_shift(1),L:Ge.read_shift(4,"i"),R:Ge.read_shift(4,"i"),C:Ge.read_shift(4,"i"),clsid:Ge.read_shift(16),state:Ge.read_shift(4,"i"),start:0,size:0},lt=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);lt!==0&&(Ze.ct=O(Ge,Ge.l-8));var Tr=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);Tr!==0&&(Ze.mt=O(Ge,Ge.l-8)),Ze.start=Ge.read_shift(4,"i"),Ze.size=Ge.read_shift(4,"i"),Ze.size<0&&Ze.start<0&&(Ze.size=Ze.type=0,Ze.start=V,Ze.name=""),Ze.type===5?(Ae=Ze.start,ne>0&&Ae!==V&&(ie[Ae].name="!StreamData")):Ze.size>=4096?(Ze.storage="fat",ie[Ze.start]===void 0&&(ie[Ze.start]=_(re,Ze.start,ie.fat_addrs,ie.ssz)),ie[Ze.start].name=Ze.name,Ze.content=ie[Ze.start].data.slice(0,Ze.size)):(Ze.storage="minifat",Ze.size<0?Ze.size=0:Ae!==V&&Ze.start!==V&&ie[Ae]&&(Ze.content=b(Ze,ie[Ae].data,(ie[Fe]||{}).data))),Ze.content&&Ka(Ze.content,0),oe[et]=Ze,Ee.push(Ze)}}function O(Q,ie){return new Date((Hs(Q,ie+4)/1e7*Math.pow(2,32)+Hs(Q,ie)/1e7-11644473600)*1e3)}function A(Q,ie){return f(),p(u.readFileSync(Q),ie)}function T(Q,ie){var re=ie&&ie.type;switch(re||Pt&&Buffer.isBuffer(Q)&&(re="buffer"),re||"base64"){case"file":return A(Q,ie);case"base64":return p(Vs(Ks(Q)),ie);case"binary":return p(Vs(Q),ie)}return p(Q,ie)}function N(Q,ie){var re=ie||{},te=re.root||"Root Entry";if(Q.FullPaths||(Q.FullPaths=[]),Q.FileIndex||(Q.FileIndex=[]),Q.FullPaths.length!==Q.FileIndex.length)throw new Error("inconsistent CFB structure");Q.FullPaths.length===0&&(Q.FullPaths[0]=te+"/",Q.FileIndex[0]={name:te,type:5}),re.CLSID&&(Q.FileIndex[0].clsid=re.CLSID),D(Q)}function D(Q){var ie="Sh33tJ5";if(!dt.find(Q,"/"+ie)){var re=De(4);re[0]=55,re[1]=re[3]=50,re[2]=54,Q.FileIndex.push({name:ie,type:2,content:re,size:4,L:69,R:69,C:69}),Q.FullPaths.push(Q.FullPaths[0]+ie),L(Q)}}function L(Q,ie){N(Q);for(var re=!1,te=!1,ne=Q.FullPaths.length-1;ne>=0;--ne){var oe=Q.FileIndex[ne];switch(oe.type){case 0:te?re=!0:(Q.FileIndex.pop(),Q.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(oe.R*oe.L*oe.C)&&(re=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!ie)){var Ee=new Date(1987,1,19),Fe=0,Ae=Object.create?Object.create(null):{},_e=[];for(ne=0;ne<Q.FullPaths.length;++ne)Ae[Q.FullPaths[ne]]=!0,Q.FileIndex[ne].type!==0&&_e.push([Q.FullPaths[ne],Q.FileIndex[ne]]);for(ne=0;ne<_e.length;++ne){var Te=a(_e[ne][0]);te=Ae[Te],te||(_e.push([Te,{name:n(Te).replace("/",""),type:1,clsid:R,ct:Ee,mt:Ee,content:null}]),Ae[Te]=!0)}for(_e.sort(function(et,Ge){return r(et[0],Ge[0])}),Q.FullPaths=[],Q.FileIndex=[],ne=0;ne<_e.length;++ne)Q.FullPaths[ne]=_e[ne][0],Q.FileIndex[ne]=_e[ne][1];for(ne=0;ne<_e.length;++ne){var Ve=Q.FileIndex[ne],Ye=Q.FullPaths[ne];if(Ve.name=n(Ye).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||R,ne===0)Ve.C=_e.length>1?1:-1,Ve.size=0,Ve.type=5;else if(Ye.slice(-1)=="/"){for(Fe=ne+1;Fe<_e.length&&a(Q.FullPaths[Fe])!=Ye;++Fe);for(Ve.C=Fe>=_e.length?-1:Fe,Fe=ne+1;Fe<_e.length&&a(Q.FullPaths[Fe])!=a(Ye);++Fe);Ve.R=Fe>=_e.length?-1:Fe,Ve.type=1}else a(Q.FullPaths[ne+1]||"")==a(Ye)&&(Ve.R=ne+1),Ve.type=2}}}function M(Q,ie){var re=ie||{};if(re.fileType=="mad")return Ht(Q,re);switch(L(Q),re.fileType){case"zip":return qr(Q,re)}var te=(function(et){for(var Ge=0,Ze=0,lt=0;lt<et.FileIndex.length;++lt){var Tr=et.FileIndex[lt];if(Tr.content){var Or=Tr.content.length;Or>0&&(Or<4096?Ge+=Or+63>>6:Ze+=Or+511>>9)}}for(var Hr=et.FullPaths.length+3>>2,en=Ge+7>>3,yo=Ge+127>>7,vl=en+Ze+Hr+yo,ti=vl+127>>7,Au=ti<=109?0:Math.ceil((ti-109)/127);vl+ti+Au+127>>7>ti;)Au=++ti<=109?0:Math.ceil((ti-109)/127);var Ss=[1,Au,ti,yo,Hr,Ze,Ge,0];return et.FileIndex[0].size=Ge<<6,Ss[7]=(et.FileIndex[0].start=Ss[0]+Ss[1]+Ss[2]+Ss[3]+Ss[4]+Ss[5])+(Ss[6]+7>>3),Ss})(Q),ne=De(te[7]<<9),oe=0,Ee=0;{for(oe=0;oe<8;++oe)ne.write_shift(1,z[oe]);for(oe=0;oe<8;++oe)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),oe=0;oe<3;++oe)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,te[2]),ne.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:V),ne.write_shift(4,te[3]),ne.write_shift(-4,te[1]?te[0]-1:V),ne.write_shift(4,te[1]),oe=0;oe<109;++oe)ne.write_shift(-4,oe<te[2]?te[1]+oe:-1)}if(te[1])for(Ee=0;Ee<te[1];++Ee){for(;oe<236+Ee*127;++oe)ne.write_shift(-4,oe<te[2]?te[1]+oe:-1);ne.write_shift(-4,Ee===te[1]-1?V:Ee+1)}var Fe=function(et){for(Ee+=et;oe<Ee-1;++oe)ne.write_shift(-4,oe+1);et&&(++oe,ne.write_shift(-4,V))};for(Ee=oe=0,Ee+=te[1];oe<Ee;++oe)ne.write_shift(-4,W.DIFSECT);for(Ee+=te[2];oe<Ee;++oe)ne.write_shift(-4,W.FATSECT);Fe(te[3]),Fe(te[4]);for(var Ae=0,_e=0,Te=Q.FileIndex[0];Ae<Q.FileIndex.length;++Ae)Te=Q.FileIndex[Ae],Te.content&&(_e=Te.content.length,!(_e<4096)&&(Te.start=Ee,Fe(_e+511>>9)));for(Fe(te[6]+7>>3);ne.l&511;)ne.write_shift(-4,W.ENDOFCHAIN);for(Ee=oe=0,Ae=0;Ae<Q.FileIndex.length;++Ae)Te=Q.FileIndex[Ae],Te.content&&(_e=Te.content.length,!(!_e||_e>=4096)&&(Te.start=Ee,Fe(_e+63>>6)));for(;ne.l&511;)ne.write_shift(-4,W.ENDOFCHAIN);for(oe=0;oe<te[4]<<2;++oe){var Ve=Q.FullPaths[oe];if(!Ve||Ve.length===0){for(Ae=0;Ae<17;++Ae)ne.write_shift(4,0);for(Ae=0;Ae<3;++Ae)ne.write_shift(4,-1);for(Ae=0;Ae<12;++Ae)ne.write_shift(4,0);continue}Te=Q.FileIndex[oe],oe===0&&(Te.start=Te.size?Te.start-1:V);var Ye=oe===0&&re.root||Te.name;if(_e=2*(Ye.length+1),ne.write_shift(64,Ye,"utf16le"),ne.write_shift(2,_e),ne.write_shift(1,Te.type),ne.write_shift(1,Te.color),ne.write_shift(-4,Te.L),ne.write_shift(-4,Te.R),ne.write_shift(-4,Te.C),Te.clsid)ne.write_shift(16,Te.clsid,"hex");else for(Ae=0;Ae<4;++Ae)ne.write_shift(4,0);ne.write_shift(4,Te.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Te.start),ne.write_shift(4,Te.size),ne.write_shift(4,0)}for(oe=1;oe<Q.FileIndex.length;++oe)if(Te=Q.FileIndex[oe],Te.size>=4096)if(ne.l=Te.start+1<<9,Pt&&Buffer.isBuffer(Te.content))Te.content.copy(ne,ne.l,0,Te.size),ne.l+=Te.size+511&-512;else{for(Ae=0;Ae<Te.size;++Ae)ne.write_shift(1,Te.content[Ae]);for(;Ae&511;++Ae)ne.write_shift(1,0)}for(oe=1;oe<Q.FileIndex.length;++oe)if(Te=Q.FileIndex[oe],Te.size>0&&Te.size<4096)if(Pt&&Buffer.isBuffer(Te.content))Te.content.copy(ne,ne.l,0,Te.size),ne.l+=Te.size+63&-64;else{for(Ae=0;Ae<Te.size;++Ae)ne.write_shift(1,Te.content[Ae]);for(;Ae&63;++Ae)ne.write_shift(1,0)}if(Pt)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function k(Q,ie){var re=Q.FullPaths.map(function(Ae){return Ae.toUpperCase()}),te=re.map(function(Ae){var _e=Ae.split("/");return _e[_e.length-(Ae.slice(-1)=="/"?2:1)]}),ne=!1;ie.charCodeAt(0)===47?(ne=!0,ie=re[0].slice(0,-1)+ie):ne=ie.indexOf("/")!==-1;var oe=ie.toUpperCase(),Ee=ne===!0?re.indexOf(oe):te.indexOf(oe);if(Ee!==-1)return Q.FileIndex[Ee];var Fe=!oe.match(Of);for(oe=oe.replace(ys,""),Fe&&(oe=oe.replace(Of,"!")),Ee=0;Ee<re.length;++Ee)if((Fe?re[Ee].replace(Of,"!"):re[Ee]).replace(ys,"")==oe||(Fe?te[Ee].replace(Of,"!"):te[Ee]).replace(ys,"")==oe)return Q.FileIndex[Ee];return null}var I=64,V=-2,q="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(Q,ie,re){f();var te=M(Q,re);u.writeFileSync(ie,te)}function B(Q){for(var ie=new Array(Q.length),re=0;re<Q.length;++re)ie[re]=String.fromCharCode(Q[re]);return ie.join("")}function ee(Q,ie){var re=M(Q,ie);switch(ie&&ie.type||"buffer"){case"file":return f(),u.writeFileSync(ie.filename,re),re;case"binary":return typeof re=="string"?re:B(re);case"base64":return t0(typeof re=="string"?re:B(re));case"buffer":if(Pt)return Buffer.isBuffer(re)?re:fl(re);case"array":return typeof re=="string"?Vs(re):re}return re}var Y;function F(Q){try{var ie=Q.InflateRaw,re=new ie;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Y=Q;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function K(Q,ie){if(!Y)return Oe(Q,ie);var re=Y.InflateRaw,te=new re,ne=te._processChunk(Q.slice(Q.l),te._finishFlushFlag);return Q.l+=te.bytesRead,ne}function J(Q){return Y?Y.deflateRawSync(Q):ct(Q)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(Q){var ie=(Q<<1|Q<<11)&139536|(Q<<5|Q<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var se=typeof Uint8Array<"u",fe=se?new Uint8Array(256):[],we=0;we<256;++we)fe[we]=xe(we);function G(Q,ie){var re=fe[Q&255];return ie<=8?re>>>8-ie:(re=re<<8|fe[Q>>8&255],ie<=16?re>>>16-ie:(re=re<<8|fe[Q>>16&255],re>>>24-ie))}function He(Q,ie){var re=ie&7,te=ie>>>3;return(Q[te]|(re<=6?0:Q[te+1]<<8))>>>re&3}function Ue(Q,ie){var re=ie&7,te=ie>>>3;return(Q[te]|(re<=5?0:Q[te+1]<<8))>>>re&7}function he(Q,ie){var re=ie&7,te=ie>>>3;return(Q[te]|(re<=4?0:Q[te+1]<<8))>>>re&15}function Me(Q,ie){var re=ie&7,te=ie>>>3;return(Q[te]|(re<=3?0:Q[te+1]<<8))>>>re&31}function ye(Q,ie){var re=ie&7,te=ie>>>3;return(Q[te]|(re<=1?0:Q[te+1]<<8))>>>re&127}function $e(Q,ie,re){var te=ie&7,ne=ie>>>3,oe=(1<<re)-1,Ee=Q[ne]>>>te;return re<8-te||(Ee|=Q[ne+1]<<8-te,re<16-te)||(Ee|=Q[ne+2]<<16-te,re<24-te)||(Ee|=Q[ne+3]<<24-te),Ee&oe}function rt(Q,ie,re){var te=ie&7,ne=ie>>>3;return te<=5?Q[ne]|=(re&7)<<te:(Q[ne]|=re<<te&255,Q[ne+1]=(re&7)>>8-te),ie+3}function it(Q,ie,re){var te=ie&7,ne=ie>>>3;return re=(re&1)<<te,Q[ne]|=re,ie+1}function ve(Q,ie,re){var te=ie&7,ne=ie>>>3;return re<<=te,Q[ne]|=re&255,re>>>=8,Q[ne+1]=re,ie+8}function tt(Q,ie,re){var te=ie&7,ne=ie>>>3;return re<<=te,Q[ne]|=re&255,re>>>=8,Q[ne+1]=re&255,Q[ne+2]=re>>>8,ie+16}function wt(Q,ie){var re=Q.length,te=2*re>ie?2*re:ie+5,ne=0;if(re>=ie)return Q;if(Pt){var oe=pO(te);if(Q.copy)Q.copy(oe);else for(;ne<Q.length;++ne)oe[ne]=Q[ne];return oe}else if(se){var Ee=new Uint8Array(te);if(Ee.set)Ee.set(Q);else for(;ne<re;++ne)Ee[ne]=Q[ne];return Ee}return Q.length=te,Q}function Nt(Q){for(var ie=new Array(Q),re=0;re<Q;++re)ie[re]=0;return ie}function bt(Q,ie,re){var te=1,ne=0,oe=0,Ee=0,Fe=0,Ae=Q.length,_e=se?new Uint16Array(32):Nt(32);for(oe=0;oe<32;++oe)_e[oe]=0;for(oe=Ae;oe<re;++oe)Q[oe]=0;Ae=Q.length;var Te=se?new Uint16Array(Ae):Nt(Ae);for(oe=0;oe<Ae;++oe)_e[ne=Q[oe]]++,te<ne&&(te=ne),Te[oe]=0;for(_e[0]=0,oe=1;oe<=te;++oe)_e[oe+16]=Fe=Fe+_e[oe-1]<<1;for(oe=0;oe<Ae;++oe)Fe=Q[oe],Fe!=0&&(Te[oe]=_e[Fe+16]++);var Ve=0;for(oe=0;oe<Ae;++oe)if(Ve=Q[oe],Ve!=0)for(Fe=G(Te[oe],te)>>te-Ve,Ee=(1<<te+4-Ve)-1;Ee>=0;--Ee)ie[Fe|Ee<<Ve]=Ve&15|oe<<4;return te}var ft=se?new Uint16Array(512):Nt(512),kt=se?new Uint16Array(32):Nt(32);if(!se){for(var Yt=0;Yt<512;++Yt)ft[Yt]=0;for(Yt=0;Yt<32;++Yt)kt[Yt]=0}(function(){for(var Q=[],ie=0;ie<32;ie++)Q.push(5);bt(Q,kt,32);var re=[];for(ie=0;ie<=143;ie++)re.push(8);for(;ie<=255;ie++)re.push(9);for(;ie<=279;ie++)re.push(7);for(;ie<=287;ie++)re.push(8);bt(re,ft,288)})();var Xe=(function(){for(var ie=se?new Uint8Array(32768):[],re=0,te=0;re<le.length-1;++re)for(;te<le[re+1];++te)ie[te]=re;for(;te<32768;++te)ie[te]=29;var ne=se?new Uint8Array(259):[];for(re=0,te=0;re<ce.length-1;++re)for(;te<ce[re+1];++te)ne[te]=re;function oe(Fe,Ae){for(var _e=0;_e<Fe.length;){var Te=Math.min(65535,Fe.length-_e),Ve=_e+Te==Fe.length;for(Ae.write_shift(1,+Ve),Ae.write_shift(2,Te),Ae.write_shift(2,~Te&65535);Te-- >0;)Ae[Ae.l++]=Fe[_e++]}return Ae.l}function Ee(Fe,Ae){for(var _e=0,Te=0,Ve=se?new Uint16Array(32768):[];Te<Fe.length;){var Ye=Math.min(65535,Fe.length-Te);if(Ye<10){for(_e=rt(Ae,_e,+(Te+Ye==Fe.length)),_e&7&&(_e+=8-(_e&7)),Ae.l=_e/8|0,Ae.write_shift(2,Ye),Ae.write_shift(2,~Ye&65535);Ye-- >0;)Ae[Ae.l++]=Fe[Te++];_e=Ae.l*8;continue}_e=rt(Ae,_e,+(Te+Ye==Fe.length)+2);for(var et=0;Ye-- >0;){var Ge=Fe[Te];et=(et<<5^Ge)&32767;var Ze=-1,lt=0;if((Ze=Ve[et])&&(Ze|=Te&-32768,Ze>Te&&(Ze-=32768),Ze<Te))for(;Fe[Ze+lt]==Fe[Te+lt]&&lt<250;)++lt;if(lt>2){Ge=ne[lt],Ge<=22?_e=ve(Ae,_e,fe[Ge+1]>>1)-1:(ve(Ae,_e,3),_e+=5,ve(Ae,_e,fe[Ge-23]>>5),_e+=3);var Tr=Ge<8?0:Ge-4>>2;Tr>0&&(tt(Ae,_e,lt-ce[Ge]),_e+=Tr),Ge=ie[Te-Ze],_e=ve(Ae,_e,fe[Ge]>>3),_e-=3;var Or=Ge<4?0:Ge-2>>1;Or>0&&(tt(Ae,_e,Te-Ze-le[Ge]),_e+=Or);for(var Hr=0;Hr<lt;++Hr)Ve[et]=Te&32767,et=(et<<5^Fe[Te])&32767,++Te;Ye-=lt-1}else Ge<=143?Ge=Ge+48:_e=it(Ae,_e,1),_e=ve(Ae,_e,fe[Ge]),Ve[et]=Te&32767,++Te}_e=ve(Ae,_e,0)-1}return Ae.l=(_e+7)/8|0,Ae.l}return function(Ae,_e){return Ae.length<8?oe(Ae,_e):Ee(Ae,_e)}})();function ct(Q){var ie=De(50+Math.floor(Q.length*1.1)),re=Xe(Q,ie);return ie.slice(0,re)}var $t=se?new Uint16Array(32768):Nt(32768),Er=se?new Uint16Array(32768):Nt(32768),Se=se?new Uint16Array(128):Nt(128),ur=1,ma=1;function Zt(Q,ie){var re=Me(Q,ie)+257;ie+=5;var te=Me(Q,ie)+1;ie+=5;var ne=he(Q,ie)+4;ie+=4;for(var oe=0,Ee=se?new Uint8Array(19):Nt(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ae=1,_e=se?new Uint8Array(8):Nt(8),Te=se?new Uint8Array(8):Nt(8),Ve=Ee.length,Ye=0;Ye<ne;++Ye)Ee[H[Ye]]=oe=Ue(Q,ie),Ae<oe&&(Ae=oe),_e[oe]++,ie+=3;var et=0;for(_e[0]=0,Ye=1;Ye<=Ae;++Ye)Te[Ye]=et=et+_e[Ye-1]<<1;for(Ye=0;Ye<Ve;++Ye)(et=Ee[Ye])!=0&&(Fe[Ye]=Te[et]++);var Ge=0;for(Ye=0;Ye<Ve;++Ye)if(Ge=Ee[Ye],Ge!=0){et=fe[Fe[Ye]]>>8-Ge;for(var Ze=(1<<7-Ge)-1;Ze>=0;--Ze)Se[et|Ze<<Ge]=Ge&7|Ye<<3}var lt=[];for(Ae=1;lt.length<re+te;)switch(et=Se[ye(Q,ie)],ie+=et&7,et>>>=3){case 16:for(oe=3+He(Q,ie),ie+=2,et=lt[lt.length-1];oe-- >0;)lt.push(et);break;case 17:for(oe=3+Ue(Q,ie),ie+=3;oe-- >0;)lt.push(0);break;case 18:for(oe=11+ye(Q,ie),ie+=7;oe-- >0;)lt.push(0);break;default:lt.push(et),Ae<et&&(Ae=et);break}var Tr=lt.slice(0,re),Or=lt.slice(re);for(Ye=re;Ye<286;++Ye)Tr[Ye]=0;for(Ye=te;Ye<30;++Ye)Or[Ye]=0;return ur=bt(Tr,$t,286),ma=bt(Or,Er,30),ie}function ps(Q,ie){if(Q[0]==3&&!(Q[1]&3))return[ro(ie),2];for(var re=0,te=0,ne=pO(ie||1<<18),oe=0,Ee=ne.length>>>0,Fe=0,Ae=0;(te&1)==0;){if(te=Ue(Q,re),re+=3,te>>>1)te>>1==1?(Fe=9,Ae=5):(re=Zt(Q,re),Fe=ur,Ae=ma);else{re&7&&(re+=8-(re&7));var _e=Q[re>>>3]|Q[(re>>>3)+1]<<8;if(re+=32,_e>0)for(!ie&&Ee<oe+_e&&(ne=wt(ne,oe+_e),Ee=ne.length);_e-- >0;)ne[oe++]=Q[re>>>3],re+=8;continue}for(;;){!ie&&Ee<oe+32767&&(ne=wt(ne,oe+32767),Ee=ne.length);var Te=$e(Q,re,Fe),Ve=te>>>1==1?ft[Te]:$t[Te];if(re+=Ve&15,Ve>>>=4,(Ve>>>8&255)===0)ne[oe++]=Ve;else{if(Ve==256)break;Ve-=257;var Ye=Ve<8?0:Ve-4>>2;Ye>5&&(Ye=0);var et=oe+ce[Ve];Ye>0&&(et+=$e(Q,re,Ye),re+=Ye),Te=$e(Q,re,Ae),Ve=te>>>1==1?kt[Te]:Er[Te],re+=Ve&15,Ve>>>=4;var Ge=Ve<4?0:Ve-2>>1,Ze=le[Ve];for(Ge>0&&(Ze+=$e(Q,re,Ge),re+=Ge),!ie&&Ee<et&&(ne=wt(ne,et+100),Ee=ne.length);oe<et;)ne[oe]=ne[oe-Ze],++oe}}}return ie?[ne,re+7>>>3]:[ne.slice(0,oe),re+7>>>3]}function Oe(Q,ie){var re=Q.slice(Q.l||0),te=ps(re,ie);return Q.l+=te[1],te[0]}function at(Q,ie){if(Q)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function It(Q,ie){var re=Q;Ka(re,0);var te=[],ne=[],oe={FileIndex:te,FullPaths:ne};N(oe,{root:ie.root});for(var Ee=re.length-4;(re[Ee]!=80||re[Ee+1]!=75||re[Ee+2]!=5||re[Ee+3]!=6)&&Ee>=0;)--Ee;re.l=Ee+4,re.l+=4;var Fe=re.read_shift(2);re.l+=6;var Ae=re.read_shift(4);for(re.l=Ae,Ee=0;Ee<Fe;++Ee){re.l+=20;var _e=re.read_shift(4),Te=re.read_shift(4),Ve=re.read_shift(2),Ye=re.read_shift(2),et=re.read_shift(2);re.l+=8;var Ge=re.read_shift(4),Ze=c(re.slice(re.l+Ve,re.l+Ve+Ye));re.l+=Ve+Ye+et;var lt=re.l;re.l=Ge+4,nr(re,_e,Te,oe,Ze),re.l=lt}return oe}function nr(Q,ie,re,te,ne){Q.l+=2;var oe=Q.read_shift(2),Ee=Q.read_shift(2),Fe=l(Q);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ae=Q.read_shift(4),_e=Q.read_shift(4),Te=Q.read_shift(4),Ve=Q.read_shift(2),Ye=Q.read_shift(2),et="",Ge=0;Ge<Ve;++Ge)et+=String.fromCharCode(Q[Q.l++]);if(Ye){var Ze=c(Q.slice(Q.l,Q.l+Ye));(Ze[21589]||{}).mt&&(Fe=Ze[21589].mt),((ne||{})[21589]||{}).mt&&(Fe=ne[21589].mt)}Q.l+=Ye;var lt=Q.slice(Q.l,Q.l+_e);switch(Ee){case 8:lt=K(Q,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var Tr=!1;oe&8&&(Ae=Q.read_shift(4),Ae==134695760&&(Ae=Q.read_shift(4),Tr=!0),_e=Q.read_shift(4),Te=Q.read_shift(4)),_e!=ie&&at(Tr,"Bad compressed size: "+ie+" != "+_e),Te!=re&&at(Tr,"Bad uncompressed size: "+re+" != "+Te),Pe(te,et,lt,{unsafe:!0,mt:Fe})}function qr(Q,ie){var re=ie||{},te=[],ne=[],oe=De(1),Ee=re.compression?8:0,Fe=0,Ae=0,_e=0,Te=0,Ve=0,Ye=Q.FullPaths[0],et=Ye,Ge=Q.FileIndex[0],Ze=[],lt=0;for(Ae=1;Ae<Q.FullPaths.length;++Ae)if(et=Q.FullPaths[Ae].slice(Ye.length),Ge=Q.FileIndex[Ae],!(!Ge.size||!Ge.content||et=="Sh33tJ5")){var Tr=Te,Or=De(et.length);for(_e=0;_e<et.length;++_e)Or.write_shift(1,et.charCodeAt(_e)&127);Or=Or.slice(0,Or.l),Ze[Ve]=vq.buf(Ge.content,0);var Hr=Ge.content;Ee==8&&(Hr=J(Hr)),oe=De(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Fe),oe.write_shift(2,Ee),Ge.mt?i(oe,Ge.mt):oe.write_shift(4,0),oe.write_shift(-4,Ze[Ve]),oe.write_shift(4,Hr.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,Or.length),oe.write_shift(2,0),Te+=oe.length,te.push(oe),Te+=Or.length,te.push(Or),Te+=Hr.length,te.push(Hr),oe=De(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Fe),oe.write_shift(2,Ee),oe.write_shift(4,0),oe.write_shift(-4,Ze[Ve]),oe.write_shift(4,Hr.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,Or.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Tr),lt+=oe.l,ne.push(oe),lt+=Or.length,ne.push(Or),++Ve}return oe=De(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ve),oe.write_shift(2,Ve),oe.write_shift(4,lt),oe.write_shift(4,Te),oe.write_shift(2,0),Ba([Ba(te),Ba(ne),oe])}var $a={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mn(Q,ie){if(Q.ctype)return Q.ctype;var re=Q.name||"",te=re.match(/\.([^\.]+)$/);return te&&$a[te[1]]||ie&&(te=(re=ie).match(/[\.\\]([^\.\\])+$/),te&&$a[te[1]])?$a[te[1]]:"application/octet-stream"}function Zs(Q){for(var ie=t0(Q),re=[],te=0;te<ie.length;te+=76)re.push(ie.slice(te,te+76));return re.join(`\r
`)+`\r
`}function bl(Q){var ie=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var Te=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],te=ie.split(`\r
`),ne=0;ne<te.length;++ne){var oe=te[ne];if(oe.length==0){re.push("");continue}for(var Ee=0;Ee<oe.length;){var Fe=76,Ae=oe.slice(Ee,Ee+Fe);Ae.charAt(Fe-1)=="="?Fe--:Ae.charAt(Fe-2)=="="?Fe-=2:Ae.charAt(Fe-3)=="="&&(Fe-=3),Ae=oe.slice(Ee,Ee+Fe),Ee+=Fe,Ee<oe.length&&(Ae+="="),re.push(Ae)}}return re.join(`\r
`)}function ue(Q){for(var ie=[],re=0;re<Q.length;++re){for(var te=Q[re];re<=Q.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+Q[++re];ie.push(te)}for(var ne=0;ne<ie.length;++ne)ie[ne]=ie[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Vs(ie.join(`\r
`))}function vt(Q,ie,re){for(var te="",ne="",oe="",Ee,Fe=0;Fe<10;++Fe){var Ae=ie[Fe];if(!Ae||Ae.match(/^\s*$/))break;var _e=Ae.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":te=_e[2].trim();break;case"content-type":oe=_e[2].trim();break;case"content-transfer-encoding":ne=_e[2].trim();break}}switch(++Fe,ne.toLowerCase()){case"base64":Ee=Vs(Ks(ie.slice(Fe).join("")));break;case"quoted-printable":Ee=ue(ie.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Te=Pe(Q,te.slice(re.length),Ee,{unsafe:!0});oe&&(Te.ctype=oe)}function Rt(Q,ie){if(B(Q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=ie&&ie.root||"",te=(Pt&&Buffer.isBuffer(Q)?Q.toString("binary"):B(Q)).split(`\r
`),ne=0,oe="";for(ne=0;ne<te.length;++ne)if(oe=te[ne],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),re||(re=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),oe.slice(0,re.length)!=re););var Ee=(te[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Fe="--"+(Ee[1]||""),Ae=[],_e=[],Te={FileIndex:Ae,FullPaths:_e};N(Te);var Ve,Ye=0;for(ne=0;ne<te.length;++ne){var et=te[ne];et!==Fe&&et!==Fe+"--"||(Ye++&&vt(Te,te.slice(Ve,ne),re),Ve=ne)}return Te}function Ht(Q,ie){var re=ie||{},te=re.boundary||"SheetJS";te="------="+te;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],oe=Q.FullPaths[0],Ee=oe,Fe=Q.FileIndex[0],Ae=1;Ae<Q.FullPaths.length;++Ae)if(Ee=Q.FullPaths[Ae].slice(oe.length),Fe=Q.FileIndex[Ae],!(!Fe.size||!Fe.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var _e=Fe.content,Te=Pt&&Buffer.isBuffer(_e)?_e.toString("binary"):B(_e),Ve=0,Ye=Math.min(1024,Te.length),et=0,Ge=0;Ge<=Ye;++Ge)(et=Te.charCodeAt(Ge))>=32&&et<128&&++Ve;var Ze=Ve>=Ye*4/5;ne.push(te),ne.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Ee),ne.push("Content-Transfer-Encoding: "+(Ze?"quoted-printable":"base64")),ne.push("Content-Type: "+Mn(Fe,Ee)),ne.push(""),ne.push(Ze?bl(Te):Zs(Te))}return ne.push(te+`--\r
`),ne.join(`\r
`)}function Ar(Q){var ie={};return N(ie,Q),ie}function Pe(Q,ie,re,te){var ne=te&&te.unsafe;ne||N(Q);var oe=!ne&&dt.find(Q,ie);if(!oe){var Ee=Q.FullPaths[0];ie.slice(0,Ee.length)==Ee?Ee=ie:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+ie).replace("//","/")),oe={name:n(ie),type:2},Q.FileIndex.push(oe),Q.FullPaths.push(Ee),ne||dt.utils.cfb_gc(Q)}return oe.content=re,oe.size=re?re.length:0,te&&(te.CLSID&&(oe.clsid=te.CLSID),te.mt&&(oe.mt=te.mt),te.ct&&(oe.ct=te.ct)),oe}function mt(Q,ie){N(Q);var re=dt.find(Q,ie);if(re){for(var te=0;te<Q.FileIndex.length;++te)if(Q.FileIndex[te]==re)return Q.FileIndex.splice(te,1),Q.FullPaths.splice(te,1),!0}return!1}function Vt(Q,ie,re){N(Q);var te=dt.find(Q,ie);if(te){for(var ne=0;ne<Q.FileIndex.length;++ne)if(Q.FileIndex[ne]==te)return Q.FileIndex[ne].name=n(re),Q.FullPaths[ne]=re,!0}return!1}function $r(Q){L(Q,!0)}return t.find=k,t.read=T,t.parse=p,t.write=ee,t.writeFile=X,t.utils={cfb_new:Ar,cfb_add:Pe,cfb_del:mt,cfb_mov:Vt,cfb_gc:$r,ReadShift:Lf,CheckField:j6,prep_blob:Ka,bconcat:Ba,use_zlib:F,_deflateRaw:ct,_inflateRaw:Oe,consts:W},t})();function yq(e){return typeof e=="string"?$x(e):Array.isArray(e)?Gz(e):e}function am(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=$x(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?di(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([yq(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=uo(t)),c.write(t),c.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Sq(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function ia(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function NO(e,t){for(var r=[],a=ia(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function Vx(e){for(var t=[],r=ia(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Gx(e){for(var t=[],r=ia(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function wq(e){for(var t=[],r=ia(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var _p=new Date(1899,11,30,0,0,0);function Pa(e,t){var r=e.getTime(),a=_p.getTime()+(e.getTimezoneOffset()-_p.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var a6=new Date,Nq=_p.getTime()+(a6.getTimezoneOffset()-_p.getTimezoneOffset())*6e4,jO=a6.getTimezoneOffset();function Wx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Nq),t.getTimezoneOffset()!==jO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-jO)*6e4),t}function jq(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}var EO=new Date("2017-02-19T19:06:09.000Z"),s6=isNaN(EO.getFullYear())?new Date("2/19/17"):EO,Eq=s6.getFullYear()==2017;function Br(e,t){var r=new Date(e);if(Eq)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(s6.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function nc(e,t){if(Pt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return di(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return di(VI(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return di(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return di(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function zr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=zr(e[r]));return t}function ta(e,t){for(var r="";r.length<t;)r+=e;return r}function Yn(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var Aq=["january","february","march","april","may","june","july","august","september","october","november","december"];function Dd(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Aq.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var _q=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),l=[i[0]],c=1;c<i.length;++c)l.push(n),l.push(i[c]);return l}})();function n6(e){return e?e.content&&e.type?nc(e.content,!0):e.data?Tf(e.data):e.asNodeBuffer&&Pt?Tf(e.asNodeBuffer().toString("binary")):e.asBinary?Tf(e.asBinary()):e._data&&e._data.getContent?Tf(nc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function i6(e){if(!e)return null;if(e.data)return mO(e.data);if(e.asNodeBuffer&&Pt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?mO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Cq(e){return e&&e.name.slice(-4)===".bin"?i6(e):n6(e)}function vn(e,t){for(var r=e.FullPaths||ia(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==l||n==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function ij(e,t){var r=vn(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function va(e,t,r){if(!r)return Cq(ij(e,t));if(!t)return null;try{return va(e,t)}catch{return null}}function Gs(e,t,r){if(!r)return n6(ij(e,t));if(!t)return null;try{return Gs(e,t)}catch{return null}}function Tq(e,t,r){return i6(ij(e,t))}function AO(e){for(var t=e.FullPaths||ia(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function Tt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Pt?a=fl(r):a=Wz(r),dt.utils.cfb_add(e,t,a)}dt.utils.cfb_add(e,t,r)}else e.file(t,r)}function lj(){return dt.utils.cfb_new()}function l6(e,t){switch(t.type){case"base64":return dt.read(e,{type:"base64"});case"binary":return dt.read(e,{type:"binary"});case"buffer":case"array":return dt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function kf(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var fa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Oq=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,_O=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,kq=/<[^>]*>/g,hs=fa.match(_O)?_O:kq,Rq=/<\w*:/,Pq=/<(\/?)\w+:/;function St(e,t,r){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var l=e.match(Oq),c=0,u="",f=0,p="",m="",x=1;if(l)for(f=0;f!=l.length;++f){for(m=l[f],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(p=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(x=(n=m.charCodeAt(i+1))==34||n==39?1:0,u=m.slice(i+1+x,m.length-x),c=0;c!=p.length&&p.charCodeAt(c)!==58;++c);if(c===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),a[p]=u,a[p.toLowerCase()]=u;else{var v=(c===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(c+1);if(a[v]&&p.slice(c-3,c)=="ext")continue;a[v]=u,a[v.toLowerCase()]=u}}return a}function yi(e){return e.replace(Pq,"<$1")}var o6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},oj=Vx(o6),Kt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(c,u){return o6[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(t,function(c,u){return String.fromCharCode(parseInt(u,16))});var l=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,l)+r(n.slice(l+3))}})(),cj=/[&<>'"]/g,Dq=/[\u0000-\u0008\u000b-\u001f]/g;function br(e){var t=e+"";return t.replace(cj,function(r){return oj[r]}).replace(Dq,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function CO(e){return br(e).replace(/ /g,"_x0020_")}var c6=/[\u0000-\u001f]/g;function dj(e){var t=e+"";return t.replace(cj,function(r){return oj[r]}).replace(/\n/g,"<br/>").replace(c6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Iq(e){var t=e+"";return t.replace(cj,function(r){return oj[r]}).replace(c6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var TO=(function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}})();function Mq(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Fr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qv(e){for(var t="",r=0,a=0,n=0,i=0,l=0,c=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(r++),c=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function OO(e){var t=ro(2*e.length),r,a,n=1,i=0,l=0,c;for(a=0;a<e.length;a+=n)n=1,(c=e.charCodeAt(a))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(a+1)&63),n=2):c<240?(r=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function kO(e){return fl(e,"binary").toString("utf8")}var Uh="foo bar baz",Nr=Pt&&(kO(Uh)==Qv(Uh)&&kO||OO(Uh)==Qv(Uh)&&OO)||Qv,di=Pt?function(e){return fl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},a0=(function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}})(),d6=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),Lq=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Fq=/<\/?(?:vt:)?variant>/g,Uq=/<(?:vt:)([^>]*)>([\s\S]*)</;function RO(e,t){var r=St(e),a=e.match(Lq(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var l=i.replace(Fq,"").match(Uq);l&&n.push({v:Nr(l[2]),t:l[1]})}),n}var u6=/(^\s|\s$|\n)/;function Qa(e,t){return"<"+e+(t.match(u6)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function s0(e){return ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ke(e,t,r){return"<"+e+(r!=null?s0(r):"")+(t!=null?(t.match(u6)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vw(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Bq(e,t){switch(typeof e){case"string":var r=Ke("vt:lpwstr",br(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ke((e|0)==e?"vt:i4":"vt:r8",br(String(e)));case"boolean":return Ke("vt:bool",e?"true":"false")}if(e instanceof Date)return Ke("vt:filetime",vw(e));throw new Error("Unable to serialize "+e)}function uj(e){if(Pt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Nr(uo(aj(e)));throw new Error("Bad input format: expected Buffer or string")}var n0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Oa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$s={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function zq(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function qq(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=a?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(n&15)<<4|i&15,e[r+7]=n>>4|a}var PO=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},DO=Pt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:fl(t)})):PO(e)}:PO,IO=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(Gi(e,n)));return a.join("").replace(ys,"")},fj=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ys,""):IO(e,t,r)}:IO,MO=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},f6=Pt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):MO(e,t,r)}:MO,LO=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(vd(e,n)));return a.join("")},sm=Pt?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):LO(t,r,a)}:LO,m6=function(e,t){var r=Hs(e,t);return r>0?sm(e,t+4,t+4+r-1):""},h6=m6,p6=function(e,t){var r=Hs(e,t);return r>0?sm(e,t+4,t+4+r-1):""},x6=p6,g6=function(e,t){var r=2*Hs(e,t);return r>0?sm(e,t+4,t+4+r-1):""},b6=g6,v6=function(t,r){var a=Hs(t,r);return a>0?fj(t,r+4,r+4+a):""},y6=v6,S6=function(e,t){var r=Hs(e,t);return r>0?sm(e,t+4,t+4+r):""},w6=S6,N6=function(e,t){return zq(e,t)},Cp=N6,mj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pt&&(h6=function(t,r){if(!Buffer.isBuffer(t))return m6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},x6=function(t,r){if(!Buffer.isBuffer(t))return p6(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},b6=function(t,r){if(!Buffer.isBuffer(t))return g6(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},y6=function(t,r){if(!Buffer.isBuffer(t))return v6(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},w6=function(t,r){if(!Buffer.isBuffer(t))return S6(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Cp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):N6(t,r)},mj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var vd=function(e,t){return e[t]},Gi=function(e,t){return e[t+1]*256+e[t]},$q=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Hs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},qo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Hq=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lf(e,t){var r="",a,n,i=[],l,c,u,f;switch(t){case"dbcs":if(f=this.l,Pt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Gi(this,f)),f+=2;e*=2;break;case"utf8":r=sm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=fj(this,this.l,this.l+e);break;case"wstr":return Lf.call(this,e,"dbcs");case"lpstr-ansi":r=h6(this,this.l),e=4+Hs(this,this.l);break;case"lpstr-cp":r=x6(this,this.l),e=4+Hs(this,this.l);break;case"lpwstr":r=b6(this,this.l),e=4+2*Hs(this,this.l);break;case"lpp4":e=4+Hs(this,this.l),r=y6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Hs(this,this.l),r=w6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=vd(this,this.l+e++))!==0;)i.push(Fh(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=Gi(this,this.l+e))!==0;)i.push(Fh(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=vd(this,f),this.l=f+1,c=Lf.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Fh(Gi(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=vd(this,f),this.l=f+1,c=Lf.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Fh(vd(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return a=vd(this,this.l),this.l++,a;case 2:return a=(t==="i"?$q:Gi)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?qo:Hq)(this,this.l),this.l+=4,a):(n=Hs(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Cp(this,this.l):n=Cp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=f6(this,this.l,e);break}}return this.l+=e,r}var Vq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Gq=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Wq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Xq(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)Wq(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Vq(this,t,this.l);break;case 8:if(a=8,r==="f"){qq(this,t,this.l);break}case 16:break;case-4:a=4,Gq(this,t,this.l);break}return this.l+=a,this}function j6(e,t){var r=f6(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ka(e,t){e.l=t,e.read_shift=Lf,e.chk=j6,e.write_shift=Xq}function us(e,t){e.l+=t}function De(e){var t=ro(e);return Ka(t,0),t}function ml(e,t,r){if(e){var a,n,i;Ka(e,e.l||0);for(var l=e.length,c=0,u=0;e.l<l;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var f=u0[c]||u0[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;u=e.l+i;var p=f.f&&f.f(e,i,r);if(e.l=u,t(p,f,c))return}}}function Os(){var e=[],t=Pt?256:2048,r=function(f){var p=De(f);return Ka(p,0),p},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(f){return a&&f<a.length-a.l?a:(n(),a=r(Math.max(f+1,t)))},l=function(){return n(),Ba(e)},c=function(f){n(),a=f,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:c,end:l,_bufs:e}}function qe(e,t,r,a){var n=+t,i;if(!isNaN(n)){a||(a=u0[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var c=0;c!=4;++c)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&mj(r)&&e.push(r)}}function Ff(e,t,r){var a=zr(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function FO(e,t,r){var a=zr(e);return a.s=Ff(a.s,t.s,r),a.e=Ff(a.e,t.s,r),a}function Uf(e,t){if(e.cRel&&e.c<0)for(e=zr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=zr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=yt(e);return!e.cRel&&e.cRel!=null&&(r=Qq(r)),!e.rRel&&e.rRel!=null&&(r=Yq(r)),r}function Jv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Qr(e.s.c)+":"+(e.e.cRel?"":"$")+Qr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+da(e.s.r)+":"+(e.e.rRel?"":"$")+da(e.e.r):Uf(e.s,t.biff)+":"+Uf(e.e,t.biff)}function hj(e){return parseInt(Kq(e),10)-1}function da(e){return""+(e+1)}function Yq(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Kq(e){return e.replace(/\$(\d+)$/,"$1")}function pj(e){for(var t=Jq(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Qr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Qq(e){return e.replace(/^([A-Z])/,"$$$1")}function Jq(e){return e.replace(/^\$([A-Z])/,"$1")}function Zq(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Jr(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function yt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ks(e){var t=e.indexOf(":");return t==-1?{s:Jr(e),e:Jr(e)}:{s:Jr(e.slice(0,t)),e:Jr(e.slice(t+1))}}function _t(e,t){return typeof t>"u"||typeof t=="number"?_t(e.s,e.e):(typeof e!="string"&&(e=yt(e)),typeof t!="string"&&(t=yt(t)),e==t?e:e+":"+t)}function Jt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function UO(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=kn(e.z,r?Pa(t):t)}catch{}try{return e.w=kn((e.XF||{}).numFmtId||(r?14:0),r?Pa(t):t)}catch{return""+t}}function il(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?hl[e.v]||e.v:t==null?UO(e,e.v):UO(e,t))}function fo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function E6(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Jr(a.origin):a.origin;l=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var p=Jt(i["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var v={v:t[m][x]},y=l+m,b=c+x;if(f.s.r>y&&(f.s.r=y),f.s.c>b&&(f.s.c=b),f.e.r<y&&(f.e.r=y),f.e.c<b&&(f.e.c=b),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))v=t[m][x];else if(Array.isArray(v.v)&&(v.f=t[m][x][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(a.nullError)v.t="e",v.v=0;else if(a.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=a.dateNF||gt[14],a.cellDates?(v.t="d",v.w=kn(v.z,Pa(v.v))):(v.t="n",v.v=Pa(v.v),v.w=kn(v.z,v.v))):v.t="s";if(n)i[y]||(i[y]=[]),i[y][b]&&i[y][b].z&&(v.z=i[y][b].z),i[y][b]=v;else{var S=yt({c:b,r:y});i[S]&&i[S].z&&(v.z=i[S].z),i[S]=v}}}return f.s.c<1e7&&(i["!ref"]=_t(f)),i}function pu(e,t){return E6(null,e,t)}function e9(e){return e.read_shift(4,"i")}function Kn(e,t){return t||(t=De(4)),t.write_shift(4,e),t}function os(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function za(e,t){var r=!1;return t==null&&(r=!0,t=De(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function t9(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function r9(e,t){return t||(t=De(4)),t.write_shift(2,0),t.write_shift(2,0),t}function xj(e,t){var r=e.l,a=e.read_shift(1),n=os(e),i=[],l={t:n,h:n};if((a&1)!==0){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(t9(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function a9(e,t){var r=!1;return t==null&&(r=!0,t=De(15+4*e.t.length)),t.write_shift(1,0),za(e.t,t),r?t.slice(0,t.l):t}var s9=xj;function n9(e,t){var r=!1;return t==null&&(r=!0,t=De(23+4*e.t.length)),t.write_shift(1,1),za(e.t,t),t.write_shift(4,1),r9({},t),r?t.slice(0,t.l):t}function Dn(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vc(e,t){return t==null&&(t=De(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function yc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Sc(e,t){return t==null&&(t=De(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var i9=os,A6=za;function gj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Tp(e,t){var r=!1;return t==null&&(r=!0,t=De(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var l9=os,yw=gj,bj=Tp;function vj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Cp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):qo(t,0)>>2;return r?n/100:n}function _6(e,t){t==null&&(t=De(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function C6(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function o9(e,t){return t||(t=De(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wc=C6,xu=o9;function ls(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ic(e,t){return(t||De(8)).write_shift(8,e,"f")}function c9(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var f=Ko[n];f&&(t.rgb=l0(f));break;case 2:t.rgb=l0([l,c,u]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Op(e,t){if(t||(t=De(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function d9(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function u9(e,t){t||(t=De(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function T6(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function f9(e){return T6(e,1)}function m9(e){return T6(e,2)}var yj=2,Cs=3,Bh=11,BO=12,kp=19,zh=64,h9=65,p9=71,x9=4108,g9=4126,Fa=80,O6=81,b9=[Fa,O6],Sw={1:{n:"CodePage",t:yj},2:{n:"Category",t:Fa},3:{n:"PresentationFormat",t:Fa},4:{n:"ByteCount",t:Cs},5:{n:"LineCount",t:Cs},6:{n:"ParagraphCount",t:Cs},7:{n:"SlideCount",t:Cs},8:{n:"NoteCount",t:Cs},9:{n:"HiddenCount",t:Cs},10:{n:"MultimediaClipCount",t:Cs},11:{n:"ScaleCrop",t:Bh},12:{n:"HeadingPairs",t:x9},13:{n:"TitlesOfParts",t:g9},14:{n:"Manager",t:Fa},15:{n:"Company",t:Fa},16:{n:"LinksUpToDate",t:Bh},17:{n:"CharacterCount",t:Cs},19:{n:"SharedDoc",t:Bh},22:{n:"HyperlinksChanged",t:Bh},23:{n:"AppVersion",t:Cs,p:"version"},24:{n:"DigSig",t:h9},26:{n:"ContentType",t:Fa},27:{n:"ContentStatus",t:Fa},28:{n:"Language",t:Fa},29:{n:"Version",t:Fa},255:{},2147483648:{n:"Locale",t:kp},2147483651:{n:"Behavior",t:kp},1919054434:{}},ww={1:{n:"CodePage",t:yj},2:{n:"Title",t:Fa},3:{n:"Subject",t:Fa},4:{n:"Author",t:Fa},5:{n:"Keywords",t:Fa},6:{n:"Comments",t:Fa},7:{n:"Template",t:Fa},8:{n:"LastAuthor",t:Fa},9:{n:"RevNumber",t:Fa},10:{n:"EditTime",t:zh},11:{n:"LastPrinted",t:zh},12:{n:"CreatedDate",t:zh},13:{n:"ModifiedDate",t:zh},14:{n:"PageCount",t:Cs},15:{n:"WordCount",t:Cs},16:{n:"CharCount",t:Cs},17:{n:"Thumbnail",t:p9},18:{n:"Application",t:Fa},19:{n:"DocSecurity",t:Cs},255:{},2147483648:{n:"Locale",t:kp},2147483651:{n:"Behavior",t:kp},1919054434:{}},zO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},v9=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function y9(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var S9=y9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ko=zr(S9),hl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},k6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Nw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},qh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Sj(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function w9(e){var t=Sj();if(!e||!e.match)return t;var r={};if((e.match(hs)||[]).forEach(function(a){var n=St(a);switch(n[0].replace(Rq,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[Nw[n.ContentType]]!==void 0&&t[Nw[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Oa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function R6(e,t){var r=wq(Nw),a=[],n;a[a.length]=fa,a[a.length]=Ke("Types",null,{xmlns:Oa.CT,"xmlns:xsd":Oa.xsd,"xmlns:xsi":Oa.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ke("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(n=e[u][0],a[a.length]=Ke("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:qh[u][t.bookType]||qh[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){a[a.length]=Ke("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:qh[u][t.bookType]||qh[u].xlsx})})},c=function(u){(e[u]||[]).forEach(function(f){a[a.length]=Ke("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Dt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function i0(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bf(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(hs)||[]).forEach(function(n){var i=St(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var c=i.TargetMode==="External"?i.Target:kf(i.Target,t);r[c]=l,a[i.Id]=l}}),r["!id"]=a,r}function Ed(e){var t=[fa,Ke("Relationships",null,{xmlns:Oa.RELS})];return ia(e["!id"]).forEach(function(r){t[t.length]=Ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function pr(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[Dt.HLINK,Dt.XPATH,Dt.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var N9="application/vnd.oasis.opendocument.spreadsheet";function j9(e,t){for(var r=uj(e),a,n;a=n0.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=St(a[0],!1),n.path=="/"&&n.type!==N9)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function E9(e){var t=[fa];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function qO(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function A9(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function _9(e){var t=[fa];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(qO(e[r][0],e[r][1])),t.push(A9("",e[r][0]));return t.push(qO("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function P6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Np.version+"</meta:generator></office:meta></office:document-meta>"}var An=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],C9=(function(){for(var e=new Array(An.length),t=0;t<An.length;++t){var r=An[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e})();function D6(e){var t={};e=Nr(e);for(var r=0;r<An.length;++r){var a=An[r],n=e.match(C9[r]);n!=null&&n.length>0&&(t[a[1]]=Kt(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Br(t[a[1]]))}return t}function Zv(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=br(t),a[a.length]=r?Ke(e,t,r):Qa(e,t))}function I6(e,t){var r=t||{},a=[fa,Ke("cp:coreProperties",null,{"xmlns:cp":Oa.CORE_PROPS,"xmlns:dc":Oa.dc,"xmlns:dcterms":Oa.dcterms,"xmlns:dcmitype":Oa.dcmitype,"xmlns:xsi":Oa.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Zv("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vw(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&Zv("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vw(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=An.length;++i){var l=An[i],c=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Zv(l[0],c,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Qo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],M6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function L6(e,t,r,a){var n=[];if(typeof e=="string")n=RO(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(p){return{v:p}}));var l=typeof t=="string"?RO(t,a).map(function(p){return p.v}):t,c=0,u=0;if(l.length>0)for(var f=0;f!==n.length;f+=2){switch(u=+n[f+1].v,n[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=l.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=l.slice(c,c+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=l.slice(c,c+u);break}c+=u}}function T9(e,t,r){var a={};return t||(t={}),e=Nr(e),Qo.forEach(function(n){var i=(e.match(a0(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Kt(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(a[n[1]]=l[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&L6(a.HeadingPairs,a.TitlesOfParts,t,r),t}function F6(e){var t=[],r=Ke;return e||(e={}),e.Application="SheetJS",t[t.length]=fa,t[t.length]=Ke("Properties",null,{xmlns:Oa.EXT_PROPS,"xmlns:vt":Oa.vt}),Qo.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=br(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+br(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var O9=/<[^>]+>[^<]*/g;function k9(e,t){var r={},a="",n=e.match(O9);if(n)for(var i=0;i!=n.length;++i){var l=n[i],c=St(l);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Kt(c.name);break;case"</property>":a=null;break;default:if(l.indexOf("<vt:")===0){var u=l.split(">"),f=u[0].slice(4),p=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[a]=Kt(p);break;case"bool":r[a]=Fr(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(p,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(p);break;case"filetime":case"date":r[a]=Br(p);break;case"cy":case"error":r[a]=Kt(p);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,u)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function U6(e){var t=[fa,Ke("Properties",null,{xmlns:Oa.CUST_PROPS,"xmlns:vt":Oa.vt})];if(!e)return t.join("");var r=1;return ia(e).forEach(function(n){++r,t[t.length]=Ke("property",Bq(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:br(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var jw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ey;function R9(e,t,r){ey||(ey=Vx(jw)),t=ey[t]||t,e[t]=r}function P9(e,t){var r=[];return ia(jw).map(function(a){for(var n=0;n<An.length;++n)if(An[n][1]==a)return An[n];for(n=0;n<Qo.length;++n)if(Qo[n][1]==a)return Qo[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(Qa(jw[a[1]]||a[1],n))}}),Ke("DocumentProperties",r.join(""),{xmlns:$s.o})}function D9(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<An.length;++l)if(i==An[l][1])return;for(l=0;l<Qo.length;++l)if(i==Qo[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var c=e[i],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),n.push(Ke(CO(i),c,{"dt:dt":u}))}}),t&&ia(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Ke(CO(i),l,{"dt:dt":c}))}}),"<"+a+' xmlns="'+$s.o+'">'+n.join("")+"</"+a+">"}function wj(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function I9(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=De(8);return l.write_shift(4,a),l.write_shift(4,n),l}function B6(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function z6(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function q6(e,t,r){return t===31?z6(e):B6(e,t,r)}function Ew(e,t,r){return q6(e,t,r===!1?0:4)}function M9(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return q6(e,t,0)}function L9(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(ys,""),e.l-n&2&&(e.l+=2)}return r}function F9(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(ys,"");return r}function U9(e){var t=e.l,r=Rp(e,O6);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=Rp(e,Cs);return[r,a]}function B9(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(U9(e));return r}function $O(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),l=e.read_shift(4);a[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(ys,"").replace(Of,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function $6(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function z9(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Rp(e,t,r){var a=e.read_shift(2),n,i=r||{};if(e.l+=2,t!==BO&&a!==t&&b9.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===BO?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return B6(e,a,4).replace(ys,"");case 31:return z6(e);case 64:return wj(e);case 65:return $6(e);case 71:return z9(e);case 80:return Ew(e,a,!i.raw).replace(ys,"");case 81:return M9(e,a).replace(ys,"");case 4108:return B9(e);case 4126:case 4127:return a==4127?L9(e):F9(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function HO(e,t){var r=De(4),a=De(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=De(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=I9(t);break;case 31:case 80:for(a=De(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ba([r,a])}function VO(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],l=0,c=0,u=-1,f={};for(l=0;l!=n;++l){var p=e.read_shift(4),m=e.read_shift(4);i[l]=[p,m+r]}i.sort(function(w,E){return w[1]-E[1]});var x={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var v=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,v=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],v=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],v=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(v=!1,e.l=i[l][1]),v)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var y=t[i[l][0]];if(x[y.n]=Rp(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Gn(c=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[l][0]===1){if(c=x.CodePage=Rp(e,yj),Gn(c),u!==-1){var b=e.l;e.l=i[u][1],f=$O(e,c),e.l=b}}else if(i[l][0]===0){if(c===0){u=l,e.l=i[l+1][1];continue}f=$O(e,c)}else{var S=f[i[l][0]],_;switch(e[e.l]){case 65:e.l+=4,_=$6(e);break;case 30:e.l+=4,_=Ew(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=Ew(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=ca(e,4);break;case 64:e.l+=4,_=Br(wj(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[S]=_}}return e.l=r+a,x}var H6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function q9(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function GO(e,t,r){var a=De(8),n=[],i=[],l=8,c=0,u=De(8),f=De(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),n.push(f),l+=8+u.length,!t){f=De(8),f.write_shift(4,0),n.unshift(f);var p=[De(4)];for(p[0].write_shift(4,e.length),c=0;c<e.length;++c){var m=e[c][0];for(u=De(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=Ba(p),i.unshift(u),l+=8+u.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(H6.indexOf(e[c][0])>-1||M6.indexOf(e[c][0])>-1)&&e[c][1]!=null){var x=e[c][1],v=0;if(t){v=+t[e[c][0]];var y=r[v];if(y.p=="version"&&typeof x=="string"){var b=x.split(".");x=(+b[0]<<16)+(+b[1]||0)}u=HO(y.t,x)}else{var S=q9(x);S==-1&&(S=31,x=String(x)),u=HO(S,x)}i.push(u),f=De(8),f.write_shift(4,t?v:2+c),n.push(f),l+=8+u.length}var _=8*(i.length+1);for(c=0;c<i.length;++c)n[c].write_shift(4,_),_+=i[c].length;return a.write_shift(4,l),a.write_shift(4,i.length),Ba([a].concat(n).concat(i))}function WO(e,t,r){var a=e.content;if(!a)return{};Ka(a,0);var n,i,l,c,u=0;a.chk("feff","Byte Order: "),a.read_shift(2);var f=a.read_shift(4),p=a.read_shift(16);if(p!==dt.utils.consts.HEADER_CLSID&&p!==r)throw new Error("Bad PropertySet CLSID "+p);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),c=a.read_shift(4),n===1&&c!==a.l)throw new Error("Length mismatch: "+c+" !== "+a.l);n===2&&(l=a.read_shift(16),u=a.read_shift(4));var m=VO(a,t),x={SystemIdentifier:f};for(var v in m)x[v]=m[v];if(x.FMTID=i,n===1)return x;if(u-a.l==2&&(a.l+=2),a.l!==u)throw new Error("Length mismatch 2: "+a.l+" !== "+u);var y;try{y=VO(a,null)}catch{}for(v in y)x[v]=y[v];return x.FMTID=[i,l],x}function XO(e,t,r,a,n,i){var l=De(n?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,dt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var u=GO(e,r,a);if(c.push(u),n){var f=GO(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+u.length),c.push(f)}return Ba(c)}function $l(e,t){return e.read_shift(t),null}function $9(e,t){t||(t=De(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function H9(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function ca(e,t){return e.read_shift(t)===1}function bs(e,t){return t||(t=De(2)),t.write_shift(2,+!!e),t}function ya(e){return e.read_shift(2,"u")}function yn(e,t){return t||(t=De(2)),t.write_shift(2,e),t}function V6(e,t){return H9(e,t,ya)}function V9(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function G6(e,t,r){return r||(r=De(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function nm(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function G9(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,i=1+(r&1),l=0,c,u={};n&&(l=e.read_shift(2)),a&&(c=e.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",p=t===0?"":e.read_shift(t,f);return n&&(e.l+=4*l),a&&(e.l+=c),u.t=p,n||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function W9(e){var t=e.t||"",r=De(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=De(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return Ba(n)}function lc(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function im(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):lc(e,a,r)}function Nc(e,t,r){if(r.biff>5)return im(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function W6(e,t,r){return r||(r=De(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function X9(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Y9(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(ys,"");return a&&(e.l+=24),n}function K9(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(ys,"");return r+l}function Q9(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Y9(e);case"0303000000000000c000000000000046":return K9(e);default:throw new Error("Unsupported Moniker "+r)}}function $h(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ys,""):"";return r}function YO(e,t){t||(t=De(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function J9(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,l,c,u,f="",p,m;n&16&&(i=$h(e,r-e.l)),n&128&&(l=$h(e,r-e.l)),(n&257)===257&&(c=$h(e,r-e.l)),(n&257)===1&&(u=Q9(e,r-e.l)),n&8&&(f=$h(e,r-e.l)),n&32&&(p=e.read_shift(16)),n&64&&(m=wj(e)),e.l=r;var x=l||c||u||"";x&&f&&(x+="#"+f),x||(x="#"+f),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var v={Target:x};return p&&(v.guid=p),m&&(v.time=m),i&&(v.Tooltip=i),v}function Z9(e){var t=De(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)a=a.slice(1),YO(a,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var c=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&YO(n>-1?a.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function X6(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function Y6(e,t){var r=X6(e);return r[3]=0,r}function Si(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function oc(e,t,r,a){return a||(a=De(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function e$(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function t$(e,t,r){return t===0?"":Nc(e,t,r)}function r$(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function K6(e){var t=e.read_shift(2),r=vj(e);return[t,r]}function a$(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=nm(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function Xx(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function Q6(e,t){return t||(t=De(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function J6(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var s$=J6;function Z6(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function n$(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function i$(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function es(e){e.l+=2,e.l+=e.read_shift(2)}var l$={0:es,4:es,5:es,6:es,7:i$,8:es,9:es,10:es,11:es,12:es,13:n$,14:es,15:es,16:es,17:es,18:es,19:es,20:es,21:Z6};function o$(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(l$[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function Hh(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Nj(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function c$(e,t){return t===0||e.read_shift(2),1200}function d$(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=Nc(e,0,r);return e.read_shift(t+a-e.l),n}function u$(e,t){var r=!t||t.biff==8,a=De(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function f$(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function m$(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=nm(e,0,r);return l.length===0&&(l="Sheet1"),{pos:a,hs:n,dt:i,name:l}}function h$(e,t){var r=!t||t.biff>=8?2:1,a=De(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function p$(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<r;++l)i.push(G9(e));return i.Count=a,i.Unique=n,i}function x$(e,t){var r=De(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=W9(e[n]);var i=Ba([r].concat(a));return i.parts=[r.length].concat(a.map(function(l){return l.length})),i}function g$(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function b$(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function v$(e){var t=e$(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function y$(e){return e.read_shift(2),e.read_shift(4)}function KO(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function S$(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:i,CurTab:l,FirstTab:c,Selected:u,TabRatio:f}}function w$(){var e=De(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function N$(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function j$(e){var t=De(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function E$(){}function A$(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=nm(e,0,r),a}function _$(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,i=De(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function C$(e){var t=Si(e);return t.isst=e.read_shift(4),t}function T$(e,t,r,a){var n=De(10);return oc(e,t,a,n),n.write_shift(4,r),n}function O$(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=Si(e);r.biff==2&&e.l++;var i=im(e,a-e.l,r);return n.val=i,n}function k$(e,t,r,a,n){var i=!n||n.biff==8,l=De(8+ +i+(1+i)*r.length);return oc(e,t,a,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function R$(e,t,r){var a=e.read_shift(2),n=Nc(e,0,r);return[a,n]}function P$(e,t,r,a){var n=r&&r.biff==5;a||(a=De(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var D$=Nc;function QO(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2),u=e.read_shift(2);return e.l=a,{s:{r:i,c},e:{r:l,c:u}}}function I$(e,t){var r=t.biff==8||!t.biff?4:2,a=De(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function M$(e){var t=e.read_shift(2),r=e.read_shift(2),a=K6(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function L$(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(K6(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:l,rkrec:i}}function F$(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:l,ixfe:i}}function U$(e,t,r,a){var n={},i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2);return n.patternType=v9[c>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=c&127,n.icvBottom=c>>7&127,n.icvDiag=c>>14&127,n.dgDiag=c>>21&15,n.icvFore=u&127,n.icvBack=u>>7&127,n.fsxButton=u>>14&1),n}function B$(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=U$(e,t,a.fStyle,r),a}function JO(e,t,r,a){var n=r&&r.biff==5;a||(a=De(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function z$(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function q$(e){var t=De(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function ZO(e,t,r){var a=Si(e);(r.biff==2||t==9)&&++e.l;var n=V9(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function $$(e,t,r,a,n,i){var l=De(8);return oc(e,t,a,l),G6(r,i,l),l}function H$(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Si(e),n=ls(e);return a.val=n,a}function V$(e,t,r,a){var n=De(14);return oc(e,t,a,n),ic(r,n),n}var e4=t$;function G$(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=lc(e,i),c=[];a>e.l;)c.push(im(e));return[i,n,l,c]}function t4(e,t,r){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=a$(e,t-2,r)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var W$=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function r4(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=lc(e,l,r);n&32&&(f=W$[f.charCodeAt(0)]);var p=a-e.l;r&&r.biff==2&&--p;var m=a==e.l||c===0||!(p>0)?[]:oX(e,p,r,c);return{chKey:i,Name:f,itab:u,rgce:m}}function eM(e,t,r){if(r.biff<8)return X$(e,t,r);for(var a=[],n=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(r$(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function X$(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=nm(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Y$(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=lc(e,a,r),l=lc(e,n,r);return[i,l]}function K$(e,t,r){var a=J6(e);e.l++;var n=e.read_shift(1);return t-=8,[cX(e,t,r),n,a]}function a4(e,t,r){var a=s$(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,iX(e,t,r)]}function Q$(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function J$(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=Nc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},c,l,i]}}function Z$(e,t,r){return J$(e,t,r)}function eH(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Xx(e));return r}function tH(e){var t=De(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Q6(e[r],t);return t}function rH(e,t,r){if(r&&r.biff<8)return sH(e,t,r);var a=Z6(e),n=o$(e,t-22,a[1]);return{cmo:a,ft:n}}var aH={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function sH(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((aH[a]||us)(e,t,r)),{cmo:[n,a,i],ft:l}}function nH(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=X9(e,6,r);var c=e.read_shift(2);e.read_shift(2),ya(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-a!=e.lens[f])throw new Error("TxO: bad continue record");var p=e[e.l],m=lc(e,e.lens[f+1]-e.lens[f]-1);if(n+=m,n.length>=(p?c:2*c))break}if(n.length!==c&&n.length!==c*2)throw new Error("cchText: "+c+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function iH(e,t){var r=Xx(e);e.l+=16;var a=J9(e,t-24);return[r,a]}function lH(e){var t=De(24),r=Jr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return Ba([t,Z9(e[1])])}function oH(e,t){e.read_shift(2);var r=Xx(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(ys,""),[r,a]}function cH(e){var t=e[1].Tooltip,r=De(10+2*(t.length+1));r.write_shift(2,2048);var a=Jr(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function dH(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=zO[r]||r,r=e.read_shift(2),t[1]=zO[r]||r,t}function uH(e){return e||(e=De(4)),e.write_shift(2,1),e.write_shift(2,1),e}function fH(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Y6(e));return r}function mH(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Y6(e));return r}function hH(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function tM(e,t,r){if(!r.cellStyles)return us(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var f={s:n,e:i,w:l,ixfe:c,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function pH(e,t){var r=De(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function xH(e,t){var r={};return t<32||(e.l+=16,r.header=ls(e),r.footer=ls(e),e.l+=2),r}function gH(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function bH(e){for(var t=De(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var vH=Si,yH=V6,SH=im;function wH(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function NH(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Si(e);++e.l;var n=Nc(e,t-7,r);return a.t="str",a.val=n,a}function jH(e){var t=Si(e);++e.l;var r=ls(e);return t.t="n",t.val=r,t}function EH(e,t,r){var a=De(15);return dm(a,e,t),a.write_shift(8,r,"f"),a}function AH(e){var t=Si(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function _H(e,t,r){var a=De(9);return dm(a,e,t),a.write_shift(2,r),a}function CH(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function TH(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function OH(e,t,r){var a=e.l+t,n=Si(e),i=e.read_shift(2),l=lc(e,i,r);return e.l=a,n.t="str",n.val=l,n}var kH=[2,3,48,49,131,139,140,245],Aw=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Vx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,u){var f=[],p=ro(1);switch(u.type){case"base64":p=Vs(Ks(c));break;case"binary":p=Vs(c);break;case"buffer":case"array":p=c;break}Ka(p,0);var m=p.read_shift(1),x=!!(m&136),v=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:v=!0,x=!0;break;case 49:v=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,S=521;m==2&&(b=p.read_shift(2)),p.l+=3,m!=2&&(b=p.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(S=p.read_shift(2));var _=p.read_shift(2),w=u.codepage||1252;m!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(w=e[p[p.l]]),p.l+=1,p.l+=2),y&&(p.l+=36);for(var E=[],O={},A=Math.min(p.length,m==2?521:S-10-(v?264:0)),T=y?32:11;p.l<A&&p[p.l]!=13;)switch(O={},O.name=e0.utils.decode(w,p.slice(p.l,p.l+T)).replace(/[\u0000\r\n].*$/g,""),p.l+=T,O.type=String.fromCharCode(p.read_shift(1)),m!=2&&!y&&(O.offset=p.read_shift(4)),O.len=p.read_shift(1),m==2&&(O.offset=p.read_shift(2)),O.dec=p.read_shift(1),O.name.length&&E.push(O),m!=2&&(p.l+=y?13:14),O.type){case"B":(!v||O.len!=8)&&u.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(p[p.l]!==13&&(p.l=S-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=S;var N=0,D=0;for(f[0]=[],D=0;D!=E.length;++D)f[0][D]=E[D].name;for(;b-- >0;){if(p[p.l]===42){p.l+=_;continue}for(++p.l,f[++N]=[],D=0,D=0;D!=E.length;++D){var L=p.slice(p.l,p.l+E[D].len);p.l+=E[D].len,Ka(L,0);var M=e0.utils.decode(w,L);switch(E[D].type){case"C":M.trim().length&&(f[N][D]=M.replace(/\s+$/,""));break;case"D":M.length===8?f[N][D]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):f[N][D]=M;break;case"F":f[N][D]=parseFloat(M.trim());break;case"+":case"I":f[N][D]=y?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":f[N][D]=!0;break;case"N":case"F":f[N][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[N][D]="##MEMO##"+(y?parseInt(M.trim(),10):L.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(f[N][D]=+M||0);break;case"@":f[N][D]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":f[N][D]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":f[N][D]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[N][D]=-L.read_shift(-8,"f");break;case"B":if(v&&E[D].len==8){f[N][D]=L.read_shift(8,"f");break}case"G":case"P":L.l+=E[D].len;break;case"0":if(E[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[D].type)}}}if(m!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=E,f}function a(c,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var p=pu(r(c,f),f);return p["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,p}function n(c,u){try{return fo(a(c,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,u){var f=u||{};if(+f.codepage>=0&&Gn(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=Os(),m=Mp(c,{header:1,raw:!0,cellDates:!0}),x=m[0],v=m.slice(1),y=c["!cols"]||[],b=0,S=0,_=0,w=1;for(b=0;b<x.length;++b){if(((y[b]||{}).DBF||{}).name){x[b]=y[b].DBF.name,++_;continue}if(x[b]!=null){if(++_,typeof x[b]=="number"&&(x[b]=x[b].toString(10)),typeof x[b]!="string")throw new Error("DBF Invalid column name "+x[b]+" |"+typeof x[b]+"|");if(x.indexOf(x[b])!==b){for(S=0;S<1024;++S)if(x.indexOf(x[b]+"_"+S)==-1){x[b]+="_"+S;break}}}}var E=Jt(c["!ref"]),O=[],A=[],T=[];for(b=0;b<=E.e.c-E.s.c;++b){var N="",D="",L=0,M=[];for(S=0;S<v.length;++S)v[S][b]!=null&&M.push(v[S][b]);if(M.length==0||x[b]==null){O[b]="?";continue}for(S=0;S<M.length;++S){switch(typeof M[S]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=M[S]instanceof Date?"D":"C";break;default:D="C"}L=Math.max(L,String(M[S]).length),N=N&&N!=D?"C":D}L>250&&(L=250),D=((y[b]||{}).DBF||{}).type,D=="C"&&y[b].DBF.len>L&&(L=y[b].DBF.len),N=="B"&&D=="N"&&(N="N",T[b]=y[b].DBF.dec,L=y[b].DBF.len),A[b]=N=="C"||D=="N"?L:i[N]||0,w+=A[b],O[b]=N}var k=p.next(32);for(k.write_shift(4,318902576),k.write_shift(4,v.length),k.write_shift(2,296+32*_),k.write_shift(2,w),b=0;b<4;++b)k.write_shift(4,0);for(k.write_shift(4,0|(+t[HI]||3)<<8),b=0,S=0;b<x.length;++b)if(x[b]!=null){var I=p.next(32),V=(x[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,V,"sbcs"),I.write_shift(1,O[b]=="?"?"C":O[b],"sbcs"),I.write_shift(4,S),I.write_shift(1,A[b]||i[O[b]]||0),I.write_shift(1,T[b]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),S+=A[b]||i[O[b]]||0}var q=p.next(264);for(q.write_shift(4,13),b=0;b<65;++b)q.write_shift(4,0);for(b=0;b<v.length;++b){var z=p.next(w);for(z.write_shift(1,0),S=0;S<x.length;++S)if(x[S]!=null)switch(O[S]){case"L":z.write_shift(1,v[b][S]==null?63:v[b][S]?84:70);break;case"B":z.write_shift(8,v[b][S]||0,"f");break;case"N":var R="0";for(typeof v[b][S]=="number"&&(R=v[b][S].toFixed(T[S]||0)),_=0;_<A[S]-R.length;++_)z.write_shift(1,32);z.write_shift(1,R,"sbcs");break;case"D":v[b][S]?(z.write_shift(4,("0000"+v[b][S].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(v[b][S].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+v[b][S].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var W=String(v[b][S]!=null?v[b][S]:"").slice(0,A[S]);for(z.write_shift(1,W,"sbcs"),_=0;_<A[S]-W.length;++_)z.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}})(),rM=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,v){var y=e[v];return typeof y=="number"?hO(y):y},a=function(x,v,y){var b=v.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return b==59?x:hO(b)};e["|"]=254;function n(x,v){switch(v.type){case"base64":return i(Ks(x),v);case"binary":return i(x,v);case"buffer":return i(Pt&&Buffer.isBuffer(x)?x.toString("binary"):uo(x),v);case"array":return i(nc(x),v)}throw new Error("Unrecognized type "+v.type)}function i(x,v){var y=x.split(/[\n\r]+/),b=-1,S=-1,_=0,w=0,E=[],O=[],A=null,T={},N=[],D=[],L=[],M=0,k;for(+v.codepage>=0&&Gn(+v.codepage);_!==y.length;++_){M=0;var I=y[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),V=I.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),q=V[0],z;if(I.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&O.push(I.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,W=!1,X=!1,B=!1,ee=-1,Y=-1;for(w=1;w<V.length;++w)switch(V[w].charAt(0)){case"A":break;case"X":S=parseInt(V[w].slice(1))-1,W=!0;break;case"Y":for(b=parseInt(V[w].slice(1))-1,W||(S=0),k=E.length;k<=b;++k)E[k]=[];break;case"K":z=V[w].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Yn(z))?isNaN(Dd(z).getDate())||(z=Br(z)):(z=Yn(z),A!==null&&mu(A)&&(z=Wx(z))),R=!0;break;case"E":B=!0;var F=Ad(V[w].slice(1),{r:b,c:S});E[b][S]=[E[b][S],F];break;case"S":X=!0,E[b][S]=[E[b][S],"S5S"];break;case"G":break;case"R":ee=parseInt(V[w].slice(1))-1;break;case"C":Y=parseInt(V[w].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+I)}if(R&&(E[b][S]&&E[b][S].length==2?E[b][S][0]=z:E[b][S]=z,A=null),X){if(B)throw new Error("SYLK shared formula cannot have own formula");var K=ee>-1&&E[ee][Y];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");E[b][S][1]=yM(K[1],{r:b-ee,c:S-Y})}break;case"F":var J=0;for(w=1;w<V.length;++w)switch(V[w].charAt(0)){case"X":S=parseInt(V[w].slice(1))-1,++J;break;case"Y":for(b=parseInt(V[w].slice(1))-1,k=E.length;k<=b;++k)E[k]=[];break;case"M":M=parseInt(V[w].slice(1))/20;break;case"F":break;case"G":break;case"P":A=O[parseInt(V[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=V[w].slice(1).split(" "),k=parseInt(L[0],10);k<=parseInt(L[1],10);++k)M=parseInt(L[2],10),D[k-1]=M===0?{hidden:!0}:{wch:M},ao(D[k-1]);break;case"C":S=parseInt(V[w].slice(1))-1,D[S]||(D[S]={});break;case"R":b=parseInt(V[w].slice(1))-1,N[b]||(N[b]={}),M>0?(N[b].hpt=M,N[b].hpx=Md(M)):M===0&&(N[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+I)}J<1&&(A=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+I)}}return N.length>0&&(T["!rows"]=N),D.length>0&&(T["!cols"]=D),v&&v.sheetRows&&(E=E.slice(0,v.sheetRows)),[E,T]}function l(x,v){var y=n(x,v),b=y[0],S=y[1],_=pu(b,v);return ia(S).forEach(function(w){_[w]=S[w]}),_}function c(x,v){return fo(l(x,v),v)}function u(x,v,y,b){var S="C;Y"+(y+1)+";X"+(b+1)+";K";switch(x.t){case"n":S+=x.v||0,x.f&&!x.F&&(S+=";E"+Tj(x.f,{r:y,c:b}));break;case"b":S+=x.v?"TRUE":"FALSE";break;case"e":S+=x.w||x.v;break;case"d":S+='"'+(x.w||x.v)+'"';break;case"s":S+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function f(x,v){v.forEach(function(y,b){var S="F;W"+(b+1)+" "+(b+1)+" ";y.hidden?S+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=o0(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=c0(y.wpx)),typeof y.wch=="number"&&(S+=Math.round(y.wch))),S.charAt(S.length-1)!=" "&&x.push(S)})}function p(x,v){v.forEach(function(y,b){var S="F;";y.hidden?S+="M0;":y.hpt?S+="M"+20*y.hpt+";":y.hpx&&(S+="M"+20*d0(y.hpx)+";"),S.length>2&&x.push(S+"R"+(b+1))})}function m(x,v){var y=["ID;PWXL;N;E"],b=[],S=Jt(x["!ref"]),_,w=Array.isArray(x),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&f(y,x["!cols"]),x["!rows"]&&p(y,x["!rows"]),y.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var O=S.s.r;O<=S.e.r;++O)for(var A=S.s.c;A<=S.e.c;++A){var T=yt({r:O,c:A});_=w?(x[O]||[])[A]:x[T],!(!_||_.v==null&&(!_.f||_.F))&&b.push(u(_,x,O,A))}return y.join(E)+E+b.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:l,from_sheet:m}})(),aM=(function(){function e(i,l){switch(l.type){case"base64":return t(Ks(i),l);case"binary":return t(i,l);case"buffer":return t(Pt&&Buffer.isBuffer(i)?i.toString("binary"):uo(i),l);case"array":return t(nc(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var c=i.split(`
`),u=-1,f=-1,p=0,m=[];p!==c.length;++p){if(c[p].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var x=c[p].trim().split(","),v=x[0],y=x[1];++p;for(var b=c[p]||"";(b.match(/["]/g)||[]).length&1&&p<c.length-1;)b+=`
`+c[++p];switch(b=b.trim(),+v){case-1:if(b==="BOT"){m[++u]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[u][f]=!0:b==="FALSE"?m[u][f]=!1:isNaN(Yn(y))?isNaN(Dd(y).getDate())?m[u][f]=y:m[u][f]=Br(y):m[u][f]=Yn(y),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[u][f++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(i,l){return pu(e(i,l),l)}function a(i,l){return fo(r(i,l),l)}var n=(function(){var i=function(u,f,p,m,x){u.push(f),u.push(p+","+m),u.push('"'+x.replace(/"/g,'""')+'"')},l=function(u,f,p,m){u.push(f+","+p),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],p=Jt(u["!ref"]),m,x=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,p.e.r-p.s.r+1,""),i(f,"TUPLES",0,p.e.c-p.s.c+1,""),i(f,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(f,-1,0,"BOT");for(var y=p.s.c;y<=p.e.c;++y){var b=yt({r:v,c:y});if(m=x?(u[v]||[])[y]:u[b],!m){l(f,1,0,"");continue}switch(m.t){case"n":var S=m.w;!S&&m.v!=null&&(S=m.v),S==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,S,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=kn(m.z||gt[14],Pa(Br(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var _=`\r
`,w=f.join(_);return w}})();return{to_workbook:a,to_sheet:r,from_sheet:n}})(),sM=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var v=m.split(`
`),y=-1,b=-1,S=0,_=[];S!==v.length;++S){var w=v[S].trim().split(":");if(w[0]==="cell"){var E=Jr(w[1]);if(_.length<=E.r)for(y=_.length;y<=E.r;++y)_[y]||(_[y]=[]);switch(y=E.r,b=E.c,w[2]){case"t":_[y][b]=e(w[3]);break;case"v":_[y][b]=+w[3];break;case"vtf":var O=w[w.length-1];case"vtc":switch(w[3]){case"nl":_[y][b]=!!+w[4];break;default:_[y][b]=+w[4];break}w[2]=="vtf"&&(_[y][b]=[_[y][b],O])}}}return x&&x.sheetRows&&(_=_.slice(0,x.sheetRows)),_}function a(m,x){return pu(r(m,x),x)}function n(m,x){return fo(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var x=[],v=[],y,b="",S=ks(m["!ref"]),_=Array.isArray(m),w=S.s.r;w<=S.e.r;++w)for(var E=S.s.c;E<=S.e.c;++E)if(b=yt({r:w,c:E}),y=_?(m[w]||[])[E]:m[b],!(!y||y.v==null||y.t==="z")){switch(v=["cell",b,"t"],y.t){case"s":case"str":v.push(t(y.v));break;case"n":y.f?(v[2]="vtf",v[3]="n",v[4]=y.v,v[5]=t(y.f)):(v[2]="v",v[3]=y.v);break;case"b":v[2]="vt"+(y.f?"f":"c"),v[3]="nl",v[4]=y.v?"1":"0",v[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var O=Pa(Br(y.v));v[2]="vtc",v[3]="nd",v[4]=""+O,v[5]=y.w||kn(y.z||gt[14],O);break;case"e":continue}x.push(v.join(":"))}return x.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function p(m){return[i,l,c,l,f(m),u].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:p}})(),Id=(function(){function e(p,m,x,v,y){y.raw?m[x][v]=p:p===""||(p==="TRUE"?m[x][v]=!0:p==="FALSE"?m[x][v]=!1:isNaN(Yn(p))?isNaN(Dd(p).getDate())?m[x][v]=p:m[x][v]=Br(p):m[x][v]=Yn(p))}function t(p,m){var x=m||{},v=[];if(!p||p.length===0)return v;for(var y=p.split(/[\r\n]/),b=y.length-1;b>=0&&y[b].length===0;)--b;for(var S=10,_=0,w=0;w<=b;++w)_=y[w].indexOf(" "),_==-1?_=y[w].length:_++,S=Math.max(S,_);for(w=0;w<=b;++w){v[w]=[];var E=0;for(e(y[w].slice(0,S).trim(),v,w,E,x),E=1;E<=(y[w].length-S)/10+1;++E)e(y[w].slice(S+(E-1)*10,S+E*10).trim(),v,w,E,x)}return x.sheetRows&&(v=v.slice(0,x.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(p){for(var m={},x=!1,v=0,y=0;v<p.length;++v)(y=p.charCodeAt(v))==34?x=!x:!x&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&y.push([m[v],v]);if(!y.length){m=a;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&y.push([m[v],v])}return y.sort(function(b,S){return b[0]-S[0]||a[b[1]]-a[S[1]]}),r[y.pop()[1]]||44}function i(p,m){var x=m||{},v="",y=x.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=n(p.slice(0,1024)):x&&x.FS?v=x.FS:v=n(p.slice(0,1024));var S=0,_=0,w=0,E=0,O=0,A=v.charCodeAt(0),T=!1,N=0,D=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var L=x.dateNF!=null?gq(x.dateNF):null;function M(){var k=p.slice(E,O),I={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)I.t="z";else if(x.raw)I.t="s",I.v=k;else if(k.trim().length===0)I.t="s",I.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(I.t="s",I.v=k.slice(2,-1).replace(/""/g,'"')):GG(k)?(I.t="n",I.f=k.slice(1)):(I.t="s",I.v=k);else if(k=="TRUE")I.t="b",I.v=!0;else if(k=="FALSE")I.t="b",I.v=!1;else if(!isNaN(w=Yn(k)))I.t="n",x.cellText!==!1&&(I.w=k),I.v=w;else if(!isNaN(Dd(k).getDate())||L&&k.match(L)){I.z=x.dateNF||gt[14];var V=0;L&&k.match(L)&&(k=bq(k,x.dateNF,k.match(L)||[]),V=1),x.cellDates?(I.t="d",I.v=Br(k,V)):(I.t="n",I.v=Pa(Br(k,V))),x.cellText!==!1&&(I.w=kn(I.z,I.v instanceof Date?Pa(I.v):I.v)),x.cellNF||delete I.z}else I.t="s",I.v=k;if(I.t=="z"||(x.dense?(y[S]||(y[S]=[]),y[S][_]=I):y[yt({c:_,r:S})]=I),E=O+1,D=p.charCodeAt(E),b.e.c<_&&(b.e.c=_),b.e.r<S&&(b.e.r=S),N==A)++_;else if(_=0,++S,x.sheetRows&&x.sheetRows<=S)return!0}e:for(;O<p.length;++O)switch(N=p.charCodeAt(O)){case 34:D===34&&(T=!T);break;case A:case 10:case 13:if(!T&&M())break e;break}return O-E>0&&M(),y["!ref"]=_t(b),y}function l(p,m){return!(m&&m.PRN)||m.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?i(p,m):pu(t(p,m),m)}function c(p,m){var x="",v=m.type=="string"?[0,0,0,0]:Fj(p,m);switch(m.type){case"base64":x=Ks(p);break;case"binary":x=p;break;case"buffer":m.codepage==65001?x=p.toString("utf8"):m.codepage&&typeof e0<"u"||(x=Pt&&Buffer.isBuffer(p)?p.toString("binary"):uo(p));break;case"array":x=nc(p);break;case"string":x=p;break;default:throw new Error("Unrecognized type "+m.type)}return v[0]==239&&v[1]==187&&v[2]==191?x=Nr(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Nr(x):m.type=="binary"&&typeof e0<"u",x.slice(0,19)=="socialcalc:version:"?sM.to_sheet(m.type=="string"?x:Nr(x),m):l(x,m)}function u(p,m){return fo(c(p,m),m)}function f(p){for(var m=[],x=Jt(p["!ref"]),v,y=Array.isArray(p),b=x.s.r;b<=x.e.r;++b){for(var S=[],_=x.s.c;_<=x.e.c;++_){var w=yt({r:b,c:_});if(v=y?(p[b]||[])[_]:p[w],!v||v.v==null){S.push("          ");continue}for(var E=(v.w||(il(v),v.w)||"").slice(0,10);E.length<10;)E+=" ";S.push(E+(_===0?" ":""))}m.push(S.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:f}})();function RH(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=rM.to_workbook(e,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return Id.to_workbook(e,t)}}var Jo=(function(){function e(F,K,J){if(F){Ka(F,F.l||0);for(var H=J.Enum||ee;F.l<F.length;){var ce=F.read_shift(2),le=H[ce]||H[65535],xe=F.read_shift(2),se=F.l+xe,fe=le.f&&le.f(F,xe,J);if(F.l=se,K(fe,le,ce))return}}}function t(F,K){switch(K.type){case"base64":return r(Vs(Ks(F)),K);case"binary":return r(Vs(F),K);case"buffer":case"array":return r(F,K)}throw"Unsupported type "+K.type}function r(F,K){if(!F)return F;var J=K||{},H=J.dense?[]:{},ce="Sheet1",le="",xe=0,se={},fe=[],we=[],G={s:{r:0,c:0},e:{r:0,c:0}},He=J.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)J.Enum=ee,e(F,function(ye,$e,rt){switch(rt){case 0:J.vers=ye,ye>=4096&&(J.qpro=!0);break;case 6:G=ye;break;case 204:ye&&(le=ye);break;case 222:le=ye;break;case 15:case 51:J.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:rt==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=J.dateNF||gt[14],J.cellDates&&(ye[1].t="d",ye[1].v=Wx(ye[1].v))),J.qpro&&ye[3]>xe&&(H["!ref"]=_t(G),se[ce]=H,fe.push(ce),H=J.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},xe=ye[3],ce=le||"Sheet"+(xe+1),le="");var it=J.dense?(H[ye[0].r]||[])[ye[0].c]:H[yt(ye[0])];if(it){it.t=ye[1].t,it.v=ye[1].v,ye[1].z!=null&&(it.z=ye[1].z),ye[1].f!=null&&(it.f=ye[1].f);break}J.dense?(H[ye[0].r]||(H[ye[0].r]=[]),H[ye[0].r][ye[0].c]=ye[1]):H[yt(ye[0])]=ye[1];break}},J);else if(F[2]==26||F[2]==14)J.Enum=Y,F[2]==14&&(J.qpro=!0,F.l=0),e(F,function(ye,$e,rt){switch(rt){case 204:ce=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>xe&&(H["!ref"]=_t(G),se[ce]=H,fe.push(ce),H=J.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},xe=ye[3],ce="Sheet"+(xe+1)),He>0&&ye[0].r>=He)break;J.dense?(H[ye[0].r]||(H[ye[0].r]=[]),H[ye[0].r][ye[0].c]=ye[1]):H[yt(ye[0])]=ye[1],G.e.c<ye[0].c&&(G.e.c=ye[0].c),G.e.r<ye[0].r&&(G.e.r=ye[0].r);break;case 27:ye[14e3]&&(we[ye[14e3][0]]=ye[14e3][1]);break;case 1537:we[ye[0]]=ye[1],ye[0]==xe&&(ce=ye[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(H["!ref"]=_t(G),se[le||ce]=H,fe.push(le||ce),!we.length)return{SheetNames:fe,Sheets:se};for(var Ue={},he=[],Me=0;Me<we.length;++Me)se[fe[Me]]?(he.push(we[Me]||fe[Me]),Ue[we[Me]]=se[we[Me]]||se[fe[Me]]):(he.push(we[Me]),Ue[we[Me]]={"!ref":"A1"});return{SheetNames:he,Sheets:Ue}}function a(F,K){var J=K||{};if(+J.codepage>=0&&Gn(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Os(),ce=Jt(F["!ref"]),le=Array.isArray(F),xe=[];Qe(H,0,i(1030)),Qe(H,6,u(ce));for(var se=Math.min(ce.e.r,8191),fe=ce.s.r;fe<=se;++fe)for(var we=da(fe),G=ce.s.c;G<=ce.e.c;++G){fe===ce.s.r&&(xe[G]=Qr(G));var He=xe[G]+we,Ue=le?(F[fe]||[])[G]:F[He];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?Qe(H,13,v(fe,G,Ue.v)):Qe(H,14,b(fe,G,Ue.v));else{var he=il(Ue);Qe(H,15,m(fe,G,he.slice(0,239)))}}return Qe(H,1),H.end()}function n(F,K){var J=K||{};if(+J.codepage>=0&&Gn(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Os();Qe(H,0,l(F));for(var ce=0,le=0;ce<F.SheetNames.length;++ce)(F.Sheets[F.SheetNames[ce]]||{})["!ref"]&&Qe(H,27,B(F.SheetNames[ce],le++));var xe=0;for(ce=0;ce<F.SheetNames.length;++ce){var se=F.Sheets[F.SheetNames[ce]];if(!(!se||!se["!ref"])){for(var fe=Jt(se["!ref"]),we=Array.isArray(se),G=[],He=Math.min(fe.e.r,8191),Ue=fe.s.r;Ue<=He;++Ue)for(var he=da(Ue),Me=fe.s.c;Me<=fe.e.c;++Me){Ue===fe.s.r&&(G[Me]=Qr(Me));var ye=G[Me]+he,$e=we?(se[Ue]||[])[Me]:se[ye];if(!(!$e||$e.t=="z"))if($e.t=="n")Qe(H,23,M(Ue,Me,xe,$e.v));else{var rt=il($e);Qe(H,22,N(Ue,Me,xe,rt.slice(0,239)))}}++xe}}return Qe(H,1),H.end()}function i(F){var K=De(2);return K.write_shift(2,F),K}function l(F){var K=De(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var J=0,H=0,ce=0,le=0;le<F.SheetNames.length;++le){var xe=F.SheetNames[le],se=F.Sheets[xe];if(!(!se||!se["!ref"])){++ce;var fe=ks(se["!ref"]);J<fe.e.r&&(J=fe.e.r),H<fe.e.c&&(H=fe.e.c)}}return J>8191&&(J=8191),K.write_shift(2,J),K.write_shift(1,ce),K.write_shift(1,H),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function c(F,K,J){var H={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&J.qpro?(H.s.c=F.read_shift(1),F.l++,H.s.r=F.read_shift(2),H.e.c=F.read_shift(1),F.l++,H.e.r=F.read_shift(2),H):(H.s.c=F.read_shift(2),H.s.r=F.read_shift(2),K==12&&J.qpro&&(F.l+=2),H.e.c=F.read_shift(2),H.e.r=F.read_shift(2),K==12&&J.qpro&&(F.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function u(F){var K=De(8);return K.write_shift(2,F.s.c),K.write_shift(2,F.s.r),K.write_shift(2,F.e.c),K.write_shift(2,F.e.r),K}function f(F,K,J){var H=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(H[0].c=F.read_shift(1),H[3]=F.read_shift(1),H[0].r=F.read_shift(2),F.l+=2):(H[2]=F.read_shift(1),H[0].c=F.read_shift(2),H[0].r=F.read_shift(2)),H}function p(F,K,J){var H=F.l+K,ce=f(F,K,J);if(ce[1].t="s",J.vers==20768){F.l++;var le=F.read_shift(1);return ce[1].v=F.read_shift(le,"utf8"),ce}return J.qpro&&F.l++,ce[1].v=F.read_shift(H-F.l,"cstr"),ce}function m(F,K,J){var H=De(7+J.length);H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,F),H.write_shift(1,39);for(var ce=0;ce<H.length;++ce){var le=J.charCodeAt(ce);H.write_shift(1,le>=128?95:le)}return H.write_shift(1,0),H}function x(F,K,J){var H=f(F,K,J);return H[1].v=F.read_shift(2,"i"),H}function v(F,K,J){var H=De(7);return H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,F),H.write_shift(2,J,"i"),H}function y(F,K,J){var H=f(F,K,J);return H[1].v=F.read_shift(8,"f"),H}function b(F,K,J){var H=De(13);return H.write_shift(1,255),H.write_shift(2,K),H.write_shift(2,F),H.write_shift(8,J,"f"),H}function S(F,K,J){var H=F.l+K,ce=f(F,K,J);if(ce[1].v=F.read_shift(8,"f"),J.qpro)F.l=H;else{var le=F.read_shift(2);O(F.slice(F.l,F.l+le),ce),F.l+=le}return ce}function _(F,K,J){var H=K&32768;return K&=-32769,K=(H?F:0)+(K>=8192?K-16384:K),(H?"":"$")+(J?Qr(K):da(K))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(F,K){Ka(F,0);for(var J=[],H=0,ce="",le="",xe="",se="";F.l<F.length;){var fe=F[F.l++];switch(fe){case 0:J.push(F.read_shift(8,"f"));break;case 1:le=_(K[0].c,F.read_shift(2),!0),ce=_(K[0].r,F.read_shift(2),!1),J.push(le+ce);break;case 2:{var we=_(K[0].c,F.read_shift(2),!0),G=_(K[0].r,F.read_shift(2),!1);le=_(K[0].c,F.read_shift(2),!0),ce=_(K[0].r,F.read_shift(2),!1),J.push(we+G+":"+le+ce)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(F.read_shift(2));break;case 6:{for(var He="";fe=F[F.l++];)He+=String.fromCharCode(fe);J.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:se=J.pop(),xe=J.pop(),J.push(["AND","OR"][fe-20]+"("+xe+","+se+")");break;default:if(fe<32&&E[fe])se=J.pop(),xe=J.pop(),J.push(xe+E[fe]+se);else if(w[fe]){if(H=w[fe][1],H==69&&(H=F[F.l++]),H>J.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+J.join("|")+"|");return}var Ue=J.slice(-H);J.length-=H,J.push(w[fe][0]+"("+Ue.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}J.length==1?K[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function A(F){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=F.read_shift(2),K[3]=F[F.l++],K[0].c=F[F.l++],K}function T(F,K){var J=A(F);return J[1].t="s",J[1].v=F.read_shift(K-4,"cstr"),J}function N(F,K,J,H){var ce=De(6+H.length);ce.write_shift(2,F),ce.write_shift(1,J),ce.write_shift(1,K),ce.write_shift(1,39);for(var le=0;le<H.length;++le){var xe=H.charCodeAt(le);ce.write_shift(1,xe>=128?95:xe)}return ce.write_shift(1,0),ce}function D(F,K){var J=A(F);J[1].v=F.read_shift(2);var H=J[1].v>>1;if(J[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return J[1].v=H,J}function L(F,K){var J=A(F),H=F.read_shift(4),ce=F.read_shift(4),le=F.read_shift(2);if(le==65535)return H===0&&ce===3221225472?(J[1].t="e",J[1].v=15):H===0&&ce===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var xe=le&32768;return le=(le&32767)-16446,J[1].v=(1-xe*2)*(ce*Math.pow(2,le+32)+H*Math.pow(2,le)),J}function M(F,K,J,H){var ce=De(14);if(ce.write_shift(2,F),ce.write_shift(1,J),ce.write_shift(1,K),H==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var le=0,xe=0,se=0,fe=0;return H<0&&(le=1,H=-H),xe=Math.log2(H)|0,H/=Math.pow(2,xe-31),fe=H>>>0,(fe&2147483648)==0&&(H/=2,++xe,fe=H>>>0),H-=fe,fe|=2147483648,fe>>>=0,H*=Math.pow(2,32),se=H>>>0,ce.write_shift(4,se),ce.write_shift(4,fe),xe+=16383+(le?32768:0),ce.write_shift(2,xe),ce}function k(F,K){var J=L(F);return F.l+=K-14,J}function I(F,K){var J=A(F),H=F.read_shift(4);return J[1].v=H>>6,J}function V(F,K){var J=A(F),H=F.read_shift(8,"f");return J[1].v=H,J}function q(F,K){var J=V(F);return F.l+=K-10,J}function z(F,K){return F[F.l+K-1]==0?F.read_shift(K,"cstr"):""}function R(F,K){var J=F[F.l++];J>K-1&&(J=K-1);for(var H="";H.length<J;)H+=String.fromCharCode(F[F.l++]);return H}function W(F,K,J){if(!(!J.qpro||K<21)){var H=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ce=F.read_shift(K-21,"cstr");return[H,ce]}}function X(F,K){for(var J={},H=F.l+K;F.l<H;){var ce=F.read_shift(2);if(ce==14e3){for(J[ce]=[0,""],J[ce][0]=F.read_shift(2);F[F.l];)J[ce][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return J}function B(F,K){var J=De(5+F.length);J.write_shift(2,14e3),J.write_shift(2,K);for(var H=0;H<F.length;++H){var ce=F.charCodeAt(H);J[J.l++]=ce>127?95:ce}return J[J.l++]=0,J}var ee={0:{n:"BOF",f:ya},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})();function PH(e){var t={},r=e.match(hs),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=St(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=ej[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var DH=(function(){var e=a0("t"),t=a0("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var c={t:"s",v:Kt(l[1])},u=i.match(t);return u&&(c.s=PH(u[1])),c}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(a,"").split(n).map(r).filter(function(c){return c.v})}})(),IH=(function(){var t=/(\r\n|\n)/g;function r(n,i,l){var c=[];n.u&&c.push("text-decoration: underline;"),n.uval&&c.push("text-underline-style:"+n.uval+";"),n.sz&&c.push("font-size:"+n.sz+"pt;"),n.outline&&c.push("text-effect: outline;"),n.shadow&&c.push("text-shadow: auto;"),i.push('<span style="'+c.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var u=n.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),l.push("</"+u+">")),l.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}})(),MH=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,LH=/<(?:\w+:)?r>/,FH=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function jj(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Kt(Nr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Nr(e),r&&(a.h=dj(a.t))):e.match(LH)&&(a.r=Nr(e),a.t=Kt(Nr((e.replace(FH,"").match(MH)||[]).join("").replace(hs,""))),r&&(a.h=IH(DH(a.r)))),a):{t:""}}var UH=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,BH=/<(?:\w+:)?(?:si|sstItem)>/g,zH=/<\/(?:\w+:)?(?:si|sstItem)>/;function qH(e,t){var r=[],a="";if(!e)return r;var n=e.match(UH);if(n){a=n[2].replace(BH,"").split(zH);for(var i=0;i!=a.length;++i){var l=jj(a[i].trim(),t);l!=null&&(r[r.length]=l)}n=St(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var $H=/^\s|\s$|[\t\n\r]/;function nM(e,t){if(!t.bookSST)return"";var r=[fa];r[r.length]=Ke("sst",null,{xmlns:bc[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match($H)&&(i+=' xml:space="preserve"'),i+=">"+br(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function HH(e){return[e.read_shift(4),e.read_shift(4)]}function VH(e,t){var r=[],a=!1;return ml(e,function(i,l,c){switch(c){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(l.T,!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function GH(e,t){return t||(t=De(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var WH=a9;function XH(e){var t=Os();qe(t,159,GH(e));for(var r=0;r<e.length;++r)qe(t,19,WH(e[r]));return qe(t,160),t.end()}function iM(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function Zi(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function YH(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Zi(e,4),t.U=Zi(e,4),t.W=Zi(e,4),t}function KH(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function QH(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(KH(e));return t}function JH(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function ZH(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Zi(e,4),t.U=Zi(e,4),t.W=Zi(e,4),t}function eV(e){var t=ZH(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function lM(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function oM(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function tV(e){var t=Zi(e);switch(t.Minor){case 2:return[t.Minor,rV(e)];case 3:return[t.Minor,aV()];case 4:return[t.Minor,sV(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function rV(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=lM(e,r),n=oM(e,e.length-e.l);return{t:"Std",h:a,v:n}}function aV(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sV(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(hs,function(i){var l=St(i);switch(yi(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(c){a[c]=l[c]});break;case"<dataIntegrity":a.encryptedHmacKey=l.encryptedHmacKey,a.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(l);break;default:throw l[0]}}),a}function nV(e,t){var r={},a=r.EncryptionVersionInfo=Zi(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=lM(e,n),t-=n,r.EncryptionVerifier=oM(e,t),r}function iV(e){var t={},r=t.EncryptionVersionInfo=Zi(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Ej(e){var t=0,r,a=iM(e),n=a.length+1,i,l,c,u,f;for(r=ro(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)l=r[i],c=(t&16384)===0?0:1,u=t<<1&32767,f=c|u,t=f^l;return t^52811}var cM=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(l){return(l/2|l*128)&255},n=function(l,c){return a(l^c)},i=function(l){for(var c=t[l.length-1],u=104,f=l.length-1;f>=0;--f)for(var p=l[f],m=0;m!=7;++m)p&64&&(c^=r[u]),p*=2,--u;return c};return function(l){for(var c=iM(l),u=i(c),f=c.length,p=ro(16),m=0;m!=16;++m)p[m]=0;var x,v,y;for((f&1)===1&&(x=u>>8,p[f]=n(e[0],x),--f,x=u&255,v=c[c.length-1],p[f]=n(v,x));f>0;)--f,x=u>>8,p[f]=n(c[f],x),--f,x=u&255,p[f]=n(c[f],x);for(f=15,y=15-c.length;y>0;)x=u>>8,p[f]=n(e[y],x),--f,--y,x=u&255,p[f]=n(c[f],x),--f,--y;return p}})(),lV=function(e,t,r,a,n){n||(n=t),a||(a=cM(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=a[r],l=(l>>5|l<<3)&255,n[i]=l,++r;return[n,r,a]},oV=function(e){var t=0,r=cM(e);return function(a){var n=lV("",a,t,r);return t=n[1],n[0]}};function cV(e,t,r,a){var n={key:ya(e),verificationBytes:ya(e)};return r.password&&(n.verifier=Ej(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=oV(r.password)),n}function dV(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=iV(e):a.Data=nV(e,t),a}function uV(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?dV(e,t-2,a):cV(e,r.biff>=8?t:t-2,r,a),a}var dM=(function(){function e(n,i){switch(i.type){case"base64":return t(Ks(n),i);case"binary":return t(n,i);case"buffer":return t(Pt&&Buffer.isBuffer(n)?n.toString("binary"):uo(n),i);case"array":return t(nc(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},c=l.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,m){Array.isArray(c)&&(c[m]=[]);for(var x=/\\\w+\b/g,v=0,y,b=-1;y=x.exec(p);){switch(y[0]){case"\\cell":var S=p.slice(v,x.lastIndex-y[0].length);if(S[0]==" "&&(S=S.slice(1)),++b,S.length){var _={v:S,t:"s"};Array.isArray(c)?c[m][b]=_:c[yt({r:m,c:b})]=_}break}v=x.lastIndex}b>f.e.c&&(f.e.c=b)}),c["!ref"]=_t(f),c}function r(n,i){return fo(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=Jt(n["!ref"]),c,u=Array.isArray(n),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)i.push("\\cellx"+(p+1));for(i.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var m=yt({r:f,c:p});c=u?(n[f]||[])[p]:n[m],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(il(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function fV(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function l0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function mV(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),l=n-i;if(l===0)return[0,0,t];var c=0,u=0,f=n+i;switch(u=l/(f>1?2-f:f),n){case t:c=((r-a)/l+6)%6;break;case r:c=(a-t)/l+2;break;case a:c=(t-r)/l+4;break}return[c/6,u,f/2]}function hV(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),i=a-n/2,l=[i,i,i],c=6*t,u;if(r!==0)switch(c|0){case 0:case 6:u=n*c,l[0]+=n,l[1]+=u;break;case 1:u=n*(2-c),l[0]+=u,l[1]+=n;break;case 2:u=n*(c-2),l[1]+=n,l[2]+=u;break;case 3:u=n*(4-c),l[1]+=u,l[2]+=n;break;case 4:u=n*(c-4),l[2]+=n,l[0]+=u;break;case 5:u=n*(6-c),l[2]+=u,l[0]+=n;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function Pp(e,t){if(t===0)return e;var r=mV(fV(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),l0(hV(r))}var uM=6,pV=15,xV=1,ss=uM;function o0(e){return Math.floor((e+Math.round(128/ss)/256)*ss)}function c0(e){return Math.floor((e-5)/ss*100+.5)/100}function Dp(e){return Math.round((e*ss+5)/ss*256)/256}function ty(e){return Dp(c0(o0(e)))}function Aj(e){var t=Math.abs(e-ty(e)),r=ss;if(t>.005)for(ss=xV;ss<pV;++ss)Math.abs(e-ty(e))<=t&&(t=Math.abs(e-ty(e)),r=ss);ss=r}function ao(e){e.width?(e.wpx=o0(e.width),e.wch=c0(e.wpx),e.MDW=ss):e.wpx?(e.wch=c0(e.wpx),e.width=Dp(e.wch),e.MDW=ss):typeof e.wch=="number"&&(e.width=Dp(e.wch),e.wpx=o0(e.width),e.MDW=ss),e.customWidth&&delete e.customWidth}var gV=96,fM=gV;function d0(e){return e*96/fM}function Md(e){return e*fM/96}var bV={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function vV(e,t,r,a){t.Borders=[];var n={},i=!1;(e[0].match(hs)||[]).forEach(function(l){var c=St(l);switch(yi(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},c.diagonalUp&&(n.diagonalUp=Fr(c.diagonalUp)),c.diagonalDown&&(n.diagonalDown=Fr(c.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in borders")}})}function yV(e,t,r,a){t.Fills=[];var n={},i=!1;(e[0].match(hs)||[]).forEach(function(l){var c=St(l);switch(yi(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":c.patternType&&(n.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),c.indexed&&(n.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(n.bgColor.theme=parseInt(c.theme,10)),c.tint&&(n.bgColor.tint=parseFloat(c.tint)),c.rgb&&(n.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),c.theme&&(n.fgColor.theme=parseInt(c.theme,10)),c.tint&&(n.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(n.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fills")}})}function SV(e,t,r,a){t.Fonts=[];var n={},i=!1;(e[0].match(hs)||[]).forEach(function(l){var c=St(l);switch(yi(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":c.val&&(n.name=Nr(c.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=c.val?Fr(c.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=c.val?Fr(c.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(c.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=c.val?Fr(c.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=c.val?Fr(c.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=c.val?Fr(c.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=c.val?Fr(c.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=c.val?Fr(c.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":c.val&&(n.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(n.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(n.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(n.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=ej[parseInt(c.val,10)];break;case"<color":if(n.color||(n.color={}),c.auto&&(n.color.auto=Fr(c.auto)),c.rgb)n.color.rgb=c.rgb.slice(-6);else if(c.indexed){n.color.index=parseInt(c.indexed,10);var u=Ko[n.color.index];n.color.index==81&&(u=Ko[1]),u||(u=Ko[1]),n.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(n.color.theme=parseInt(c.theme,10),c.tint&&(n.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=Pp(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fonts")}})}function wV(e,t,r){t.NumberFmt=[];for(var a=ia(gt),n=0;n<a.length;++n)t.NumberFmt[a[n]]=gt[a[n]];var i=e[0].match(hs);if(i)for(n=0;n<i.length;++n){var l=St(i[n]);switch(yi(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Kt(Nr(l.formatCode)),u=parseInt(l.numFmtId,10);if(t.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=c}Ji(c,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function NV(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Ke("numFmt",null,{numFmtId:a,formatCode:br(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vh=["numFmtId","fillId","fontId","borderId","xfId"],Gh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jV(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(hs)||[]).forEach(function(i){var l=St(i),c=0;switch(yi(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=l,delete a[0],c=0;c<Vh.length;++c)a[Vh[c]]&&(a[Vh[c]]=parseInt(a[Vh[c]],10));for(c=0;c<Gh.length;++c)a[Gh[c]]&&(a[Gh[c]]=Fr(a[Gh[c]]));if(t.NumberFmt&&a.numFmtId>392){for(c=392;c>60;--c)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[c]){a.numFmtId=c;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};l.vertical&&(u.vertical=l.vertical),l.horizontal&&(u.horizontal=l.horizontal),l.textRotation!=null&&(u.textRotation=l.textRotation),l.indent&&(u.indent=l.indent),l.wrapText&&(u.wrapText=Fr(l.wrapText)),a.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function EV(e){var t=[];return t[t.length]=Ke("cellXfs",null),e.forEach(function(r){t[t.length]=Ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var AV=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,f){var p={};if(!c)return p;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=c.match(t))&&wV(m,p,f),(m=c.match(n))&&SV(m,p,u,f),(m=c.match(a))&&yV(m,p,u,f),(m=c.match(i))&&vV(m,p,u,f),(m=c.match(r))&&jV(m,p,f),p}})();function mM(e,t){var r=[fa,Ke("styleSheet",null,{xmlns:bc[0],"xmlns:vt":Oa.vt})],a;return e.SSF&&(a=NV(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=EV(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function _V(e,t){var r=e.read_shift(2),a=os(e);return[r,a]}function CV(e,t,r){r||(r=De(6+4*t.length)),r.write_shift(2,e),za(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function TV(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=d9(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=c9(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=os(e),a}function OV(e,t){t||(t=De(153)),t.write_shift(2,e.sz*20),u9(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Op(e.color,t);var a=0;return a=2,t.write_shift(1,a),za(e.name,t),t.length>t.l?t.slice(0,t.l):t}var kV=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ry,RV=us;function s4(e,t){t||(t=De(84)),ry||(ry=Vx(kV));var r=ry[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Op({auto:1},t),Op({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function PV(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function hM(e,t,r){r||(r=De(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bf(e,t){return t||(t=De(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var DV=us;function IV(e,t){return t||(t=De(51)),t.write_shift(1,0),bf(null,t),bf(null,t),bf(null,t),bf(null,t),bf(null,t),t.length>t.l?t.slice(0,t.l):t}function MV(e,t){return t||(t=De(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Tp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function LV(e,t,r){var a=De(2052);return a.write_shift(4,e),Tp(t,a),Tp(r,a),a.length>a.l?a.slice(0,a.l):a}function FV(e,t,r){var a={};a.NumberFmt=[];for(var n in gt)a.NumberFmt[n]=gt[n];a.CellXf=[],a.Fonts=[];var i=[],l=!1;return ml(e,function(u,f,p){switch(p){case 44:a.NumberFmt[u[0]]=u[1],Ji(u[1],u[0]);break;case 43:a.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Pp(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(p),l=!0;break;case 38:i.pop(),l=!1;break;default:if(f.T>0)i.push(p);else if(f.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),a}function UV(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(qe(e,615,Kn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&qe(e,44,CV(n,t[n]))}),qe(e,616))}}function BV(e){var t=1;qe(e,611,Kn(t)),qe(e,43,OV({sz:12,color:{theme:1},name:"Calibri",family:2})),qe(e,612)}function zV(e){var t=2;qe(e,603,Kn(t)),qe(e,45,s4({patternType:"none"})),qe(e,45,s4({patternType:"gray125"})),qe(e,604)}function qV(e){var t=1;qe(e,613,Kn(t)),qe(e,46,IV()),qe(e,614)}function $V(e){var t=1;qe(e,626,Kn(t)),qe(e,47,hM({numFmtId:0},65535)),qe(e,627)}function HV(e,t){qe(e,617,Kn(t.length)),t.forEach(function(r){qe(e,47,hM(r,0))}),qe(e,618)}function VV(e){var t=1;qe(e,619,Kn(t)),qe(e,48,MV({xfId:0,name:"Normal"})),qe(e,620)}function GV(e){var t=0;qe(e,505,Kn(t)),qe(e,506)}function WV(e){var t=0;qe(e,508,LV(t,"TableStyleMedium9","PivotStyleMedium4")),qe(e,509)}function XV(e,t){var r=Os();return qe(r,278),UV(r,e.SSF),BV(r),zV(r),qV(r),$V(r),HV(r,t.cellXfs),VV(r),GV(r),WV(r),qe(r,279),r.end()}var YV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function KV(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(hs)||[]).forEach(function(n){var i=St(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[YV.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function QV(){}function JV(){}var ZV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,eG=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,tG=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function rG(e,t,r){t.themeElements={};var a;[["clrScheme",ZV,KV],["fontScheme",eG,QV],["fmtScheme",tG,JV]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var aG=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function pM(e,t){(!e||e.length===0)&&(e=_j());var r,a={};if(!(r=e.match(aG)))throw new Error("themeElements not found in theme");return rG(r[0],a,t),a.raw=e,a}function _j(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[fa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function sG(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var l;try{l=l6(i,{type:"array"})}catch{return}var c=Gs(l,"theme/theme/theme1.xml",!0);if(c)return pM(c,r)}}function nG(e){return e.read_shift(4)}function iG(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=lG(e,4);break;case 2:t.xclrValue=X6(e);break;case 3:t.xclrValue=nG(e);break;case 4:e.l+=4;break}return e.l+=8,t}function lG(e,t){return us(e,t)}function oG(e,t){return us(e,t)}function cG(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=iG(e);break;case 6:a[1]=oG(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function dG(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(cG(e,r-e.l));return{ixfe:a,ext:i}}function uG(e,t){t.forEach(function(r){r[0]})}function fG(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:os(e)}}function mG(e){var t=De(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),za(e.name,t),t.slice(0,t.l)}function hG(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function pG(e){var t=De(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function xG(e,t){var r=De(8+2*t.length);return r.write_shift(4,e),za(t,r),r.slice(0,r.l)}function gG(e){return e.l+=4,e.read_shift(4)!=0}function bG(e,t){var r=De(8);return r.write_shift(4,e),r.write_shift(4,1),r}function vG(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],l=!1,c=2;return ml(e,function(u,f,p){switch(p){case 335:a.Types.push({name:u.name});break;case 51:u.forEach(function(m){c==1?a.Cell.push({type:a.Types[m[0]-1].name,index:m[1]}):c==0&&a.Value.push({type:a.Types[m[0]-1].name,index:m[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:i.push(p),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!f.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),a}function yG(){var e=Os();return qe(e,332),qe(e,334,Kn(1)),qe(e,335,mG({name:"XLDAPR",version:12e4,flags:3496657072})),qe(e,336),qe(e,339,xG(1,"XLDAPR")),qe(e,52),qe(e,35,Kn(514)),qe(e,4096,Kn(0)),qe(e,4097,yn(1)),qe(e,36),qe(e,53),qe(e,340),qe(e,337,bG(1)),qe(e,51,pG([[1,0]])),qe(e,338),qe(e,333),e.end()}function SG(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,l;return e.replace(hs,function(c){var u=St(c);switch(yi(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<a.Types.length;++f)a.Types[f].name==u.name&&(l=a.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[u.t-1].name,index:+u.v}):i==0&&a.Value.push({type:a.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+u.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),a}function xM(){var e=[fa];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function wG(e){var t=[];if(!e)return t;var r=1;return(e.match(hs)||[]).forEach(function(a){var n=St(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function NG(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=yt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function jG(e,t,r){var a=[];return ml(e,function(i,l,c){switch(c){case 63:a.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),a}function EG(e,t,r,a){if(!e)return e;var n=a||{},i=!1;ml(e,function(c,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},n)}function AG(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var yd=1024;function gM(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[Ke("xml",null,{"xmlns:v":$s.v,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:mv":$s.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];yd<e*1e3;)yd+=1e3;return t.forEach(function(i){var l=Jr(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ke("v:fill",u,c),p={on:"t",obscured:"t"};++yd,n=n.concat(["<v:shape"+s0({id:"_x0000_s"+yd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ke("v:shadow",null,p),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Qa("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Qa("x:AutoFill","False"),Qa("x:Row",String(l.r)),Qa("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function n4(e,t,r,a){var n=Array.isArray(e),i;t.forEach(function(l){var c=Jr(l.ref);if(n?(e[c.r]||(e[c.r]=[]),i=e[c.r][c.c]):i=e[l.ref],!i){i={t:"z"},n?e[c.r][c.c]=i:e[l.ref]=i;var u=Jt(e["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var f=_t(u);f!==e["!ref"]&&(e["!ref"]=f)}i.c||(i.c=[]);var p={a:l.author,t:l.t,r:l.r,T:r};l.h&&(p.h=l.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&a){for(m=0;m<a.length;++m)if(p.a==a[m].id){p.a=a[m].name||p.a;break}}i.c.push(p)})}function _G(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=St(c[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},p=Jr(u.ref);if(!(t.sheetRows&&t.sheetRows<=p.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&jj(m[1])||{r:"",t:"",h:""};f.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),f.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=x.h),a.push(f)}}}}),a}function bM(e){var t=[fa,Ke("comments",null,{xmlns:bc[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=br(n.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(n=r.indexOf(br(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Qa("t",br(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)l+=`Reply:
    `+i[c]+`
`;t.push(Qa("t",br(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function CG(e,t){var r=[],a=!1,n={},i=0;return e.replace(hs,function(c,u){var f=St(c);switch(yi(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=u+c.length;break;case"</text>":n.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return c}),r}function TG(e,t,r){var a=[fa,Ke("ThreadedComments",null,{xmlns:Oa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=u.id:u.parentId=i,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(Ke("threadedComment",Qa("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function OG(e,t){var r=[],a=!1;return e.replace(hs,function(i){var l=St(i);switch(yi(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function kG(e){var t=[fa,Ke("personList",null,{xmlns:Oa.TCMNT,"xmlns:x":bc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function RG(e){var t={};t.iauthor=e.read_shift(4);var r=wc(e);return t.rfx=r.s,t.ref=yt(r.s),e.l+=16,t}function PG(e,t){return t==null&&(t=De(36)),t.write_shift(4,e[1].iauthor),xu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var DG=os;function IG(e){return za(e.slice(0,54))}function MG(e,t){var r=[],a=[],n={},i=!1;return ml(e,function(c,u,f){switch(f){case 632:a.push(c);break;case 635:n=c;break;case 637:n.t=c.t,n.h=c.h,n.r=c.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function LG(e){var t=Os(),r=[];return qe(t,628),qe(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),qe(t,632,IG(n.a)))})}),qe(t,631),qe(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:Jr(a[0]),e:Jr(a[0])};qe(t,635,PG([i,n])),n.t&&n.t.length>0&&qe(t,637,n9(n)),qe(t,636),delete n.iauthor})}),qe(t,634),qe(t,629),t.end()}var FG="application/vnd.ms-office.vbaProject";function UG(e){var t=dt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");dt.utils.cfb_add(t,n,e.FileIndex[a].content)}}),dt.write(t)}function BG(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&dt.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var vM=["xlsb","xlsm","xlam","biff8","xla"];function zG(){return{"!type":"dialog"}}function qG(){return{"!type":"dialog"}}function $G(){return{"!type":"macro"}}function HG(){return{"!type":"macro"}}var Ad=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,i,l){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return c?p+=t.c:--p,u?f+=t.r:--f,n+(c?"":"$")+Qr(p)+(u?"":"$")+da(f)}return function(n,i){return t=i,n.replace(e,r)}})(),Cj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Tj=(function(){return function(t,r){return t.replace(Cj,function(a,n,i,l,c,u){var f=pj(l)-(i?0:r.c),p=hj(u)-(c?0:r.r),m=p==0?"":c?p+1:"["+p+"]",x=f==0?"":i?f+1:"["+f+"]";return n+"R"+m+"C"+x})}})();function yM(e,t){return e.replace(Cj,function(r,a,n,i,l,c){return a+(n=="$"?n+i:Qr(pj(i)+t.c))+(l=="$"?l+c:da(hj(c)+t.r))})}function VG(e,t,r){var a=ks(t),n=a.s,i=Jr(r),l={r:i.r-n.r,c:i.c-n.c};return yM(e,l)}function GG(e){return e.length!=1}function i4(e){return e.replace(/_xlfn\./g,"")}function ba(e){e.l+=1}function so(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function SM(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return wM(e);r.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=so(e),c=so(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function wM(e){var t=so(e),r=so(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function WG(e,t,r){if(r.biff<8)return wM(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),i=so(e),l=so(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function NM(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return XG(e);var a=e.read_shift(r&&r.biff==12?4:2),n=so(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function XG(e){var t=so(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function YG(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function KG(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return QG(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:c}}function QG(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function JG(e,t,r){var a=(e[e.l++]&96)>>5,n=SM(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function ZG(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=SM(e,i,r);return[a,n,l]}function eW(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function tW(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function rW(e,t,r){var a=(e[e.l++]&96)>>5,n=WG(e,t-1,r);return[a,n]}function aW(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function l4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function sW(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function nW(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function iW(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function lW(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function oW(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function jM(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function cW(e){return e.read_shift(2),jM(e)}function dW(e){return e.read_shift(2),jM(e)}function uW(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=NM(e,0,r);return[a,n]}function fW(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=KG(e,0,r);return[a,n]}function mW(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=NM(e,0,r);return[a,n,i]}function hW(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[gX[n],_M[n],a]}function pW(e,t,r){var a=e[e.l++],n=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:xW(e);return[n,(i[0]===0?_M:xX)[i[1]]]}function xW(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function gW(e,t,r){e.l+=r&&r.biff==2?3:4}function bW(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function vW(e){return e.l++,hl[e.read_shift(1)]}function yW(e){return e.l++,e.read_shift(2)}function SW(e){return e.l++,e.read_shift(1)!==0}function wW(e){return e.l++,ls(e)}function NW(e,t,r){return e.l++,nm(e,t-1,r)}function jW(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ca(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=hl[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ls(e);break;case 2:r[1]=Nc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function EW(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?wc:Xx)(e));return n}function AW(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var c=0;c!=n;++c)l[i][c]=jW(e,r.biff);return l}function _W(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function CW(e,t,r){if(r.biff==5)return TW(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function TW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function OW(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function kW(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function RW(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function PW(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var DW=us,IW=us,MW=us;function lm(e,t,r){return e.l+=2,[YG(e)]}function Oj(e){return e.l+=6,[]}var LW=lm,FW=Oj,UW=Oj,BW=lm;function EM(e){return e.l+=2,[ya(e),e.read_shift(2)&1]}var zW=lm,qW=EM,$W=Oj,HW=lm,VW=lm,GW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function WW(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=GW[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:a,c:n,C:i}}function XW(e){return e.l+=2,[e.read_shift(4)]}function YW(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function KW(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function QW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function JW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ZW(e){return e.l+=4,[0,0]}var o4={1:{n:"PtgExp",f:bW},2:{n:"PtgTbl",f:MW},3:{n:"PtgAdd",f:ba},4:{n:"PtgSub",f:ba},5:{n:"PtgMul",f:ba},6:{n:"PtgDiv",f:ba},7:{n:"PtgPower",f:ba},8:{n:"PtgConcat",f:ba},9:{n:"PtgLt",f:ba},10:{n:"PtgLe",f:ba},11:{n:"PtgEq",f:ba},12:{n:"PtgGe",f:ba},13:{n:"PtgGt",f:ba},14:{n:"PtgNe",f:ba},15:{n:"PtgIsect",f:ba},16:{n:"PtgUnion",f:ba},17:{n:"PtgRange",f:ba},18:{n:"PtgUplus",f:ba},19:{n:"PtgUminus",f:ba},20:{n:"PtgPercent",f:ba},21:{n:"PtgParen",f:ba},22:{n:"PtgMissArg",f:ba},23:{n:"PtgStr",f:NW},26:{n:"PtgSheet",f:YW},27:{n:"PtgEndSheet",f:KW},28:{n:"PtgErr",f:vW},29:{n:"PtgBool",f:SW},30:{n:"PtgInt",f:yW},31:{n:"PtgNum",f:wW},32:{n:"PtgArray",f:aW},33:{n:"PtgFunc",f:hW},34:{n:"PtgFuncVar",f:pW},35:{n:"PtgName",f:_W},36:{n:"PtgRef",f:uW},37:{n:"PtgArea",f:JG},38:{n:"PtgMemArea",f:OW},39:{n:"PtgMemErr",f:DW},40:{n:"PtgMemNoMem",f:IW},41:{n:"PtgMemFunc",f:kW},42:{n:"PtgRefErr",f:RW},43:{n:"PtgAreaErr",f:eW},44:{n:"PtgRefN",f:fW},45:{n:"PtgAreaN",f:rW},46:{n:"PtgMemAreaN",f:QW},47:{n:"PtgMemNoMemN",f:JW},57:{n:"PtgNameX",f:CW},58:{n:"PtgRef3d",f:mW},59:{n:"PtgArea3d",f:ZG},60:{n:"PtgRefErr3d",f:PW},61:{n:"PtgAreaErr3d",f:tW},255:{}},eX={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},tX={1:{n:"PtgElfLel",f:EM},2:{n:"PtgElfRw",f:HW},3:{n:"PtgElfCol",f:LW},6:{n:"PtgElfRwV",f:VW},7:{n:"PtgElfColV",f:BW},10:{n:"PtgElfRadical",f:zW},11:{n:"PtgElfRadicalS",f:$W},13:{n:"PtgElfColS",f:FW},15:{n:"PtgElfColSV",f:UW},16:{n:"PtgElfRadicalLel",f:qW},25:{n:"PtgList",f:WW},29:{n:"PtgSxName",f:XW},255:{}},rX={0:{n:"PtgAttrNoop",f:ZW},1:{n:"PtgAttrSemi",f:oW},2:{n:"PtgAttrIf",f:iW},4:{n:"PtgAttrChoose",f:sW},8:{n:"PtgAttrGoto",f:nW},16:{n:"PtgAttrSum",f:gW},32:{n:"PtgAttrBaxcel",f:l4},33:{n:"PtgAttrBaxcel",f:l4},64:{n:"PtgAttrSpace",f:cW},65:{n:"PtgAttrSpaceSemi",f:dW},128:{n:"PtgAttrIfError",f:lW},255:{}};function om(e,t,r,a){if(a.biff<8)return us(e,t);for(var n=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=AW(e,0,a),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=EW(e,r[l][1],a),i.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=n-e.l,t!==0&&i.push(us(e,t)),i}function cm(e,t,r){for(var a=e.l+t,n,i,l=[];a!=e.l;)t=a-e.l,i=e[e.l],n=o4[i]||o4[eX[i]],(i===24||i===25)&&(n=(i===24?tX:rX)[e[e.l+1]]),!n||!n.f?us(e,t):l.push([n.n,n.f(e,t,r)]);return l}function aX(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var sX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nX(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function AM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function c4(e,t,r){var a=AM(e,t,r);return a=="#REF"?a:nX(a,r)}function as(e,t,r,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},c=[],u,f,p,m=0,x=0,v,y="";if(!e[0]||!e[0][0])return"";for(var b=-1,S="",_=0,w=e[0].length;_<w;++_){var E=e[0][_];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),f=c.pop(),b>=0){switch(e[0][b][1][0]){case 0:S=ta(" ",e[0][b][1][1]);break;case 1:S=ta("\r",e[0][b][1][1]);break;default:if(S="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}f=f+S,b=-1}c.push(f+sX[E[0]]+u);break;case"PtgIsect":u=c.pop(),f=c.pop(),c.push(f+" "+u);break;case"PtgUnion":u=c.pop(),f=c.pop(),c.push(f+","+u);break;case"PtgRange":u=c.pop(),f=c.pop(),c.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Ff(E[1][1],l,n),c.push(Uf(p,i));break;case"PtgRefN":p=r?Ff(E[1][1],r,n):E[1][1],c.push(Uf(p,i));break;case"PtgRef3d":m=E[1][1],p=Ff(E[1][2],l,n),y=c4(a,m,n),c.push(y+"!"+Uf(p,i));break;case"PtgFunc":case"PtgFuncVar":var O=E[1][0],A=E[1][1];O||(O=0),O&=127;var T=O==0?[]:c.slice(-O);c.length-=O,A==="User"&&(A=T.shift()),c.push(A+"("+T.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":v=FO(E[1][1],r?{s:r}:l,n),c.push(Jv(v,n));break;case"PtgArea":v=FO(E[1][1],l,n),c.push(Jv(v,n));break;case"PtgArea3d":m=E[1][1],v=E[1][2],y=c4(a,m,n),c.push(y+"!"+Jv(v,n));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=E[1][2];var N=(a.names||[])[x-1]||(a[0]||[])[x],D=N?N.Name:"SH33TJSNAME"+String(x);D&&D.slice(0,6)=="_xlfn."&&!n.xlfn&&(D=D.slice(6)),c.push(D);break;case"PtgNameX":var L=E[1][1];x=E[1][2];var M;if(n.biff<=5)L<0&&(L=-L),a[L]&&(M=a[L][x]);else{var k="";if(((a[L]||[])[0]||[])[0]==14849||(((a[L]||[])[0]||[])[0]==1025?a[L][x]&&a[L][x].itab>0&&(k=a.SheetNames[a[L][x].itab-1]+"!"):k=a.SheetNames[x-1]+"!"),a[L]&&a[L][x])k+=a[L][x].Name;else if(a[0]&&a[0][x])k+=a[0][x].Name;else{var I=(AM(a,L,n)||"").split(";;");I[x-1]?k=I[x-1]:k+="SH33TJSERRX"}c.push(k);break}M||(M={Name:"SH33TJSERRY"}),c.push(M.Name);break;case"PtgParen":var V="(",q=")";if(b>=0){switch(S="",e[0][b][1][0]){case 2:V=ta(" ",e[0][b][1][1])+V;break;case 3:V=ta("\r",e[0][b][1][1])+V;break;case 4:q=ta(" ",e[0][b][1][1])+q;break;case 5:q=ta("\r",e[0][b][1][1])+q;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}c.push(V+c.pop()+q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:E[1][1],r:E[1][0]};var z={c:r.c,r:r.r};if(a.sharedf[yt(p)]){var R=a.sharedf[yt(p)];c.push(as(R,l,z,a,n))}else{var W=!1;for(u=0;u!=a.arrayf.length;++u)if(f=a.arrayf[u],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){c.push(as(f[1],l,z,a,n)),W=!0;break}W||c.push(E[1])}break;case"PtgArray":c.push("{"+aX(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&b>=0&&X.indexOf(e[0][_][0])==-1){E=e[0][b];var B=!0;switch(E[1][0]){case 4:B=!1;case 0:S=ta(" ",E[1][1]);break;case 5:B=!1;case 1:S=ta("\r",E[1][1]);break;default:if(S="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((B?S:"")+c.pop()+(B?"":S)),b=-1}}if(c.length>1&&n.WTF)throw new Error("bad formula stack");return c[0]}function iX(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],us(e,t-2)];var c=cm(e,l,r);return t!==l+n&&(i=om(e,t-l-n,c,r)),e.l=a,[c,i]}function lX(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],us(e,t-2)];var c=cm(e,l,r);return t!==l+n&&(i=om(e,t-l-n,c,r)),e.l=a,[c,i]}function oX(e,t,r,a){var n=e.l+t,i=cm(e,a,r),l;return n!==e.l&&(l=om(e,n-e.l,i,r)),[i,l]}function cX(e,t,r){var a=e.l+t,n,i=e.read_shift(2),l=cm(e,i,r);return i==65535?[[],us(e,t-2)]:(t!==i+2&&(n=om(e,a-i-2,l,r)),[l,n])}function dX(e){var t;if(Gi(e,e.l+6)!==65535)return[ls(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function uX(e){if(e==null){var t=De(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ic(e);return ic(0)}function ay(e,t,r){var a=e.l+t,n=Si(e);r.biff==2&&++e.l;var i=dX(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var c=lX(e,a-e.l,r);return{cell:n,val:i[0],formula:c,shared:l>>3&1,tt:i[1]}}function fX(e,t,r,a,n){var i=oc(t,r,n),l=uX(e.v),c=De(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var f=De(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var m=Ba([i,l,c,f]);return m}function Yx(e,t,r){var a=e.read_shift(4),n=cm(e,a,r),i=e.read_shift(4),l=i>0?om(e,i,n,r):null;return[n,l]}var mX=Yx,Kx=Yx,hX=Yx,pX=Yx,xX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_M={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function d4(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function bX(e){var t="of:="+e.replace(Cj,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function sy(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function vX(e){return e.replace(/\./,"!")}var zf={},_d={},qf=typeof Map<"u";function kj(e,t,r){var a=0,n=e.length;if(r){if(qf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=qf?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(qf?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function Qx(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(ss=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=c0(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=Dp(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Zo(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function mo(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){Ji(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function CM(e,t,r,a,n,i){try{a.cellNF&&(e.z=gt[t])}catch(c){if(a.WTF)throw c}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Br(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(gt[t]==null&&Ji(xq[t]||"General",t),e.t==="e")e.w=e.w||hl[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=r0(e.v);else if(e.t==="d"){var l=Pa(e.v);(l|0)===l?e.w=l.toString(10):e.w=r0(l)}else{if(e.v===void 0)return"";e.w=sc(e.v,_d)}else e.t==="d"?e.w=kn(t,Pa(e.v),_d):e.w=kn(t,e.v,_d)}catch(c){if(a.WTF)throw c}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Pp(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Pp(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(a.WTF&&i.Fills)throw c}}}function yX(e,t,r){if(e&&e["!ref"]){var a=Jt(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function SX(e,t){var r=Jt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_t(r))}var wX=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,NX=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jX=/<(?:\w:)?hyperlink [^>]*>/mg,EX=/"(\w*:\w*)"/,AX=/<(?:\w:)?col\b[^>]*[\/]?>/g,_X=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,CX=/<(?:\w:)?pageMargins[^>]*\/>/g,TM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,TX=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,OX=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kX(e,t,r,a,n,i,l){if(!e)return e;a||(a={"!id":{}});var c=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",p="",m=e.match(NX);m?(f=e.slice(0,m.index),p=e.slice(m.index+m[0].length)):f=p=e;var x=f.match(TM);x?Rj(x[0],c,n,r):(x=f.match(TX))&&PX(x[0],x[1]||"",c,n,r);var v=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var y=f.slice(v,v+50).match(EX);y&&SX(c,y[1])}var b=f.match(OX);b&&b[1]&&GX(b[1],n);var S=[];if(t.cellStyles){var _=f.match(AX);_&&zX(S,_)}m&&YX(m[1],c,t,u,i,l);var w=p.match(_X);w&&(c["!autofilter"]=$X(w[0]));var E=[],O=p.match(wX);if(O)for(v=0;v!=O.length;++v)E[v]=Jt(O[v].slice(O[v].indexOf('"')+1));var A=p.match(jX);A&&FX(c,A,a);var T=p.match(CX);if(T&&(c["!margins"]=UX(St(T[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=_t(u)),t.sheetRows>0&&c["!ref"]){var N=Jt(c["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>u.e.r&&(N.e.r=u.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>u.e.c&&(N.e.c=u.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),c["!fullref"]=c["!ref"],c["!ref"]=_t(N))}return S.length>0&&(c["!cols"]=S),E.length>0&&(c["!merges"]=E),c}function RX(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_t(e[r])+'"/>';return t+"</mergeCells>"}function Rj(e,t,r,a){var n=St(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=Kt(Nr(n.codeName)))}function PX(e,t,r,a,n){Rj(e.slice(0,e.indexOf(">")),r,a,n)}function DX(e,t,r,a,n){var i=!1,l={},c=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,l.codeName=di(br(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),c=(c||"")+Ke("outlinePr",null,f)}!i&&!c||(n[n.length]=Ke("sheetPr",c,l))}var IX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],MX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function LX(e){var t={sheet:1};return IX.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),MX.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Ej(e.password).toString(16).toUpperCase()),Ke("sheetProtection",null,t)}function FX(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=St(Nr(t[n]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Kt(i.location))):(i.Target="#"+Kt(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var c=Jt(i.ref),u=c.s.r;u<=c.e.r;++u)for(var f=c.s.c;f<=c.e.c;++f){var p=yt({c:f,r:u});a?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=i):(e[p]||(e[p]={t:"z",v:void 0}),e[p].l=i)}}}function UX(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function BX(e){return Zo(e),Ke("pageMargins",null,e)}function zX(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=St(t[a],!0);n.hidden&&(n.hidden=Fr(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,Aj(n.width)),ao(n);i<=l;)e[i++]=zr(n)}}function qX(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=Ke("col",null,Qx(n,a)));return r[r.length]="</cols>",r.join("")}function $X(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function HX(e,t,r,a){var n=typeof e.ref=="string"?e.ref:_t(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=ks(n);l.s.r==l.e.r&&(l.e.r=ks(t["!ref"]).e.r,n=_t(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),Ke("autoFilter",null,{ref:n})}var VX=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function GX(e,t){t.Views||(t.Views=[{}]),(e.match(VX)||[]).forEach(function(r,a){var n=St(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),Fr(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function WX(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,n),{})}function XX(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=hl[e.v];break;case"d":a&&a.cellDates?n=Br(e.v,-1).toISOString():(e=zr(e),e.t="n",n=""+(e.v=Pa(Br(e.v)))),typeof e.z>"u"&&(e.z=gt[14]);break;default:n=e.v;break}var c=Qa("v",br(n)),u={r:t},f=mo(a.cellXfs,e,a);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=Qa("v",""+kj(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=Ke("f",br(e.f),p)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Ke("c",c,u)}var YX=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=a0("v"),l=a0("f");return function(u,f,p,m,x,v){for(var y=0,b="",S=[],_=[],w=0,E=0,O=0,A="",T,N,D=0,L=0,M,k,I=0,V=0,q=Array.isArray(v.CellXf),z,R=[],W=[],X=Array.isArray(f),B=[],ee={},Y=!1,F=!!p.sheetStubs,K=u.split(t),J=0,H=K.length;J!=H;++J){b=K[J].trim();var ce=b.length;if(ce!==0){var le=0;e:for(y=0;y<ce;++y)switch(b[y]){case">":if(b[y-1]!="/"){++y;break e}if(p&&p.cellStyles){if(N=St(b.slice(le,y),!0),D=N.r!=null?parseInt(N.r,10):D+1,L=-1,p.sheetRows&&p.sheetRows<D)continue;ee={},Y=!1,N.ht&&(Y=!0,ee.hpt=parseFloat(N.ht),ee.hpx=Md(ee.hpt)),N.hidden=="1"&&(Y=!0,ee.hidden=!0),N.outlineLevel!=null&&(Y=!0,ee.level=+N.outlineLevel),Y&&(B[D-1]=ee)}break;case"<":le=y;break}if(le>=y)break;if(N=St(b.slice(le,y),!0),D=N.r!=null?parseInt(N.r,10):D+1,L=-1,!(p.sheetRows&&p.sheetRows<D)){m.s.r>D-1&&(m.s.r=D-1),m.e.r<D-1&&(m.e.r=D-1),p&&p.cellStyles&&(ee={},Y=!1,N.ht&&(Y=!0,ee.hpt=parseFloat(N.ht),ee.hpx=Md(ee.hpt)),N.hidden=="1"&&(Y=!0,ee.hidden=!0),N.outlineLevel!=null&&(Y=!0,ee.level=+N.outlineLevel),Y&&(B[D-1]=ee)),S=b.slice(y).split(e);for(var xe=0;xe!=S.length&&S[xe].trim().charAt(0)=="<";++xe);for(S=S.slice(xe),y=0;y!=S.length;++y)if(b=S[y].trim(),b.length!==0){if(_=b.match(r),w=y,E=0,O=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,_!=null&&_.length===2){for(w=0,A=_[1],E=0;E!=A.length&&!((O=A.charCodeAt(E)-64)<1||O>26);++E)w=26*w+O;--w,L=w}else++L;for(E=0;E!=b.length&&b.charCodeAt(E)!==62;++E);if(++E,N=St(b.slice(0,E),!0),N.r||(N.r=yt({r:D-1,c:L})),A=b.slice(E),T={t:""},(_=A.match(i))!=null&&_[1]!==""&&(T.v=Kt(_[1])),p.cellFormula){if((_=A.match(l))!=null&&_[1]!==""){if(T.f=Kt(Nr(_[1])).replace(/\r\n/g,`
`),p.xlfn||(T.f=i4(T.f)),_[0].indexOf('t="array"')>-1)T.F=(A.match(n)||[])[1],T.F.indexOf(":")>-1&&R.push([Jt(T.F),T.F]);else if(_[0].indexOf('t="shared"')>-1){k=St(_[0]);var se=Kt(Nr(_[1]));p.xlfn||(se=i4(se)),W[parseInt(k.si,10)]=[k,se,N.r]}}else(_=A.match(/<f[^>]*\/>/))&&(k=St(_[0]),W[k.si]&&(T.f=VG(W[k.si][1],W[k.si][2],N.r)));var fe=Jr(N.r);for(E=0;E<R.length;++E)fe.r>=R[E][0].s.r&&fe.r<=R[E][0].e.r&&fe.c>=R[E][0].s.c&&fe.c<=R[E][0].e.c&&(T.F=R[E][1])}if(N.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(F)T.t="z";else continue;else T.t=N.t||"n";switch(m.s.c>L&&(m.s.c=L),m.e.c<L&&(m.e.c=L),T.t){case"n":if(T.v==""||T.v==null){if(!F)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!F)continue;T.t="z"}else M=zf[parseInt(T.v,10)],T.v=M.t,T.r=M.r,p.cellHTML&&(T.h=M.h);break;case"str":T.t="s",T.v=T.v!=null?Nr(T.v):"",p.cellHTML&&(T.h=dj(T.v));break;case"inlineStr":_=A.match(a),T.t="s",_!=null&&(M=jj(_[1]))?(T.v=M.t,p.cellHTML&&(T.h=M.h)):T.v="";break;case"b":T.v=Fr(T.v);break;case"d":p.cellDates?T.v=Br(T.v,1):(T.v=Pa(Br(T.v,1)),T.t="n");break;case"e":(!p||p.cellText!==!1)&&(T.w=T.v),T.v=k6[T.v];break}if(I=V=0,z=null,q&&N.s!==void 0&&(z=v.CellXf[N.s],z!=null&&(z.numFmtId!=null&&(I=z.numFmtId),p.cellStyles&&z.fillId!=null&&(V=z.fillId))),CM(T,I,V,p,x,v),p.cellDates&&q&&T.t=="n"&&mu(gt[I])&&(T.t="d",T.v=Wx(T.v)),N.cm&&p.xlmeta){var we=(p.xlmeta.Cell||[])[+N.cm-1];we&&we.type=="XLDAPR"&&(T.D=!0)}if(X){var G=Jr(N.r);f[G.r]||(f[G.r]=[]),f[G.r][G.c]=T}else f[N.r]=T}}}}B.length>0&&(f["!rows"]=B)}})();function KX(e,t,r,a){var n=[],i=[],l=Jt(e["!ref"]),c="",u,f="",p=[],m=0,x=0,v=e["!rows"],y=Array.isArray(e),b={r:f},S,_=-1;for(x=l.s.c;x<=l.e.c;++x)p[x]=Qr(x);for(m=l.s.r;m<=l.e.r;++m){for(i=[],f=da(m),x=l.s.c;x<=l.e.c;++x){u=p[x]+f;var w=y?(e[m]||[])[x]:e[u];w!==void 0&&(c=XX(w,u,e,t))!=null&&i.push(c)}(i.length>0||v&&v[m])&&(b={r:f},v&&v[m]&&(S=v[m],S.hidden&&(b.hidden=1),_=-1,S.hpx?_=d0(S.hpx):S.hpt&&(_=S.hpt),_>-1&&(b.ht=_,b.customHeight=1),S.level&&(b.outlineLevel=S.level)),n[n.length]=Ke("row",i.join(""),b))}if(v)for(;m<v.length;++m)v&&v[m]&&(b={r:m+1},S=v[m],S.hidden&&(b.hidden=1),_=-1,S.hpx?_=d0(S.hpx):S.hpt&&(_=S.hpt),_>-1&&(b.ht=_,b.customHeight=1),S.level&&(b.outlineLevel=S.level),n[n.length]=Ke("row","",b));return n.join("")}function OM(e,t,r,a){var n=[fa,Ke("worksheet",null,{xmlns:bc[0],"xmlns:r":Oa.r})],i=r.SheetNames[e],l=0,c="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",p=Jt(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=_t(p)}a||(a={}),u["!comments"]=[];var m=[];DX(u,r,e,t,n),n[n.length]=Ke("dimension",null,{ref:f}),n[n.length]=WX(u,t,e,r),t.sheetFormat&&(n[n.length]=Ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=qX(u,u["!cols"])),n[l=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=KX(u,t),c.length>0&&(n[n.length]=c)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),u["!protect"]&&(n[n.length]=LX(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=HX(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=RX(u["!merges"]));var x=-1,v,y=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(y=pr(a,-1,br(b[1].Target).replace(/#.*$/,""),Dt.HLINK),v["r:id"]="rId"+y),(x=b[1].Target.indexOf("#"))>-1&&(v.location=br(b[1].Target.slice(x+1))),b[1].Tooltip&&(v.tooltip=br(b[1].Tooltip)),n[n.length]=Ke("hyperlink",null,v))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=BX(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Qa("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(y=pr(a,-1,"../drawings/drawing"+(e+1)+".xml",Dt.DRAW),n[n.length]=Ke("drawing",null,{"r:id":"rId"+y}),u["!drawing"]=m),u["!comments"].length>0&&(y=pr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Dt.VML),n[n.length]=Ke("legacyDrawing",null,{"r:id":"rId"+y}),u["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function QX(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}function JX(e,t,r){var a=De(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=d0(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var c=0,u=a.l;a.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var m=-1,x=-1,v=p<<10;v<p+1<<10;++v){f.c=v;var y=Array.isArray(r)?(r[f.r]||[])[f.c]:r[yt(f)];y&&(m<0&&(m=v),x=v)}m<0||(++c,a.write_shift(4,m),a.write_shift(4,x))}var b=a.l;return a.l=u,a.write_shift(4,c),a.l=b,a.length>a.l?a.slice(0,a.l):a}function ZX(e,t,r,a){var n=JX(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&qe(e,0,n)}var eY=wc,tY=xu;function rY(){}function aY(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=i9(e),r}function sY(e,t,r){r==null&&(r=De(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return Op({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),A6(e,r),r.slice(0,r.l)}function nY(e){var t=Dn(e);return[t]}function iY(e,t,r){return r==null&&(r=De(8)),vc(t,r)}function lY(e){var t=yc(e);return[t]}function oY(e,t,r){return r==null&&(r=De(4)),Sc(t,r)}function cY(e){var t=Dn(e),r=e.read_shift(1);return[t,r,"b"]}function dY(e,t,r){return r==null&&(r=De(9)),vc(t,r),r.write_shift(1,e.v?1:0),r}function uY(e){var t=yc(e),r=e.read_shift(1);return[t,r,"b"]}function fY(e,t,r){return r==null&&(r=De(5)),Sc(t,r),r.write_shift(1,e.v?1:0),r}function mY(e){var t=Dn(e),r=e.read_shift(1);return[t,r,"e"]}function hY(e,t,r){return r==null&&(r=De(9)),vc(t,r),r.write_shift(1,e.v),r}function pY(e){var t=yc(e),r=e.read_shift(1);return[t,r,"e"]}function xY(e,t,r){return r==null&&(r=De(8)),Sc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function gY(e){var t=Dn(e),r=e.read_shift(4);return[t,r,"s"]}function bY(e,t,r){return r==null&&(r=De(12)),vc(t,r),r.write_shift(4,t.v),r}function vY(e){var t=yc(e),r=e.read_shift(4);return[t,r,"s"]}function yY(e,t,r){return r==null&&(r=De(8)),Sc(t,r),r.write_shift(4,t.v),r}function SY(e){var t=Dn(e),r=ls(e);return[t,r,"n"]}function wY(e,t,r){return r==null&&(r=De(16)),vc(t,r),ic(e.v,r),r}function kM(e){var t=yc(e),r=ls(e);return[t,r,"n"]}function NY(e,t,r){return r==null&&(r=De(12)),Sc(t,r),ic(e.v,r),r}function jY(e){var t=Dn(e),r=vj(e);return[t,r,"n"]}function EY(e,t,r){return r==null&&(r=De(12)),vc(t,r),_6(e.v,r),r}function AY(e){var t=yc(e),r=vj(e);return[t,r,"n"]}function _Y(e,t,r){return r==null&&(r=De(8)),Sc(t,r),_6(e.v,r),r}function CY(e){var t=Dn(e),r=xj(e);return[t,r,"is"]}function TY(e){var t=Dn(e),r=os(e);return[t,r,"str"]}function OY(e,t,r){return r==null&&(r=De(12+4*e.v.length)),vc(t,r),za(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kY(e){var t=yc(e),r=os(e);return[t,r,"str"]}function RY(e,t,r){return r==null&&(r=De(8+4*e.v.length)),Sc(t,r),za(e.v,r),r.length>r.l?r.slice(0,r.l):r}function PY(e,t,r){var a=e.l+t,n=Dn(e);n.r=r["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(r.cellFormula){e.l+=2;var c=Kx(e,a-e.l,r);l[3]=as(c,null,n,r.supbooks,r)}else e.l=a;return l}function DY(e,t,r){var a=e.l+t,n=Dn(e);n.r=r["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(r.cellFormula){e.l+=2;var c=Kx(e,a-e.l,r);l[3]=as(c,null,n,r.supbooks,r)}else e.l=a;return l}function IY(e,t,r){var a=e.l+t,n=Dn(e);n.r=r["!row"];var i=ls(e),l=[n,i,"n"];if(r.cellFormula){e.l+=2;var c=Kx(e,a-e.l,r);l[3]=as(c,null,n,r.supbooks,r)}else e.l=a;return l}function MY(e,t,r){var a=e.l+t,n=Dn(e);n.r=r["!row"];var i=os(e),l=[n,i,"str"];if(r.cellFormula){e.l+=2;var c=Kx(e,a-e.l,r);l[3]=as(c,null,n,r.supbooks,r)}else e.l=a;return l}var LY=wc,FY=xu;function UY(e,t){return t==null&&(t=De(4)),t.write_shift(4,e),t}function BY(e,t){var r=e.l+t,a=wc(e),n=gj(e),i=os(e),l=os(e),c=os(e);e.l=r;var u={rfx:a,relId:n,loc:i,display:c};return l&&(u.Tooltip=l),u}function zY(e,t){var r=De(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xu({s:Jr(e[0]),e:Jr(e[0])},r),bj("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return za(n||"",r),za(e[1].Tooltip||"",r),za("",r),r.slice(0,r.l)}function qY(){}function $Y(e,t,r){var a=e.l+t,n=C6(e),i=e.read_shift(1),l=[n];if(l[2]=i,r.cellFormula){var c=mX(e,a-e.l,r);l[1]=c}else e.l=a;return l}function HY(e,t,r){var a=e.l+t,n=wc(e),i=[n];if(r.cellFormula){var l=pX(e,a-e.l,r);i[1]=l,e.l=a}else e.l=a;return i}function VY(e,t,r){r==null&&(r=De(18));var a=Qx(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var RM=["left","right","top","bottom","header","footer"];function GY(e){var t={};return RM.forEach(function(r){t[r]=ls(e)}),t}function WY(e,t){return t==null&&(t=De(48)),Zo(e),RM.forEach(function(r){ic(e[r],t)}),t}function XY(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function YY(e,t,r){r==null&&(r=De(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function KY(e){var t=De(24);return t.write_shift(4,4),t.write_shift(4,1),xu(e,t),t}function QY(e,t){return t==null&&(t=De(66)),t.write_shift(2,e.password?Ej(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function JY(){}function ZY(){}function eK(e,t,r,a,n,i,l){if(!e)return e;var c=t||{};a||(a={"!id":{}});var u=c.dense?[]:{},f,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,v,y,b,S,_,w,E,O,A,T=[];c.biff=12,c["!row"]=0;var N=0,D=!1,L=[],M={},k=c.supbooks||n.supbooks||[[]];if(k.sharedf=M,k.arrayf=L,k.SheetNames=n.SheetNames||n.Sheets.map(function(X){return X.name}),!c.supbooks&&(c.supbooks=k,n.Names))for(var I=0;I<n.Names.length;++I)k[0][I+1]=n.Names[I];var V=[],q=[],z=!1;u0[16]={n:"BrtShortReal",f:kM};var R;if(ml(e,function(B,ee,Y){if(!x)switch(Y){case 148:f=B;break;case 0:v=B,c.sheetRows&&c.sheetRows<=v.r&&(x=!0),O=da(S=v.r),c["!row"]=v.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=Md(B.hpt)),q[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:B[2]},B[2]){case"n":y.v=B[1];break;case"s":E=zf[B[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!B[1];break;case"e":y.v=B[1],c.cellText!==!1&&(y.w=hl[y.v]);break;case"str":y.t="s",y.v=B[1];break;case"is":y.t="s",y.v=B[1].t;break}if((b=l.CellXf[B[0].iStyleRef])&&CM(y,b.numFmtId,null,c,i,l),_=B[0].c==-1?_+1:B[0].c,c.dense?(u[S]||(u[S]=[]),u[S][_]=y):u[Qr(_)+O]=y,c.cellFormula){for(D=!1,N=0;N<L.length;++N){var F=L[N];v.r>=F[0].s.r&&v.r<=F[0].e.r&&_>=F[0].s.c&&_<=F[0].e.c&&(y.F=_t(F[0]),D=!0)}!D&&B.length>3&&(y.f=B[3])}if(p.s.r>v.r&&(p.s.r=v.r),p.s.c>_&&(p.s.c=_),p.e.r<v.r&&(p.e.r=v.r),p.e.c<_&&(p.e.c=_),c.cellDates&&b&&y.t=="n"&&mu(gt[b.numFmtId])){var K=$o(y.v);K&&(y.t="d",y.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}R&&(R.type=="XLDAPR"&&(y.D=!0),R=void 0);break;case 1:case 12:if(!c.sheetStubs||m)break;y={t:"z",v:void 0},_=B[0].c==-1?_+1:B[0].c,c.dense?(u[S]||(u[S]=[]),u[S][_]=y):u[Qr(_)+O]=y,p.s.r>v.r&&(p.s.r=v.r),p.s.c>_&&(p.s.c=_),p.e.r<v.r&&(p.e.r=v.r),p.e.c<_&&(p.e.c=_),R&&(R.type=="XLDAPR"&&(y.D=!0),R=void 0);break;case 176:T.push(B);break;case 49:R=((c.xlmeta||{}).Cell||[])[B-1];break;case 494:var J=a["!id"][B.relId];for(J?(B.Target=J.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=J):B.relId==""&&(B.Target="#"+B.loc),S=B.rfx.s.r;S<=B.rfx.e.r;++S)for(_=B.rfx.s.c;_<=B.rfx.e.c;++_)c.dense?(u[S]||(u[S]=[]),u[S][_]||(u[S][_]={t:"z",v:void 0}),u[S][_].l=B):(w=yt({c:_,r:S}),u[w]||(u[w]={t:"z",v:void 0}),u[w].l=B);break;case 426:if(!c.cellFormula)break;L.push(B),A=c.dense?u[S][_]:u[Qr(_)+O],A.f=as(B[1],p,{r:v.r,c:_},k,c),A.F=_t(B[0]);break;case 427:if(!c.cellFormula)break;M[yt(B[0].s)]=B[1],A=c.dense?u[S][_]:u[Qr(_)+O],A.f=as(B[1],p,{r:v.r,c:_},k,c);break;case 60:if(!c.cellStyles)break;for(;B.e>=B.s;)V[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},z||(z=!0,Aj(B.w/256)),ao(V[B.e+1]);break;case 161:u["!autofilter"]={ref:_t(B)};break;case 476:u["!margins"]=B;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),B.name&&(n.Sheets[r].CodeName=B.name),(B.above||B.left)&&(u["!outline"]={above:B.above,left:B.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),B.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ee.T){if(!m||c.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(p.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=_t(f||p)),c.sheetRows&&u["!ref"]){var W=Jt(u["!ref"]);c.sheetRows<=+W.e.r&&(W.e.r=c.sheetRows-1,W.e.r>p.e.r&&(W.e.r=p.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>p.e.c&&(W.e.c=p.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),u["!fullref"]=u["!ref"],u["!ref"]=_t(W))}return T.length>0&&(u["!merges"]=T),V.length>0&&(u["!cols"]=V),q.length>0&&(u["!rows"]=q),u}function tK(e,t,r,a,n,i,l){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=zr(t),t.z=t.z||gt[14],t.v=Pa(Br(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var u={r,c:a};switch(u.s=mo(n.cellXfs,t,n),t.l&&i["!links"].push([yt(u),t.l]),t.c&&i["!comments"].push([yt(u),t.c]),t.t){case"s":case"str":return n.bookSST?(c=kj(n.Strings,t.v,n.revStrings),u.t="s",u.v=c,l?qe(e,18,yY(t,u)):qe(e,7,bY(t,u))):(u.t="str",l?qe(e,17,RY(t,u)):qe(e,6,OY(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?qe(e,13,_Y(t,u)):qe(e,2,EY(t,u)):l?qe(e,16,NY(t,u)):qe(e,5,wY(t,u)),!0;case"b":return u.t="b",l?qe(e,15,fY(t,u)):qe(e,4,dY(t,u)),!0;case"e":return u.t="e",l?qe(e,14,xY(t,u)):qe(e,3,hY(t,u)),!0}return l?qe(e,12,oY(t,u)):qe(e,1,iY(t,u)),!0}function rK(e,t,r,a){var n=Jt(t["!ref"]||"A1"),i,l="",c=[];qe(e,145);var u=Array.isArray(t),f=n.e.r;t["!rows"]&&(f=Math.max(n.e.r,t["!rows"].length-1));for(var p=n.s.r;p<=f;++p){l=da(p),ZX(e,t,n,p);var m=!1;if(p<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){p===n.s.r&&(c[x]=Qr(x)),i=c[x]+l;var v=u?(t[p]||[])[x]:t[i];if(!v){m=!1;continue}m=tK(e,v,p,x,a,t,m)}}qe(e,146)}function aK(e,t){!t||!t["!merges"]||(qe(e,177,UY(t["!merges"].length)),t["!merges"].forEach(function(r){qe(e,176,FY(r))}),qe(e,178))}function sK(e,t){!t||!t["!cols"]||(qe(e,390),t["!cols"].forEach(function(r,a){r&&qe(e,60,VY(a,r))}),qe(e,391))}function nK(e,t){!t||!t["!ref"]||(qe(e,648),qe(e,649,KY(Jt(t["!ref"]))),qe(e,650))}function iK(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=pr(r,-1,a[1].Target.replace(/#.*$/,""),Dt.HLINK);qe(e,494,zY(a,n))}}),delete t["!links"]}function lK(e,t,r,a){if(t["!comments"].length>0){var n=pr(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Dt.VML);qe(e,551,bj("rId"+n)),t["!legacy"]=n}}function oK(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:_t(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,c=ks(i);c.s.r==c.e.r&&(c.e.r=ks(t["!ref"]).e.r,i=_t(c));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==a){f.Ref="'"+r.SheetNames[a]+"'!"+i;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),qe(e,161,xu(Jt(i))),qe(e,162)}}function cK(e,t,r){qe(e,133),qe(e,137,YY(t,r)),qe(e,138),qe(e,134)}function dK(e,t){t["!protect"]&&qe(e,535,QY(t["!protect"]))}function uK(e,t,r,a){var n=Os(),i=r.SheetNames[e],l=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var u=Jt(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],qe(n,129),(r.vbaraw||l["!outline"])&&qe(n,147,sY(c,l["!outline"])),qe(n,148,tY(u)),cK(n,l,r.Workbook),sK(n,l),rK(n,l,e,t),dK(n,l),oK(n,l,r,e),aK(n,l),iK(n,l,a),l["!margins"]&&qe(n,476,WY(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&nK(n,l),lK(n,l,e,a),qe(n,130),n.end()}function fK(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var n=Kt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function mK(e,t,r,a,n,i){var l=i||{"!type":"chart"};if(!e)return i;var c=0,u=0,f="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=fK(m);p.s.r=p.s.c=0,p.e.c=c,f=Qr(c),x[0].forEach(function(v,y){l[f+da(y)]={t:"n",v,z:x[1]},u=y}),p.e.r<u&&(p.e.r=u),++c}),c>0&&(l["!ref"]=_t(p)),l}function hK(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,c=e.match(TM);return c&&Rj(c[0],i,n,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function pK(e,t){e.l+=10;var r=os(e);return{name:r}}function xK(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return ml(e,function(u,f,p){switch(p){case 550:i["!rel"]=u;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),u.name&&(n.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var Pj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],gK=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],bK=[],vK=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function u4(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Fr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function f4(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Fr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function PM(e){f4(e.WBProps,Pj),f4(e.CalcPr,vK),u4(e.WBView,gK),u4(e.Sheets,bK),_d.date1904=Fr(e.WBProps.date1904)}function yK(e){return!e.Workbook||!e.Workbook.WBProps?"false":Fr(e.Workbook.WBProps.date1904)?"true":"false"}var SK="][*?/\\".split("");function DM(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return SK.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function wK(e,t,r){e.forEach(function(a,n){DM(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=t&&t[n]&&t[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function NK(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];wK(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)yX(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var jK=/<\w+:workbook/;function EK(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},l=0;if(e.replace(hs,function(u,f){var p=St(u);switch(yi(p[0])){case"<?xml":break;case"<workbook":u.match(jK)&&(n="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=p[n];break;case"</workbook>":break;case"<fileVersion":delete p[0],r.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Pj.forEach(function(m){if(p[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=Fr(p[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(p[m[0]],10);break;default:r.WBProps[m[0]]=p[m[0]]}}),p.codeName&&(r.WBProps.CodeName=Nr(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],r.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Kt(Nr(p.name)),delete p[0],r.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Nr(p.name),p.comment&&(i.Comment=p.comment),p.localSheetId&&(i.Sheet=+p.localSheetId),Fr(p.hidden||"0")&&(i.Hidden=!0),l=f+u.length;break;case"</definedName>":i.Ref=Kt(Nr(e.slice(l,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete p[0],r.CalcPr=p;break;case"<calcPr/>":delete p[0],r.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return u}),bc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return PM(r),r}function IM(e){var t=[fa];t[t.length]=Ke("workbook",null,{xmlns:bc[0],"xmlns:r":Oa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Pj.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Ke("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:br(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Ke("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(t[t.length]=Ke("definedName",br(c.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function AK(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=yw(e),r.name=os(e),r}function _K(e,t){return t||(t=De(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),bj(e.strRelID,t),za(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function CK(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?os(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function TK(e,t){t||(t=De(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),A6(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function OK(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function kK(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=l9(e),l=hX(e,0,r),c=gj(e);e.l=a;var u={Name:i,Ptg:l};return n<268435455&&(u.Sheet=n),c&&(u.Comment=c),u}function RK(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],u0[16]={n:"BrtFRTArchID$",f:OK},ml(e,function(u,f,p){switch(p){case 156:l.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=as(u.Ptg,null,null,l,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([p,u]):l[0]=[p,u],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(u),l.XTI=l.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(p),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(p),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!f.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},t),PM(r),r.Names=i,r.supbooks=l,r}function PK(e,t){qe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};qe(e,156,_K(n))}qe(e,144)}function DK(e,t){t||(t=De(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return za("SheetJS",t),za(Np.version,t),za(Np.version,t),za("7262",t),t.length>t.l?t.slice(0,t.l):t}function IK(e,t){t||(t=De(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function MK(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&i==-1&&(i=a);i>n||(qe(e,135),qe(e,158,IK(n)),qe(e,136))}}function LK(e,t){var r=Os();return qe(r,131),qe(r,128,DK()),qe(r,153,TK(e.Workbook&&e.Workbook.WBProps||null)),MK(r,e),PK(r,e),qe(r,132),r.end()}function FK(e,t,r){return t.slice(-4)===".bin"?RK(e,r):EK(e,r)}function UK(e,t,r,a,n,i,l,c){return t.slice(-4)===".bin"?eK(e,a,r,n,i,l,c):kX(e,a,r,n,i,l,c)}function BK(e,t,r,a,n,i,l,c){return t.slice(-4)===".bin"?xK(e,a,r,n,i):hK(e,a,r,n,i)}function zK(e,t,r,a,n,i,l,c){return t.slice(-4)===".bin"?$G():HG()}function qK(e,t,r,a,n,i,l,c){return t.slice(-4)===".bin"?zG():qG()}function $K(e,t,r,a){return t.slice(-4)===".bin"?FV(e,r,a):AV(e,r,a)}function HK(e,t,r){return pM(e,r)}function VK(e,t,r){return t.slice(-4)===".bin"?VH(e,r):qH(e,r)}function GK(e,t,r){return t.slice(-4)===".bin"?MG(e,r):_G(e,r)}function WK(e,t,r){return t.slice(-4)===".bin"?jG(e):wG(e)}function XK(e,t,r,a){return r.slice(-4)===".bin"?EG(e,t,r,a):void 0}function YK(e,t,r){return t.slice(-4)===".bin"?vG(e,t,r):SG(e,t,r)}function KK(e,t,r){return(t.slice(-4)===".bin"?LK:IM)(e)}function QK(e,t,r,a,n){return(t.slice(-4)===".bin"?uK:OM)(e,r,a,n)}function JK(e,t,r){return(t.slice(-4)===".bin"?XV:mM)(e,r)}function ZK(e,t,r){return(t.slice(-4)===".bin"?XH:nM)(e,r)}function eQ(e,t,r){return(t.slice(-4)===".bin"?LG:bM)(e)}function tQ(e){return(e.slice(-4)===".bin"?yG:xM)()}var MM=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,LM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Bn(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(MM),i,l,c,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(LM),(l=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(l+1),a[c]=i[2].slice(1,i[2].length-1));return a}function rQ(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(MM),n,i,l,c;if(a)for(c=0;c!=a.length;++c)n=a[c].match(LM),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),r[l]=n[2].slice(1,n[2].length-1));return r}var $f;function aQ(e,t){var r=$f[e]||Kt(e);return r==="General"?sc(t):kn(r,t)}function sQ(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Fr(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Br(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Kt(t)]=n}function nQ(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||hl[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=r0(e.v):e.w=sc(e.v):e.w=aQ(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=$f[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&mu(a)){var n=$o(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function iQ(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=bV[a.Pattern]||a.Pattern)}e[t.ID]=t}function lQ(e,t,r,a,n,i,l,c,u,f){var p="General",m=a.StyleID,x={};f=f||{};var v=[],y=0;for(m===void 0&&c&&(m=c.StyleID),m===void 0&&l&&(m=l.StyleID);i[m]!==void 0&&(i[m].nf&&(p=i[m].nf),i[m].Interior&&v.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Fr(e);break;case"String":a.t="s",a.r=TO(Kt(e)),a.v=e.indexOf("<")>-1?Kt(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Br(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=Kt(e):a.v<60&&(a.v=a.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=k6[e],f.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=TO(t||e));break}if(nQ(a,p,f),f.cellFormula!==!1)if(a.Formula){var b=Kt(a.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),a.f=Ad(b,n),delete a.Formula,a.ArrayRange=="RC"?a.F=Ad("RC:RC",n):a.ArrayRange&&(a.F=Ad(a.ArrayRange,n),u.push([Jt(a.F),a.F]))}else for(y=0;y<u.length;++y)n.r>=u[y][0].s.r&&n.r<=u[y][0].e.r&&n.c>=u[y][0].s.c&&n.c<=u[y][0].e.c&&(a.F=u[y][1]);f.cellStyles&&(v.forEach(function(S){!x.patternType&&S.patternType&&(x.patternType=S.patternType)}),a.s=x),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function oQ(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function ny(e,t){var r=t||{};hu();var a=Tf(uj(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Nr(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=zr(r);return l.type="string",Id.to_workbook(a,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){n.indexOf("<"+$e)>=0&&(i=!0)}),i)return WQ(a,r);$f={"General Number":"General","General Date":gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gt[15],"Short Date":gt[14],"Long Time":gt[19],"Medium Time":gt[18],"Short Time":gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gt[2],Standard:gt[4],Percent:gt[10],Scientific:gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],f,p={},m=[],x=r.dense?[]:{},v="",y={},b={},S=Bn('<Data ss:Type="String">'),_=0,w=0,E=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},T={},N="",D=0,L=[],M={},k={},I=0,V=[],q=[],z={},R=[],W,X=!1,B=[],ee=[],Y={},F=0,K=0,J={Sheets:[],WBProps:{date1904:!1}},H={};n0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";c=n0.exec(a);)switch(c[3]=(ce=c[3]).toLowerCase()){case"data":if(ce=="data"){if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?lQ(a.slice(_,c.index),N,S,u[u.length-1][0]=="comment"?z:y,{c:w,r:E},A,R[w],b,B,r):(N="",S=Bn(c[0]),_=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(q.length>0&&(y.c=q),(!r.sheetRows||r.sheetRows>E)&&y.v!==void 0&&(r.dense?(x[E]||(x[E]=[]),x[E][w]=y):x[Qr(w)+da(E)]=y),y.HRef&&(y.l={Target:Kt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(F=w+(parseInt(y.MergeAcross,10)|0),K=E+(parseInt(y.MergeDown,10)|0),L.push({s:{c:w,r:E},e:{c:F,r:K}})),!r.sheetStubs)y.MergeAcross?w=F+1:++w;else if(y.MergeAcross||y.MergeDown){for(var le=w;le<=F;++le)for(var xe=E;xe<=K;++xe)(le>w||xe>E)&&(r.dense?(x[xe]||(x[xe]=[]),x[xe][le]={t:"z"}):x[Qr(le)+da(xe)]={t:"z"});w=F+1}else++w;else y=rQ(c[0]),y.Index&&(w=+y.Index-1),w<O.s.c&&(O.s.c=w),w>O.e.c&&(O.e.c=w),c[0].slice(-2)==="/>"&&++w,q=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(E<O.s.r&&(O.s.r=E),E>O.e.r&&(O.e.r=E),c[0].slice(-2)==="/>"&&(b=Bn(c[0]),b.Index&&(E=+b.Index-1)),w=0,++E):(b=Bn(c[0]),b.Index&&(E=+b.Index-1),Y={},(b.AutoFitHeight=="0"||b.Height)&&(Y.hpx=parseInt(b.Height,10),Y.hpt=d0(Y.hpx),ee[E]=Y),b.Hidden=="1"&&(Y.hidden=!0,ee[E]=Y));break;case"worksheet":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));m.push(v),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(x["!ref"]=_t(O),r.sheetRows&&r.sheetRows<=O.e.r&&(x["!fullref"]=x["!ref"],O.e.r=r.sheetRows-1,x["!ref"]=_t(O))),L.length&&(x["!merges"]=L),R.length>0&&(x["!cols"]=R),ee.length>0&&(x["!rows"]=ee),p[v]=x}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=w=0,u.push([c[3],!1]),f=Bn(c[0]),v=Kt(f.Name),x=r.dense?[]:{},L=[],B=[],ee=[],H={name:v,Hidden:0},J.Sheets.push(H);break;case"table":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),R=[],X=!1}break;case"style":c[1]==="/"?iQ(A,T,r):T=Bn(c[0]);break;case"numberformat":T.nf=Kt(Bn(c[0]).Format||"General"),$f[T.nf]&&(T.nf=$f[T.nf]);for(var se=0;se!=392&&gt[se]!=T.nf;++se);if(se==392){for(se=57;se!=392;++se)if(gt[se]==null){Ji(T.nf,se);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(W=Bn(c[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!X&&W.wpx>10){X=!0,ss=uM;for(var fe=0;fe<R.length;++fe)R[fe]&&ao(R[fe])}X&&ao(W),R[W.Index-1||R.length]=W;for(var we=0;we<+W.Span;++we)R[R.length]=zr(W);break;case"namedrange":if(c[1]==="/")break;J.Names||(J.Names=[]);var G=St(c[0]),He={Name:G.Name,Ref:Ad(G.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(He.Sheet=J.Sheets.length-1),J.Names.push(He);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?N+=a.slice(D,c.index):D=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=Bn(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?R9(M,ce,a.slice(I,c.index)):I=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));oQ(z),q.push(z)}else u.push([c[3],!1]),f=Bn(c[0]),z={a:f.Author};break;case"autofilter":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Ue=Bn(c[0]);x["!autofilter"]={ref:Ad(Ue.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((f=u.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return g4(a,r);var he=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:he=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:he=!1}break;case"excelworkbook":switch(c[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:he=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:he=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(a.slice(I,c.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else I=c.index+c[0].length;break;case"header":x["!margins"]||Zo(x["!margins"]={},"xlml"),isNaN(+St(c[0]).Margin)||(x["!margins"].header=+St(c[0]).Margin);break;case"footer":x["!margins"]||Zo(x["!margins"]={},"xlml"),isNaN(+St(c[0]).Margin)||(x["!margins"].footer=+St(c[0]).Margin);break;case"pagemargins":var Me=St(c[0]);x["!margins"]||Zo(x["!margins"]={},"xlml"),isNaN(+Me.Top)||(x["!margins"].top=+Me.Top),isNaN(+Me.Left)||(x["!margins"].left=+Me.Left),isNaN(+Me.Right)||(x["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(x["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:he=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:he=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:he=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:he=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:he=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:he=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:he=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:he=!1}break;case"smarttags":break;default:he=!1;break}if(he||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?sQ(k,ce,V,a.slice(I,c.index)):(V=c,I=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var ye={};return!r.bookSheets&&!r.bookProps&&(ye.Sheets=p),ye.SheetNames=m,ye.Workbook=J,ye.SSF=zr(gt),ye.Props=M,ye.Custprops=k,ye}function _w(e,t){switch(Mj(t=t||{}),t.type||"base64"){case"base64":return ny(Ks(e),t);case"binary":case"buffer":case"file":return ny(e,t);case"array":return ny(uo(e),t)}}function cQ(e,t){var r=[];return e.Props&&r.push(P9(e.Props,t)),e.Custprops&&r.push(D9(e.Props,e.Custprops)),r.join("")}function dQ(){return""}function uQ(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Ke("NumberFormat",null,{"ss:Format":br(gt[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};r.push(Ke("Style",i.join(""),l))}),Ke("Styles",r.join(""))}function FM(e){return Ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Tj(e.Ref,{r:0,c:0})})}function fQ(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(FM(n)))}return Ke("Names",r.join(""))}function mQ(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var c=n[l];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(FM(c)))}return i.join("")}function hQ(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Ke("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(Ke("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Qa("ProtectContents","True")),e["!protect"].objects&&n.push(Qa("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Qa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Qa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Qa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Ke("WorksheetOptions",n.join(""),{xmlns:$s.x})}function pQ(e){return e.map(function(t){var r=Mq(t.t||""),a=Ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",a,{"ss:Author":t.a})}).join("")}function xQ(e,t,r,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+br(Tj(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=Jr(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=br(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=br(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],p=0;p!=f.length;++p)f[p].s.c!=l.c||f[p].s.r!=l.r||(f[p].e.c>f[p].s.c&&(c["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(c["ss:MergeDown"]=f[p].e.r-f[p].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=hl[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||gt[14]);break;case"s":m="String",x=Iq(e.v||"");break}var v=mo(a.cellXfs,e,a);c["ss:StyleID"]="s"+(21+v),c["ss:Index"]=l.c+1;var y=e.v!=null?x:"",b=e.t=="z"?"":'<Data ss:Type="'+m+'">'+y+"</Data>";return(e.c||[]).length>0&&(b+=pQ(e.c)),Ke("Cell",b,c)}function gQ(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Md(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function bQ(e,t,r,a){if(!e["!ref"])return"";var n=Jt(e["!ref"]),i=e["!merges"]||[],l=0,c=[];e["!cols"]&&e["!cols"].forEach(function(S,_){ao(S);var w=!!S.width,E=Qx(_,S),O={"ss:Index":_+1};w&&(O["ss:Width"]=o0(E.width)),S.hidden&&(O["ss:Hidden"]="1"),c.push(Ke("Column",null,O))});for(var u=Array.isArray(e),f=n.s.r;f<=n.e.r;++f){for(var p=[gQ(f,(e["!rows"]||[])[f])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>f)&&!(i[l].e.c<m)&&!(i[l].e.r<f)){(i[l].s.c!=m||i[l].s.r!=f)&&(x=!0);break}if(!x){var v={r:f,c:m},y=yt(v),b=u?(e[f]||[])[m]:e[y];p.push(xQ(b,y,e,t,r,a,v))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function vQ(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],l=i?mQ(i,t,e,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?bQ(i,t,e,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(hQ(i,t,e,r)),a.join("")}function yQ(e,t){t||(t={}),e.SSF||(e.SSF=zr(gt)),e.SSF&&(hu(),Hx(e.SSF),t.revssf=Gx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],mo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(cQ(e,t)),r.push(dQ()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Ke("Worksheet",vQ(a,t,e),{"ss:Name":br(e.SheetNames[a])}));return r[2]=uQ(e,t),r[3]=fQ(e),fa+Ke("Workbook",r.join(""),{xmlns:$s.ss,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:ss":$s.ss,"xmlns:dt":$s.dt,"xmlns:html":$s.html})}function SQ(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=f9(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=m9(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var wQ=[60,1084,2066,2165,2175];function NQ(e,t,r,a,n){var i=a,l=[],c=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(c)}l.push(c),r.l+=i;for(var u=Gi(r,r.l),f=Cw[u],p=0;f!=null&&wQ.indexOf(u)>-1;)i=Gi(r,r.l+2),p=r.l+4,u==2066?p+=4:(u==2165||u==2175)&&(p+=12),c=r.slice(p,r.l+4+i),l.push(c),r.l+=4+i,f=Cw[u=Gi(r,r.l)];var m=Ba(l);Ka(m,0);var x=0;m.lens=[];for(var v=0;v<l.length;++v)m.lens.push(x),x+=l[v].length;if(m.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+a;return t.f(m,m.length,n)}function ii(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=gt[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||hl[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=r0(e.v):e.w=sc(e.v):e.w=kn(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&mu(gt[a]||String(a))){var n=$o(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Wh(e,t,r){return{v:e,ixfe:t,t:r}}function jQ(e,t){var r={opts:{}},a={},n=t.dense?[]:{},i={},l={},c=null,u=[],f="",p={},m,x="",v,y,b,S,_={},w=[],E,O,A=[],T=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},D={},L=function(ct){return ct<8?Ko[ct]:ct<64&&T[ct-8]||Ko[ct]},M=function(ct,$t,Er){var Se=$t.XF.data;if(!(!Se||!Se.patternType||!Er||!Er.cellStyles)){$t.s={},$t.s.patternType=Se.patternType;var ur;(ur=l0(L(Se.icvFore)))&&($t.s.fgColor={rgb:ur}),(ur=l0(L(Se.icvBack)))&&($t.s.bgColor={rgb:ur})}},k=function(ct,$t,Er){if(!(Y>1)&&!(Er.sheetRows&&ct.r>=Er.sheetRows)){if(Er.cellStyles&&$t.XF&&$t.XF.data&&M(ct,$t,Er),delete $t.ixfe,delete $t.XF,m=ct,x=yt(ct),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ct.r<l.s.r&&(l.s.r=ct.r),ct.c<l.s.c&&(l.s.c=ct.c),ct.r+1>l.e.r&&(l.e.r=ct.r+1),ct.c+1>l.e.c&&(l.e.c=ct.c+1),Er.cellFormula&&$t.f){for(var Se=0;Se<w.length;++Se)if(!(w[Se][0].s.c>ct.c||w[Se][0].s.r>ct.r)&&!(w[Se][0].e.c<ct.c||w[Se][0].e.r<ct.r)){$t.F=_t(w[Se][0]),(w[Se][0].s.c!=ct.c||w[Se][0].s.r!=ct.r)&&delete $t.f,$t.f&&($t.f=""+as(w[Se][1],l,ct,B,I));break}}Er.dense?(n[ct.r]||(n[ct.r]=[]),n[ct.r][ct.c]=$t):n[x]=$t}},I={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var V,q=[],z=[],R=[],W=[],X=!1,B=[];B.SheetNames=I.snames,B.sharedf=I.sharedf,B.arrayf=I.arrayf,B.names=[],B.XTI=[];var ee=0,Y=0,F=0,K=[],J=[],H;I.codepage=1200,Gn(1200);for(var ce=!1;e.l<e.length-1;){var le=e.l,xe=e.read_shift(2);if(xe===0&&ee===10)break;var se=e.l===e.length?0:e.read_shift(2),fe=Cw[xe];if(fe&&fe.f){if(t.bookSheets&&ee===133&&xe!==133)break;if(ee=xe,fe.r===2||fe.r==12){var we=e.read_shift(2);if(se-=2,!I.enc&&we!==xe&&((we&255)<<8|we>>8)!==xe)throw new Error("rt mismatch: "+we+"!="+xe);fe.r==12&&(e.l+=10,se-=10)}var G={};if(xe===10?G=fe.f(e,se,I):G=NQ(xe,fe,e,se,I),Y==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(xe){case 34:r.opts.Date1904=N.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=G,!t.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=G;break;case 66:var He=Number(G);switch(He){case 21010:He=1200;break;case 32768:He=1e4;break;case 32769:He=1252;break}Gn(I.codepage=He),ce=!0;break;case 317:I.rrtabid=G;break;case 25:I.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:I.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(n["!type"]="dialog"),G.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),G.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:A.push(G);break;case 430:B.push([G]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(G);break;case 24:case 536:H={Name:G.Name,Ref:as(G.rgce,l,null,B,I)},G.itab>0&&(H.Sheet=G.itab-1),B.names.push(H),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(J[G.itab-1]={ref:_t(G.rgce[0][0][1][2])});break;case 22:I.ExternCount=G;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(G),B.XTI=B.XTI.concat(G);break;case 2196:if(I.biff<8)break;H!=null&&(H.Comment=G[1]);break;case 18:n["!protect"]=G;break;case 19:G!==0&&I.WTF&&console.error("Password verifier: "+G);break;case 133:i[G.pos]=G,I.snames.push(G.name);break;case 10:{if(--Y)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=_t(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ue=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=_t(l),l.e.r=Ue}l.e.r++,l.e.c++}q.length>0&&(n["!merges"]=q),z.length>0&&(n["!objects"]=z),R.length>0&&(n["!cols"]=R),W.length>0&&(n["!rows"]=W),N.Sheets.push(D)}f===""?p=n:a[f]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),I.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(I.biff=5,ce=!0,Gn(I.codepage=28591)),I.biff==8&&G.BIFFVer==0&&G.dt==16&&(I.biff=2),Y++)break;if(n=t.dense?[]:{},I.biff<8&&!ce&&(ce=!0,Gn(I.codepage=t.codepage||1252)),I.biff<5||G.BIFFVer==0&&G.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var he={pos:e.l-se,name:f};i[he.pos]=he,I.snames.push(f)}else f=(i[le]||{name:""}).name;G.dt==32&&(n["!type"]="chart"),G.dt==64&&(n["!type"]="macro"),q=[],z=[],I.arrayf=w=[],R=[],W=[],X=!1,D={Hidden:(i[le]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[G.r]||[])[G.c]:n[yt({c:G.c,r:G.r})])&&++G.c,E={ixfe:G.ixfe,XF:A[G.ixfe]||{},v:G.val,t:"n"},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t);break;case 5:case 517:E={ixfe:G.ixfe,XF:A[G.ixfe],v:G.val,t:G.t},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t);break;case 638:E={ixfe:G.ixfe,XF:A[G.ixfe],v:G.rknum,t:"n"},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t);break;case 189:for(var Me=G.c;Me<=G.C;++Me){var ye=G.rkrec[Me-G.c][0];E={ixfe:ye,XF:A[ye],v:G.rkrec[Me-G.c][1],t:"n"},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:Me,r:G.r},E,t)}break;case 6:case 518:case 1030:{if(G.val=="String"){c=G;break}if(E=Wh(G.val,G.cell.ixfe,G.tt),E.XF=A[E.ixfe],t.cellFormula){var $e=G.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var rt=$e[0][0][1][0],it=$e[0][0][1][1],ve=yt({r:rt,c:it});_[ve]?E.f=""+as(G.formula,l,G.cell,B,I):E.F=((t.dense?(n[rt]||[])[it]:n[ve])||{}).F}else E.f=""+as(G.formula,l,G.cell,B,I)}F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k(G.cell,E,t),c=G}break;case 7:case 519:if(c)c.val=G,E=Wh(G,c.cell.ixfe,"s"),E.XF=A[E.ixfe],t.cellFormula&&(E.f=""+as(c.formula,l,c.cell,B,I)),F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k(c.cell,E,t),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(G);var tt=yt(G[0].s);if(v=t.dense?(n[G[0].s.r]||[])[G[0].s.c]:n[tt],t.cellFormula&&v){if(!c||!tt||!v)break;v.f=""+as(G[1],l,G[0],B,I),v.F=_t(G[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!c)break;_[yt(c.cell)]=G[0],v=t.dense?(n[c.cell.r]||[])[c.cell.c]:n[yt(c.cell)],(v||{}).f=""+as(G[0],l,m,B,I)}}break;case 253:E=Wh(u[G.isst].t,G.ixfe,"s"),u[G.isst].h&&(E.h=u[G.isst].h),E.XF=A[E.ixfe],F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:G.ixfe,XF:A[G.ixfe],t:"z"},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t));break;case 190:if(t.sheetStubs)for(var wt=G.c;wt<=G.C;++wt){var Nt=G.ixfe[wt-G.c];E={ixfe:Nt,XF:A[Nt],t:"z"},F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:wt,r:G.r},E,t)}break;case 214:case 516:case 4:E=Wh(G.val,G.ixfe,"s"),E.XF=A[E.ixfe],F>0&&(E.z=K[E.ixfe>>8&63]),ii(E,t,r.opts.Date1904),k({c:G.c,r:G.r},E,t);break;case 0:case 512:Y===1&&(l=G);break;case 252:u=G;break;case 1054:if(I.biff==4){K[F++]=G[1];for(var bt=0;bt<F+163&&gt[bt]!=G[1];++bt);bt>=163&&Ji(G[1],F+163)}else Ji(G[1],G[0]);break;case 30:{K[F++]=G;for(var ft=0;ft<F+163&&gt[ft]!=G;++ft);ft>=163&&Ji(G,F+163)}break;case 229:q=q.concat(G);break;case 93:z[G.cmo[0]]=I.lastobj=G;break;case 438:I.lastobj.TxO=G;break;case 127:I.lastobj.ImData=G;break;case 440:for(S=G[0].s.r;S<=G[0].e.r;++S)for(b=G[0].s.c;b<=G[0].e.c;++b)v=t.dense?(n[S]||[])[b]:n[yt({c:b,r:S})],v&&(v.l=G[1]);break;case 2048:for(S=G[0].s.r;S<=G[0].e.r;++S)for(b=G[0].s.c;b<=G[0].e.c;++b)v=t.dense?(n[S]||[])[b]:n[yt({c:b,r:S})],v&&v.l&&(v.l.Tooltip=G[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;v=t.dense?(n[G[0].r]||[])[G[0].c]:n[yt(G[0])];var kt=z[G[2]];v||(t.dense?(n[G[0].r]||(n[G[0].r]=[]),v=n[G[0].r][G[0].c]={t:"z"}):v=n[yt(G[0])]={t:"z"},l.e.r=Math.max(l.e.r,G[0].r),l.s.r=Math.min(l.s.r,G[0].r),l.e.c=Math.max(l.e.c,G[0].c),l.s.c=Math.min(l.s.c,G[0].c)),v.c||(v.c=[]),y={a:G[1],t:kt.TxO.t},v.c.push(y)}break;case 2173:uG(A[G.ixfe],G.ext);break;case 125:{if(!I.cellStyles)break;for(;G.e>=G.s;)R[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},X||(X=!0,Aj(G.w/256)),ao(R[G.e+1])}break;case 520:{var Yt={};G.level!=null&&(W[G.r]=Yt,Yt.level=G.level),G.hidden&&(W[G.r]=Yt,Yt.hidden=!0),G.hpt&&(W[G.r]=Yt,Yt.hpt=G.hpt,Yt.hpx=Md(G.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Zo(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=G;break;case 161:n["!margins"]||Zo(n["!margins"]={}),n["!margins"].header=G.header,n["!margins"].footer=G.footer;break;case 574:G.RTL&&(N.Views[0].RTL=!0);break;case 146:T=G;break;case 2198:V=G;break;case 140:O=G;break;case 442:f?D.CodeName=G||D.name:N.WBProps.CodeName=G||"ThisWorkbook";break}}else fe||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=se}return r.SheetNames=ia(i).sort(function(Xe,ct){return Number(Xe)-Number(ct)}).map(function(Xe){return i[Xe].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&p["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=p)):r.Preamble=p,r.Sheets&&J.forEach(function(Xe,ct){r.Sheets[r.SheetNames[ct]]["!autofilter"]=Xe}),r.Strings=u,r.SSF=zr(gt),I.enc&&(r.Encryption=I.enc),V&&(r.Themes=V),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),B.names.length>0&&(N.Names=B.names),r.Workbook=N,r}var Hf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function EQ(e,t,r){var a=dt.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=WO(a,Sw,Hf.DSI);for(var i in n)t[i]=n[i]}catch(f){if(r.WTF)throw f}var l=dt.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var c=WO(l,ww,Hf.SI);for(var u in c)t[u]==null&&(t[u]=c[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(L6(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function AQ(e,t){var r=[],a=[],n=[],i=0,l,c=NO(Sw,"n"),u=NO(ww,"n");if(e.Props)for(l=ia(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=ia(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<n.length;++i)H6.indexOf(n[i][0])>-1||M6.indexOf(n[i][0])>-1||n[i][1]!=null&&f.push(n[i]);a.length&&dt.utils.cfb_add(t,"/SummaryInformation",XO(a,Hf.SI,u,ww)),(r.length||f.length)&&dt.utils.cfb_add(t,"/DocumentSummaryInformation",XO(r,Hf.DSI,c,Sw,f.length?f:null,Hf.UDI))}function Dj(e,t){t||(t={}),Mj(t),rj(),t.codepage&&tj(t.codepage);var r,a;if(e.FullPaths){if(dt.find(e,"/encryption"))throw new Error("File is password-protected");r=dt.find(e,"!CompObj"),a=dt.find(e,"/Workbook")||dt.find(e,"/Book")}else{switch(t.type){case"base64":e=Vs(Ks(e));break;case"binary":e=Vs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ka(e,0),a={content:e}}var n,i;if(r&&SQ(r),t.bookProps&&!t.bookSheets)n={};else{var l=Pt?"buffer":"array";if(a&&a.content)n=jQ(a.content,t);else if((i=dt.find(e,"PerfectOffice_MAIN"))&&i.content)n=Jo.to_workbook(i.content,(t.type=l,t));else if((i=dt.find(e,"NativeContent_MAIN"))&&i.content)n=Jo.to_workbook(i.content,(t.type=l,t));else throw(i=dt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&dt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=UG(e))}var c={};return e.FullPaths&&EQ(e,c,t),n.Props=n.Custprops=c,t.bookFiles&&(n.cfb=e),n}function _Q(e,t){var r=t||{},a=dt.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return dt.utils.cfb_add(a,n,UM(e,r)),r.biff==8&&(e.Props||e.Custprops)&&AQ(e,a),r.biff==8&&e.vbaraw&&BG(a,dt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var u0={0:{f:QX},1:{f:nY},2:{f:jY},3:{f:mY},4:{f:cY},5:{f:SY},6:{f:TY},7:{f:gY},8:{f:MY},9:{f:IY},10:{f:PY},11:{f:DY},12:{f:lY},13:{f:AY},14:{f:pY},15:{f:uY},16:{f:kM},17:{f:kY},18:{f:vY},19:{f:xj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kK},40:{},42:{},43:{f:TV},44:{f:_V},45:{f:RV},46:{f:DV},47:{f:PV},48:{},49:{f:e9},50:{},51:{f:hG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tM},62:{f:CY},63:{f:NG},64:{f:JY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:us,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aY},148:{f:eY,p:16},151:{f:qY},152:{},153:{f:CK},154:{},155:{},156:{f:AK},157:{},158:{},159:{T:1,f:HH},160:{T:-1},161:{T:1,f:wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:LY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fG},336:{T:-1},337:{f:gG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$Y},427:{f:HY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:GY},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:rY},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:BY},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:DG},633:{T:1},634:{T:-1},635:{T:1,f:RG},636:{T:-1},637:{f:s9},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pK},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ZY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Cw={6:{f:ay},10:{f:$l},12:{f:ya},13:{f:ya},14:{f:ca},15:{f:ca},16:{f:ls},17:{f:ca},18:{f:ca},19:{f:ya},20:{f:e4},21:{f:e4},23:{f:eM},24:{f:r4},25:{f:ca},26:{},27:{},28:{f:Z$},29:{},34:{f:ca},35:{f:t4},38:{f:ls},39:{f:ls},40:{f:ls},41:{f:ls},42:{f:ca},43:{f:ca},47:{f:uV},49:{f:A$},51:{f:ya},60:{},61:{f:S$},64:{f:ca},65:{f:E$},66:{f:ya},77:{},80:{},81:{},82:{},85:{f:ya},89:{},90:{},91:{},92:{f:d$},93:{f:rH},94:{},95:{f:ca},96:{},97:{},99:{f:ca},125:{f:tM},128:{f:z$},129:{f:f$},130:{f:ya},131:{f:ca},132:{f:ca},133:{f:m$},134:{},140:{f:dH},141:{f:ya},144:{},146:{f:mH},151:{},152:{},153:{},154:{},155:{},156:{f:ya},157:{},158:{},160:{f:yH},161:{f:xH},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:L$},190:{f:F$},193:{f:$l},197:{},198:{},199:{},200:{},201:{},202:{f:ca},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ya},220:{},221:{f:ca},222:{},224:{f:B$},225:{f:c$},226:{f:$l},227:{},229:{f:eH},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:p$},253:{f:C$},255:{f:g$},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:V6},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ca},353:{f:$l},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:G$},431:{f:ca},432:{},433:{},434:{},437:{},438:{f:nH},439:{f:ca},440:{f:iH},441:{},442:{f:im},443:{},444:{f:ya},445:{},446:{},448:{f:$l},449:{f:y$,r:2},450:{f:$l},512:{f:QO},513:{f:vH},515:{f:H$},516:{f:O$},517:{f:ZO},519:{f:SH},520:{f:b$},523:{},545:{f:a4},549:{f:KO},566:{},574:{f:N$},638:{f:M$},659:{},1048:{},1054:{f:R$},1084:{},1212:{f:K$},2048:{f:oH},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Hh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$l},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:hH,r:12},2173:{f:dG,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ca,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Y$,r:12},2197:{},2198:{f:sG,r:12},2199:{},2200:{},2201:{},2202:{f:Q$,r:12},2203:{f:$l},2204:{},2205:{},2206:{},2207:{},2211:{f:v$},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ya},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:gH},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:fH},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:QO},1:{},2:{f:AH},3:{f:jH},4:{f:NH},5:{f:ZO},7:{f:CH},8:{},9:{f:Hh},11:{},22:{f:ya},30:{f:D$},31:{},32:{},33:{f:a4},36:{},37:{f:KO},50:{f:TH},62:{},52:{},67:{},68:{f:ya},69:{},86:{},126:{},127:{f:wH},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:OH},223:{},234:{},354:{},421:{},518:{f:ay},521:{f:Hh},536:{f:r4},547:{f:t4},561:{},579:{},1030:{f:ay},1033:{f:Hh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Qe(e,t,r,a){var n=t;if(!isNaN(n)){var i=a||(r||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&mj(r)&&e.push(r)}}function CQ(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return Qe(e,t,r,n);var i=t;if(!isNaN(i)){for(var l=r.parts||[],c=0,u=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var p=e.next(4);for(p.write_shift(2,i),p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<n;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;p.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function dm(e,t,r){return e||(e=De(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function TQ(e,t,r,a){var n=De(9);return dm(n,e,t),G6(r,a||"b",n),n}function OQ(e,t,r){var a=De(8+2*r.length);return dm(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function kQ(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Pa(Br(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Qe(e,2,_H(r,a,n)):Qe(e,3,EH(r,a,n));return;case"b":case"e":Qe(e,5,TQ(r,a,t.v,t.t));return;case"s":case"str":Qe(e,4,OQ(r,a,(t.v||"").slice(0,255)));return}Qe(e,1,dm(null,r,a))}function RQ(e,t,r,a){var n=Array.isArray(t),i=Jt(t["!ref"]||"A1"),l,c="",u=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=_t(i)}for(var f=i.s.r;f<=i.e.r;++f){c=da(f);for(var p=i.s.c;p<=i.e.c;++p){f===i.s.r&&(u[p]=Qr(p)),l=u[p]+c;var m=n?(t[f]||[])[p]:t[l];m&&kQ(e,m,f,p)}}}function PQ(e,t){for(var r=t||{},a=Os(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(n=i);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Qe(a,r.biff==4?1033:r.biff==3?521:9,Nj(e,16,r)),RQ(a,e.Sheets[e.SheetNames[n]],n,r),Qe(a,10),a.end()}function DQ(e,t,r){Qe(e,49,_$({sz:12,name:"Arial"},r))}function IQ(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Qe(e,1054,P$(n,t[n],r))})}function MQ(e,t){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Qe(e,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Q6(Jt(t["!ref"]||"A1"),r),r.write_shift(4,4),Qe(e,2152,r)}function LQ(e,t){for(var r=0;r<16;++r)Qe(e,224,JO({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Qe(e,224,JO(a,0,t))})}function FQ(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Qe(e,440,lH(a)),a[1].Tooltip&&Qe(e,2048,cH(a))}delete t["!links"]}function UQ(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&Qe(e,125,pH(Qx(n,a),n))})}}function BQ(e,t,r,a,n){var i=16+mo(n.cellXfs,t,n);if(t.v==null&&!t.bf){Qe(e,513,oc(r,a,i));return}if(t.bf)Qe(e,6,fX(t,r,a,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Pa(Br(t.v)):t.v;Qe(e,515,V$(r,a,l,i));break;case"b":case"e":Qe(e,517,$$(r,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var c=kj(n.Strings,t.v,n.revStrings);Qe(e,253,T$(r,a,c,i))}else Qe(e,516,k$(r,a,(t.v||"").slice(0,255),i,n));break;default:Qe(e,513,oc(r,a,i))}}function zQ(e,t,r){var a=Os(),n=r.SheetNames[e],i=r.Sheets[n]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,p,m="",x=[],v=Jt(i["!ref"]||"A1"),y=f?65536:16384;if(v.e.c>255||v.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,y-1)}Qe(a,2057,Nj(r,16,t)),Qe(a,13,yn(1)),Qe(a,12,yn(100)),Qe(a,15,bs(!0)),Qe(a,17,bs(!1)),Qe(a,16,ic(.001)),Qe(a,95,bs(!0)),Qe(a,42,bs(!1)),Qe(a,43,bs(!1)),Qe(a,130,yn(1)),Qe(a,128,q$()),Qe(a,131,bs(!1)),Qe(a,132,bs(!1)),f&&UQ(a,i["!cols"]),Qe(a,512,I$(v,t)),f&&(i["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){m=da(b);for(var S=v.s.c;S<=v.e.c;++S){b===v.s.r&&(x[S]=Qr(S)),p=x[S]+m;var _=u?(i[b]||[])[S]:i[p];_&&(BQ(a,_,b,S,t),f&&_.l&&i["!links"].push([p,_.l]))}}var w=c.CodeName||c.name||n;return f&&Qe(a,574,j$((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&Qe(a,229,tH(i["!merges"])),f&&FQ(a,i),Qe(a,442,W6(w)),f&&MQ(a,i),Qe(a,10),a.end()}function qQ(e,t,r){var a=Os(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},c=r.biff==8,u=r.biff==5;if(Qe(a,2057,Nj(e,5,r)),r.bookType=="xla"&&Qe(a,135),Qe(a,225,c?yn(1200):null),Qe(a,193,$9(2)),u&&Qe(a,191),u&&Qe(a,192),Qe(a,226),Qe(a,92,u$("SheetJS",r)),Qe(a,66,yn(c?1200:1252)),c&&Qe(a,353,yn(0)),c&&Qe(a,448),Qe(a,317,bH(e.SheetNames.length)),c&&e.vbaraw&&Qe(a,211),c&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";Qe(a,442,W6(f))}Qe(a,156,yn(17)),Qe(a,25,bs(!1)),Qe(a,18,bs(!1)),Qe(a,19,yn(0)),c&&Qe(a,431,bs(!1)),c&&Qe(a,444,yn(0)),Qe(a,61,w$()),Qe(a,64,bs(!1)),Qe(a,141,yn(0)),Qe(a,34,bs(yK(e)=="true")),Qe(a,14,bs(!0)),c&&Qe(a,439,bs(!1)),Qe(a,218,yn(0)),DQ(a,e,r),IQ(a,e.SSF,r),LQ(a,r),c&&Qe(a,352,bs(!1));var p=a.end(),m=Os();c&&Qe(m,140,uH()),c&&r.Strings&&CQ(m,252,x$(r.Strings)),Qe(m,10);var x=m.end(),v=Os(),y=0,b=0;for(b=0;b<e.SheetNames.length;++b)y+=(c?12:11)+(c?2:1)*e.SheetNames[b].length;var S=p.length+y+x.length;for(b=0;b<e.SheetNames.length;++b){var _=i[b]||{};Qe(v,133,h$({pos:S,hs:_.Hidden||0,dt:0,name:e.SheetNames[b]},r)),S+=t[b].length}var w=v.end();if(y!=w.length)throw new Error("BS8 "+y+" != "+w.length);var E=[];return p.length&&E.push(p),w.length&&E.push(w),x.length&&E.push(x),Ba(E)}function $Q(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=zr(gt)),e&&e.SSF&&(hu(),Hx(e.SSF),r.revssf=Gx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Lj(r),r.cellXfs=[],mo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=zQ(n,r,e);return a.unshift(qQ(e,a,r)),Ba(a)}function UM(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=ks(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return $Q(e,t);case 4:case 3:case 2:return PQ(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function m4(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,c=i&&i.index||e.length,u=_q(e.slice(l,c),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,p=0,m=0,x=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(l=0;l<u.length;++l){var b=u[l].trim(),S=b.slice(0,3).toLowerCase();if(S=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}p=0;continue}if(!(S!="<td"&&S!="<th")){var _=b.split(/<\/t[dh]>/i);for(c=0;c<_.length;++c){var w=_[c].trim();if(w.match(/<t[dh]/i)){for(var E=w,O=0;E.charAt(0)=="<"&&(O=E.indexOf(">"))>-1;)E=E.slice(O+1);for(var A=0;A<y.length;++A){var T=y[A];T.s.c==p&&T.s.r<f&&f<=T.e.r&&(p=T.e.c+1,A=-1)}var N=St(w.slice(0,w.indexOf(">")));x=N.colspan?+N.colspan:1,((m=+N.rowspan)>1||x>1)&&y.push({s:{r:f,c:p},e:{r:f+(m||1)-1,c:p+x-1}});var D=N.t||N["data-t"]||"";if(!E.length){p+=x;continue}if(E=d6(E),v.s.r>f&&(v.s.r=f),v.e.r<f&&(v.e.r=f),v.s.c>p&&(v.s.c=p),v.e.c<p&&(v.e.c=p),!E.length){p+=x;continue}var L={t:"s",v:E};r.raw||!E.trim().length||D=="s"||(E==="TRUE"?L={t:"b",v:!0}:E==="FALSE"?L={t:"b",v:!1}:isNaN(Yn(E))?isNaN(Dd(E).getDate())||(L={t:"d",v:Br(E)},r.cellDates||(L={t:"n",v:Pa(L.v)}),L.z=r.dateNF||gt[14]):L={t:"n",v:Yn(E)}),r.dense?(a[f]||(a[f]=[]),a[f][p]=L):a[yt({r:f,c:p})]=L,p+=x}}}}return a["!ref"]=_t(v),y.length&&(a["!merges"]=y),a}function HQ(e,t,r,a){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var c=0,u=0,f=0;f<n.length;++f)if(!(n[f].s.r>r||n[f].s.c>l)&&!(n[f].e.r<r||n[f].e.c<l)){if(n[f].s.r<r||n[f].s.c<l){c=-1;break}c=n[f].e.r-n[f].s.r+1,u=n[f].e.c-n[f].s.c+1;break}if(!(c<0)){var p=yt({r,c:l}),m=a.dense?(e[r]||[])[l]:e[p],x=m&&m.v!=null&&(m.h||dj(m.w||(il(m),m.w)||""))||"",v={};c>1&&(v.rowspan=c),u>1&&(v.colspan=u),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(v["data-t"]=m&&m.t||"z",m.v!=null&&(v["data-v"]=m.v),m.z!=null&&(v["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),v.id=(a.id||"sjs")+"-"+p,i.push(Ke("td",x,v))}}var y="<tr>";return y+i.join("")+"</tr>"}var VQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',GQ="</body></html>";function WQ(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return fo(m4(r[0],t),t);var a=Bj();return r.forEach(function(n,i){zj(a,m4(n,t),"Sheet"+(i+1))}),a}function XQ(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function BM(e,t){var r=t||{},a=r.header!=null?r.header:VQ,n=r.footer!=null?r.footer:GQ,i=[a],l=ks(e["!ref"]);r.dense=Array.isArray(e),i.push(XQ(e,l,r));for(var c=l.s.r;c<=l.e.r;++c)i.push(HQ(e,l,c,r));return i.push("</table>"+n),i.join("")}function zM(e,t,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Jr(a.origin):a.origin;n=l.r,i=l.c}var c=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var p=ks(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),n==-1&&(f.e.r=n=p.e.r+1)}var m=[],x=0,v=e["!rows"]||(e["!rows"]=[]),y=0,b=0,S=0,_=0,w=0,E=0;for(e["!cols"]||(e["!cols"]=[]);y<c.length&&b<u;++y){var O=c[y];if(h4(O)){if(a.display)continue;v[b]={hidden:!0}}var A=O.children;for(S=_=0;S<A.length;++S){var T=A[S];if(!(a.display&&h4(T))){var N=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):d6(T.innerHTML),D=T.getAttribute("data-z")||T.getAttribute("z");for(x=0;x<m.length;++x){var L=m[x];L.s.c==_+i&&L.s.r<b+n&&b+n<=L.e.r&&(_=L.e.c+1-i,x=-1)}E=+T.getAttribute("colspan")||1,((w=+T.getAttribute("rowspan")||1)>1||E>1)&&m.push({s:{r:b+n,c:_+i},e:{r:b+n+(w||1)-1,c:_+i+(E||1)-1}});var M={t:"s",v:N},k=T.getAttribute("data-t")||T.getAttribute("t")||"";N!=null&&(N.length==0?M.t=k||"z":a.raw||N.trim().length==0||k=="s"||(N==="TRUE"?M={t:"b",v:!0}:N==="FALSE"?M={t:"b",v:!1}:isNaN(Yn(N))?isNaN(Dd(N).getDate())||(M={t:"d",v:Br(N)},a.cellDates||(M={t:"n",v:Pa(M.v)}),M.z=a.dateNF||gt[14]):M={t:"n",v:Yn(N)})),M.z===void 0&&D!=null&&(M.z=D);var I="",V=T.getElementsByTagName("A");if(V&&V.length)for(var q=0;q<V.length&&!(V[q].hasAttribute("href")&&(I=V[q].getAttribute("href"),I.charAt(0)!="#"));++q);I&&I.charAt(0)!="#"&&(M.l={Target:I}),a.dense?(e[b+n]||(e[b+n]=[]),e[b+n][_+i]=M):e[yt({c:_+i,r:b+n})]=M,f.e.c<_+i&&(f.e.c=_+i),_+=E}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,b-1+n),e["!ref"]=_t(f),b>=u&&(e["!fullref"]=_t((f.e.r=c.length-y+b-1+n,f))),e}function qM(e,t){var r=t||{},a=r.dense?[]:{};return zM(a,e,t)}function YQ(e,t){return fo(qM(e,t),t)}function h4(e){var t="",r=KQ(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function KQ(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function QQ(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Kt(t.replace(/<[^>]*>/g,""));return[r]}var p4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function $M(e,t){var r=t||{},a=uj(e),n=[],i,l,c={name:""},u="",f=0,p,m,x={},v=[],y=r.dense?[]:{},b,S,_={value:""},w="",E=0,O=[],A=-1,T=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},D=0,L={},M=[],k={},I=0,V=0,q=[],z=1,R=1,W=[],X={Names:[]},B={},ee=["",""],Y=[],F={},K="",J=0,H=!1,ce=!1,le=0;for(n0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=n0.exec(a);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?y["!ref"]=_t(N):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(y["!fullref"]=y["!ref"],N.e.r=r.sheetRows-1,y["!ref"]=_t(N)),M.length&&(y["!merges"]=M),q.length&&(y["!rows"]=q),p.name=p.||p.name,typeof JSON<"u"&&JSON.stringify(p),v.push(p.name),x[p.name]=y,ce=!1):b[0].charAt(b[0].length-2)!=="/"&&(p=St(b[0],!1),A=T=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,y=r.dense?[]:{},M=[],q=[],ce=!0);break;case"table-row-group":b[1]==="/"?--D:++D;break;case"table-row":case"":if(b[1]==="/"){A+=z,z=1;break}if(m=St(b[0],!1),m.?A=m.-1:A==-1&&(A=0),z=+m["number-rows-repeated"]||1,z<10)for(le=0;le<z;++le)D>0&&(q[A+le]={level:D});T=-1;break;case"covered-table-cell":b[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(y[A]||(y[A]=[]),y[A][T]={t:"z"}):y[yt({r:A,c:T})]={t:"z"}),w="",O=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++T,_=St(b[0],!1),R=parseInt(_["number-columns-repeated"]||"1",10),S={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(S.f=d4(Kt(_.formula))),(_.||_["value-type"])=="string"&&(S.t="s",S.v=Kt(_["string-value"]||""),r.dense?(y[A]||(y[A]=[]),y[A][T]=S):y[yt({r:A,c:T})]=S),T+=R-1;else if(b[1]!=="/"){++T,w="",E=0,O=[],R=1;var xe=z?A+z-1:A;if(T>N.e.c&&(N.e.c=T),T<N.s.c&&(N.s.c=T),A<N.s.r&&(N.s.r=A),xe>N.e.r&&(N.e.r=xe),_=St(b[0],!1),Y=[],F={},S={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Kt(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(I=parseInt(_["number-matrix-rows-spanned"],10)||0,V=parseInt(_["number-matrix-columns-spanned"],10)||0,k={s:{r:A,c:T},e:{r:A+I-1,c:T+V-1}},S.F=_t(k),W.push([k,S.F])),_.formula)S.f=d4(_.formula);else for(le=0;le<W.length;++le)A>=W[le][0].s.r&&A<=W[le][0].e.r&&T>=W[le][0].s.c&&T<=W[le][0].e.c&&(S.F=W[le][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(I=parseInt(_["number-rows-spanned"],10)||0,V=parseInt(_["number-columns-spanned"],10)||0,k={s:{r:A,c:T},e:{r:A+I-1,c:T+V-1}},M.push(k)),_["number-columns-repeated"]&&(R=parseInt(_["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=Fr(_["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(_.value);break;case"percentage":S.t="n",S.v=parseFloat(_.value);break;case"currency":S.t="n",S.v=parseFloat(_.value);break;case"date":S.t="d",S.v=Br(_["date-value"]),r.cellDates||(S.t="n",S.v=Pa(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=jq(_["time-value"])/86400,r.cellDates&&(S.t="d",S.v=Wx(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(_.);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",_["string-value"]!=null&&(w=Kt(_["string-value"]),O=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(H=!1,S.t==="s"&&(S.v=w||"",O.length&&(S.R=O),H=E==0),B.Target&&(S.l=B),Y.length>0&&(S.c=Y,Y=[]),w&&r.cellText!==!1&&(S.w=w),H&&(S.t="z",delete S.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=A))for(var se=0;se<z;++se){if(R=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(y[A+se]||(y[A+se]=[]),y[A+se][T]=se==0?S:zr(S);--R>0;)y[A+se][T+R]=zr(S);else for(y[yt({r:A+se,c:T})]=S;--R>0;)y[yt({r:A+se,c:T+R})]=zr(S);N.e.c<=T&&(N.e.c=T)}R=parseInt(_["number-columns-repeated"]||"1",10),T+=R-1,R=0,S={},w="",O=[]}B={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i;F.t=w,O.length&&(F.R=O),F.a=K,Y.push(F)}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!1]);K="",J=0,w="",E=0,O=[];break;case"creator":b[1]==="/"?K=a.slice(J,b.index):J=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!1]);w="",E=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(L[c.name]=u,(i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&(u="",c=St(b[0],!1),n.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=St(b[0],!1),u+=p4[b[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=St(b[0],!1),u+=p4[b[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":u+=a.slice(f,b.index);break}else f=b.index+b[0].length;break;case"named-range":l=St(b[0],!1),ee=sy(l["cell-range-address"]);var fe={Name:l.name,Ref:ee[0]+"!"+ee[1]};ce&&(fe.Sheet=v.length),X.Names.push(fe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(b[1]==="/"&&(!_||!_["string-value"])){var we=QQ(a.slice(E,b.index));w=(w.length>0?w+`
`:"")+we[0]}else St(b[0],!1),E=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ee=sy(St(b[0])["target-range-address"]),x[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(B=St(b[0],!1),!B.href)break;B.Target=Kt(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(ee=sy(B.Target.slice(1)),B.Target="#"+ee[0]+"!"+ee[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var G={Sheets:x,SheetNames:v,Workbook:X};return r.bookSheets&&delete G.Sheets,G}function x4(e,t){t=t||{},vn(e,"META-INF/manifest.xml")&&j9(va(e,"META-INF/manifest.xml"),t);var r=Gs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=$M(Nr(r),t);return vn(e,"meta.xml")&&(a.Props=D6(va(e,"meta.xml"))),a}function g4(e,t){return $M(e,t)}var JQ=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+s0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return fa+t}})(),b4=(function(){var e=function(i){return br(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,l,c){var u=[];u.push('      <table:table table:name="'+br(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,p=0,m=ks(i["!ref"]||"A1"),x=i["!merges"]||[],v=0,y=Array.isArray(i);if(i["!cols"])for(p=0;p<=m.e.c;++p)u.push("        <table:table-column"+(i["!cols"][p]?' table:style-name="co'+i["!cols"][p].ods+'"':"")+`></table:table-column>
`);var b="",S=i["!rows"]||[];for(f=0;f<m.s.r;++f)b=S[f]?' table:style-name="ro'+S[f].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;f<=m.e.r;++f){for(b=S[f]?' table:style-name="ro'+S[f].ods+'"':"",u.push("        <table:table-row"+b+`>
`),p=0;p<m.s.c;++p)u.push(t);for(;p<=m.e.c;++p){var _=!1,w={},E="";for(v=0;v!=x.length;++v)if(!(x[v].s.c>p)&&!(x[v].s.r>f)&&!(x[v].e.c<p)&&!(x[v].e.r<f)){(x[v].s.c!=p||x[v].s.r!=f)&&(_=!0),w["table:number-columns-spanned"]=x[v].e.c-x[v].s.c+1,w["table:number-rows-spanned"]=x[v].e.r-x[v].s.r+1;break}if(_){u.push(r);continue}var O=yt({r:f,c:p}),A=y?(i[f]||[])[p]:i[O];if(A&&A.f&&(w["table:formula"]=br(bX(A.f)),A.F&&A.F.slice(0,O.length)==O)){var T=ks(A.F);w["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,w["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!A){u.push(t);continue}switch(A.t){case"b":E=A.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=A.v?"true":"false";break;case"n":E=A.w||String(A.v||0),w["office:value-type"]="float",w["office:value"]=A.v||0;break;case"s":case"str":E=A.v==null?"":A.v,w["office:value-type"]="string";break;case"d":E=A.w||Br(A.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Br(A.v).toISOString(),w["table:style-name"]="ce1";break;default:u.push(t);continue}var N=e(E);if(A.l&&A.l.Target){var D=A.l.Target;D=D.charAt(0)=="#"?"#"+vX(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),N=Ke("text:a",N,{"xlink:href":D.replace(/&/g,"&amp;")})}u.push("          "+Ke("table:table-cell",Ke("text:p",N,{}),w)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var m=f["!cols"][p];if(m.width==null&&m.wpx==null&&m.wch==null)continue;ao(m),m.ods=c;var x=f["!cols"][p].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++c}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=u;var m=f["!rows"][p].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,c){var u=[fa],f=s0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=s0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+f+p+`>
`),u.push(P6().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),n(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(a(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function HM(e,t){if(t.bookType=="fods")return b4(e,t);var r=lj(),a="",n=[],i=[];return a="mimetype",Tt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Tt(r,a,b4(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Tt(r,a,JQ(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Tt(r,a,fa+P6()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Tt(r,a,_9(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Tt(r,a,E9(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Tw(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Nr(uo(e))}function ZQ(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Vs(di(e))}function eJ(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function no(e){var t=e.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function v4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function tJ(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function rJ(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=r>=0?0:128}function f0(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function hr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function aa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function rr(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=f0(e,r),i=n&7;n=Math.floor(n/8);var l=0,c;if(n==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);c=e.slice(u,r[0])}break;case 5:l=4,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=f0(e,r),c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var f={data:c,type:i};t[n]==null?t[n]=[f]:t[n].push(f)}return t}function Xa(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(hr(a*8+n.type)),n.type==2&&t.push(hr(n.data.length)),t.push(n.data))})}),no(t)}function Ij(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function gn(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=f0(e,a),i=rr(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:aa(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=rr(c.data),f=aa(u[3][0].data);l.messages.push({meta:u,data:e.slice(a[0],a[0]+f)}),a[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=aa(i[3][0].data)>>>0>0),r.push(l)}return r}function ud(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:hr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:hr(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:hr(l.data.length)}],a[2].push({data:Xa(l.meta),type:2})});var i=Xa(a);t.push(hr(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),no(t)}function aJ(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=f0(t,r),n=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}n.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[no(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(n.push(n[0].slice(-u)),f-=u;f>=n[n.length-1].length;)n.push(n[n.length-1]),f-=n[n.length-1].length;n.push(n[0].slice(-u,-u+f))}}var p=no(n);if(p.length!=a)throw new Error("Unexpected length: ".concat(p.length," != ").concat(a));return p}function bn(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(aJ(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return no(t)}function fd(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var i=hr(a),l=i.length;t.push(i),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,r+=a}return no(t)}function sJ(e,t,r,a){var n=cc(e),i=n.getUint32(4,!0),l=(a>1?12:8)+v4(i&(a>1?3470:398))*4,c=-1,u=-1,f=NaN,p=new Date(2001,0,1);i&512&&(c=n.getUint32(l,!0),l+=4),l+=v4(i&(a>1?12288:4096))*4,i&16&&(u=n.getUint32(l,!0),l+=4),i&32&&(f=n.getFloat64(l,!0),l+=8),i&64&&(p.setTime(p.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:p};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(c>-1)m={t:"s",v:r[c]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function nJ(e,t,r){var a=cc(e),n=a.getUint32(8,!0),i=12,l=-1,c=-1,u=NaN,f=NaN,p=new Date(2001,0,1);n&1&&(u=tJ(e,i),i+=16),n&2&&(f=a.getFloat64(i,!0),i+=8),n&4&&(p.setTime(p.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(c=a.getUint32(i,!0),i+=4),n&16&&(l=a.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:p};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return m}function iy(e,t){var r=new Uint8Array(32),a=cc(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,rJ(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function ly(e,t){var r=new Uint8Array(32),a=cc(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function iJ(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return sJ(e,t,r,e[0]);case 5:return nJ(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function rs(e){var t=rr(e);return f0(t[1][0].data)}function y4(e,t){var r=rr(t.data),a=aa(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(l){var c=rr(l.data),u=aa(c[1][0].data)>>>0;switch(a){case 1:i[u]=Tw(c[3][0].data);break;case 8:{var f=e[rs(c[9][0].data)][0],p=rr(f.data),m=e[rs(p[1][0].data)][0],x=aa(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var v=rr(m.data);i[u]=v[3].map(function(y){return Tw(y.data)}).join("")}break}}),i}function lJ(e,t){var r,a,n,i,l,c,u,f,p,m,x,v,y,b,S=rr(e),_=aa(S[1][0].data)>>>0,w=aa(S[2][0].data)>>>0,E=((a=(r=S[8])==null?void 0:r[0])==null?void 0:a.data)&&aa(S[8][0].data)>0||!1,O,A;if((i=(n=S[7])==null?void 0:n[0])!=null&&i.data&&t!=0)O=(c=(l=S[7])==null?void 0:l[0])==null?void 0:c.data,A=(f=(u=S[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(p=S[4])==null?void 0:p[0])!=null&&m.data&&t!=1)O=(v=(x=S[4])==null?void 0:x[0])==null?void 0:v.data,A=(b=(y=S[3])==null?void 0:y[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var T=E?4:1,N=cc(O),D=[],L=0;L<O.length/2;++L){var M=N.getUint16(L*2,!0);M<65535&&D.push([L,M])}if(D.length!=w)throw"Expected ".concat(w," cells, found ").concat(D.length);var k=[];for(L=0;L<D.length-1;++L)k[D[L][0]]=A.subarray(D[L][1]*T,D[L+1][1]*T);return D.length>=1&&(k[D[D.length-1][0]]=A.subarray(D[D.length-1][1]*T)),{R:_,cells:k}}function oJ(e,t){var r,a=rr(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?aa(a[7][0].data)>>>0>0?1:0:-1,i=Ij(a[5],function(l){return lJ(l,n)});return{nrows:aa(a[4][0].data)>>>0,data:i.reduce(function(l,c){return l[c.R]||(l[c.R]=[]),c.cells.forEach(function(u,f){if(l[c.R][f])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(f));l[c.R][f]=u}),l},[])}}function cJ(e,t,r){var a,n=rr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(aa(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(aa(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=_t(i);var l=rr(n[4][0].data),c=y4(e,e[rs(l[4][0].data)][0]),u=(a=l[17])!=null&&a[0]?y4(e,e[rs(l[17][0].data)][0]):[],f=rr(l[3][0].data),p=0;f[1].forEach(function(m){var x=rr(m.data),v=e[rs(x[2][0].data)][0],y=aa(v.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var b=oJ(e,v);b.data.forEach(function(S,_){S.forEach(function(w,E){var O=yt({r:p+_,c:E}),A=iJ(w,c,u);A&&(r[O]=A)})}),p+=b.nrows})}function dJ(e,t){var r=rr(t.data),a={"!ref":"A1"},n=e[rs(r[2][0].data)],i=aa(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return cJ(e,n[0],a),a}function uJ(e,t){var r,a=rr(t.data),n={name:(r=a[1])!=null&&r[0]?Tw(a[1][0].data):"",sheets:[]},i=Ij(a[2],rs);return i.forEach(function(l){e[l].forEach(function(c){var u=aa(c.meta[1][0].data);u==6e3&&n.sheets.push(dJ(e,c))})}),n}function fJ(e,t){var r=Bj(),a=rr(t.data),n=Ij(a[1],rs);if(n.forEach(function(i){e[i].forEach(function(l){var c=aa(l.meta[1][0].data);if(c==2){var u=uJ(e,l);u.sheets.forEach(function(f,p){zj(r,f,p==0?u.name:u.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function oy(e){var t,r,a,n,i={},l=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=bn(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var p;try{p=gn(f)}catch(m){return console.log("## "+(m.message||m))}p.forEach(function(m){i[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var c=((n=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&aa(i[1][0].meta[1][0].data)==1&&i[1][0];if(c||l.forEach(function(u){i[u].forEach(function(f){var p=aa(f.meta[1][0].data)>>>0;if(p==1)if(!c)c=f;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return fJ(i,c)}function mJ(e,t,r){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&aa(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,f=cc(e[7][0].data),p=0,m=[],x=cc(e[4][0].data),v=0,y=[],b=0;b<t.length;++b){if(t[b]==null){f.setUint16(b*2,65535,!0),x.setUint16(b*2,65535);continue}f.setUint16(b*2,p,!0),x.setUint16(b*2,v,!0);var S,_;switch(typeof t[b]){case"string":S=iy({t:"s",v:t[b]},r),_=ly({t:"s",v:t[b]},r);break;case"number":S=iy({t:"n",v:t[b]},r),_=ly({t:"n",v:t[b]},r);break;case"boolean":S=iy({t:"b",v:t[b]},r),_=ly({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}m.push(S),p+=S.length,y.push(_),v+=_.length,++u}for(e[2][0].data=hr(u);b<e[7][0].data.length/2;++b)f.setUint16(b*2,65535,!0),x.setUint16(b*2,65535,!0);return e[6][0].data=no(m),e[3][0].data=no(y),u}function hJ(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ks(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(_t(a)));var i=Mp(r,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(K){return K.forEach(function(J){typeof J=="string"&&l.push(J)})});var c={},u=[],f=dt.read(t.numbers,{type:"base64"});f.FileIndex.map(function(K,J){return[K,f.FullPaths[J]]}).forEach(function(K){var J=K[0],H=K[1];if(J.type==2&&J.name.match(/\.iwa/)){var ce=J.content,le=bn(ce),xe=gn(le);xe.forEach(function(se){u.push(se.id),c[se.id]={deps:[],location:H,type:aa(se.messages[0].meta[1][0].data)}})}}),u.sort(function(K,J){return K-J});var p=u.filter(function(K){return K>1}).map(function(K){return[K,hr(K)]});f.FileIndex.map(function(K,J){return[K,f.FullPaths[J]]}).forEach(function(K){var J=K[0];if(K[1],!!J.name.match(/\.iwa/)){var H=gn(bn(J.content));H.forEach(function(ce){ce.messages.forEach(function(le){p.forEach(function(xe){ce.messages.some(function(se){return aa(se.meta[1][0].data)!=11006&&eJ(se.data,xe[1])})&&c[xe[0]].deps.push(ce.id)})})})}});for(var m=dt.find(f,c[1].location),x=gn(bn(m.content)),v,y=0;y<x.length;++y){var b=x[y];b.id==1&&(v=b)}var S=rs(rr(v.messages[0].data)[1][0].data);for(m=dt.find(f,c[S].location),x=gn(bn(m.content)),y=0;y<x.length;++y)b=x[y],b.id==S&&(v=b);for(S=rs(rr(v.messages[0].data)[2][0].data),m=dt.find(f,c[S].location),x=gn(bn(m.content)),y=0;y<x.length;++y)b=x[y],b.id==S&&(v=b);for(S=rs(rr(v.messages[0].data)[2][0].data),m=dt.find(f,c[S].location),x=gn(bn(m.content)),y=0;y<x.length;++y)b=x[y],b.id==S&&(v=b);var _=rr(v.messages[0].data);{_[6][0].data=hr(a.e.r+1),_[7][0].data=hr(a.e.c+1);var w=rs(_[46][0].data),E=dt.find(f,c[w].location),O=gn(bn(E.content));{for(var A=0;A<O.length&&O[A].id!=w;++A);if(O[A].id!=w)throw"Bad ColumnRowUIDMapArchive";var T=rr(O[A].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var N=0;N<=a.e.c;++N){var D=[];D[1]=D[2]=[{type:0,data:hr(N+420690)}],T[1].push({type:2,data:Xa(D)}),T[2].push({type:0,data:hr(N)}),T[3].push({type:0,data:hr(N)})}T[4]=[],T[5]=[],T[6]=[];for(var L=0;L<=a.e.r;++L)D=[],D[1]=D[2]=[{type:0,data:hr(L+726270)}],T[4].push({type:2,data:Xa(D)}),T[5].push({type:0,data:hr(L)}),T[6].push({type:0,data:hr(L)});O[A].messages[0].data=Xa(T)}E.content=fd(ud(O)),E.size=E.content.length,delete _[46];var M=rr(_[4][0].data);{M[7][0].data=hr(a.e.r+1);var k=rr(M[1][0].data),I=rs(k[2][0].data);E=dt.find(f,c[I].location),O=gn(bn(E.content));{if(O[0].id!=I)throw"Bad HeaderStorageBucket";var V=rr(O[0].messages[0].data);for(L=0;L<i.length;++L){var q=rr(V[2][0].data);q[1][0].data=hr(L),q[4][0].data=hr(i[L].length),V[2][L]={type:V[2][0].type,data:Xa(q)}}O[0].messages[0].data=Xa(V)}E.content=fd(ud(O)),E.size=E.content.length;var z=rs(M[2][0].data);E=dt.find(f,c[z].location),O=gn(bn(E.content));{if(O[0].id!=z)throw"Bad HeaderStorageBucket";for(V=rr(O[0].messages[0].data),N=0;N<=a.e.c;++N)q=rr(V[2][0].data),q[1][0].data=hr(N),q[4][0].data=hr(a.e.r+1),V[2][N]={type:V[2][0].type,data:Xa(q)};O[0].messages[0].data=Xa(V)}E.content=fd(ud(O)),E.size=E.content.length;var R=rs(M[4][0].data);(function(){for(var K=dt.find(f,c[R].location),J=gn(bn(K.content)),H,ce=0;ce<J.length;++ce){var le=J[ce];le.id==R&&(H=le)}var xe=rr(H.messages[0].data);{xe[3]=[];var se=[];l.forEach(function(G,He){se[1]=[{type:0,data:hr(He)}],se[2]=[{type:0,data:hr(1)}],se[3]=[{type:2,data:ZQ(G)}],xe[3].push({type:2,data:Xa(se)})})}H.messages[0].data=Xa(xe);var fe=ud(J),we=fd(fe);K.content=we,K.size=K.content.length})();var W=rr(M[3][0].data);{var X=W[1][0];delete W[2];var B=rr(X.data);{var ee=rs(B[2][0].data);(function(){for(var K=dt.find(f,c[ee].location),J=gn(bn(K.content)),H,ce=0;ce<J.length;++ce){var le=J[ce];le.id==ee&&(H=le)}var xe=rr(H.messages[0].data);{delete xe[6],delete W[7];var se=new Uint8Array(xe[5][0].data);xe[5]=[];for(var fe=0,we=0;we<=a.e.r;++we){var G=rr(se);fe+=mJ(G,i[we],l),G[1][0].data=hr(we),xe[5].push({data:Xa(G),type:2})}xe[1]=[{type:0,data:hr(a.e.c+1)}],xe[2]=[{type:0,data:hr(a.e.r+1)}],xe[3]=[{type:0,data:hr(fe)}],xe[4]=[{type:0,data:hr(a.e.r+1)}]}H.messages[0].data=Xa(xe);var He=ud(J),Ue=fd(He);K.content=Ue,K.size=K.content.length})()}X.data=Xa(B)}M[3][0].data=Xa(W)}_[4][0].data=Xa(M)}v.messages[0].data=Xa(_);var Y=ud(x),F=fd(Y);return m.content=F,m.size=m.content.length,f}function VM(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function Mj(e){VM([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Lj(e){VM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function pJ(e){return Dt.WS.indexOf(e)>-1?"sheet":e==Dt.CS?"chart":e==Dt.DS?"dialog":e==Dt.MS?"macro":e&&e.length?e:"sheet"}function xJ(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,pJ(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function gJ(e,t,r,a,n,i,l,c,u,f,p,m){try{i[a]=Bf(Gs(e,r,!0),t);var x=va(e,t),v;switch(c){case"sheet":v=UK(x,t,n,u,i[a],f,p,m);break;case"chart":if(v=BK(x,t,n,u,i[a],f,p,m),!v||!v["!drawel"])break;var y=kf(v["!drawel"].Target,t),b=i0(y),S=AG(Gs(e,y,!0),Bf(Gs(e,b,!0),y)),_=kf(S,y),w=i0(_);v=mK(Gs(e,_,!0),_,u,Bf(Gs(e,w,!0),_),f,v);break;case"macro":v=zK(x,t,n,u,i[a],f,p,m);break;case"dialog":v=qK(x,t,n,u,i[a],f,p,m);break;default:throw new Error("Unrecognized sheet type "+c)}l[a]=v;var E=[];i&&i[a]&&ia(i[a]).forEach(function(O){var A="";if(i[a][O].Type==Dt.CMNT){A=kf(i[a][O].Target,t);var T=GK(va(e,A,!0),A,u);if(!T||!T.length)return;n4(v,T,!1)}i[a][O].Type==Dt.TCMNT&&(A=kf(i[a][O].Target,t),E=E.concat(CG(va(e,A,!0),u)))}),E&&E.length&&n4(v,E,!0,u.people||[])}catch(O){if(u.WTF)throw O}}function fn(e){return e.charAt(0)=="/"?e.slice(1):e}function GM(e,t){if(hu(),t=t||{},Mj(t),vn(e,"META-INF/manifest.xml")||vn(e,"objectdata.xml"))return x4(e,t);if(vn(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof oy<"u"){if(e.FileIndex)return oy(e);var r=dt.utils.cfb_new();return AO(e).forEach(function(q){Tt(r,q,Tq(e,q))}),oy(r)}throw new Error("Unsupported NUMBERS file")}if(!vn(e,"[Content_Types].xml"))throw vn(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):vn(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=AO(e),n=w9(Gs(e,"[Content_Types].xml")),i=!1,l,c;if(n.workbooks.length===0&&(c="xl/workbook.xml",va(e,c,!0)&&n.workbooks.push(c)),n.workbooks.length===0){if(c="xl/workbook.bin",!va(e,c,!0))throw new Error("Could not find workbook");n.workbooks.push(c),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(zf=[],n.sst)try{zf=VK(va(e,fn(n.sst)),n.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&n.themes.length&&(u=HK(Gs(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(f=$K(va(e,fn(n.style)),n.style,u,t))}n.links.map(function(q){try{var z=Bf(Gs(e,i0(fn(q))),q);return XK(va(e,fn(q)),z,q,t)}catch{}});var p=FK(va(e,fn(n.workbooks[0])),n.workbooks[0],t),m={},x="";n.coreprops.length&&(x=va(e,fn(n.coreprops[0]),!0),x&&(m=D6(x)),n.extprops.length!==0&&(x=va(e,fn(n.extprops[0]),!0),x&&T9(x,m,t)));var v={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=Gs(e,fn(n.custprops[0]),!0),x&&(v=k9(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(p.Sheets?l=p.Sheets.map(function(z){return z.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(y.Props=m,y.Custprops=v),t.bookSheets&&typeof l<"u"&&(y.SheetNames=l),t.bookSheets?y.SheetNames:t.bookProps))return y;l={};var b={};t.bookDeps&&n.calcchain&&(b=WK(va(e,fn(n.calcchain)),n.calcchain));var S=0,_={},w,E;{var O=p.Sheets;m.Worksheets=O.length,m.SheetNames=[];for(var A=0;A!=O.length;++A)m.SheetNames[A]=O[A].name}var T=i?"bin":"xml",N=n.workbooks[0].lastIndexOf("/"),D=(n.workbooks[0].slice(0,N+1)+"_rels/"+n.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");vn(e,D)||(D="xl/_rels/workbook."+T+".rels");var L=Bf(Gs(e,D,!0),D.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=YK(va(e,fn(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=OG(va(e,fn(n.people[0])),t)),L&&(L=xJ(L,p.Sheets));var M=va(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=m.Worksheets;++S){var k="sheet";if(L&&L[S]?(w="xl/"+L[S][1].replace(/[\/]?xl\//,""),vn(e,w)||(w=L[S][1]),vn(e,w)||(w=D.replace(/_rels\/.*$/,"")+L[S][1]),k=L[S][2]):(w="xl/worksheets/sheet"+(S+1-M)+"."+T,w=w.replace(/sheet0\./,"sheet.")),E=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(S!=t.sheets)continue e;break;case"string":if(m.SheetNames[S].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,V=0;V!=t.sheets.length;++V)typeof t.sheets[V]=="number"&&t.sheets[V]==S&&(I=1),typeof t.sheets[V]=="string"&&t.sheets[V].toLowerCase()==m.SheetNames[S].toLowerCase()&&(I=1);if(!I)continue e}}gJ(e,w,E,m.SheetNames[S],S,_,l,k,t,p,u,f)}return y={Directory:n,Workbook:p,Props:m,Custprops:v,Deps:b,Sheets:l,SheetNames:m.SheetNames,Strings:zf,Styles:f,Themes:u,SSF:zr(gt)},t&&t.bookFiles&&(e.files?(y.keys=a,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(q,z){q=q.replace(/^Root Entry[\/]/,""),y.keys.push(q),y.files[q]=e.FileIndex[z]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=va(e,fn(n.vba[0]),!0):n.defaults&&n.defaults.bin===FG&&(y.vbaraw=va(e,"xl/vbaProject.bin",!0))),y}function bJ(e,t){var r=t||{},a="Workbook",n=dt.find(e,a);try{if(a="/!DataSpaces/Version",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(YH(n.content),a="/!DataSpaces/DataSpaceMap",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=QH(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=JH(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);eV(n.content)}catch{}if(a="/EncryptionInfo",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=tV(n.content);if(a="/EncryptedPackage",n=dt.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],n.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function vJ(e,t){return t.bookType=="ods"?HM(e,t):t.bookType=="numbers"?hJ(e,t):t.bookType=="xlsb"?yJ(e,t):SJ(e,t)}function yJ(e,t){yd=1024,e&&!e.SSF&&(e.SSF=zr(gt)),e&&e.SSF&&(hu(),Hx(e.SSF),t.revssf=Gx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=vM.indexOf(t.bookType)>-1,n=Sj();Lj(t=t||{});var i=lj(),l="",c=0;if(t.cellXfs=[],mo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Tt(i,l,I6(e.Props,t)),n.coreprops.push(l),pr(t.rels,2,l,Dt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Tt(i,l,F6(e.Props)),n.extprops.push(l),pr(t.rels,3,l,Dt.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Tt(i,l,U6(e.Custprops)),n.custprops.push(l),pr(t.rels,4,l,Dt.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},m=e.Sheets[e.SheetNames[c-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Tt(i,l,QK(c-1,l,t,e,p)),n.sheets.push(l),pr(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Dt.WS[0])}if(m){var v=m["!comments"],y=!1,b="";v&&v.length>0&&(b="xl/comments"+c+"."+r,Tt(i,b,eQ(v,b)),n.comments.push(b),pr(p,-1,"../comments"+c+"."+r,Dt.CMNT),y=!0),m["!legacy"]&&y&&Tt(i,"xl/drawings/vmlDrawing"+c+".vml",gM(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&Tt(i,i0(l),Ed(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Tt(i,l,ZK(t.Strings,l,t)),n.strs.push(l),pr(t.wbrels,-1,"sharedStrings."+r,Dt.SST)),l="xl/workbook."+r,Tt(i,l,KK(e,l)),n.workbooks.push(l),pr(t.rels,1,l,Dt.WB),l="xl/theme/theme1.xml",Tt(i,l,_j(e.Themes,t)),n.themes.push(l),pr(t.wbrels,-1,"theme/theme1.xml",Dt.THEME),l="xl/styles."+r,Tt(i,l,JK(e,l,t)),n.styles.push(l),pr(t.wbrels,-1,"styles."+r,Dt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Tt(i,l,e.vbaraw),n.vba.push(l),pr(t.wbrels,-1,"vbaProject.bin",Dt.VBA)),l="xl/metadata."+r,Tt(i,l,tQ(l)),n.metadata.push(l),pr(t.wbrels,-1,"metadata."+r,Dt.XLMETA),Tt(i,"[Content_Types].xml",R6(n,t)),Tt(i,"_rels/.rels",Ed(t.rels)),Tt(i,"xl/_rels/workbook."+r+".rels",Ed(t.wbrels)),delete t.revssf,delete t.ssf,i}function SJ(e,t){yd=1024,e&&!e.SSF&&(e.SSF=zr(gt)),e&&e.SSF&&(hu(),Hx(e.SSF),t.revssf=Gx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,qf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=vM.indexOf(t.bookType)>-1,n=Sj();Lj(t=t||{});var i=lj(),l="",c=0;if(t.cellXfs=[],mo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Tt(i,l,I6(e.Props,t)),n.coreprops.push(l),pr(t.rels,2,l,Dt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Tt(i,l,F6(e.Props)),n.extprops.push(l),pr(t.rels,3,l,Dt.EXT_PROPS),e.Custprops!==e.Props&&ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Tt(i,l,U6(e.Custprops)),n.custprops.push(l),pr(t.rels,4,l,Dt.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var m={"!id":{}},x=e.Sheets[e.SheetNames[c-1]],v=(x||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Tt(i,l,OM(c-1,t,e,m)),n.sheets.push(l),pr(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Dt.WS[0])}if(x){var y=x["!comments"],b=!1,S="";if(y&&y.length>0){var _=!1;y.forEach(function(w){w[1].forEach(function(E){E.T==!0&&(_=!0)})}),_&&(S="xl/threadedComments/threadedComment"+c+"."+r,Tt(i,S,TG(y,p,t)),n.threadedcomments.push(S),pr(m,-1,"../threadedComments/threadedComment"+c+"."+r,Dt.TCMNT)),S="xl/comments"+c+"."+r,Tt(i,S,bM(y)),n.comments.push(S),pr(m,-1,"../comments"+c+"."+r,Dt.CMNT),b=!0}x["!legacy"]&&b&&Tt(i,"xl/drawings/vmlDrawing"+c+".vml",gM(c,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Tt(i,i0(l),Ed(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Tt(i,l,nM(t.Strings,t)),n.strs.push(l),pr(t.wbrels,-1,"sharedStrings."+r,Dt.SST)),l="xl/workbook."+r,Tt(i,l,IM(e)),n.workbooks.push(l),pr(t.rels,1,l,Dt.WB),l="xl/theme/theme1.xml",Tt(i,l,_j(e.Themes,t)),n.themes.push(l),pr(t.wbrels,-1,"theme/theme1.xml",Dt.THEME),l="xl/styles."+r,Tt(i,l,mM(e,t)),n.styles.push(l),pr(t.wbrels,-1,"styles."+r,Dt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Tt(i,l,e.vbaraw),n.vba.push(l),pr(t.wbrels,-1,"vbaProject.bin",Dt.VBA)),l="xl/metadata."+r,Tt(i,l,xM()),n.metadata.push(l),pr(t.wbrels,-1,"metadata."+r,Dt.XLMETA),p.length>1&&(l="xl/persons/person.xml",Tt(i,l,kG(p)),n.people.push(l),pr(t.wbrels,-1,"persons/person.xml",Dt.PEOPLE)),Tt(i,"[Content_Types].xml",R6(n,t)),Tt(i,"_rels/.rels",Ed(t.rels)),Tt(i,"xl/_rels/workbook."+r+".rels",Ed(t.wbrels)),delete t.revssf,delete t.ssf,i}function Fj(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ks(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function wJ(e,t){return dt.find(e,"EncryptedPackage")?bJ(e,t):Dj(e,t)}function NJ(e,t){var r,a=e,n=t||{};return n.type||(n.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r=l6(a,n),GM(r,n)}function WM(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return _w(e.slice(r),t);default:break e}return Id.to_workbook(e,t)}function jJ(e,t){var r="",a=Fj(e,t);switch(t.type){case"base64":r=Ks(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=nc(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Nr(r)),t.type="binary",WM(r,t)}function EJ(e,t){var r=e;return t.type=="base64"&&(r=Ks(r)),r=e0.utils.decode(1200,r.slice(2),"str"),t.type="binary",WM(r,t)}function AJ(e){return e.match(/[^\x00-\x7F]/)?di(e):e}function cy(e,t,r,a){return a?(r.type="string",Id.to_workbook(e,r)):Id.to_workbook(t,r)}function m0(e,t){rj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return m0(new Uint8Array(e),(r=zr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),_d={},r.dateNF&&(_d.dateNF=r.dateNF),r.type||(r.type=Pt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pt?"buffer":"binary",a=Sq(e),typeof Uint8Array<"u"&&!Pt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=AJ(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),c=new Uint8Array(l);if(c.foo="bar",!c.foo)return r=zr(r),r.type="array",m0(aj(a),r)}switch((n=Fj(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return wJ(dt.read(a,r),r);break;case 9:if(n[1]<=8)return Dj(a,r);break;case 60:return _w(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return RH(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return aM.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?NJ(a,r):cy(e,a,r,i);case 239:return n[3]===60?_w(a,r):cy(e,a,r,i);case 255:if(n[1]===254)return EJ(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Jo.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Jo.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return Aw.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return dM.to_workbook(a,r);break;case 10:case 13:case 32:return jJ(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return kH.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Aw.to_workbook(a,r):cy(e,a,r,i)}function XM(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return am(t.file,dt.write(e,{type:Pt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dt.write(e,t)}function _J(e,t){var r=zr(t||{}),a=vJ(e,r);return CJ(a,r)}function CJ(e,t){var r={},a=Pt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?dt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array($x(n))}return t.password&&typeof encrypt_agile<"u"?XM(encrypt_agile(n,t.password),t):t.type==="file"?am(t.file,n):t.type=="string"?Nr(n):n}function TJ(e,t){var r=t||{},a=_Q(e,r);return XM(a,r)}function oi(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return t0(di(a));case"binary":return di(a);case"string":return e;case"file":return am(t.file,a,"utf8");case"buffer":return Pt?fl(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):oi(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function OJ(e,t){switch(t.type){case"base64":return t0(e);case"binary":return e;case"string":return e;case"file":return am(t.file,e,"binary");case"buffer":return Pt?fl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?t0(r):t.type=="string"?Nr(r):r;case"file":return am(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Jx(e,t){rj(),NK(e);var r=zr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Jx(e,r);return r.type="array",$x(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return oi(yQ(e,r),r);case"slk":case"sylk":return oi(rM.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return oi(BM(e.Sheets[e.SheetNames[n]],r),r);case"txt":return OJ(YM(e.Sheets[e.SheetNames[n]],r),r);case"csv":return oi(Uj(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return oi(aM.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return Xh(Aw.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return oi(Id.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return oi(dM.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return oi(sM.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return oi(HM(e,r),r);case"wk1":return Xh(Jo.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return Xh(Jo.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xh(UM(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),TJ(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return _J(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function kJ(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Ip(e,t,r){var a=r||{};return a.type="file",a.file=t,kJ(a),Jx(e,a)}function RJ(e,t,r,a,n,i,l,c){var u=da(r),f=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!l||e[r])for(var v=t.s.c;v<=t.e.c;++v){var y=l?e[r][v]:e[a[v]+u];if(y===void 0||y.t===void 0){if(f===void 0)continue;i[v]!=null&&(x[i[v]]=f);continue}var b=y.v;switch(y.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[v]!=null){if(b==null)if(y.t=="e"&&b===null)x[i[v]]=null;else if(f!==void 0)x[i[v]]=f;else if(p&&b===null)x[i[v]]=null;else continue;else x[i[v]]=p&&(y.t!=="n"||y.t==="n"&&c.rawNumbers!==!1)?b:il(y,b,c);b!=null&&(m=!1)}}return{row:x,isempty:m}}function Mp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?a=1:f.header==="A"?a=2:Array.isArray(f.header)?a=3:f.header==null&&(a=0),typeof p){case"string":u=Jt(p);break;case"number":u=Jt(e["!ref"]),u.s.r=p;break;default:u=p}a>0&&(n=0);var m=da(u.s.r),x=[],v=[],y=0,b=0,S=Array.isArray(e),_=u.s.r,w=0,E={};S&&!e[_]&&(e[_]=[]);var O=f.skipHidden&&e["!cols"]||[],A=f.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(O[w]||{}).hidden)switch(x[w]=Qr(w),r=S?e[_][w]:e[x[w]+m],a){case 1:i[w]=w-u.s.c;break;case 2:i[w]=x[w];break;case 3:i[w]=f.header[w-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=il(r,null,f),b=E[l]||0,!b)E[l]=1;else{do c=l+"_"+b++;while(E[c]);E[l]=b,E[c]=1}i[w]=c}for(_=u.s.r+n;_<=u.e.r;++_)if(!(A[_]||{}).hidden){var T=RJ(e,u,_,x,a,i,S,f);(T.isempty===!1||(a===1?f.blankrows!==!1:f.blankrows))&&(v[y++]=T.row)}return v.length=y,v}var S4=/"/g;function PJ(e,t,r,a,n,i,l,c){for(var u=!0,f=[],p="",m=da(r),x=t.s.c;x<=t.e.c;++x)if(a[x]){var v=c.dense?(e[r]||[])[x]:e[a[x]+m];if(v==null)p="";else if(v.v!=null){u=!1,p=""+(c.rawNumbers&&v.t=="n"?v.v:il(v,null,c));for(var y=0,b=0;y!==p.length;++y)if((b=p.charCodeAt(y))===n||b===i||b===34||c.forceQuotes){p='"'+p.replace(S4,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(u=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(S4,'""')+'"')):p="";f.push(p)}return c.blankrows===!1&&u?null:f.join(l)}function Uj(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=Jt(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),p="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],v=a.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(x[y]||{}).hidden||(m[y]=Qr(y));for(var b=0,S=n.s.r;S<=n.e.r;++S)(v[S]||{}).hidden||(p=PJ(e,n,S,m,l,u,i,a),p!=null&&(a.strip&&(p=p.replace(f,"")),(p||a.blankrows!==!1)&&r.push((b++?c:"")+p)));return delete a.dense,r.join("")}function YM(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Uj(e,t);return r}function DJ(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=Jt(e["!ref"]),i="",l=[],c,u=[],f=Array.isArray(e);for(c=n.s.c;c<=n.e.c;++c)l[c]=Qr(c);for(var p=n.s.r;p<=n.e.r;++p)for(i=da(p),c=n.s.c;c<=n.e.c;++c)if(t=l[c]+i,r=f?(e[p]||[])[c]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function KM(e,t,r){var a=r||{},n=+!a.skipHeader,i=e||{},l=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Jr(a.origin):a.origin;l=u.r,c=u.c}var f,p={s:{c:0,r:0},e:{c,r:l+t.length-1+n}};if(i["!ref"]){var m=Jt(i["!ref"]);p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(l=m.e.r+1,p.e.r=l+t.length-1+n)}else l==-1&&(l=0,p.e.r=t.length-1+n);var x=a.header||[],v=0;t.forEach(function(b,S){ia(b).forEach(function(_){(v=x.indexOf(_))==-1&&(x[v=x.length]=_);var w=b[_],E="z",O="",A=yt({c:c+v,r:l+S+n});f=h0(i,A),w&&typeof w=="object"&&!(w instanceof Date)?i[A]=w:(typeof w=="number"?E="n":typeof w=="boolean"?E="b":typeof w=="string"?E="s":w instanceof Date?(E="d",a.cellDates||(E="n",w=Pa(w)),O=a.dateNF||gt[14]):w===null&&a.nullError&&(E="e",w=0),f?(f.t=E,f.v=w,delete f.w,delete f.R,O&&(f.z=O)):i[A]=f={t:E,v:w},O&&(f.z=O))})}),p.e.c=Math.max(p.e.c,c+x.length-1);var y=da(l);if(n)for(v=0;v<x.length;++v)i[Qr(v+c)+y]={t:"s",v:x[v]};return i["!ref"]=_t(p),i}function IJ(e,t){return KM(null,e,t)}function h0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Jr(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?h0(e,yt(t)):h0(e,yt({r:t,c:r||0}))}function MJ(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Bj(){return{SheetNames:[],Sheets:{}}}function zj(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=l+n)!=-1;++n);}if(DM(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function LJ(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=MJ(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function FJ(e,t){return e.z=t,e}function QM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function UJ(e,t,r){return QM(e,"#"+t,r)}function BJ(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function zJ(e,t,r,a){for(var n=typeof t!="string"?t:Jt(t),i=typeof t=="string"?t:_t(t),l=n.s.r;l<=n.e.r;++l)for(var c=n.s.c;c<=n.e.c;++c){var u=h0(e,l,c);u.t="n",u.F=i,delete u.v,l==n.s.r&&c==n.s.c&&(u.f=r,a&&(u.D=!0))}return e}var wn={encode_col:Qr,encode_row:da,encode_cell:yt,encode_range:_t,decode_col:pj,decode_row:hj,split_cell:Zq,decode_cell:Jr,decode_range:ks,format_cell:il,sheet_add_aoa:E6,sheet_add_json:KM,sheet_add_dom:zM,aoa_to_sheet:pu,json_to_sheet:IJ,table_to_sheet:qM,table_to_book:YQ,sheet_to_csv:Uj,sheet_to_txt:YM,sheet_to_json:Mp,sheet_to_html:BM,sheet_to_formulae:DJ,sheet_to_row_object_array:Mp,sheet_get_cell:h0,book_new:Bj,book_append_sheet:zj,book_set_sheet_visibility:LJ,cell_set_number_format:FJ,cell_set_hyperlink:QM,cell_set_internal_link:UJ,cell_add_comment:BJ,sheet_set_array_formula:zJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Vf=Object.freeze(Object.defineProperty({__proto__:null,CFB:dt,parse_xlscfb:Dj,parse_zip:GM,read:m0,utils:wn,write:Jx,writeFile:Ip,writeFileSync:Ip},Symbol.toStringTag,{value:"Module"})),qJ={"dashboard.hero.title":"  ","dashboard.hero.subtitle":"   ","dashboard.search.placeholder":"    ...","sidebar.home":"","sidebar.orders":" ","sidebar.quotes":" ","sidebar.history":" ","sidebar.import":"  ","sidebar.organization":" ","sidebar.support":" ","cart.title":" ","cart.empty":"  ","cart.checkout":" ","features.card1.title":"  ","features.card1.desc":"        .","features.card2.title":"  ","features.card2.desc":"  24     .","features.card3.title":"  ","features.card3.desc":"      ."},kr={siteName:"Sini Pro -  ",description:"     ",supportPhone:"920000000",supportWhatsapp:"0500000000",supportEmail:"support@sinipro.com",announcementBarColor:"bg-primary-900",fontFamily:"Cairo",maintenanceMode:!1,primaryColor:"#2563eb",logoUrl:"",uiTexts:qJ,tickerEnabled:!0,tickerText:"      -      .     5000 .",tickerSpeed:4,tickerBgColor:"#0f172a",tickerTextColor:"#fb923c",apiConfig:{baseUrl:"https://api.sini-pro-erp.com/v1",authToken:"",enableLiveSync:!0,endpoints:{products:"/inventory/products",orders:"/sales/orders",customers:"/crm/customers"},webhookSecret:"",environment:"PRODUCTION",syncInterval:"REALTIME",syncEntities:{products:!0,inventory:!0,prices:!0,customers:!0,orders:!0},webhooks:[],fieldMapping:`{
  "sku": "item_code",
  "price": "unit_price",
  "stock": "qty_on_hand"
}`,debugMode:!1,rateLimit:"120"},statusLabels:{orderStatus:{PENDING:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,isDefault:!0,sortOrder:1},APPROVED:{label:" ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:2},REJECTED:{label:"",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:3},SHIPPED:{label:" ",color:"#3b82f6",bgColor:"#dbeafe",isSystem:!0,sortOrder:4},DELIVERED:{label:" ",color:"#059669",bgColor:"#a7f3d0",isSystem:!0,sortOrder:5},CANCELLED:{label:" ",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:6}},orderInternalStatus:{NEW:{label:" ",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,isDefault:!0,sortOrder:1},SENT_TO_WAREHOUSE:{label:"  ",color:"#3b82f6",bgColor:"#dbeafe",isSystem:!0,sortOrder:2},WAITING_PAYMENT:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:3},PAYMENT_CONFIRMED:{label:"  ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:4},SALES_INVOICE_CREATED:{label:"  ",color:"#06b6d4",bgColor:"#cffafe",isSystem:!0,sortOrder:5},READY_FOR_SHIPMENT:{label:" ",color:"#0ea5e9",bgColor:"#e0f2fe",isSystem:!0,sortOrder:6},COMPLETED_INTERNAL:{label:" ",color:"#059669",bgColor:"#a7f3d0",isSystem:!0,sortOrder:7},CANCELLED_INTERNAL:{label:" ",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:8}},accountRequestStatus:{NEW:{label:" ",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,isDefault:!0,sortOrder:1},UNDER_REVIEW:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},APPROVED:{label:" ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:3},REJECTED:{label:"",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:4},ON_HOLD:{label:"",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:5}},quoteRequestStatus:{NEW:{label:"",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,isDefault:!0,sortOrder:1},UNDER_REVIEW:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},PARTIALLY_APPROVED:{label:" ",color:"#06b6d4",bgColor:"#cffafe",isSystem:!0,sortOrder:3},APPROVED:{label:" ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:4},QUOTED:{label:" ",color:"#10b981",bgColor:"#d1fae5",sortOrder:5},PROCESSED:{label:" ",color:"#059669",bgColor:"#a7f3d0",sortOrder:6},REJECTED:{label:"",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:7}},quoteItemStatus:{PENDING:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,isDefault:!0,sortOrder:1},MATCHED:{label:" ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:2},NOT_FOUND:{label:" ",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:3},APPROVED:{label:"",color:"#059669",bgColor:"#a7f3d0",isSystem:!0,sortOrder:4},REJECTED:{label:"",color:"#dc2626",bgColor:"#fecaca",isSystem:!0,sortOrder:5},MISSING:{label:"",color:"#ea580c",bgColor:"#ffedd5",isSystem:!0,sortOrder:6}},missingStatus:{NEW:{label:" ",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,isDefault:!0,sortOrder:1},UNDER_REVIEW:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},ORDER_PLANNED:{label:"  ",color:"#3b82f6",bgColor:"#dbeafe",isSystem:!0,sortOrder:3},ORDERED:{label:" ",color:"#06b6d4",bgColor:"#cffafe",isSystem:!0,sortOrder:4},ADDED_TO_STOCK:{label:"  ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:5},IGNORED:{label:" ",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:6}},importRequestStatus:{NEW:{label:" ",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,isDefault:!0,sortOrder:1},UNDER_REVIEW:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},WAITING_CUSTOMER_EXCEL:{label:"  Excel",color:"#3b82f6",bgColor:"#dbeafe",isSystem:!0,sortOrder:3},PRICING_IN_PROGRESS:{label:" ",color:"#06b6d4",bgColor:"#cffafe",isSystem:!0,sortOrder:4},PRICING_SENT:{label:"  ",color:"#0ea5e9",bgColor:"#e0f2fe",isSystem:!0,sortOrder:5},WAITING_CUSTOMER_APPROVAL:{label:"  ",color:"#a855f7",bgColor:"#f3e8ff",isSystem:!0,sortOrder:6},APPROVED_BY_CUSTOMER:{label:"  ",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,sortOrder:7},IN_FACTORY:{label:" ",color:"#f97316",bgColor:"#ffedd5",isSystem:!0,sortOrder:8},SHIPMENT_BOOKED:{label:"  ",color:"#0284c7",bgColor:"#e0f2fe",isSystem:!0,sortOrder:9},ON_THE_SEA:{label:"  ",color:"#0369a1",bgColor:"#bae6fd",isSystem:!0,sortOrder:10},IN_PORT:{label:" ",color:"#0891b2",bgColor:"#cffafe",isSystem:!0,sortOrder:11},CUSTOMS_CLEARED:{label:"  ",color:"#059669",bgColor:"#d1fae5",isSystem:!0,sortOrder:12},ON_THE_WAY:{label:"  ",color:"#16a34a",bgColor:"#bbf7d0",isSystem:!0,sortOrder:13},DELIVERED:{label:" ",color:"#059669",bgColor:"#a7f3d0",isSystem:!0,sortOrder:14},CANCELLED:{label:"",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:15}},customerStatus:{ACTIVE:{label:"",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,isDefault:!0,sortOrder:1},SUSPENDED:{label:" ",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},BLOCKED:{label:"",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:3},PENDING:{label:" ",color:"#8b5cf6",bgColor:"#ede9fe",isSystem:!0,sortOrder:4},INACTIVE:{label:" ",color:"#6b7280",bgColor:"#f3f4f6",isSystem:!0,sortOrder:5}},staffStatus:{ACTIVE:{label:"",color:"#10b981",bgColor:"#d1fae5",isSystem:!0,isDefault:!0,sortOrder:1},SUSPENDED:{label:"",color:"#f59e0b",bgColor:"#fef3c7",isSystem:!0,sortOrder:2},BLOCKED:{label:"",color:"#ef4444",bgColor:"#fee2e2",isSystem:!0,sortOrder:3}}},guestModeEnabled:!0,guestSettings:{showBusinessTypes:!0,showMainServices:!0,showHowItWorks:!0,showWhySiniCar:!0,showCart:!1,showMarketingCards:!0,blurIntensity:"medium",showBlurOverlay:!0,allowedPages:[],allowSearch:!0,showSearchResults:!0},orderStatusPointsConfig:{enabled:!0,pointsPerStatus:{DELIVERED:5,APPROVED:2,SHIPPED:1}}},Hi=[{id:"1",partNumber:"CN-102030",name:"    -  CS95",brand:"Changan",price:150,oldPrice:180,isOnSale:!0,stock:50,isNew:!1,category:"",description:"         2020-2023"},{id:"2",partNumber:"CN-550011",name:"  -   2022",brand:"Changan",price:850,stock:10,isNew:!0,category:"",description:"       100%"},{id:"3",partNumber:"CN-CS85-09",name:"   - CS85",brand:"Changan",price:420,stock:15,category:" "},{id:"4",partNumber:"CN-UNIK-FILT",name:"   (++) -  ",brand:"Changan",price:180,stock:40,category:""},{id:"5",partNumber:"CN-ALT-95",name:"  -  CS95",brand:"Changan",price:1200,stock:5,category:""},{id:"6",partNumber:"CN-RAD-75",name:"  -  CS75",brand:"Changan",price:550,stock:8,category:""},{id:"7",partNumber:"MG-998877",name:"    - MG All Models",brand:"MG",price:35,stock:200,category:"",description:"         "},{id:"8",partNumber:"MG-RX5-01",name:"   LED - MG RX5",brand:"MG",price:1800,oldPrice:2100,isOnSale:!0,stock:5,category:""},{id:"9",partNumber:"MG-GT-SPOILER",name:"    - MG GT",brand:"MG",price:600,stock:3,isNew:!0,category:""},{id:"10",partNumber:"MG-ZS-BUMP",name:"  - MG ZS 2021",brand:"MG",price:450,stock:12,category:""},{id:"11",partNumber:"MG-HS-PADS",name:"  - MG HS",brand:"MG",price:140,stock:60,category:""},{id:"12",partNumber:"MG-ENG-MNT",name:"   - MG 6",brand:"MG",price:900,stock:4,category:""},{id:"13",partNumber:"GL-COOL-01",name:"   -  ",brand:"Geely",price:650,stock:8,category:"",isNew:!0},{id:"14",partNumber:"GL-MON-BUMP",name:"    -  ",brand:"Geely",price:1100,stock:4,category:"",isNew:!0},{id:"15",partNumber:"GL-TUG-HL",name:"   -  ",brand:"Geely",price:2200,stock:2,category:""},{id:"16",partNumber:"GL-EMG-BRK",name:"  ABS -  ",brand:"Geely",price:180,stock:25,category:""},{id:"17",partNumber:"GL-OKA-FDR",name:"   -  ",brand:"Geely",price:700,stock:6,category:""},{id:"18",partNumber:"HV-H6-BRK",name:"  -  H6",brand:"Haval",price:120,stock:80,category:""},{id:"19",partNumber:"HV-JOLION-LGT",name:"   -  ",brand:"Haval",price:750,oldPrice:900,isOnSale:!0,stock:6,category:""},{id:"20",partNumber:"HV-H9-TURBO",name:"  -  H9",brand:"Haval",price:3500,stock:2,category:""},{id:"21",partNumber:"HV-DARGO-MAT",name:"   -  ",brand:"Haval",price:250,stock:15,category:""},{id:"22",partNumber:"CH-TIGGO-OIL",name:"  CVT -   8",brand:"Chery",price:60,stock:100,category:""},{id:"23",partNumber:"CH-ARRIZO-DR",name:"   -   6",brand:"Chery",price:85,stock:30,category:""},{id:"24",partNumber:"GW-POER-FLT",name:"  -   ",brand:"Great Wall",price:55,stock:45,category:""},{id:"25",partNumber:"GEN-SPK-PLG",name:"   - ",brand:"Generic",price:45,stock:500,category:""},{id:"26",partNumber:"GEN-BAT-70",name:" 70  - ",brand:"Generic",price:350,stock:20,category:""},{id:"27",partNumber:"CN-EADO-MIR",name:"   () - ",brand:"Changan",price:650,stock:12,category:""},{id:"28",partNumber:"MG-5-CVT",name:"  - MG 5",brand:"MG",price:320,stock:8,category:""},{id:"29",partNumber:"HV-JUL-SEN",name:"    - ",brand:"Haval",price:120,stock:50,category:""},{id:"30",partNumber:"GL-COOL-PMP",name:"  - ",brand:"Geely",price:280,stock:14,category:""}],$J=[{id:"1",title:" ..  ",subtitle:"     MG      ",colorClass:"from-primary-700 to-primary-900",buttonText:"  ",isActive:!0},{id:"2",title:" :   ",subtitle:"      H6 ",colorClass:"from-slate-700 to-slate-900",buttonText:" ",isActive:!0},{id:"3",title:"  ",subtitle:"      ",colorClass:"from-secondary-600 to-secondary-800",buttonText:" ",isActive:!0},{id:"4",title:"   ",subtitle:"       5000 ",colorClass:"from-green-600 to-green-800",buttonText:" ",isActive:!0}],w4=[":      MG     "," :       2024   "," :        ( )"," :  10%      ",":      8   8 "],vf=[{id:"ORD-99201",userId:"demo-user-id",businessId:"demo-user-id",items:[{...Hi[0],quantity:10},{...Hi[6],quantity:20}],totalAmount:2200,status:Je.SHIPPED,date:"2023-10-15T10:30:00Z",branchId:"b1",internalStatus:"READY_FOR_SHIPMENT",internalStatusHistory:[{status:"NEW",changedAt:"2023-10-15T10:30:00Z",changedBy:"system"},{status:"READY_FOR_SHIPMENT",changedAt:"2023-10-16T09:00:00Z",changedBy:"Ahmed"}]},{id:"ORD-99255",userId:"demo-user-id",businessId:"demo-user-id",items:[{...Hi[1],quantity:1}],totalAmount:850,status:Je.APPROVED,date:"2023-10-20T14:15:00Z",branchId:"b1",internalStatus:"PAYMENT_CONFIRMED",internalStatusHistory:[{status:"NEW",changedAt:"2023-10-20T14:15:00Z",changedBy:"system"},{status:"PAYMENT_CONFIRMED",changedAt:"2023-10-20T15:30:00Z",changedBy:"Finance"}]},{id:"ORD-99310",userId:"demo-user-id",businessId:"demo-user-id",items:[{...Hi[2],quantity:5},{...Hi[7],quantity:2}],totalAmount:5700,status:Je.PENDING,date:new Date().toISOString(),branchId:"b1",internalStatus:"NEW",internalStatusHistory:[{status:"NEW",changedAt:new Date().toISOString(),changedBy:"system"}]}],N4=[{id:"Q-5001",userId:"demo-user-id",userName:"  ()",companyName:"   ",date:"2023-09-01T09:00:00Z",status:"PROCESSED",priceType:"BOTH",items:[{partNumber:"CN-102030",partName:" ",requestedQty:100,matchedPrice:140,status:"MATCHED",approvalStatus:"APPROVED",matchedProductName:"  ",isAvailable:!0},{partNumber:"UNK-999",partName:"  ",requestedQty:10,status:"NOT_FOUND",approvalStatus:"MISSING",notes:"    "}],totalQuotedAmount:14e3,resultReady:!0}],ae={USERS:"b2b_users_sini_v2",PROFILES:"b2b_profiles_sini_v2",ORDERS:"b2b_orders_sini_v2",QUOTE_REQUESTS:"b2b_quotes_sini_v2",SESSION:"b2b_session_sini_v2",SETTINGS:"b2b_settings_sini_v2",PRODUCTS:"b2b_products_sini_v2",BANNERS:"b2b_banners_sini_v2",NEWS:"b2b_news_sini_v2",LOGS:"b2b_logs_sini_v2",SEARCH_HISTORY:"b2b_search_history_sini_v2",MISSING_REQUESTS:"b2b_missing_requests_sini_v2",IMPORT_REQUESTS:"b2b_import_requests_sini_v2",ACCOUNT_REQUESTS:"siniCar_account_opening_requests",NOTIFICATIONS:"siniCar_notifications_v2",ACTIVITY_LOGS:"siniCar_activity_logs",EXCEL_COLUMN_PRESETS:"siniCar_excel_column_presets",STATUS_LABELS:"siniCar_status_labels_v1",ADMIN_USERS:"siniCar_admin_users_v2",ADMIN_ROLES:"siniCar_admin_roles_v1",CAMPAIGNS:"siniCar_marketing_campaigns",PRICE_LEVELS:"sini_price_levels",PRODUCT_PRICE_MATRIX:"sini_price_matrix",GLOBAL_PRICING_SETTINGS:"sini_global_pricing_settings",CUSTOMER_PRICING_PROFILES:"sini_customer_pricing_profiles",PRICING_AUDIT_LOG:"sini_pricing_audit_log",TOOL_CONFIGS:"sini_tool_configs",CUSTOMER_TOOLS_OVERRIDES:"sini_customer_tools_overrides",TOOL_USAGE_RECORDS:"sini_tool_usage_records",SUPPLIER_PRICE_RECORDS:"sini_supplier_price_records",VIN_EXTRACTIONS:"sini_vin_extractions",PRICE_COMPARISON_SESSIONS:"sini_price_comparison_sessions",SUPPLIER_CATALOG_ITEMS:"sini_supplier_catalog_items",SUPPLIER_MARKETPLACE_SETTINGS:"sini_supplier_marketplace_settings",SUPPLIER_PROFILES:"sini_supplier_profiles",MARKETERS:"sini_marketers",CUSTOMER_REFERRALS:"sini_customer_referrals",MARKETER_COMMISSIONS:"sini_marketer_commissions",MARKETER_SETTINGS:"sini_marketer_settings",ADVERTISERS:"sini_advertisers",AD_CAMPAIGNS:"sini_ad_campaigns",AD_SLOTS:"sini_ad_slots",AD_SLOT_ROTATIONS:"sini_ad_slot_rotations",INSTALLMENT_REQUESTS:"sini_installment_requests",INSTALLMENT_OFFERS:"sini_installment_offers",CUSTOMER_CREDIT_PROFILES:"sini_customer_credit_profiles",INSTALLMENT_SETTINGS:"sini_installment_settings",ORGANIZATIONS:"sini_organizations",ORGANIZATION_USERS:"sini_organization_users",ORGANIZATION_SETTINGS:"sini_organization_settings",ORGANIZATION_ACTIVITY_LOGS:"sini_organization_activity_logs",TEAM_INVITATIONS:"sini_team_invitations"},Hl=(e=0)=>e===0?Promise.resolve():new Promise(t=>setTimeout(t,e)),HJ=()=>"C-"+Math.floor(1e4+Math.random()*9e4),VJ=()=>Math.floor(1e5+Math.random()*9e5).toString(),pt=e=>{try{const t=JSON.parse(localStorage.getItem(ae.ACTIVITY_LOGS)||"[]");let r=e.userName,a=e.role;if(!r||!a){const l=JSON.parse(localStorage.getItem(ae.USERS)||"[]").find(c=>c.id===e.userId);l?(r||(r=l.name),a||(a=l.role)):e.userId==="super-admin"&&(r=" ",a="SUPER_ADMIN")}const n={id:`LOG-${Date.now()}-${Math.floor(Math.random()*1e3)}`,createdAt:new Date().toISOString(),userId:e.userId,userName:r,role:a,eventType:e.eventType,description:e.description,page:e.page,metadata:e.metadata};t.unshift(n),t.length>1e3&&(t.length=1e3),localStorage.setItem(ae.ACTIVITY_LOGS,JSON.stringify(t))}catch(t){console.error("Failed to record activity",t)}},md=(e,t)=>{try{const r=JSON.parse(localStorage.getItem(ae.LOGS)||"[]");r.push({type:e,data:t,timestamp:new Date().toISOString()}),r.length>100&&r.shift(),localStorage.setItem(ae.LOGS,JSON.stringify(r))}catch(r){console.error("Failed to log activity",r)}},j4=e=>{const t=new Date().toISOString().split("T")[0];return e.status,e.lastSearchDate!==t&&(e.searchUsed=0,e.lastSearchDate=t),e},zn=e=>{const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e.id);r!==-1&&(t[r]=e,localStorage.setItem(ae.USERS,JSON.stringify(t)),JSON.parse(localStorage.getItem(ae.SESSION)||"{}").id===e.id&&localStorage.setItem(ae.SESSION,JSON.stringify(e)))},zi=(e,t,r,a)=>{const n=JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]"),i={id:`NOTIF-${Date.now()}-${Math.floor(Math.random()*1e3)}`,userId:e,type:t,title:r,message:a,createdAt:new Date().toISOString(),isRead:!1};return n.unshift(i),n.filter(c=>c.userId===e).length>50&&n.length>500&&(n.length=500),localStorage.setItem(ae.NOTIFICATIONS,JSON.stringify(n)),i},de={async checkHealth(){const e=performance.now();await new Promise(r=>setTimeout(r,Math.random()*50));const t=performance.now();return{status:"ok",latency:Math.round(t-e)}},async recordActivity(e){pt(e)},async getActivityLogs(){return JSON.parse(localStorage.getItem(ae.ACTIVITY_LOGS)||"[]")},async getCustomerActivityLogs(e){return(await this.getActivityLogs()).filter(r=>{var a;return r.userId===e||((a=r.metadata)==null?void 0:a.targetUserId)===e})},async recordHeartbeat(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);r!==-1&&(t[r].lastActiveAt=new Date().toISOString(),localStorage.setItem(ae.USERS,JSON.stringify(t)))},async getOnlineUsers(e=5){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=new Date().getTime(),a=e*60*1e3;return t.filter(n=>{if(!n.lastActiveAt||n.role==="SUPER_ADMIN")return!1;const i=new Date(n.lastActiveAt).getTime();return r-i<=a})},async getSettings(){var a,n,i,l,c,u,f,p,m;const e=localStorage.getItem(ae.SETTINGS);if(!e)return localStorage.setItem(ae.SETTINGS,JSON.stringify(kr)),kr;const t=JSON.parse(e),r=kr.statusLabels?{orderStatus:{...kr.statusLabels.orderStatus,...((a=t.statusLabels)==null?void 0:a.orderStatus)||{}},orderInternalStatus:{...kr.statusLabels.orderInternalStatus,...((n=t.statusLabels)==null?void 0:n.orderInternalStatus)||{}},accountRequestStatus:{...kr.statusLabels.accountRequestStatus,...((i=t.statusLabels)==null?void 0:i.accountRequestStatus)||{}},quoteRequestStatus:{...kr.statusLabels.quoteRequestStatus,...((l=t.statusLabels)==null?void 0:l.quoteRequestStatus)||{}},quoteItemStatus:{...kr.statusLabels.quoteItemStatus,...((c=t.statusLabels)==null?void 0:c.quoteItemStatus)||{}},missingStatus:{...kr.statusLabels.missingStatus,...((u=t.statusLabels)==null?void 0:u.missingStatus)||{}},importRequestStatus:{...kr.statusLabels.importRequestStatus,...((f=t.statusLabels)==null?void 0:f.importRequestStatus)||{}},customerStatus:{...kr.statusLabels.customerStatus,...((p=t.statusLabels)==null?void 0:p.customerStatus)||{}},staffStatus:{...kr.statusLabels.staffStatus,...((m=t.statusLabels)==null?void 0:m.staffStatus)||{}}}:t.statusLabels;return{...kr,...t,apiConfig:{...kr.apiConfig,...t.apiConfig},uiTexts:{...kr.uiTexts,...t.uiTexts||{}},statusLabels:r}},async updateSettings(e){localStorage.setItem(ae.SETTINGS,JSON.stringify(e))},async updateBanners(e){localStorage.setItem(ae.BANNERS,JSON.stringify(e))},async updateNews(e){localStorage.setItem(ae.NEWS,JSON.stringify(e))},async getStatusLabels(){const e=localStorage.getItem(ae.STATUS_LABELS);if(!e)return localStorage.setItem(ae.STATUS_LABELS,JSON.stringify(kr.statusLabels)),kr.statusLabels;const t=JSON.parse(e);return{orderStatus:{...kr.statusLabels.orderStatus,...t.orderStatus},orderInternalStatus:{...kr.statusLabels.orderInternalStatus,...t.orderInternalStatus},accountRequestStatus:{...kr.statusLabels.accountRequestStatus,...t.accountRequestStatus},quoteRequestStatus:{...kr.statusLabels.quoteRequestStatus,...t.quoteRequestStatus},quoteItemStatus:{...kr.statusLabels.quoteItemStatus,...t.quoteItemStatus},missingStatus:{...kr.statusLabels.missingStatus,...t.missingStatus},importRequestStatus:{...kr.statusLabels.importRequestStatus,...t.importRequestStatus},customerStatus:{...kr.statusLabels.customerStatus,...t.customerStatus},staffStatus:{...kr.statusLabels.staffStatus,...t.staffStatus}}},async updateStatusLabels(e){localStorage.setItem(ae.STATUS_LABELS,JSON.stringify(e));const t=await this.getSettings();t.statusLabels=e,await this.updateSettings(t)},async addStatusLabel(e,t,r){const a=await this.getStatusLabels();if(a[e][t])return{success:!1,error:"     "};const i=Object.values(a[e]).reduce((l,c)=>Math.max(l,c.sortOrder||0),0);return a[e][t]={...r,sortOrder:r.sortOrder||i+1,isSystem:!1},r.isDefault&&Object.keys(a[e]).forEach(l=>{l!==t&&(a[e][l].isDefault=!1)}),await this.updateStatusLabels(a),{success:!0}},async updateStatusLabel(e,t,r){const a=await this.getStatusLabels();if(!a[e][t])return{success:!1,error:"  "};const n=a[e][t];return a[e][t]={...n,label:r.label,color:r.color,bgColor:r.bgColor,icon:r.icon,sortOrder:r.sortOrder??n.sortOrder},r.isDefault&&(Object.keys(a[e]).forEach(i=>{i!==t&&(a[e][i].isDefault=!1)}),a[e][t].isDefault=!0),await this.updateStatusLabels(a),{success:!0}},async deleteStatusLabel(e,t){const r=await this.getStatusLabels();if(!r[e][t])return{success:!1,error:"  "};if(r[e][t].isSystem)return{success:!1,error:"    "};const a=await this.checkStatusUsage(e,t);return a>0?{success:!1,error:`    ${a}    `}:(delete r[e][t],await this.updateStatusLabels(r),{success:!0})},async checkStatusUsage(e,t){let r=0;switch(e){case"orderStatus":r=(await this.getAllOrders()).filter(m=>m.status===t||m.status===Je[t]).length;break;case"orderInternalStatus":r=(await this.getAllOrders()).filter(m=>m.internalStatus===t).length;break;case"accountRequestStatus":r=(await this.getAccountOpeningRequests()).filter(m=>m.status===t).length;break;case"quoteRequestStatus":r=(await this.getAllQuoteRequests()).filter(m=>m.status===t).length;break;case"importRequestStatus":r=(await this.getImportRequests()).filter(m=>m.status===t).length;break;case"missingStatus":r=(await this.getMissingProductRequests()).filter(m=>m.status===t).length;break;case"customerStatus":r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]").filter(m=>m.status===t).length;break;case"staffStatus":r=JSON.parse(localStorage.getItem(ae.USERS)||"[]").filter(m=>m.role==="CUSTOMER_STAFF"&&m.status===t).length;break}return r},async getAdminStats(){const e=await this.getAllOrders(),t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=await this.searchProducts(""),a=await this.getAllQuoteRequests(),n=await this.getAccountOpeningRequests();return{totalOrders:e.length,pendingOrders:e.filter(i=>i.status===Je.PENDING).length,totalRevenue:e.reduce((i,l)=>i+l.totalAmount,0),totalUsers:t.length,totalProducts:r.length,pendingQuotes:a.filter(i=>i.status==="NEW"||i.status==="UNDER_REVIEW").length,newAccountRequests:n.filter(i=>i.status==="NEW").length}},async getAllUsers(){const e=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),t=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]");return e.map(r=>({user:r,profile:t.find(a=>a.userId===(r.role==="CUSTOMER_STAFF"?r.parentId:r.id))})).filter(r=>r.user.role!=="SUPER_ADMIN")},async getCustomersDatabase(){const e=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),t=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),r=await this.getAllOrders(),a=await this.getAllQuoteRequests(),n=await this.getImportRequests(),i=await this.getActivityLogs(),l=await this.getMissingProductRequests(),c=await this.getAccountOpeningRequests();return t.map(f=>{const p=e.filter(N=>N.businessId===f.userId||N.id===f.userId),m=e.find(N=>N.id===f.userId),x=c.find(N=>N.status==="APPROVED"&&(N.phone===(m==null?void 0:m.phone)||N.businessName===f.companyName)),v=(x==null?void 0:x.documents)||f.documents||[],y=r.filter(N=>N.businessId===f.userId||N.userId===f.userId),b=y.length,S=y.filter(N=>N.internalStatus==="SALES_INVOICE_CREATED"||N.internalStatus==="COMPLETED_INTERNAL").length,_=a.filter(N=>N.userId===f.userId).length,w=n.filter(N=>N.customerId===f.userId).length,E=i.filter(N=>N.eventType==="SEARCH_PERFORMED"&&p.some(D=>D.id===N.userId)).length,O=l.filter(N=>p.some(D=>D.id===N.userId)).length,A=(m==null?void 0:m.lastLoginAt)||null,T=(m==null?void 0:m.failedLoginAttempts)||0;return{...f,status:f.status||(m==null?void 0:m.status)||(m!=null&&m.isActive?"ACTIVE":"SUSPENDED"),assignedPriceLevel:f.assignedPriceLevel||(m==null?void 0:m.priceLevel)||"LEVEL_2",businessCustomerType:f.businessCustomerType||(m==null?void 0:m.customerType),customerType:f.customerType,searchPointsTotal:f.searchPointsTotal||((m==null?void 0:m.searchLimit)??50),searchPointsRemaining:f.searchPointsRemaining||((m==null?void 0:m.searchLimit)||50)-((m==null?void 0:m.searchUsed)||0),staffLimit:f.staffLimit||5,staffUsersCount:p.filter(N=>N.role==="CUSTOMER_STAFF").length,lastLoginAt:A,failedLoginAttempts:T,riskyLoginFlag:T>5,totalOrdersCount:b,totalQuotesCount:_,totalImportRequestsCount:w,totalInvoicesCount:S,totalSearchesCount:E,missingRequestsCount:O,documents:v}})},async updateCustomerStatus(e,t,r){const a=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),n=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),i=a.findIndex(c=>c.userId===e);i!==-1&&(a[i].status=t,r?a[i].suspendedUntil=r:a[i].suspendedUntil=null);const l=n.findIndex(c=>c.id===e);l!==-1&&(n[l].status=t,n[l].isActive=t==="ACTIVE"),(t==="BLOCKED"||t==="SUSPENDED")&&n.forEach(c=>{c.businessId===e&&(c.status=t,c.isActive=!1)}),localStorage.setItem(ae.PROFILES,JSON.stringify(a)),localStorage.setItem(ae.USERS,JSON.stringify(n)),pt({userId:"super-admin",userName:"System Admin",role:"SUPER_ADMIN",eventType:t==="ACTIVE"?"CUSTOMER_REACTIVATED":"CUSTOMER_SUSPENDED",description:`    ${t}`,metadata:{targetUserId:e,suspendedUntil:r}})},async addCustomerSearchPoints(e,t){await this.adminGrantPoints(e,t);const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);a!==-1&&(r[a].searchPointsTotal=(r[a].searchPointsTotal||0)+t,r[a].searchPointsRemaining=(r[a].searchPointsRemaining||0)+t,localStorage.setItem(ae.PROFILES,JSON.stringify(r))),pt({userId:"super-admin",userName:"System Admin",role:"SUPER_ADMIN",eventType:"SEARCH_POINTS_ADDED",description:`  ${t}   `,metadata:{targetUserId:e,pointsAdded:t}})},async deductCustomerSearchPoints(e,t){const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(c=>c.userId===e);if(a===-1)return!1;const n=r[a].searchPointsRemaining||0;if(t>n)return!1;r[a].searchPointsRemaining=n-t,localStorage.setItem(ae.PROFILES,JSON.stringify(r));const i=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),l=i.findIndex(c=>c.id===e);return l!==-1&&(i[l].searchLimit=r[a].searchPointsRemaining,localStorage.setItem(ae.USERS,JSON.stringify(i))),pt({userId:"super-admin",userName:"System Admin",role:"SUPER_ADMIN",eventType:"SEARCH_POINTS_DEDUCTED",description:`  ${t}    `,metadata:{targetUserId:e,pointsDeducted:t,newBalance:r[a].searchPointsRemaining}}),!0},async updateCustomerPriceVisibility(e,t){const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);a!==-1&&(r[a].priceVisibility=t,localStorage.setItem(ae.PROFILES,JSON.stringify(r)),pt({userId:"super-admin",userName:"System Admin",role:"SUPER_ADMIN",eventType:"OTHER",description:`      ${t==="VISIBLE"?"":""}`,metadata:{targetUserId:e,priceVisibility:t}}))},async updateStaffStatus(e,t){const r=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),a=r.findIndex(n=>n.id===e);a!==-1&&(r[a].status=t,r[a].isActive=t==="ACTIVE",localStorage.setItem(ae.USERS,JSON.stringify(r)),pt({userId:"super-admin",eventType:t==="ACTIVE"?"USER_REACTIVATED":"USER_SUSPENDED",description:`   ${r[a].name}  ${t}`,metadata:{targetUserId:e}}))},async resetFailedLogin(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);r!==-1&&(t[r].failedLoginAttempts=0,t[r].riskyLoginFlag=!1,localStorage.setItem(ae.USERS,JSON.stringify(t)))},async getAllOrders(){const e=localStorage.getItem(ae.ORDERS);return e?JSON.parse(e):(localStorage.setItem(ae.ORDERS,JSON.stringify(vf)),vf)},async cancelOrder(e,t){const r=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]"),a=r.findIndex(l=>l.id===e);if(a===-1)throw new Error("  ");const n=r[a];if(t==="CUSTOMER"&&[Je.SHIPPED,Je.DELIVERED].includes(n.status))throw new Error("CANNOT_CANCEL_SENSITIVE_STATUS");const i={...n,status:Je.CANCELLED,cancelledBy:t,cancelledAt:new Date().toISOString()};if(r[a]=i,localStorage.setItem(ae.ORDERS,JSON.stringify(r)),md("ORDER_CANCELLED",{orderId:e,by:t}),pt({userId:i.userId,eventType:"ORDER_CANCELLED",description:`   #${i.id}  ${t==="CUSTOMER"?"":""}`,metadata:{orderId:i.id,cancelledBy:t}}),t==="ADMIN"){zi(i.userId,"ORDER_STATUS_CHANGED"," ",`    ${i.id}   .`);const l=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),c=l.findIndex(u=>u.id===i.userId);if(c!==-1){const u=l[c];u.hasUnreadOrders=!0,zn(u)}}return i},async deleteOrder(e){const t=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]"),r=t.find(n=>n.id===e),a=t.filter(n=>n.id!==e);localStorage.setItem(ae.ORDERS,JSON.stringify(a)),md("ORDER_DELETED",{orderId:e}),r&&pt({userId:r.userId,eventType:"ORDER_DELETED",description:`   #${e}  `,metadata:{orderId:e}})},async getNotificationsForUser(e){return JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]").filter(r=>r.userId===e)},async getAllNotifications(){return JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]")},async markNotificationsAsRead(e){const r=JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]").map(a=>a.userId===e?{...a,isRead:!0}:a);localStorage.setItem(ae.NOTIFICATIONS,JSON.stringify(r))},async clearNotificationsForUser(e){const r=JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]").filter(a=>a.userId!==e);localStorage.setItem(ae.NOTIFICATIONS,JSON.stringify(r))},async deleteNotification(e,t){const a=JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]").filter(n=>!(n.id===t&&n.userId===e));localStorage.setItem(ae.NOTIFICATIONS,JSON.stringify(a))},async createNotification(e){return zi(e.userId,e.type,e.title,e.message)},async markOrdersAsReadForUser(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);if(r!==-1){const a=t[r];a.hasUnreadOrders&&(a.hasUnreadOrders=!1,a.lastOrdersViewedAt=new Date().toISOString(),zn(a))}},async markQuotesAsReadForUser(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);if(r!==-1){const a=t[r];a.hasUnreadQuotes&&(a.hasUnreadQuotes=!1,a.lastQuotesViewedAt=new Date().toISOString(),zn(a))}},async adminGrantPoints(e,t){const r=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),a=r.findIndex(n=>n.id===e);if(a!==-1){const n=r[a];n.searchLimit=(n.searchLimit||0)+t,zn(n),zi(e,"SEARCH_POINTS_ADDED","   ",`  ${t}    .  : ${n.searchLimit}`),pt({userId:"super-admin",eventType:"SEARCH_POINTS_ADDED",description:` ${t}    ${n.name}`,metadata:{targetUserId:e,pointsAdded:t}})}},async saveProduct(e){let t=await this.searchProducts("");const r=t.findIndex(a=>a.id===e.id);r>=0?t[r]=e:t.push({...e,id:crypto.randomUUID()}),localStorage.setItem(ae.PRODUCTS,JSON.stringify(t))},async login(e,t,r){if(await Hl(20),e==="admin"&&t==="admin")return md("LOGIN_ADMIN",{user:"admin"}),pt({userId:"super-admin",userName:" ",role:"SUPER_ADMIN",eventType:"LOGIN",description:"  "}),{user:{id:"super-admin",clientId:"admin",name:" ",email:"admin@system.com",role:"SUPER_ADMIN",searchLimit:0,searchUsed:0},profile:null};let a=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),n=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]");if(!a.find(f=>f.phone==="0500056988"&&f.role==="CUSTOMER_STAFF")){const f={id:"demo-staff-id",clientId:"STAFF-001",name:" ",email:"staff@sinicar.com",phone:"0500056988",activationCode:"381960",role:"CUSTOMER_STAFF",parentId:"demo-user-id",businessId:"demo-user-id",searchLimit:20,searchUsed:0,status:"ACTIVE",isApproved:!0,accountStatus:"ACTIVE"};a.push(f),localStorage.setItem(ae.USERS,JSON.stringify(a))}if(e==="1"&&t==="1"&&r==="OWNER"&&!a.find(p=>p.clientId==="1")){const p="demo-user-id",m={id:p,clientId:"1",password:"1",name:"  ()",email:"admin@sinicar.com",role:"CUSTOMER_OWNER",searchLimit:50,searchUsed:0,lastSearchDate:new Date().toISOString().split("T")[0],priceLevel:"A",isApproved:!0,accountStatus:"ACTIVE",customerType:"WHOLESALE",businessId:p,hasUnreadOrders:!1,status:"ACTIVE",lastLoginAt:new Date().toISOString()},x={userId:p,companyName:"   ",phone:"0500000000",region:"",city:"",crNumber:"1010101010",taxNumber:"300055566600003",nationalAddress:"1234   ",customerType:$I.SPARE_PARTS_SHOP,deviceFingerprint:"DEMO",branches:[{id:"b1",name:"",city:"",address:" ",phone:"0500000000"}],isApproved:!0,status:"ACTIVE",searchPointsTotal:50,searchPointsRemaining:50};a.push(m),n.push(x),localStorage.setItem(ae.USERS,JSON.stringify(a)),localStorage.setItem(ae.PROFILES,JSON.stringify(n)),localStorage.getItem(ae.ORDERS)||localStorage.setItem(ae.ORDERS,JSON.stringify(vf)),localStorage.getItem(ae.QUOTE_REQUESTS)||localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify(N4))}let l;if(r==="OWNER"){if(l=a.find(f=>f.clientId===e),!l)throw new Error("   ");if(l.role==="ADMIN"&&(l.role="CUSTOMER_OWNER"),l.password!==t)throw l.failedLoginAttempts=(l.failedLoginAttempts||0)+1,zn(l),pt({userId:l.id,userName:l.name,role:l.role,eventType:"FAILED_LOGIN",description:"    "}),new Error("   ");if(l.role!=="CUSTOMER_OWNER"&&l.role!=="SUPER_ADMIN")throw new Error("     ")}else if(r==="STAFF"){if(l=a.find(f=>f.phone===e&&(f.role==="CUSTOMER_STAFF"||f.role==="EMPLOYEE")),!l)throw new Error("    ");if(l.role==="EMPLOYEE"&&(l.role="CUSTOMER_STAFF"),l.activationCode!==t&&l.password!==t)throw l.failedLoginAttempts=(l.failedLoginAttempts||0)+1,zn(l),new Error("   ")}if(!l)throw new Error("  ");if(l.isActive===!1||l.status==="BLOCKED"||l.status==="SUSPENDED")throw new Error("     ");l.searchLimit===void 0&&(l.searchLimit=50,l.searchUsed=0,l.lastSearchDate=new Date().toISOString().split("T")[0],l.priceLevel="B",l.accountStatus="ACTIVE"),l.failedLoginAttempts=0,l.lastLoginAt=new Date().toISOString(),l=j4(l),zn(l);const c=l.role==="CUSTOMER_STAFF"?l.parentId:l.id,u=n.find(f=>f.userId===c);if(u&&r==="OWNER"){u.lastLoginAt=l.lastLoginAt;const f=n.findIndex(p=>p.userId===u.userId);f!==-1&&(n[f]=u,localStorage.setItem(ae.PROFILES,JSON.stringify(n)))}return localStorage.setItem(ae.SESSION,JSON.stringify(l)),md("LOGIN_SUCCESS",{userId:l.id,type:r}),pt({userId:l.id,userName:l.name,role:l.role,eventType:"LOGIN",description:"  "}),{user:l,profile:u||null}},async registerBusiness(e,t){await Hl(100);const r=JSON.parse(localStorage.getItem(ae.USERS)||"[]");if(r.find(u=>u.email===e.email))throw new Error("   ");const a=crypto.randomUUID(),n=HJ(),i={...e,id:a,clientId:n,role:"CUSTOMER_OWNER",businessId:a,searchLimit:50,searchUsed:0,lastSearchDate:new Date().toISOString().split("T")[0],priceLevel:"C",accountStatus:"PENDING",isApproved:!1,hasUnreadOrders:!1,status:"PENDING"},l={...t,userId:a,branches:[{id:crypto.randomUUID(),name:" ",city:t.city,address:t.nationalAddress,phone:e.phone}],isApproved:!1};r.push(i);const c=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]");return c.push(l),localStorage.setItem(ae.USERS,JSON.stringify(r)),localStorage.setItem(ae.PROFILES,JSON.stringify(c)),{success:!0,message:"  ",clientId:n}},async getCurrentSession(){const e=localStorage.getItem(ae.SESSION);if(!e)return null;const t=JSON.parse(e);let a=JSON.parse(localStorage.getItem(ae.USERS)||"[]").find(n=>n.id===t.id);return a?(a.searchLimit===void 0&&(a.searchLimit=50,a.searchUsed=0,a.lastSearchDate=new Date().toISOString().split("T")[0]),a=j4(a),zn(a),a):t},async logout(){const e=localStorage.getItem(ae.SESSION);if(e){const t=JSON.parse(e);md("LOGOUT",{userId:t.id}),pt({userId:t.id,userName:t.name,role:t.role,eventType:"LOGOUT",description:" "})}localStorage.removeItem(ae.SESSION)},canShowPrice(e){if(!e)return!1;if(e.role==="SUPER_ADMIN")return!0;const t=e.searchLimit??50,r=e.searchUsed??0;return t===0?!0:r<t},async incrementSearchUsage(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);if(r!==-1){let a=t[r];const n=new Date().toISOString().split("T")[0];a.lastSearchDate!==n&&(a.searchUsed=0,a.lastSearchDate=n);const i=a.searchLimit??50;if(i!==0){const l=a.searchUsed||0;if(l>=i)throw new Error("NO_POINTS_LEFT");a.searchUsed=l+1}return zn(a),a}throw new Error("User not found")},hasRecentPriceView(e,t){const r=JSON.parse(localStorage.getItem(ae.SEARCH_HISTORY)||"[]"),a=Date.now()-7200*60*1e3;return!!r.find(i=>i.userId===e&&i.productId===t&&new Date(i.viewedAt).getTime()>a)},async logPriceView(e,t){const a=JSON.parse(localStorage.getItem(ae.SEARCH_HISTORY)||"[]").filter(i=>!(i.userId===e.id&&i.productId===t.id)),n={id:crypto.randomUUID(),userId:e.id,productId:t.id,partNumber:t.partNumber,productName:t.name,viewedAt:new Date().toISOString(),priceSnapshot:t.price};a.unshift(n),a.length>500&&a.pop(),localStorage.setItem(ae.SEARCH_HISTORY,JSON.stringify(a)),pt({userId:e.id,userName:e.name,role:e.role,eventType:"SEARCH_PERFORMED",description:`  : ${t.partNumber} - ${t.name}`,metadata:{productId:t.id,partNumber:t.partNumber}})},getSearchHistoryForUser(e){return JSON.parse(localStorage.getItem(ae.SEARCH_HISTORY)||"[]").filter(r=>r.userId===e)},async logMissingProduct(e,t,r,a="SEARCH",n){const i=JSON.parse(localStorage.getItem(ae.MISSING_REQUESTS)||"[]"),l=hi(t),c=new Date().toISOString(),u=i.findIndex(f=>f.normalizedPartNumber&&f.normalizedPartNumber===l&&l.length>3||f.query.trim().toLowerCase()===t.trim().toLowerCase());if(u!==-1){const f=i[u],p=new Set(f.customerIds||[]);p.add(e);const m={...f,totalRequestsCount:(f.totalRequestsCount||1)+1,uniqueCustomersCount:p.size,customerIds:Array.from(p),lastRequestedAt:c,source:a==="QUOTE"?"QUOTE":f.source,quoteRequestId:n||f.quoteRequestId};i[u]=m}else{const f={id:crypto.randomUUID(),userId:e,userName:r,query:t,normalizedPartNumber:l,partNumber:l.length>3?t:void 0,name:l.length<=3?t:void 0,createdAt:c,source:a,quoteRequestId:n,status:"NEW",totalRequestsCount:1,uniqueCustomersCount:1,customerIds:[e],lastRequestedAt:c,isNew:!0};i.push(f)}localStorage.setItem(ae.MISSING_REQUESTS,JSON.stringify(i)),a==="SEARCH"&&pt({userId:e,userName:r,eventType:"SEARCH_PERFORMED",description:`    : ${t}`,metadata:{query:t}})},async getMissingProductRequests(){return JSON.parse(localStorage.getItem(ae.MISSING_REQUESTS)||"[]")},async updateMissingProductStatus(e,t,r){const a=await this.getMissingProductRequests(),n=a.findIndex(l=>l.id===e);if(n===-1)throw new Error("Record not found");const i={...a[n],status:t,adminNotes:r??a[n].adminNotes};return a[n]=i,localStorage.setItem(ae.MISSING_REQUESTS,JSON.stringify(a)),i},getStockThreshold(){return JSON.parse(localStorage.getItem(ae.SETTINGS)||"{}").stockThreshold??0},getMinVisibleQty(){return JSON.parse(localStorage.getItem(ae.SETTINGS)||"{}").minVisibleQty??1},async logMissingPartFromSearch(e){const t=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem(ae.MISSING_REQUESTS)||"[]"),a=r.findIndex(n=>n.normalizedPartNumber===e.normalizedPartNumber&&n.userId===(e.customerId||"guest")&&n.lastSearchDate===t);if(a>=0){const n=r[a];r[a]={...n,searchCount:(n.searchCount||1)+1,lastRequestedAt:new Date().toISOString(),totalRequestsCount:(n.totalRequestsCount||1)+1,availabilityStatus:e.availabilityStatus,searchSource:e.searchSource}}else{const n={id:crypto.randomUUID(),userId:e.customerId||"guest",userName:e.customerName,query:e.partNumber,partNumber:e.partNumber,normalizedPartNumber:e.normalizedPartNumber,name:e.productName,brand:e.brand,carModel:e.carInfo,branchId:e.branchId,productId:e.productId,createdAt:new Date().toISOString(),source:"SEARCH",availabilityStatus:e.availabilityStatus,searchSource:e.searchSource,searchCount:1,lastSearchDate:t,status:"NEW",totalRequestsCount:1,uniqueCustomersCount:1,customerIds:e.customerId?[e.customerId]:[],lastRequestedAt:new Date().toISOString(),isNew:!0};r.push(n)}localStorage.setItem(ae.MISSING_REQUESTS,JSON.stringify(r))},getExcelColumnPresets(){const e=localStorage.getItem(ae.EXCEL_COLUMN_PRESETS);if(!e){const t={id:"default-preset",name:" ",isDefault:!0,mappings:[{internalField:"partNumber",excelHeader:" ",isEnabled:!0,isRequired:!0},{internalField:"name",excelHeader:" ",isEnabled:!0,isRequired:!0},{internalField:"brand",excelHeader:"",isEnabled:!0,isRequired:!1},{internalField:"qtyTotal",excelHeader:"",isEnabled:!0,isRequired:!0},{internalField:"priceWholesale",excelHeader:" ",isEnabled:!0,isRequired:!1},{internalField:"priceRetail",excelHeader:" ",isEnabled:!0,isRequired:!1}],createdAt:new Date().toISOString()};return localStorage.setItem(ae.EXCEL_COLUMN_PRESETS,JSON.stringify([t])),[t]}return JSON.parse(e)},getDefaultExcelColumnPreset(){const e=this.getExcelColumnPresets();return e.find(t=>t.isDefault)||e[0]||null},createExcelColumnPreset(e){const t=this.getExcelColumnPresets(),r={...e,id:`preset-${Date.now()}`,createdAt:new Date().toISOString()};return e.isDefault&&t.forEach(a=>a.isDefault=!1),t.push(r),localStorage.setItem(ae.EXCEL_COLUMN_PRESETS,JSON.stringify(t)),r},updateExcelColumnPreset(e,t){const r=this.getExcelColumnPresets(),a=r.findIndex(n=>n.id===e);return a===-1?null:(t.isDefault&&r.forEach(n=>n.isDefault=!1),r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.EXCEL_COLUMN_PRESETS,JSON.stringify(r)),r[a])},deleteExcelColumnPreset(e){const t=this.getExcelColumnPresets(),r=t.findIndex(n=>n.id===e);if(r===-1)return!1;const a=t[r].isDefault;return t.splice(r,1),a&&t.length>0&&(t[0].isDefault=!0),localStorage.setItem(ae.EXCEL_COLUMN_PRESETS,JSON.stringify(t)),!0},setDefaultExcelColumnPreset(e){const t=this.getExcelColumnPresets(),r=t.findIndex(a=>a.id===e);return r===-1?!1:(t.forEach(a=>a.isDefault=!1),t[r].isDefault=!0,localStorage.setItem(ae.EXCEL_COLUMN_PRESETS,JSON.stringify(t)),!0)},async getImportRequests(){return JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]")},async createImportRequest(e){await Hl(100);const t=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]"),r={status:"NEW",note:"     ",changedAt:new Date().toISOString(),changedBy:e.businessName||"Customer",actorRole:"CUSTOMER"},a={...e,id:`IMP-${Math.floor(1e4+Math.random()*9e4)}`,status:"NEW",createdAt:new Date().toISOString(),timeline:[r],isNew:!0};return t.push(a),localStorage.setItem(ae.IMPORT_REQUESTS,JSON.stringify(t)),pt({userId:e.customerId,eventType:"IMPORT_REQUEST",description:`   (${e.serviceMode})`,metadata:{importId:a.id}}),a},async updateImportRequestStatus(e,t,r){const a=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]"),n=a.findIndex(f=>f.id===e);if(n===-1)throw new Error("  ");const i=a[n],l=i.status,c={status:t,note:(r==null?void 0:r.note)||null,changedAt:new Date().toISOString(),changedBy:(r==null?void 0:r.changedBy)||"System",actorRole:(r==null?void 0:r.actorRole)||"ADMIN"},u={...i,status:t,updatedAt:new Date().toISOString(),timeline:[...i.timeline||[],c]};return a[n]=u,localStorage.setItem(ae.IMPORT_REQUESTS,JSON.stringify(a)),(r==null?void 0:r.actorRole)==="ADMIN"&&t!==l&&zi(u.customerId,"IMPORT_UPDATE","  ",`    #${u.id}  ${t}`),pt({userId:(r==null?void 0:r.actorRole)==="ADMIN"?"super-admin":u.customerId,eventType:"IMPORT_STATUS_CHANGED",description:`     ${t}`,metadata:{importId:e,oldStatus:l,newStatus:t}}),u},async uploadImportRequestExcel(e,t,r){await Hl(500);const a=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]"),n=a.findIndex(u=>u.id===e);if(n===-1)throw new Error("Request not found");const i=a[n],l={status:i.status,note:`   : ${t}`,changedAt:new Date().toISOString(),changedBy:r,actorRole:"CUSTOMER"},c={...i,customerExcelFileName:t,customerExcelUploadedAt:new Date().toISOString(),timeline:[...i.timeline||[],l]};return a[n]=c,localStorage.setItem(ae.IMPORT_REQUESTS,JSON.stringify(a)),c},async completeImportRequestPricing(e,t){const r=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]"),a=r.findIndex(c=>c.id===e);if(a===-1)throw new Error("Request not found");const n=r[a],i={status:"PRICING_SENT",note:`    (${t.totalAmount} .)`,changedAt:new Date().toISOString(),changedBy:t.adminName,actorRole:"ADMIN"},l={...n,status:"PRICING_SENT",pricingFileNameForCustomer:t.pricingFileName,pricingTotalAmount:t.totalAmount,pricingPreparedBy:t.adminName,pricingPreparedAt:new Date().toISOString(),timeline:[...n.timeline||[],i]};return r[a]=l,localStorage.setItem(ae.IMPORT_REQUESTS,JSON.stringify(r)),zi(l.customerId,"IMPORT_UPDATE","  ",`      #${e}.   .`),l},async confirmImportRequestByCustomer(e,t){return this.updateImportRequestStatus(e,"APPROVED_BY_CUSTOMER",{note:t.approvalNote||"    ",changedBy:t.customerName,actorRole:"CUSTOMER"})},async getAccountOpeningRequests(){return JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]")},async createAccountOpeningRequest(e){await Hl(100);const t=JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]"),r={...e,id:`REQ-${Date.now().toString().slice(-6)}${Math.floor(Math.random()*9)}`,status:"NEW",createdAt:new Date().toISOString(),isNew:!0};return t.push(r),localStorage.setItem(ae.ACCOUNT_REQUESTS,JSON.stringify(t)),pt({userId:"GUEST",userName:e.fullName||e.businessName,eventType:"ACCOUNT_REQUEST",description:`   : ${e.businessName||e.fullName}`,metadata:{requestId:r.id,category:e.category}}),r},async updateAccountOpeningRequestStatus(e,t,r){const a=JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]"),n=a.findIndex(l=>l.id===e);if(n===-1)throw new Error("    ");const i={...a[n],status:t,updatedAt:new Date().toISOString(),...r};return a[n]=i,localStorage.setItem(ae.ACCOUNT_REQUESTS,JSON.stringify(a)),i},async reviewAccountRequest(e,t){const r=JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]"),a=r.findIndex(i=>i.id===e);if(a===-1)throw new Error("Request not found");const n={...r[a],...t,reviewedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r[a]=n,localStorage.setItem(ae.ACCOUNT_REQUESTS,JSON.stringify(r)),pt({userId:t.reviewedBy,userName:t.reviewedBy,role:"SUPER_ADMIN",eventType:"ACCOUNT_REQUEST_REVIEWED",description:` ${t.status==="APPROVED"?"":t.status==="REJECTED"?"":""}     ${n.businessName||n.fullName}`,metadata:{requestId:e,status:t.status}}),n},async searchProducts(e){const t=localStorage.getItem(ae.PRODUCTS);let r=t?JSON.parse(t):Hi;return t||(r=Hi,localStorage.setItem(ae.PRODUCTS,JSON.stringify(r))),r.map(a=>{if(!a.normalizedPart||!a.numericPartCore){const n=qz(a.partNumber);return{...a,normalizedPart:n.clean,numericPartCore:n.numericCore}}return a})},async getFeaturedProducts(){const e=await this.searchProducts("");return{newArrivals:e.filter(t=>t.isNew),onSale:e.filter(t=>t.isOnSale)}},async getBanners(){const e=localStorage.getItem(ae.BANNERS);if(e)return JSON.parse(e);const t=$J.map((r,a)=>({...r,id:r.id||`b-${a}`,isActive:r.isActive!==void 0?r.isActive:!0,colorClass:r.colorClass.replace("red","primary").replace("blue","secondary")}));return localStorage.setItem(ae.BANNERS,JSON.stringify(t)),t},async getNews(){const e=localStorage.getItem(ae.NEWS);return e?JSON.parse(e):(localStorage.setItem(ae.NEWS,JSON.stringify(w4)),w4)},async createOrder(e){const t=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]"),r=JSON.parse(localStorage.getItem(ae.SESSION)||"{}"),a=e.businessId||r.businessId||r.id,n={...e,id:`ORD-${Math.floor(Math.random()*1e5)}`,status:Je.PENDING,date:new Date().toISOString(),businessId:a,createdByUserId:r.id,createdByName:r.name,internalStatus:"NEW",internalStatusHistory:[{status:"NEW",changedAt:new Date().toISOString(),changedBy:"system"}],isNew:!0};return t.push(n),localStorage.setItem(ae.ORDERS,JSON.stringify(t)),md("ORDER_CREATED",{orderId:n.id,amount:n.totalAmount}),pt({userId:r.id,userName:r.name,role:r.role,eventType:"ORDER_CREATED",description:`     ${n.totalAmount.toLocaleString()} .`,metadata:{orderId:n.id,itemCount:n.items.length}}),n},async getOrders(e){const t=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]");if(t.length===0&&e==="demo-user-id")return localStorage.setItem(ae.ORDERS,JSON.stringify(vf)),vf;const a=JSON.parse(localStorage.getItem(ae.USERS)||"[]").find(n=>n.id===e);return a&&a.businessId?t.filter(n=>n.businessId===a.businessId||n.userId===e).reverse():t.filter(n=>n.userId===e).reverse()},async updateOrderInternalStatus(e,t,r,a){const n=await this.getAllOrders(),i=n.findIndex(u=>u.id===e);if(i===-1)throw new Error("ORDER_NOT_FOUND");const l=n[i],c={...l,internalStatus:t,internalNotes:a??l.internalNotes,internalStatusHistory:[...l.internalStatusHistory??[],{status:t,changedAt:new Date().toISOString(),changedBy:r}]};return n[i]=c,localStorage.setItem(ae.ORDERS,JSON.stringify(n)),pt({userId:"super-admin",userName:r,role:"SUPER_ADMIN",eventType:"ORDER_INTERNAL_STATUS_CHANGED",description:`    #${l.id}  ${t}`,metadata:{orderId:l.id,newStatus:t}}),c},async adminUpdateOrderStatus(e,t,r){var x;const a=await this.getAllOrders(),n=a.findIndex(v=>v.id===e);if(n===-1)throw new Error("ORDER_NOT_FOUND");const i=a[n],l=i.status,c={...i,status:t};a[n]=c,localStorage.setItem(ae.ORDERS,JSON.stringify(a)),zi(i.userId,"ORDER_STATUS_CHANGED","  ",`     ${i.id}  ${l}  ${t}`),pt({userId:"super-admin",userName:r,role:"SUPER_ADMIN",eventType:"ORDER_STATUS_CHANGED",description:`   #${i.id} ()  ${t}`,metadata:{orderId:i.id,newStatus:t}});const u=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),f=u.findIndex(v=>v.id===i.userId);if(f!==-1){const v=u[f];v.hasUnreadOrders=!0,zn(v)}const m=(await this.getSettings()).orderStatusPointsConfig;if(m!=null&&m.enabled){const v=(x=Object.entries(Je).find(([b,S])=>S===t))==null?void 0:x[0],y=v?m.pointsPerStatus[v]:0;if(y&&y>0){const b=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),S=u.find(_=>_.id===i.userId);if(S){const _=S.role==="CUSTOMER_STAFF"?S.parentId:S.id,w=b.findIndex(E=>E.userId===_);w!==-1&&(b[w].searchPointsRemaining=(b[w].searchPointsRemaining||0)+y,b[w].searchPointsTotal=(b[w].searchPointsTotal||0)+y,localStorage.setItem(ae.PROFILES,JSON.stringify(b)),zi(i.userId,"SEARCH_POINTS_ADDED","   ",`  ${y}       #${i.id}  "${t}"`),pt({userId:"super-admin",userName:"",role:"SUPER_ADMIN",eventType:"SEARCH_POINTS_ADDED",description:` : ${y}       "${t}"`,metadata:{orderId:i.id,pointsAdded:y,targetUserId:_}}))}}}return c},async createQuoteRequest(e){const t=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]"),r=await this.searchProducts(""),a=e.items.map((i,l)=>{const c=hi(i.partNumber),u=r.find(f=>hi(f.partNumber)===c||f.partNumber===i.partNumber);return{...i,rowIndex:l,status:"PENDING",approvalStatus:"PENDING",matchedProductId:u?u.id:void 0,matchedProductName:u?u.name:void 0,matchedPrice:u?u.price:void 0,isAvailable:u?u.stock>0:void 0}}),n={...e,items:a,id:`Q-${Math.floor(1e3+Math.random()*9e3)}`,date:new Date().toISOString(),status:"NEW",totalQuotedAmount:0,resultReady:!1,isNew:!0};return t.push(n),localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify(t)),pt({userId:e.userId,userName:e.userName,eventType:"QUOTE_REQUEST",description:`    (${e.priceType})`,metadata:{quoteId:n.id,itemCount:n.items.length}}),n},async getAllQuoteRequests(){const e=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]");return e.length===0?N4:e},async updateQuoteRequest(e){const t=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]"),r=t.findIndex(a=>a.id===e.id);r!==-1&&(t[r]=e,localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify(t)))},async finalizeQuoteRequest(e,t,r){const a=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]"),n=a.findIndex(v=>v.id===e);if(n===-1)throw new Error("Quote request not found");const i=a[n],l=i.items.filter(v=>v.approvalStatus==="APPROVED"),c=i.items.filter(v=>v.approvalStatus==="MISSING"),u=l.reduce((v,y)=>v+(y.matchedPrice||0)*y.requestedQty,0);let f="APPROVED";l.length===0&&c.length>0?f="REJECTED":c.length>0&&(f="PARTIALLY_APPROVED");const p={...i,status:f,totalQuotedAmount:u,approvedItemsCount:l.length,missingItemsCount:c.length,processedDate:new Date().toISOString(),adminReviewedBy:t,adminReviewedAt:new Date().toISOString(),adminGeneralNote:r,resultReady:!0};for(const v of c)await this.logMissingProduct(i.userId,v.partNumber,i.userName,"QUOTE",i.id);a[n]=p,localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify(a)),zi(i.userId,"QUOTE_PROCESSED","   ",`       ${i.id}.     .`);const m=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),x=m.findIndex(v=>v.id===i.userId);if(x!==-1){const v=m[x];v.hasUnreadQuotes=!0,zn(v)}return pt({userId:"super-admin",userName:t,role:"SUPER_ADMIN",eventType:"QUOTE_REVIEWED",description:`    #${i.id}`,metadata:{quoteId:i.id,approved:l.length,missing:c.length,total:u}}),p},async addBranch(e,t){await Hl(100);const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);if(a===-1)throw new Error("User not found");return r[a].branches.push({...t,id:crypto.randomUUID()}),localStorage.setItem(ae.PROFILES,JSON.stringify(r)),r[a].branches},async deleteBranch(e,t){const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);if(a===-1)throw new Error("User not found");return r[a].branches=r[a].branches.filter(n=>n.id!==t),localStorage.setItem(ae.PROFILES,JSON.stringify(r)),r[a].branches},async updateCustomerProfile(e,t){await Hl(200);const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);if(a===-1)throw new Error("User not found");return t.companyName!==void 0&&(r[a].companyName=t.companyName),t.crNumber!==void 0&&(r[a].crNumber=t.crNumber),t.taxNumber!==void 0&&(r[a].taxNumber=t.taxNumber),t.nationalAddress!==void 0&&(r[a].nationalAddress=t.nationalAddress),t.city!==void 0&&(r[a].city=t.city),t.region!==void 0&&(r[a].region=t.region),t.phone!==void 0&&(r[a].phone=t.phone),localStorage.setItem(ae.PROFILES,JSON.stringify(r)),r[a]},async addEmployee(e,t){await Hl(100);const r=JSON.parse(localStorage.getItem(ae.USERS)||"[]");if(r.find(l=>l.phone===t.phone))throw new Error("    ");if(!t.phone||!t.name)throw new Error("Missing required employee fields");const a=crypto.randomUUID(),n=VJ(),i={id:a,clientId:t.phone,name:t.name,email:`${t.phone}@employee.com`,phone:t.phone,role:"CUSTOMER_STAFF",parentId:e,businessId:e,activationCode:n,isActive:!0,branchId:t.branchId,employeeRole:t.employeeRole||Bs.BUYER,searchLimit:50,searchUsed:0,lastSearchDate:new Date().toISOString().split("T")[0],hasUnreadOrders:!1,status:"ACTIVE"};return r.push(i),localStorage.setItem(ae.USERS,JSON.stringify(r)),{user:i,activationCode:n}},async toggleEmployeeStatus(e){const t=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),r=t.findIndex(a=>a.id===e);if(r>=0)return t[r].isActive=!t[r].isActive,t[r].status=t[r].isActive?"ACTIVE":"SUSPENDED",localStorage.setItem(ae.USERS,JSON.stringify(t)),t[r];throw new Error("Employee not found")},async deleteEmployee(e){const r=JSON.parse(localStorage.getItem(ae.USERS)||"[]").filter(a=>a.id!==e);localStorage.setItem(ae.USERS,JSON.stringify(r))},async changePassword(e,t,r){const a=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),n=a.findIndex(l=>l.id===e);if(n===-1)return{success:!1,message:"  "};const i=a[n];return i.password!==t?{success:!1,message:"    "}:!r||r.length<4?{success:!1,message:"      4   "}:(a[n].password=r,localStorage.setItem(ae.USERS,JSON.stringify(a)),pt({userId:e,userName:i.name,role:i.role,eventType:"PASSWORD_CHANGED",description:"    "}),this.invalidateSessionTokens(e),{success:!0,message:"    "})},async adminResetPassword(e,t,r){const a=JSON.parse(localStorage.getItem(ae.USERS)||"[]"),n=a.find(c=>c.id===e),i=a.findIndex(c=>c.id===t);if(!n||n.role!=="SUPER_ADMIN"&&n.role!=="CUSTOMER_OWNER")return{success:!1,message:"      "};if(i===-1)return{success:!1,message:"   "};if(!r||r.length<4)return{success:!1,message:"      4   "};const l=a[i];return a[i].password=r,localStorage.setItem(ae.USERS,JSON.stringify(a)),pt({userId:e,userName:n.name,role:n.role,eventType:"PASSWORD_RESET",description:`     : ${l.name}`,metadata:{targetUserId:t,targetUserName:l.name}}),zi(t,"SYSTEM","    ","         .      ."),this.invalidateSessionTokens(t),{success:!0,message:"     "}},storeSessionToken(e,t){const r=JSON.parse(localStorage.getItem("sini_car_session_tokens")||"{}");r[e]||(r[e]=[]),r[e]=[...r[e].slice(-4),t],localStorage.setItem("sini_car_session_tokens",JSON.stringify(r))},validateSessionToken(e,t){var a;return((a=JSON.parse(localStorage.getItem("sini_car_session_tokens")||"{}")[e])==null?void 0:a.includes(t))||!1},invalidateSessionTokens(e){const t=JSON.parse(localStorage.getItem("sini_car_session_tokens")||"{}");delete t[e],localStorage.setItem("sini_car_session_tokens",JSON.stringify(t))},async getUserById(e){return JSON.parse(localStorage.getItem(ae.USERS)||"[]").find(r=>r.id===e)||null},async getEmployees(e){return JSON.parse(localStorage.getItem(ae.USERS)||"[]").filter(r=>r.parentId===e&&r.role==="CUSTOMER_STAFF")},async importProductsFromOnyxExcel(e,t){const r=u=>{if(u==null||u==="")return null;const f=typeof u=="number"?u:parseFloat(String(u).replace(/,/g,""));return isNaN(f)?null:f},a=()=>`P-${Date.now()}-${Math.floor(Math.random()*1e4)}`,n=t?this.getExcelColumnPresets().find(u=>u.id===t):this.getDefaultExcelColumnPreset(),i=u=>{if(!n)return{partNumber:" ",name:" ",brand:" ",qtyTotal:"",priceWholesale:" ",priceRetail:" ",priceWholeWholesale:"  ",priceEcommerce:"  ",qtyStore103:"    103",qtyStore105:"    105",rack103:"  103",rack105:"  105",carName:"  ",description:" ",manufacturerPartNumber:" ",globalCategory:"  ",modelYear:"  ",quality:""}[u]||u;const f=n.mappings.find(p=>p.internalField===u&&p.isEnabled);return(f==null?void 0:f.excelHeader)||u},l=u=>{if(!n)return;const f=n.mappings.find(p=>p.internalField===u);return f==null?void 0:f.defaultValue},c=u=>{if(!n)return!0;const f=n.mappings.find(p=>p.internalField===u);return(f==null?void 0:f.isEnabled)??!1};return new Promise((u,f)=>{const p=new FileReader;p.onload=async m=>{var x,v,y,b,S,_,w,E,O,A,T,N;try{const D=new Uint8Array((x=m.target)==null?void 0:x.result),L=m0(D,{type:"array"}),M=L.SheetNames[0],k=L.Sheets[M],I=wn.sheet_to_json(k),V=JSON.parse(localStorage.getItem(ae.PRODUCTS)||"[]");let q=0,z=0,R=0;const W=[];for(let X=0;X<I.length;X++){const B=I[X],ee=X+2,Y=i("partNumber"),F=i("name"),K=((v=B[Y])==null?void 0:v.toString().trim())||l("partNumber"),J=((y=B[F])==null?void 0:y.toString().trim())||l("name");if(!K){R++;continue}if(!J){W.push(` ${ee}:      ${K}`),R++;continue}const H={id:a(),partNumber:K,name:J,priceRetail:c("priceRetail")?r(B[i("priceRetail")])??r(l("priceRetail")):null,priceWholesale:c("priceWholesale")?r(B[i("priceWholesale")])??r(l("priceWholesale")):null,priceWholeWholesale:c("priceWholeWholesale")?r(B[i("priceWholeWholesale")])??r(l("priceWholeWholesale")):null,priceEcommerce:c("priceEcommerce")?r(B[i("priceEcommerce")])??r(l("priceEcommerce")):null,qtyStore103:c("qtyStore103")?r(B[i("qtyStore103")])??r(l("qtyStore103")):null,qtyStore105:c("qtyStore105")?r(B[i("qtyStore105")])??r(l("qtyStore105")):null,qtyTotal:c("qtyTotal")?r(B[i("qtyTotal")])??r(l("qtyTotal")):0,price:r(B[i("priceWholesale")])||r(B[i("priceRetail")])||0,stock:r(B[i("qtyTotal")])||0,brand:c("brand")?((b=B[i("brand")])==null?void 0:b.toString().trim())||l("brand"):void 0,description:c("description")?((S=B[i("description")])==null?void 0:S.toString().trim())||l("description"):void 0,carName:c("carName")?((_=B[i("carName")])==null?void 0:_.toString().trim())||l("carName"):null,globalCategory:c("globalCategory")?((w=B[i("globalCategory")])==null?void 0:w.toString().trim())||l("globalCategory"):null,modelYear:c("modelYear")?((E=B[i("modelYear")])==null?void 0:E.toString().trim())||l("modelYear"):null,quality:c("quality")?((O=B[i("quality")])==null?void 0:O.toString().trim())||l("quality"):null,manufacturerPartNumber:c("manufacturerPartNumber")?((A=B[i("manufacturerPartNumber")])==null?void 0:A.toString().trim())||l("manufacturerPartNumber"):null,rack103:c("rack103")?((T=B[i("rack103")])==null?void 0:T.toString().trim())||l("rack103"):null,rack105:c("rack105")?((N=B[i("rack105")])==null?void 0:N.toString().trim())||l("rack105"):null,createdAt:new Date().toISOString()},ce=V.findIndex(le=>le.partNumber===K);ce!==-1?(V[ce]={...V[ce],...H,id:V[ce].id,createdAt:V[ce].createdAt,updatedAt:new Date().toISOString()},z++):(V.push(H),q++)}localStorage.setItem(ae.PRODUCTS,JSON.stringify(V)),u({imported:q,updated:z,skipped:R,errors:W})}catch(D){f(new Error(`   : ${D.message}`))}},p.onerror=()=>f(new Error("   ")),p.readAsArrayBuffer(e)})},async getProducts(){const e=localStorage.getItem(ae.PRODUCTS);return e?JSON.parse(e):(localStorage.setItem(ae.PRODUCTS,JSON.stringify(Hi)),Hi)},async addProduct(e){const t=await this.getProducts(),r={...e,id:`P-${Date.now()}-${Math.floor(Math.random()*1e4)}`,createdAt:new Date().toISOString()};return t.push(r),localStorage.setItem(ae.PRODUCTS,JSON.stringify(t)),r},async updateProduct(e,t){const r=await this.getProducts(),a=r.findIndex(n=>n.id===e);if(a===-1)throw new Error("  ");return r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.PRODUCTS,JSON.stringify(r)),r[a]},async deleteProduct(e){const r=(await this.getProducts()).filter(a=>a.id!==e);localStorage.setItem(ae.PRODUCTS,JSON.stringify(r))},async bulkUpdateProductVisibility(e,t){const r=await this.getProducts();let a=0;const n=r.map(i=>e.includes(i.id)?(a++,{...i,useVisibilityRuleForQty:t,updatedAt:new Date().toISOString()}):i);return localStorage.setItem(ae.PRODUCTS,JSON.stringify(n)),a},generateOnyxExcelTemplate(){const e=[" "," "," "," ","  ","  ","    103","    105",""],t=wn.book_new();wn.book_append_sheet(t,wn.aoa_to_sheet([e]),"Products"),Ip(t,"__.xlsx")},markOrdersAsSeen(){const t=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]").map(r=>({...r,isNew:!1}));localStorage.setItem(ae.ORDERS,JSON.stringify(t))},markAccountRequestsAsSeen(){const t=JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]").map(r=>({...r,isNew:!1}));localStorage.setItem(ae.ACCOUNT_REQUESTS,JSON.stringify(t))},markQuoteRequestsAsSeen(){const t=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]").map(r=>({...r,isNew:!1}));localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify(t))},markImportRequestsAsSeen(){const t=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]").map(r=>({...r,isNew:!1}));localStorage.setItem(ae.IMPORT_REQUESTS,JSON.stringify(t))},markMissingRequestsAsSeen(){const t=JSON.parse(localStorage.getItem(ae.MISSING_REQUESTS)||"[]").map(r=>({...r,isNew:!1}));localStorage.setItem(ae.MISSING_REQUESTS,JSON.stringify(t))},getNewItemCounts(){const e=JSON.parse(localStorage.getItem(ae.ORDERS)||"[]"),t=JSON.parse(localStorage.getItem(ae.ACCOUNT_REQUESTS)||"[]"),r=JSON.parse(localStorage.getItem(ae.QUOTE_REQUESTS)||"[]"),a=JSON.parse(localStorage.getItem(ae.IMPORT_REQUESTS)||"[]"),n=JSON.parse(localStorage.getItem(ae.MISSING_REQUESTS)||"[]");return{orders:e.filter(i=>i.isNew===!0).length,accounts:t.filter(i=>i.isNew===!0).length,quotes:r.filter(i=>i.isNew===!0).length,imports:a.filter(i=>i.isNew===!0).length,missing:n.filter(i=>i.isNew===!0).length}},getDefaultAdminUsers(){return[{id:"admin-1",fullName:"  ",username:"admin",phone:"0500000001",email:"admin@sinicar.com",password:"admin123",roleId:"role-super-admin",isActive:!0,lastLoginAt:new Date().toISOString(),createdAt:new Date(Date.now()-2160*60*60*1e3).toISOString()},{id:"admin-2",fullName:"  ",username:"sales_manager",phone:"0500000002",email:"sales@sinicar.com",password:"sales123",roleId:"role-sales-manager",isActive:!0,lastLoginAt:new Date(Date.now()-2880*60*1e3).toISOString(),createdAt:new Date(Date.now()-1440*60*60*1e3).toISOString()},{id:"admin-3",fullName:"  ",username:"sales_agent",phone:"0500000003",password:"agent123",roleId:"role-sales-agent",isActive:!0,createdAt:new Date(Date.now()-1080*60*60*1e3).toISOString()},{id:"admin-4",fullName:" ",username:"viewer",phone:"0500000004",password:"viewer123",roleId:"role-viewer",isActive:!1,createdAt:new Date(Date.now()-720*60*60*1e3).toISOString()}]},async getAdminUsers(){let e=JSON.parse(localStorage.getItem(ae.ADMIN_USERS)||"null");return e||(e=this.getDefaultAdminUsers(),localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(e))),e},async createAdminUser(e){const t=await this.getAdminUsers();if(t.some(a=>a.username===e.username))throw new Error("   ");if(!e.password||e.password.trim()==="")throw new Error("  ");const r={...e,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return t.push(r),localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(t)),pt({userId:"system",userName:"",eventType:"OTHER",description:`   : ${r.fullName} (${r.username})`,metadata:{adminUserId:r.id,action:"create_admin_user"}}),r},async updateAdminUser(e,t){const r=await this.getAdminUsers(),a=r.findIndex(n=>n.id===e);if(a===-1)return null;if(t.username&&t.username!==r[a].username&&r.some(n=>n.username===t.username&&n.id!==e))throw new Error("   ");return r[a]={...r[a],...t},localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(r)),pt({userId:"system",userName:"",eventType:"OTHER",description:`   : ${r[a].fullName}`,metadata:{adminUserId:e,action:"update_admin_user",updates:t}}),r[a]},async resetAdminUserPassword(e,t){if(!t||t.trim()==="")throw new Error("   ");const r=await this.getAdminUsers(),a=r.findIndex(n=>n.id===e);return a===-1?!1:(r[a].password=t,localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(r)),pt({userId:"system",userName:"",eventType:"OTHER",description:`     : ${r[a].fullName}`,metadata:{adminUserId:e,action:"reset_admin_password"}}),!0)},async toggleAdminUserStatus(e){const t=await this.getAdminUsers(),r=t.findIndex(n=>n.id===e);if(r===-1)return null;if(t[r].role==="SUPER_ADMIN"&&t[r].isActive&&t.filter(i=>i.role==="SUPER_ADMIN"&&i.isActive).length<=1)throw new Error("      ");t[r].isActive=!t[r].isActive,localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(t));const a=t[r].isActive?"":"";return pt({userId:"system",userName:"",eventType:t[r].isActive?"USER_REACTIVATED":"USER_SUSPENDED",description:` ${a} : ${t[r].fullName}`,metadata:{adminUserId:e,action:"toggle_admin_user_status"}}),t[r]},async deleteAdminUser(e){const t=await this.getAdminUsers(),r=t.find(n=>n.id===e);if(!r)return!1;if(r.roleId==="role-super-admin"&&t.filter(i=>i.roleId==="role-super-admin").length<=1)throw new Error("     ");const a=t.filter(n=>n.id!==e);return localStorage.setItem(ae.ADMIN_USERS,JSON.stringify(a)),pt({userId:"system",userName:"",eventType:"OTHER",description:`  : ${r.fullName} (${r.username})`,metadata:{adminUserId:e,action:"delete_admin_user"}}),!0},async getAdminUserById(e){return(await this.getAdminUsers()).find(r=>r.id===e)||null},getDefaultRoles(){const e=["dashboard","products","customers","customer_requests","account_requests","quotes","orders","imports","missing","crm","activity_log","notifications","settings_general","settings_status_labels","settings_api","settings_backup","settings_security","users","roles","export_center","content_management","other"],t=["view","create","edit","delete","approve","reject","export","import","configure","manage_status","manage_users","manage_roles","run_backup","manage_api","other"],r=e.map(l=>({resource:l,actions:[...t]})),a=["dashboard","products","customers","customer_requests","quotes","orders","imports","missing","crm","notifications"],n=["view","create","edit","approve","reject","export"],i=["view","create","edit"];return[{id:"role-super-admin",name:" ",description:"   ",permissions:r,isSystem:!0,createdAt:new Date(Date.now()-365*24*60*60*1e3).toISOString()},{id:"role-admin",name:" ",description:"     ",permissions:e.filter(l=>l!=="roles").map(l=>({resource:l,actions:t.filter(c=>c!=="manage_roles")})),isSystem:!0,createdAt:new Date(Date.now()-365*24*60*60*1e3).toISOString()},{id:"role-sales-manager",name:" ",description:"   ",permissions:a.map(l=>({resource:l,actions:n})),isSystem:!0,createdAt:new Date(Date.now()-365*24*60*60*1e3).toISOString()},{id:"role-sales-agent",name:" ",description:"      ",permissions:a.map(l=>({resource:l,actions:i})),isSystem:!0,createdAt:new Date(Date.now()-365*24*60*60*1e3).toISOString()},{id:"role-viewer",name:" ",description:"    ",permissions:e.map(l=>({resource:l,actions:["view"]})),isSystem:!0,createdAt:new Date(Date.now()-365*24*60*60*1e3).toISOString()}]},async getRoles(){let e=JSON.parse(localStorage.getItem(ae.ADMIN_ROLES)||"null");return e||(e=this.getDefaultRoles(),localStorage.setItem(ae.ADMIN_ROLES,JSON.stringify(e))),e},async getRoleById(e){return(await this.getRoles()).find(r=>r.id===e)||null},async createRole(e){const t=await this.getRoles();if(t.some(a=>a.name===e.name))throw new Error("   ");const r={...e,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return t.push(r),localStorage.setItem(ae.ADMIN_ROLES,JSON.stringify(t)),pt({userId:"system",userName:"",eventType:"OTHER",description:`   : ${r.name}`,metadata:{roleId:r.id,action:"create_role"}}),r},async updateRole(e,t){const r=await this.getRoles(),a=r.findIndex(n=>n.id===e);if(a===-1)return null;if(t.name&&t.name!==r[a].name&&r.some(n=>n.name===t.name&&n.id!==e))throw new Error("   ");return delete t.isSystem,r[a]={...r[a],...t},localStorage.setItem(ae.ADMIN_ROLES,JSON.stringify(r)),pt({userId:"system",userName:"",eventType:"OTHER",description:`  : ${r[a].name}`,metadata:{roleId:e,action:"update_role",updates:t}}),r[a]},async deleteRole(e){const t=await this.getRoles(),r=t.find(l=>l.id===e);if(!r)return!1;if(r.isSystem)throw new Error("    ");if((await this.getAdminUsers()).filter(l=>l.roleId===e).length>0)throw new Error("        ");const i=t.filter(l=>l.id!==e);return localStorage.setItem(ae.ADMIN_ROLES,JSON.stringify(i)),pt({userId:"system",userName:"",eventType:"OTHER",description:`  : ${r.name}`,metadata:{roleId:e,action:"delete_role"}}),!0},async getUserCountByRole(e){return(await this.getAdminUsers()).filter(r=>r.roleId===e).length},async exportAllData(){return{exportDate:new Date().toISOString(),version:"1.0",data:{products:await this.getProducts(),orders:await this.getOrders(),customers:await this.getCustomersDatabase(),settings:await this.getSettings(),banners:await this.getBanners(),quoteRequests:await this.getQuoteRequests(),accountRequests:await this.getAccountRequests(),notifications:JSON.parse(localStorage.getItem(ae.NOTIFICATIONS)||"[]"),activityLogs:JSON.parse(localStorage.getItem(ae.ACTIVITY_LOGS)||"[]")}}},async resetAllData(){Object.values(ae).forEach(e=>{localStorage.removeItem(e)}),localStorage.setItem(ae.PRODUCTS,JSON.stringify([])),localStorage.setItem(ae.ORDERS,JSON.stringify([])),localStorage.setItem(ae.PROFILES,JSON.stringify([])),localStorage.setItem(ae.QUOTE_REQUESTS,JSON.stringify([])),localStorage.setItem(ae.ACCOUNT_REQUESTS,JSON.stringify([])),localStorage.setItem(ae.ACTIVITY_LOGS,JSON.stringify([])),localStorage.setItem(ae.NOTIFICATIONS,JSON.stringify([])),pt({userId:"system",userName:"",eventType:"OTHER",description:"     ()",metadata:{action:"reset_all_data"}})},async getAllCampaigns(){try{const e=localStorage.getItem(ae.CAMPAIGNS);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading campaigns:",e),[]}},async createCampaign(e){const t=await this.getAllCampaigns(),r={id:`CAMP-${Date.now()}`,title:e.title||"",message:e.message||"",displayType:e.displayType||"POPUP",skippable:e.skippable??!0,contentType:e.contentType||"TEXT",mediaUrl:e.mediaUrl,htmlContent:e.htmlContent,ctaLabel:e.ctaLabel,ctaUrl:e.ctaUrl,audienceType:e.audienceType||"ALL",status:e.status||"DRAFT",priority:e.priority||1,createdAt:new Date().toISOString(),startsAt:e.startsAt,expiresAt:e.expiresAt};return t.push(r),localStorage.setItem(ae.CAMPAIGNS,JSON.stringify(t)),pt({userId:"admin",userName:"",eventType:"OTHER",description:`    : ${r.title}`,metadata:{campaignId:r.id,action:"create_campaign"}}),r},async updateCampaign(e,t){const r=await this.getAllCampaigns(),a=r.findIndex(i=>i.id===e);if(a===-1)throw new Error("Campaign not found");const n={...r[a],...t};return r[a]=n,localStorage.setItem(ae.CAMPAIGNS,JSON.stringify(r)),n},async updateCampaignStatus(e,t){const r=await this.updateCampaign(e,{status:t});return pt({userId:"admin",userName:"",eventType:"OTHER",description:`    "${r.title}"  ${t}`,metadata:{campaignId:e,status:t,action:"update_campaign_status"}}),r},async deleteCampaign(e){const t=await this.getAllCampaigns(),r=t.find(n=>n.id===e),a=t.filter(n=>n.id!==e);localStorage.setItem(ae.CAMPAIGNS,JSON.stringify(a)),r&&pt({userId:"admin",userName:"",eventType:"OTHER",description:`   : ${r.title}`,metadata:{campaignId:e,action:"delete_campaign"}})},async dismissCampaignForUser(e,t){try{const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]"),a=r.findIndex(n=>n.userId===e);if(a!==-1){const n=r[a].dismissedCampaignIds||[];n.includes(t)||(n.push(t),r[a].dismissedCampaignIds=n,localStorage.setItem(ae.PROFILES,JSON.stringify(r)))}}catch(r){console.error("Error dismissing campaign:",r)}},async getDismissedCampaignIds(e){try{const r=JSON.parse(localStorage.getItem(ae.PROFILES)||"[]").find(a=>a.userId===e);return(r==null?void 0:r.dismissedCampaignIds)||[]}catch(t){return console.error("Error getting dismissed campaigns:",t),[]}},async getActiveCampaignsForUser(e,t){try{const r=await this.getAllCampaigns(),a=await this.getDismissedCampaignIds(e),n=new Date;return r.filter(i=>{if(i.status!=="ACTIVE"||a.includes(i.id)||i.startsAt&&new Date(i.startsAt)>n||i.expiresAt&&new Date(i.expiresAt)<n)return!1;if(i.audienceType==="ALL"||!t)return!0;const c={"  ":"SPARE_PARTS_SHOP","  ":"RENTAL_COMPANY"," ":"MAINTENANCE_CENTER"," ":"INSURANCE_COMPANY"," ":"SALES_REP"}[t];return i.audienceType===c}).sort((i,l)=>l.priority-i.priority)}catch(r){return console.error("Error getting active campaigns:",r),[]}},async getPriceLevels(){try{const e=localStorage.getItem(ae.PRICE_LEVELS);if(e)return JSON.parse(e);const t={id:"L1",code:"1",name:" 1 ",description:"  ",isBaseLevel:!0,isActive:!0,sortOrder:1,color:"#2563eb",createdAt:new Date().toISOString()};return localStorage.setItem(ae.PRICE_LEVELS,JSON.stringify([t])),[t]}catch(e){return console.error("Error getting price levels:",e),[]}},async savePriceLevels(e){try{localStorage.setItem(ae.PRICE_LEVELS,JSON.stringify(e)),pt({userId:"admin",userName:"",eventType:"OTHER",description:"   ",metadata:{action:"update_price_levels",count:e.length}})}catch(t){throw console.error("Error saving price levels:",t),t}},async addPriceLevel(e){try{const t=await this.getPriceLevels(),r={...e,id:`L${Date.now()}`,createdAt:new Date().toISOString()};return t.push(r),await this.savePriceLevels(t),r}catch(t){throw console.error("Error adding price level:",t),t}},async updatePriceLevel(e,t){try{const r=await this.getPriceLevels(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},await this.savePriceLevels(r),r[a])}catch(r){throw console.error("Error updating price level:",r),r}},async deletePriceLevel(e){try{const t=await this.getPriceLevels(),r=t.filter(a=>a.id!==e);return r.length===t.length?!1:(await this.savePriceLevels(r),!0)}catch(t){return console.error("Error deleting price level:",t),!1}},async getProductPriceMatrix(){try{const e=localStorage.getItem(ae.PRODUCT_PRICE_MATRIX);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting price matrix:",e),[]}},async saveProductPriceMatrix(e){try{localStorage.setItem(ae.PRODUCT_PRICE_MATRIX,JSON.stringify(e)),pt({userId:"admin",userName:"",eventType:"OTHER",description:"   ",metadata:{action:"update_price_matrix",count:e.length}})}catch(t){throw console.error("Error saving price matrix:",t),t}},async addProductPriceEntry(e){try{const t=await this.getProductPriceMatrix(),r={...e,id:`PE${Date.now()}`,createdAt:new Date().toISOString()};return t.push(r),await this.saveProductPriceMatrix(t),r}catch(t){throw console.error("Error adding price entry:",t),t}},async updateProductPriceEntry(e,t){try{const r=await this.getProductPriceMatrix(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},await this.saveProductPriceMatrix(r),r[a])}catch(r){throw console.error("Error updating price entry:",r),r}},async deleteProductPriceEntry(e){try{const t=await this.getProductPriceMatrix(),r=t.filter(a=>a.id!==e);return r.length===t.length?!1:(await this.saveProductPriceMatrix(r),!0)}catch(t){return console.error("Error deleting price entry:",t),!1}},async getProductPriceForLevel(e,t){try{const a=(await this.getProductPriceMatrix()).find(n=>n.productId===e&&n.priceLevelId===t);return a?a.price:null}catch(r){return console.error("Error getting product price for level:",r),null}},async getGlobalPricingSettings(){try{const e=localStorage.getItem(ae.GLOBAL_PRICING_SETTINGS);if(e)return JSON.parse(e);const t=await this.getPriceLevels(),r={defaultPriceLevelId:t.length>0?t[0].id:null,currency:"SAR",currencySymbol:".",roundingMode:"ROUND",roundingDecimals:2,pricePrecedenceOrder:["CUSTOM_RULE","LEVEL_EXPLICIT","LEVEL_DERIVED"],allowNegativeDiscounts:!1,allowFallbackToOtherLevels:!0,fallbackLevelId:null,enableVolumeDiscounts:!1,volumeDiscountRules:[],enableTimePromotions:!1,timePromotions:[],showPriceBreakdown:!1,taxRate:15,taxIncluded:!0};return localStorage.setItem(ae.GLOBAL_PRICING_SETTINGS,JSON.stringify(r)),r}catch(e){return console.error("Error getting global pricing settings:",e),{defaultPriceLevelId:null,currency:"SAR",currencySymbol:".",roundingMode:"ROUND",roundingDecimals:2,pricePrecedenceOrder:["CUSTOM_RULE","LEVEL_EXPLICIT","LEVEL_DERIVED"],allowNegativeDiscounts:!1,allowFallbackToOtherLevels:!0}}},async saveGlobalPricingSettings(e){try{e.lastModifiedAt=new Date().toISOString(),localStorage.setItem(ae.GLOBAL_PRICING_SETTINGS,JSON.stringify(e)),pt({userId:"admin",userName:"",eventType:"OTHER",description:"    ",metadata:{action:"update_pricing_settings"}})}catch(t){throw console.error("Error saving global pricing settings:",t),t}},async getAllCustomerPricingProfiles(){try{const e=localStorage.getItem(ae.CUSTOMER_PRICING_PROFILES);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting customer pricing profiles:",e),[]}},async getCustomerPricingProfile(e){try{return(await this.getAllCustomerPricingProfiles()).find(r=>r.customerId===e)||null}catch(t){return console.error("Error getting customer pricing profile:",t),null}},async upsertCustomerPricingProfile(e){try{const t=await this.getAllCustomerPricingProfiles(),r=t.findIndex(a=>a.customerId===e.customerId);e.lastModifiedAt=new Date().toISOString(),r===-1?t.push(e):t[r]=e,localStorage.setItem(ae.CUSTOMER_PRICING_PROFILES,JSON.stringify(t)),pt({userId:"admin",userName:"",eventType:"OTHER",description:`    : ${e.customerId}`,metadata:{action:"upsert_customer_pricing",customerId:e.customerId}})}catch(t){throw console.error("Error upserting customer pricing profile:",t),t}},async deleteCustomerPricingProfile(e){try{const t=await this.getAllCustomerPricingProfiles(),r=t.filter(a=>a.customerId!==e);return r.length===t.length?!1:(localStorage.setItem(ae.CUSTOMER_PRICING_PROFILES,JSON.stringify(r)),!0)}catch(t){return console.error("Error deleting customer pricing profile:",t),!1}},async copyCustomerPricingProfile(e,t){try{const r=await this.getCustomerPricingProfile(e);if(!r)return!1;const a={...r,customerId:t,lastModifiedAt:new Date().toISOString(),notes:`   ${e}`};return await this.upsertCustomerPricingProfile(a),!0}catch(r){return console.error("Error copying customer pricing profile:",r),!1}},async getPricingAuditLog(){try{const e=localStorage.getItem(ae.PRICING_AUDIT_LOG);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting pricing audit log:",e),[]}},async addPricingAuditEntry(e){try{const t=await this.getPricingAuditLog(),r={...e,id:`PAL${Date.now()}`,changedAt:new Date().toISOString()};t.unshift(r),t.length>500&&(t.length=500),localStorage.setItem(ae.PRICING_AUDIT_LOG,JSON.stringify(t))}catch(t){console.error("Error adding pricing audit entry:",t)}},async bulkImportPriceMatrix(e){try{const t=await this.getProductPriceMatrix();let r=0,a=0;const n=[];for(const i of e){if(!i.productId||!i.priceLevelId||typeof i.price!="number"){n.push(`  : ${JSON.stringify(i)}`);continue}const l=t.findIndex(c=>c.productId===i.productId&&c.priceLevelId===i.priceLevelId);l!==-1?(t[l].price=i.price,t[l].updatedAt=new Date().toISOString(),a++):(t.push({id:`PE${Date.now()}-${Math.random().toString(36).substr(2,5)}`,productId:i.productId,priceLevelId:i.priceLevelId,price:i.price,createdAt:new Date().toISOString()}),r++)}return await this.saveProductPriceMatrix(t),{imported:r,updated:a,errors:n}}catch(t){throw console.error("Error bulk importing price matrix:",t),t}},async exportPriceMatrixForLevel(e){try{const t=await this.getProductPriceMatrix(),r=await this.searchProducts("");return t.filter(n=>n.priceLevelId===e).map(n=>{const i=r.find(l=>l.id===n.productId);return{productId:n.productId,productName:(i==null?void 0:i.name)||" ",partNumber:(i==null?void 0:i.partNumber)||"",price:n.price}})}catch(t){return console.error("Error exporting price matrix:",t),[]}},getDefaultToolConfigs(){return[{toolKey:"PDF_TO_EXCEL",enabled:!0,allowedCustomerTypes:["PARTS_SHOP","RENTAL_COMPANY","INSURANCE_COMPANY","SALES_AGENT","FLEET_CUSTOMER","  ","  "," "," "," "],blockedCustomerIds:[],maxFilesPerDay:10,maxFilesPerMonth:100,logUsageForAnalytics:!0,showInDashboardShortcuts:!0,toolNameAr:" PDF  Excel",toolNameEn:"PDF to Excel Converter",descriptionAr:"  PDF     Excel  ",descriptionEn:"Convert PDF price lists to editable Excel spreadsheets",iconName:"FileSpreadsheet",sortOrder:1},{toolKey:"VIN_EXTRACTOR",enabled:!0,allowedCustomerTypes:["PARTS_SHOP","RENTAL_COMPANY","INSURANCE_COMPANY","MAINTENANCE_CENTER","  ","  "," "," "],blockedCustomerIds:[],maxFilesPerDay:20,maxFilesPerMonth:200,logUsageForAnalytics:!0,showInDashboardShortcuts:!0,toolNameAr:"  ",toolNameEn:"VIN Extractor",descriptionAr:"   (VIN)     ",descriptionEn:"Extract VIN numbers from car images or documents",iconName:"Car",sortOrder:2},{toolKey:"PRICE_COMPARISON",enabled:!0,allowedCustomerTypes:["PARTS_SHOP","RENTAL_COMPANY","INSURANCE_COMPANY","SALES_AGENT","  ","  "," "," "],blockedCustomerIds:[],maxFilesPerDay:5,maxFilesPerMonth:50,logUsageForAnalytics:!0,showInDashboardShortcuts:!0,toolNameAr:" ",toolNameEn:"Price Comparison",descriptionAr:"     ",descriptionEn:"Compare supplier prices and find the best deals",iconName:"Scale",sortOrder:3}]},async getToolConfigs(){try{const e=localStorage.getItem(ae.TOOL_CONFIGS);if(!e){const t=this.getDefaultToolConfigs();return localStorage.setItem(ae.TOOL_CONFIGS,JSON.stringify(t)),t}return JSON.parse(e)}catch(e){return console.error("Error getting tool configs:",e),this.getDefaultToolConfigs()}},async saveToolConfigs(e){try{localStorage.setItem(ae.TOOL_CONFIGS,JSON.stringify(e))}catch(t){console.error("Error saving tool configs:",t)}},async getToolConfig(e){return(await this.getToolConfigs()).find(r=>r.toolKey===e)||null},async updateToolConfig(e,t){const r=await this.getToolConfigs(),a=r.findIndex(n=>n.toolKey===e);a!==-1&&(r[a]={...r[a],...t},await this.saveToolConfigs(r))},async getCustomerToolsOverrides(){try{const e=localStorage.getItem(ae.CUSTOMER_TOOLS_OVERRIDES);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting customer tools overrides:",e),[]}},async getCustomerToolsOverride(e){return(await this.getCustomerToolsOverrides()).find(r=>r.customerId===e)||null},async saveCustomerToolsOverride(e){try{const t=await this.getCustomerToolsOverrides(),r=t.findIndex(a=>a.customerId===e.customerId);r!==-1?t[r]={...e,updatedAt:new Date().toISOString()}:t.push({...e,updatedAt:new Date().toISOString()}),localStorage.setItem(ae.CUSTOMER_TOOLS_OVERRIDES,JSON.stringify(t))}catch(t){console.error("Error saving customer tools override:",t)}},async deleteCustomerToolsOverride(e){try{const r=(await this.getCustomerToolsOverrides()).filter(a=>a.customerId!==e);localStorage.setItem(ae.CUSTOMER_TOOLS_OVERRIDES,JSON.stringify(r))}catch(t){console.error("Error deleting customer tools override:",t)}},async getToolUsageRecords(e,t){try{const r=localStorage.getItem(ae.TOOL_USAGE_RECORDS);let a=r?JSON.parse(r):[];return e&&(a=a.filter(n=>n.customerId===e)),t&&(a=a.filter(n=>n.toolKey===t)),a.sort((n,i)=>new Date(i.usedAt).getTime()-new Date(n.usedAt).getTime())}catch(r){return console.error("Error getting tool usage records:",r),[]}},async addToolUsageRecord(e){try{const t=await this.getToolUsageRecords(),r={...e,id:`TU${Date.now()}-${Math.random().toString(36).substr(2,5)}`};return t.unshift(r),t.length>1e3&&(t.length=1e3),localStorage.setItem(ae.TOOL_USAGE_RECORDS,JSON.stringify(t)),r}catch(t){throw console.error("Error adding tool usage record:",t),t}},async getCustomerToolUsageToday(e,t){const r=new Date().toISOString().split("T")[0];return(await this.getToolUsageRecords(e,t)).filter(n=>n.usedAt.startsWith(r)&&n.success).length},async getCustomerToolUsageThisMonth(e,t){const r=new Date().toISOString().slice(0,7);return(await this.getToolUsageRecords(e,t)).filter(n=>n.usedAt.startsWith(r)&&n.success).length},async getSupplierPriceRecords(e){try{const t=localStorage.getItem(ae.SUPPLIER_PRICE_RECORDS);let r=t?JSON.parse(t):[];return e&&(r=r.filter(a=>a.ownerCustomerId===e)),r.sort((a,n)=>new Date(n.parsedAt).getTime()-new Date(a.parsedAt).getTime())}catch(t){return console.error("Error getting supplier price records:",t),[]}},async saveSupplierPriceRecord(e){try{const t=await this.getSupplierPriceRecords(),r=t.findIndex(a=>a.id===e.id);r!==-1?t[r]=e:t.unshift(e),localStorage.setItem(ae.SUPPLIER_PRICE_RECORDS,JSON.stringify(t))}catch(t){console.error("Error saving supplier price record:",t)}},async deleteSupplierPriceRecord(e){try{const r=(await this.getSupplierPriceRecords()).filter(a=>a.id!==e);localStorage.setItem(ae.SUPPLIER_PRICE_RECORDS,JSON.stringify(r))}catch(t){console.error("Error deleting supplier price record:",t)}},async getVinExtractionRecords(e){try{const t=localStorage.getItem(ae.VIN_EXTRACTIONS);let r=t?JSON.parse(t):[];return e&&(r=r.filter(a=>a.ownerCustomerId===e)),r.sort((a,n)=>new Date(n.uploadedAt).getTime()-new Date(a.uploadedAt).getTime())}catch(t){return console.error("Error getting VIN extraction records:",t),[]}},async saveVinExtractionRecord(e){try{const t=await this.getVinExtractionRecords(),r=t.findIndex(a=>a.id===e.id);r!==-1?t[r]=e:t.unshift(e),localStorage.setItem(ae.VIN_EXTRACTIONS,JSON.stringify(t))}catch(t){console.error("Error saving VIN extraction record:",t)}},async deleteVinExtractionRecord(e){try{const r=(await this.getVinExtractionRecords()).filter(a=>a.id!==e);localStorage.setItem(ae.VIN_EXTRACTIONS,JSON.stringify(r))}catch(t){console.error("Error deleting VIN extraction record:",t)}},async getPriceComparisonSessions(e){try{const t=localStorage.getItem(ae.PRICE_COMPARISON_SESSIONS);let r=t?JSON.parse(t):[];return e&&(r=r.filter(a=>a.ownerCustomerId===e)),r.sort((a,n)=>new Date(n.createdAt).getTime()-new Date(a.createdAt).getTime())}catch(t){return console.error("Error getting price comparison sessions:",t),[]}},async savePriceComparisonSession(e){try{const t=await this.getPriceComparisonSessions(),r=t.findIndex(a=>a.id===e.id);r!==-1?t[r]=e:t.unshift(e),localStorage.setItem(ae.PRICE_COMPARISON_SESSIONS,JSON.stringify(t))}catch(t){console.error("Error saving price comparison session:",t)}},async deletePriceComparisonSession(e){try{const r=(await this.getPriceComparisonSessions()).filter(a=>a.id!==e);localStorage.setItem(ae.PRICE_COMPARISON_SESSIONS,JSON.stringify(r))}catch(t){console.error("Error deleting price comparison session:",t)}},getDefaultSupplierMarketplaceSettings(){return{enabled:!1,selectionMode:"SINI_FIRST_THEN_SUPPLIERS",hideRealSupplierFromCustomer:!0,supplierPriorities:[],defaultMarkupPercent:15,minProfitMargin:5,maxLeadTimeDays:14,autoApproveSupplierItems:!1,showSupplierStockLevel:!1,enableSupplierRating:!1,notifyAdminOnNewSupplierItem:!0}},async getSupplierMarketplaceSettings(){try{const e=localStorage.getItem(ae.SUPPLIER_MARKETPLACE_SETTINGS);if(!e){const t=this.getDefaultSupplierMarketplaceSettings();return localStorage.setItem(ae.SUPPLIER_MARKETPLACE_SETTINGS,JSON.stringify(t)),t}return JSON.parse(e)}catch(e){return console.error("Error getting supplier marketplace settings:",e),this.getDefaultSupplierMarketplaceSettings()}},async saveSupplierMarketplaceSettings(e){try{e.lastModifiedAt=new Date().toISOString(),localStorage.setItem(ae.SUPPLIER_MARKETPLACE_SETTINGS,JSON.stringify(e))}catch(t){console.error("Error saving supplier marketplace settings:",t)}},async getSupplierCatalogItems(e){try{const t=localStorage.getItem(ae.SUPPLIER_CATALOG_ITEMS);let r=t?JSON.parse(t):[];return e&&(r=r.filter(a=>a.supplierId===e)),r}catch(t){return console.error("Error getting supplier catalog items:",t),[]}},async saveSupplierCatalogItems(e){try{localStorage.setItem(ae.SUPPLIER_CATALOG_ITEMS,JSON.stringify(e))}catch(t){console.error("Error saving supplier catalog items:",t)}},async addSupplierCatalogItem(e){try{const t=await this.getSupplierCatalogItems(),r={...e,id:`SCI${Date.now()}-${Math.random().toString(36).substr(2,5)}`,lastUpdatedAt:new Date().toISOString(),isActive:e.isActive??!0};return t.push(r),await this.saveSupplierCatalogItems(t),r}catch(t){throw console.error("Error adding supplier catalog item:",t),t}},async updateSupplierCatalogItem(e,t){try{const r=await this.getSupplierCatalogItems(),a=r.findIndex(n=>n.id===e);a!==-1&&(r[a]={...r[a],...t,lastUpdatedAt:new Date().toISOString()},await this.saveSupplierCatalogItems(r))}catch(r){console.error("Error updating supplier catalog item:",r)}},async deleteSupplierCatalogItem(e){try{const r=(await this.getSupplierCatalogItems()).filter(a=>a.id!==e);await this.saveSupplierCatalogItems(r)}catch(t){console.error("Error deleting supplier catalog item:",t)}},async searchSupplierCatalog(e){const t=await this.getSupplierCatalogItems(),r=e.toUpperCase().replace(/[^A-Z0-9]/g,"");return t.filter(a=>{if(!a.isActive)return!1;const n=a.partNumber.toUpperCase().replace(/[^A-Z0-9]/g,""),i=(a.oemNumber||"").toUpperCase().replace(/[^A-Z0-9]/g,"");return n.includes(r)||i.includes(r)})},async getSupplierProfiles(){try{const e=localStorage.getItem(ae.SUPPLIER_PROFILES);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting supplier profiles:",e),[]}},async getSupplierProfile(e){return(await this.getSupplierProfiles()).find(r=>r.supplierId===e)||null},async saveSupplierProfile(e){try{const t=await this.getSupplierProfiles(),r=t.findIndex(a=>a.supplierId===e.supplierId);r!==-1?t[r]=e:t.push(e),localStorage.setItem(ae.SUPPLIER_PROFILES,JSON.stringify(t))}catch(t){console.error("Error saving supplier profile:",t)}},getDefaultMarketerSettings(){return{enabled:!1,attributionWindowDays:90,defaultCommissionType:"PERCENT",defaultCommissionValue:2,multiAttributionMode:"SINGLE",marketerCanViewCustomerNames:!1,marketerCanViewOrderTotals:!1,marketerCanViewOrderDetails:!1,marketerCanExportData:!1,autoApproveCommissions:!1,autoApproveThreshold:100,minPayoutAmount:500,paymentCycleDays:30,enableTierCommissions:!1,enableCategoryCommissions:!1,showReferralBanner:!1,notifyMarketerOnReferral:!0,notifyMarketerOnCommission:!0,notifyAdminOnNewMarketer:!0,requireMarketerApproval:!0,allowSelfRegistration:!1}},async getMarketerSettings(){try{const e=localStorage.getItem(ae.MARKETER_SETTINGS);if(!e){const t=this.getDefaultMarketerSettings();return localStorage.setItem(ae.MARKETER_SETTINGS,JSON.stringify(t)),t}return JSON.parse(e)}catch(e){return console.error("Error getting marketer settings:",e),this.getDefaultMarketerSettings()}},async saveMarketerSettings(e){try{e.lastModifiedAt=new Date().toISOString(),localStorage.setItem(ae.MARKETER_SETTINGS,JSON.stringify(e))}catch(t){console.error("Error saving marketer settings:",t)}},async getMarketers(){try{const e=localStorage.getItem(ae.MARKETERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting marketers:",e),[]}},async saveMarketers(e){try{localStorage.setItem(ae.MARKETERS,JSON.stringify(e))}catch(t){console.error("Error saving marketers:",t)}},async getMarketer(e){return(await this.getMarketers()).find(r=>r.id===e)||null},async getMarketerByReferralCode(e){return(await this.getMarketers()).find(r=>r.referralCode.toUpperCase()===e.toUpperCase())||null},async addMarketer(e){try{const t=await this.getMarketers(),r=`${e.name.substring(0,3).toUpperCase()}${Date.now().toString(36).toUpperCase().slice(-4)}`,a=window.location.origin,n={...e,id:`MKT${Date.now()}`,referralCode:r,referralUrl:`${a}/?ref=${r}`,createdAt:new Date().toISOString(),totalReferrals:0,totalEarnings:0,pendingEarnings:0,paidEarnings:0};return t.push(n),await this.saveMarketers(t),n}catch(t){throw console.error("Error adding marketer:",t),t}},async updateMarketer(e,t){try{const r=await this.getMarketers(),a=r.findIndex(n=>n.id===e);a!==-1&&(r[a]={...r[a],...t},await this.saveMarketers(r))}catch(r){console.error("Error updating marketer:",r)}},async deleteMarketer(e){try{const r=(await this.getMarketers()).filter(a=>a.id!==e);await this.saveMarketers(r)}catch(t){console.error("Error deleting marketer:",t)}},async getCustomerReferrals(){try{const e=localStorage.getItem(ae.CUSTOMER_REFERRALS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting customer referrals:",e),[]}},async getCustomerReferralsByCustomerId(e){return(await this.getCustomerReferrals()).filter(r=>r.customerId===e)},async getCustomerReferralsByMarketerId(e){return(await this.getCustomerReferrals()).filter(r=>r.marketerId===e)},async addCustomerReferral(e){try{const t=await this.getCustomerReferrals();t.push(e),localStorage.setItem(ae.CUSTOMER_REFERRALS,JSON.stringify(t));const r=await this.getMarketers(),a=r.findIndex(n=>n.id===e.marketerId);a!==-1&&(r[a].totalReferrals=(r[a].totalReferrals||0)+1,await this.saveMarketers(r))}catch(t){console.error("Error adding customer referral:",t)}},async getActiveReferralForCustomer(e){const t=await this.getCustomerReferralsByCustomerId(e),r=new Date;return t.find(a=>a.isActive&&new Date(a.attributionExpiresAt)>r)||null},async getMarketerCommissions(){try{const e=localStorage.getItem(ae.MARKETER_COMMISSIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting marketer commissions:",e),[]}},async getMarketerCommissionsByMarketerId(e){return(await this.getMarketerCommissions()).filter(r=>r.marketerId===e).sort((r,a)=>new Date(a.calculatedAt).getTime()-new Date(r.calculatedAt).getTime())},async addMarketerCommissionEntry(e){try{const t=await this.getMarketerCommissions(),r={...e,id:`COM${Date.now()}-${Math.random().toString(36).substr(2,5)}`,calculatedAt:new Date().toISOString()};t.push(r),localStorage.setItem(ae.MARKETER_COMMISSIONS,JSON.stringify(t));const a=await this.getMarketers(),n=a.findIndex(i=>i.id===e.marketerId);return n!==-1&&(a[n].totalEarnings=(a[n].totalEarnings||0)+e.commissionAmount,a[n].pendingEarnings=(a[n].pendingEarnings||0)+e.commissionAmount,await this.saveMarketers(a)),r}catch(t){throw console.error("Error adding marketer commission entry:",t),t}},async updateMarketerCommissionStatus(e,t,r,a,n){try{const i=await this.getMarketerCommissions(),l=i.findIndex(c=>c.id===e);if(l!==-1){const c=i[l],u=c.status;if(c.status=t,t==="APPROVED")c.approvedAt=new Date().toISOString(),c.approvedBy=r;else if(t==="PAID"){c.paidAt=new Date().toISOString(),c.paidBy=a,c.paymentReference=n;const f=await this.getMarketers(),p=f.findIndex(m=>m.id===c.marketerId);p!==-1&&(f[p].pendingEarnings=(f[p].pendingEarnings||0)-c.commissionAmount,f[p].paidEarnings=(f[p].paidEarnings||0)+c.commissionAmount,f[p].lastPaymentDate=new Date().toISOString(),await this.saveMarketers(f))}localStorage.setItem(ae.MARKETER_COMMISSIONS,JSON.stringify(i))}}catch(i){console.error("Error updating marketer commission status:",i)}},async calculateOrderCommission(e,t,r){try{const a=await this.getMarketerSettings();if(!a.enabled)return null;const n=await this.getActiveReferralForCustomer(t);if(!n)return null;const i=await this.getMarketer(n.marketerId);if(!i||!i.active)return null;const l=i.commissionType||a.defaultCommissionType,c=i.commissionValue||a.defaultCommissionValue;let u;return l==="PERCENT"?u=r*(c/100):u=c,await this.addMarketerCommissionEntry({marketerId:i.id,customerId:t,orderId:e,orderTotal:r,commissionAmount:u,commissionType:l,commissionRate:c,status:a.autoApproveCommissions&&u<=(a.autoApproveThreshold||100)?"APPROVED":"PENDING"})}catch(a){return console.error("Error calculating order commission:",a),null}},getDefaultAdSlots(){const e=new Date().toISOString();return[{id:"slot-home-top",slotKey:"HOME_TOP_BANNER",nameAr:"   ",nameEn:"Home Top Banner",descriptionAr:"     ",descriptionEn:"Ad banner at the top of the home page",isEnabled:!0,maxAds:3,selectionMode:"rotate",createdAt:e,updatedAt:e},{id:"slot-dashboard-sidebar",slotKey:"CUSTOMER_DASHBOARD_SIDEBAR",nameAr:"   ",nameEn:"Customer Dashboard Sidebar",descriptionAr:"      ",descriptionEn:"Ads in the customer dashboard sidebar",isEnabled:!0,maxAds:2,selectionMode:"by_priority",createdAt:e,updatedAt:e},{id:"slot-tools-banner",slotKey:"TOOLS_PAGE_BANNER",nameAr:"  ",nameEn:"Tools Page Banner",descriptionAr:"     ",descriptionEn:"Ad banner on the trader tools page",isEnabled:!0,maxAds:1,selectionMode:"by_priority",createdAt:e,updatedAt:e},{id:"slot-products-card",slotKey:"PRODUCTS_PAGE_CARD",nameAr:"  ",nameEn:"Products Page Card",descriptionAr:"       ",descriptionEn:"Ad card appearing within product search results",isEnabled:!0,maxAds:2,selectionMode:"random",createdAt:e,updatedAt:e}]},async getAdvertisers(){try{const e=localStorage.getItem(ae.ADVERTISERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting advertisers:",e),[]}},async saveAdvertisers(e){try{localStorage.setItem(ae.ADVERTISERS,JSON.stringify(e))}catch(t){console.error("Error saving advertisers:",t)}},async getAdvertiserById(e){return(await this.getAdvertisers()).find(r=>r.id===e)||null},async createAdvertiser(e){const t=await this.getAdvertisers(),r=new Date().toISOString(),a={...e,id:`adv-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:r,updatedAt:r};return t.push(a),await this.saveAdvertisers(t),a},async updateAdvertiser(e,t){const r=await this.getAdvertisers(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},await this.saveAdvertisers(r),r[a])},async deleteAdvertiser(e){const t=await this.getAdvertisers(),r=t.findIndex(a=>a.id===e);return r===-1?!1:(t.splice(r,1),await this.saveAdvertisers(t),!0)},async getAdCampaigns(){try{const e=localStorage.getItem(ae.AD_CAMPAIGNS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting ad campaigns:",e),[]}},async saveAdCampaigns(e){try{localStorage.setItem(ae.AD_CAMPAIGNS,JSON.stringify(e))}catch(t){console.error("Error saving ad campaigns:",t)}},async getAdCampaignById(e){return(await this.getAdCampaigns()).find(r=>r.id===e)||null},async createAdCampaign(e){const t=await this.getAdCampaigns(),r=new Date().toISOString(),a={...e,id:`camp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,currentViews:0,currentClicks:0,createdAt:r,updatedAt:r};return t.push(a),await this.saveAdCampaigns(t),a},async updateAdCampaign(e,t){const r=await this.getAdCampaigns(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},await this.saveAdCampaigns(r),r[a])},async deleteAdCampaign(e){const t=await this.getAdCampaigns(),r=t.findIndex(a=>a.id===e);return r===-1?!1:(t.splice(r,1),await this.saveAdCampaigns(t),!0)},async getAdSlots(){try{const e=localStorage.getItem(ae.AD_SLOTS);if(!e){const t=this.getDefaultAdSlots();return localStorage.setItem(ae.AD_SLOTS,JSON.stringify(t)),t}return JSON.parse(e)}catch(e){return console.error("Error getting ad slots:",e),this.getDefaultAdSlots()}},async saveAdSlots(e){try{localStorage.setItem(ae.AD_SLOTS,JSON.stringify(e))}catch(t){console.error("Error saving ad slots:",t)}},async getAdSlotByKey(e){return(await this.getAdSlots()).find(r=>r.slotKey===e)||null},async createAdSlot(e){const t=await this.getAdSlots(),r=new Date().toISOString(),a={...e,id:`slot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:r,updatedAt:r};return t.push(a),await this.saveAdSlots(t),a},async updateAdSlot(e,t){const r=await this.getAdSlots(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},await this.saveAdSlots(r),r[a])},async getActiveAdsBySlot(e,t){try{const r=await this.getAdSlotByKey(e);if(!r||!r.isEnabled)return[];const a=await this.getAdCampaigns(),n=new Date().toISOString().split("T")[0];let i=a.filter(l=>!(l.status!=="running"||l.startDate>n||l.endDate&&l.endDate<n||!({HOME_TOP_BANNER:["banner_top"],CUSTOMER_DASHBOARD_SIDEBAR:["banner_sidebar"],TOOLS_PAGE_BANNER:["banner_top","banner_sidebar"],PRODUCTS_PAGE_CARD:["card_in_products"]}[e]||[]).includes(l.type)||l.maxViews&&(l.currentViews||0)>=l.maxViews||l.maxClicks&&(l.currentClicks||0)>=l.maxClicks));if(r.selectionMode==="by_priority")i.sort((l,c)=>l.priority-c.priority);else if(r.selectionMode==="random")i=i.sort(()=>Math.random()-.5);else if(r.selectionMode==="rotate"){const l=JSON.parse(localStorage.getItem(ae.AD_SLOT_ROTATIONS)||"[]");let c=l.find(f=>f.slotKey===e);c||(c={slotKey:e,currentIndex:0,lastRotatedAt:new Date().toISOString()},l.push(c));const u=c.currentIndex%i.length||0;i=[...i.slice(u),...i.slice(0,u)],c.currentIndex=(c.currentIndex+1)%Math.max(i.length,1),c.lastRotatedAt=new Date().toISOString(),localStorage.setItem(ae.AD_SLOT_ROTATIONS,JSON.stringify(l))}return i.slice(0,r.maxAds)}catch(r){return console.error("Error getting active ads by slot:",r),[]}},async recordAdView(e){const t=await this.getAdCampaignById(e);t&&await this.updateAdCampaign(e,{currentViews:(t.currentViews||0)+1})},async recordAdClick(e){const t=await this.getAdCampaignById(e);t&&await this.updateAdCampaign(e,{currentClicks:(t.currentClicks||0)+1})},async getAdvertisingStats(){const e=await this.getAdvertisers(),t=await this.getAdCampaigns();return{totalAdvertisers:e.length,activeAdvertisers:e.filter(r=>r.status==="active").length,totalCampaigns:t.length,runningCampaigns:t.filter(r=>r.status==="running").length,totalViews:t.reduce((r,a)=>r+(a.currentViews||0),0),totalClicks:t.reduce((r,a)=>r+(a.currentClicks||0),0)}},getDefaultInstallmentSettings(){return{enabled:!0,sinicarHasFirstPriority:!0,allowPartialApprovalBySinicar:!0,allowPartialApprovalBySuppliers:!0,autoForwardToSuppliersOnSinicarReject:!1,autoForwardToSuppliersOnSinicarPartialRemainder:!1,onCustomerRejectsSinicarPartial:"forward_to_suppliers",onCustomerRejectsSupplierOffer:"keep_waiting_for_other_suppliers",maxDurationMonths:12,minDurationMonths:1,maxDurationWeeks:52,minDurationWeeks:4,requireDownPayment:!1,minDownPaymentPercent:10,maxDownPaymentPercent:50,minRequestAmount:1e3,maxRequestAmount:5e5,requireCreditCheck:!1,minCreditScoreForApproval:"medium",autoRejectLowCredit:!1,allowedCustomerTypes:[],blockedCustomerIds:[],autoSelectAllSuppliers:!1,defaultSupplierIds:[],maxSuppliersPerRequest:5,requireAdminApprovalForSinicar:!0,autoGeneratePaymentSchedule:!0,defaultPaymentFrequency:"monthly",notifyCustomerOnNewOffer:!0,notifyCustomerOnStatusChange:!0,notifyAdminOnNewRequest:!0,notifyAdminOnCustomerDecision:!0,notifySuppliersOnForward:!0,notifySuppliersOnCustomerDecision:!0,showInstallmentInSidebar:!0,showInstallmentInDashboard:!0,showCreditProfileToCustomer:!1,showPaymentHistoryToCustomer:!0,termsAndConditionsAr:"      ...",termsAndConditionsEn:"Terms and conditions for installment purchases from SINI CAR...",requireTermsAcceptance:!0,overdueGracePeriodDays:7,autoMarkOverdue:!0,notifyOnOverdue:!0}},async getInstallmentSettings(){try{const e=localStorage.getItem(ae.INSTALLMENT_SETTINGS);return e?{...this.getDefaultInstallmentSettings(),...JSON.parse(e)}:this.getDefaultInstallmentSettings()}catch(e){return console.error("Error getting installment settings:",e),this.getDefaultInstallmentSettings()}},async updateInstallmentSettings(e){try{const r={...await this.getInstallmentSettings(),...e,lastModifiedAt:new Date().toISOString()};return localStorage.setItem(ae.INSTALLMENT_SETTINGS,JSON.stringify(r)),pt({userId:"admin",userName:"",eventType:"OTHER",description:"    ",metadata:{action:"update_installment_settings"}}),r}catch(t){throw console.error("Error updating installment settings:",t),t}},async getInstallmentRequests(){try{const e=localStorage.getItem(ae.INSTALLMENT_REQUESTS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting installment requests:",e),[]}},async getInstallmentRequestById(e){return(await this.getInstallmentRequests()).find(r=>r.id===e)||null},async getInstallmentRequestsByCustomerId(e){return(await this.getInstallmentRequests()).filter(r=>r.customerId===e)},async getInstallmentRequestsByStatus(e){return(await this.getInstallmentRequests()).filter(r=>r.status===e)},async createInstallmentRequest(e){try{if(!(await this.getInstallmentSettings()).enabled)throw new Error("    ");const r=await this.getInstallmentRequests(),a=new Date().toISOString(),n={...e,id:`IR-${Date.now()}-${Math.floor(Math.random()*1e3)}`,status:"PENDING_SINICAR_REVIEW",sinicarDecision:"pending",allowedForSuppliers:!1,createdAt:a,updatedAt:a};return r.push(n),localStorage.setItem(ae.INSTALLMENT_REQUESTS,JSON.stringify(r)),pt({userId:e.customerId,userName:e.customerName||"",eventType:"OTHER",description:`      ${e.totalRequestedValue||0} `,metadata:{action:"create_installment_request",requestId:n.id}}),n}catch(t){throw console.error("Error creating installment request:",t),t}},async updateInstallmentRequest(e,t){try{const r=await this.getInstallmentRequests(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.INSTALLMENT_REQUESTS,JSON.stringify(r)),r[a])}catch(r){return console.error("Error updating installment request:",r),null}},async deleteInstallmentRequest(e){try{const t=await this.getInstallmentRequests(),r=t.filter(a=>a.id!==e);return r.length===t.length?!1:(localStorage.setItem(ae.INSTALLMENT_REQUESTS,JSON.stringify(r)),!0)}catch(t){return console.error("Error deleting installment request:",t),!1}},async getInstallmentOffers(){try{const e=localStorage.getItem(ae.INSTALLMENT_OFFERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting installment offers:",e),[]}},async getInstallmentOfferById(e){return(await this.getInstallmentOffers()).find(r=>r.id===e)||null},async getOffersByRequestId(e){return(await this.getInstallmentOffers()).filter(r=>r.requestId===e)},async createInstallmentOffer(e){try{const t=await this.getInstallmentOffers(),r=new Date().toISOString(),a={...e,id:`IO-${Date.now()}-${Math.floor(Math.random()*1e3)}`,createdAt:r,updatedAt:r};return t.push(a),localStorage.setItem(ae.INSTALLMENT_OFFERS,JSON.stringify(t)),pt({userId:"admin",userName:e.sourceType==="sinicar"?" ":e.supplierName||"",eventType:"OTHER",description:`   ${e.type==="full"?"":""}  ${e.requestId}`,metadata:{action:"create_installment_offer",offerId:a.id,requestId:e.requestId}}),a}catch(t){throw console.error("Error creating installment offer:",t),t}},async updateInstallmentOffer(e,t){try{const r=await this.getInstallmentOffers(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.INSTALLMENT_OFFERS,JSON.stringify(r)),r[a])}catch(r){return console.error("Error updating installment offer:",r),null}},async getCustomerCreditProfiles(){try{const e=localStorage.getItem(ae.CUSTOMER_CREDIT_PROFILES);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting customer credit profiles:",e),[]}},async getCustomerCreditProfile(e){return(await this.getCustomerCreditProfiles()).find(r=>r.customerId===e)||null},async upsertCustomerCreditProfile(e){try{const t=await this.getCustomerCreditProfiles(),r=t.findIndex(i=>i.customerId===e.customerId),a=new Date().toISOString(),n={customerId:e.customerId,customerName:e.customerName,scoreLevel:e.scoreLevel||"medium",totalInstallmentRequests:e.totalInstallmentRequests||0,totalActiveContracts:e.totalActiveContracts||0,totalOverdueInstallments:e.totalOverdueInstallments||0,totalPaidAmount:e.totalPaidAmount||0,totalRemainingAmount:e.totalRemainingAmount||0,paymentHistoryScore:e.paymentHistoryScore,notes:e.notes,lastUpdated:a};return r===-1?t.push(n):t[r]={...t[r],...n,lastUpdated:a},localStorage.setItem(ae.CUSTOMER_CREDIT_PROFILES,JSON.stringify(t)),r===-1?n:t[r]}catch(t){throw console.error("Error upserting customer credit profile:",t),t}},generatePaymentSchedule(e,t,r,a){var c,u;const n=a?new Date(a):new Date;n.setDate(n.getDate()+7);const i=Math.ceil(e/r),l=[];for(let f=0;f<r;f++){const p=new Date(n);t==="monthly"?p.setMonth(p.getMonth()+f):p.setDate(p.getDate()+f*7),l.push({id:`INS-${Date.now()}-${f}`,dueDate:p.toISOString(),amount:f===r-1?e-i*(r-1):i,status:"pending"})}return{frequency:t,numberOfInstallments:r,installmentAmount:i,startDate:((c=l[0])==null?void 0:c.dueDate)||n.toISOString(),endDate:((u=l[l.length-1])==null?void 0:u.dueDate)||n.toISOString(),installments:l}},async recordSinicarDecision(e,t){var c,u,f,p,m,x;const r=await this.getInstallmentSettings(),a=await this.getInstallmentRequestById(e);if(!a)throw new Error("   ");const n=new Date().toISOString();let i={...a},l;if(t.decisionType==="approve_full"){const v=this.generatePaymentSchedule(((c=t.offer)==null?void 0:c.totalApprovedValue)||a.totalRequestedValue||0,a.paymentFrequency,a.requestedDurationMonths||3);l=await this.createInstallmentOffer({requestId:e,sourceType:"sinicar",type:"full",itemsApproved:((u=t.offer)==null?void 0:u.itemsApproved)||a.items.map(y=>({id:`OI-${Date.now()}-${Math.random()}`,offerId:"",requestItemId:y.id,productId:y.productId,productName:y.productName,quantityApproved:y.quantityRequested,unitPriceApproved:y.unitPriceRequested||0})),totalApprovedValue:((f=t.offer)==null?void 0:f.totalApprovedValue)||a.totalRequestedValue||0,schedule:v,status:"WAITING_FOR_CUSTOMER",adminNotes:t.adminNotes}),i.sinicarDecision="approved_full",i.status="WAITING_FOR_CUSTOMER_DECISION_ON_PARTIAL_SINICAR",i.reviewedAt=n,i.adminNotes=t.adminNotes}else if(t.decisionType==="approve_partial"){if(!r.allowPartialApprovalBySinicar)throw new Error("     ");const v=this.generatePaymentSchedule(((p=t.offer)==null?void 0:p.totalApprovedValue)||0,a.paymentFrequency,a.requestedDurationMonths||3);l=await this.createInstallmentOffer({requestId:e,sourceType:"sinicar",type:"partial",itemsApproved:((m=t.offer)==null?void 0:m.itemsApproved)||[],totalApprovedValue:((x=t.offer)==null?void 0:x.totalApprovedValue)||0,schedule:v,status:"WAITING_FOR_CUSTOMER",adminNotes:t.adminNotes}),i.sinicarDecision="approved_partial",i.status="WAITING_FOR_CUSTOMER_DECISION_ON_PARTIAL_SINICAR",i.reviewedAt=n,i.adminNotes=t.adminNotes}else t.decisionType==="reject"&&(i.sinicarDecision="rejected",i.reviewedAt=n,i.adminNotes=t.adminNotes,r.autoForwardToSuppliersOnSinicarReject&&t.forwardToSuppliers!==!1?(i.status="FORWARDED_TO_SUPPLIERS",i.allowedForSuppliers=!0,i.forwardedToSupplierIds=t.supplierIds||[]):i.status="REJECTED_BY_SINICAR");return await this.updateInstallmentRequest(e,i),pt({userId:"admin",userName:" ",eventType:"OTHER",description:`      ${e}: ${t.decisionType}`,metadata:{action:"sinicar_decision",requestId:e,decision:t.decisionType}}),{request:i,offer:l}},async forwardRequestToSuppliers(e,t){const r=await this.getInstallmentRequestById(e);if(!r)return null;if(r.sinicarDecision==="pending")throw new Error("     ");const a=await this.updateInstallmentRequest(e,{status:"FORWARDED_TO_SUPPLIERS",allowedForSuppliers:!0,forwardedToSupplierIds:t});return pt({userId:"admin",userName:"",eventType:"OTHER",description:`    ${e}  ${t.length} `,metadata:{action:"forward_to_suppliers",requestId:e,supplierIds:t}}),a},async supplierSubmitOffer(e,t,r,a){const n=await this.getInstallmentSettings(),i=await this.getInstallmentRequestById(e);if(!i)throw new Error("   ");if(!i.allowedForSuppliers)throw new Error("    ");if(a.type==="partial"&&!n.allowPartialApprovalBySuppliers)throw new Error("    ");const l=this.generatePaymentSchedule(a.totalApprovedValue,a.frequency,a.numberOfInstallments),c=await this.createInstallmentOffer({requestId:e,sourceType:"supplier",supplierId:t,supplierName:r,type:a.type,itemsApproved:a.itemsApproved,totalApprovedValue:a.totalApprovedValue,schedule:l,status:"WAITING_FOR_CUSTOMER",notes:a.notes});return await this.updateInstallmentRequest(e,{status:"WAITING_FOR_CUSTOMER_DECISION_ON_SUPPLIER_OFFER"}),c},async customerRespondToOffer(e,t){const r=await this.getInstallmentSettings(),a=await this.getInstallmentOfferById(e);if(!a)throw new Error("  ");const n=await this.getInstallmentRequestById(a.requestId);if(!n)throw new Error("   ");if(t==="accept"){await this.updateInstallmentOffer(e,{status:"ACCEPTED_BY_CUSTOMER"}),await this.updateInstallmentRequest(a.requestId,{status:"ACTIVE_CONTRACT",acceptedOfferId:e});const i=await this.getCustomerCreditProfile(n.customerId);return await this.upsertCustomerCreditProfile({customerId:n.customerId,customerName:n.customerName,totalInstallmentRequests:((i==null?void 0:i.totalInstallmentRequests)||0)+1,totalActiveContracts:((i==null?void 0:i.totalActiveContracts)||0)+1,totalRemainingAmount:((i==null?void 0:i.totalRemainingAmount)||0)+a.totalApprovedValue,scoreLevel:(i==null?void 0:i.scoreLevel)||"medium"}),pt({userId:n.customerId,userName:n.customerName||"",eventType:"OTHER",description:`     ${a.sourceType==="sinicar"?" ":a.supplierName}`,metadata:{action:"customer_accept_offer",offerId:e,requestId:a.requestId}}),{offer:{...a,status:"ACCEPTED_BY_CUSTOMER"},request:{...n,status:"ACTIVE_CONTRACT",acceptedOfferId:e}}}else{await this.updateInstallmentOffer(e,{status:"REJECTED_BY_CUSTOMER"});let i=n.status;a.sourceType==="sinicar"?r.onCustomerRejectsSinicarPartial==="forward_to_suppliers"?(i="FORWARDED_TO_SUPPLIERS",await this.updateInstallmentRequest(a.requestId,{status:i,allowedForSuppliers:!0})):(i="CLOSED",await this.updateInstallmentRequest(a.requestId,{status:i,closedAt:new Date().toISOString(),closedReason:"    "})):r.onCustomerRejectsSupplierOffer==="keep_waiting_for_other_suppliers"?(await this.getOffersByRequestId(a.requestId)).filter(f=>f.id!==e&&f.status==="WAITING_FOR_CUSTOMER").length>0?i="WAITING_FOR_CUSTOMER_DECISION_ON_SUPPLIER_OFFER":i="WAITING_FOR_SUPPLIER_OFFERS":(i="CLOSED",await this.updateInstallmentRequest(a.requestId,{status:i,closedAt:new Date().toISOString(),closedReason:"   "})),pt({userId:n.customerId,userName:n.customerName||"",eventType:"OTHER",description:`     ${a.sourceType==="sinicar"?" ":a.supplierName}`,metadata:{action:"customer_reject_offer",offerId:e,requestId:a.requestId}});const l=await this.getInstallmentRequestById(a.requestId);return{offer:{...a,status:"REJECTED_BY_CUSTOMER"},request:l||n}}},async markInstallmentAsPaid(e,t,r){const a=await this.getInstallmentOfferById(e);if(!a)return null;const n=a.schedule.installments.findIndex(c=>c.id===t);if(n===-1)return null;a.schedule.installments[n]={...a.schedule.installments[n],status:"paid",paidAt:new Date().toISOString(),paymentMethod:r==null?void 0:r.method,paymentReference:r==null?void 0:r.reference};const i=await this.updateInstallmentOffer(e,{schedule:a.schedule}),l=await this.getInstallmentRequestById(a.requestId);if(l){const c=await this.getCustomerCreditProfile(l.customerId),u=a.schedule.installments[n].amount;await this.upsertCustomerCreditProfile({customerId:l.customerId,totalPaidAmount:((c==null?void 0:c.totalPaidAmount)||0)+u,totalRemainingAmount:Math.max(0,((c==null?void 0:c.totalRemainingAmount)||0)-u),scoreLevel:(c==null?void 0:c.scoreLevel)||"medium"})}return i},async getInstallmentStats(){const e=await this.getInstallmentRequests(),t=await this.getInstallmentOffers(),r=e.filter(p=>p.status==="ACTIVE_CONTRACT"),a=e.filter(p=>p.status==="CLOSED");let n=0,i=0;for(const p of t)if(p.status==="ACCEPTED_BY_CUSTOMER")for(const m of p.schedule.installments)m.status==="paid"?n+=m.amount:m.status==="overdue"&&(i+=m.amount);const l=t.filter(p=>p.status==="ACCEPTED_BY_CUSTOMER").length,c=t.length,u={};for(const p of e)u[p.status]=(u[p.status]||0)+1;const f={};for(const p of e){const m=p.createdAt.substring(0,7);f[m]||(f[m]={count:0,value:0}),f[m].count++,f[m].value+=p.totalRequestedValue||0}return{totalRequests:e.length,pendingRequests:e.filter(p=>p.status==="PENDING_SINICAR_REVIEW").length,activeContracts:r.length,closedContracts:a.length,totalRequestedValue:e.reduce((p,m)=>p+(m.totalRequestedValue||0),0),totalApprovedValue:t.filter(p=>p.status==="ACCEPTED_BY_CUSTOMER").reduce((p,m)=>p+m.totalApprovedValue,0),totalPaidAmount:n,totalOverdueAmount:i,avgApprovalRate:c>0?l/c*100:0,avgProcessingDays:3,byStatus:Object.entries(u).map(([p,m])=>({status:p,count:m})),byMonth:Object.entries(f).sort((p,m)=>p[0].localeCompare(m[0])).map(([p,m])=>({month:p,count:m.count,value:m.value}))}},async getInstallmentRequestsForSupplier(e){return(await this.getInstallmentRequests()).filter(r=>{var a,n;return r.allowedForSuppliers&&(((a=r.forwardedToSupplierIds)==null?void 0:a.includes(e))||((n=r.forwardedToSupplierIds)==null?void 0:n.length)===0)})},async closeInstallmentRequest(e,t){return await this.updateInstallmentRequest(e,{status:"CLOSED",closedAt:new Date().toISOString(),closedReason:t})},async cancelInstallmentRequest(e){const t=await this.getInstallmentRequestById(e);if(!t)return null;if(t.status==="ACTIVE_CONTRACT")throw new Error("    ");return await this.updateInstallmentRequest(e,{status:"CANCELLED",closedAt:new Date().toISOString(),closedReason:"   "})},getDefaultOrganizationSettings(){return{enableTeamsForCustomers:!0,enableTeamsForSuppliers:!0,enableTeamsForAdvertisers:!0,enableTeamsForAffiliates:!0,maxCustomerEmployees:10,maxSupplierEmployees:5,maxAdvertiserEmployees:3,maxAffiliateEmployees:3,defaultCustomerManagerPermissions:["cust_create_orders","cust_view_orders","cust_create_installment_requests","cust_manage_installment_requests","cust_use_trader_tools","cust_view_prices","cust_manage_cart","org_view_logs"],defaultCustomerStaffPermissions:["cust_create_orders","cust_view_orders","cust_view_prices","cust_manage_cart"],defaultCustomerReadonlyPermissions:["cust_view_orders","cust_view_prices"],defaultSupplierManagerPermissions:["sup_view_forwarded_requests","sup_submit_offers","sup_view_team_activity","sup_manage_products","sup_view_analytics","org_view_logs"],defaultSupplierStaffPermissions:["sup_view_forwarded_requests","sup_submit_offers"],defaultSupplierReadonlyPermissions:["sup_view_forwarded_requests","sup_view_analytics"],defaultAdvertiserManagerPermissions:["adv_view_campaigns","adv_manage_campaigns","adv_manage_slots","adv_view_reports","org_view_logs"],defaultAdvertiserStaffPermissions:["adv_view_campaigns","adv_manage_campaigns","adv_view_reports"],defaultAdvertiserReadonlyPermissions:["adv_view_campaigns","adv_view_reports"],defaultAffiliateManagerPermissions:["aff_view_links","aff_manage_links","aff_view_commissions","aff_view_analytics","org_view_logs"],defaultAffiliateStaffPermissions:["aff_view_links","aff_manage_links","aff_view_commissions"],defaultAffiliateReadonlyPermissions:["aff_view_links","aff_view_commissions"],allowCustomPermissionsForCustomers:!0,allowCustomPermissionsForSuppliers:!0,allowCustomPermissionsForAdvertisers:!0,allowCustomPermissionsForAffiliates:!0,trackTeamActivityPerOrganization:!0,activityLogRetentionDays:90,requireEmailVerification:!1,invitationExpiryHours:72}},async getOrganizationSettings(){const e=localStorage.getItem(ae.ORGANIZATION_SETTINGS);if(e)return JSON.parse(e);const t=this.getDefaultOrganizationSettings();return localStorage.setItem(ae.ORGANIZATION_SETTINGS,JSON.stringify(t)),t},async updateOrganizationSettings(e){const r={...await this.getOrganizationSettings(),...e,lastModifiedAt:new Date().toISOString()};return localStorage.setItem(ae.ORGANIZATION_SETTINGS,JSON.stringify(r)),r},async getOrganizations(){const e=localStorage.getItem(ae.ORGANIZATIONS);return e?JSON.parse(e):[]},async getOrganizationById(e){return(await this.getOrganizations()).find(r=>r.id===e)||null},async getOrganizationByCustomer(e){return(await this.getOrganizations()).find(r=>r.type==="customer"&&r.customerId===e)||null},async getOrganizationBySupplier(e){return(await this.getOrganizations()).find(r=>r.type==="supplier"&&r.supplierId===e)||null},async getOrganizationByAdvertiser(e){return(await this.getOrganizations()).find(r=>r.type==="advertiser"&&r.advertiserId===e)||null},async getOrganizationByAffiliate(e){return(await this.getOrganizations()).find(r=>r.type==="affiliate"&&r.affiliateId===e)||null},async getOrganizationByOwnerUserId(e){return(await this.getOrganizations()).find(r=>r.ownerUserId===e)||null},async getOrCreateOrganizationForEntity(e,t,r,a){let n=null;if(e==="customer"?n=await this.getOrganizationByCustomer(t):e==="supplier"?n=await this.getOrganizationBySupplier(t):e==="advertiser"?n=await this.getOrganizationByAdvertiser(t):e==="affiliate"&&(n=await this.getOrganizationByAffiliate(t)),n)return n;const i=new Date().toISOString(),l={id:`org_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e,name:r,ownerUserId:a,isActive:!0,createdAt:i,updatedAt:i};e==="customer"?l.customerId=t:e==="supplier"?l.supplierId=t:e==="advertiser"?l.advertiserId=t:e==="affiliate"&&(l.affiliateId=t);const c=await this.getOrganizations();return c.push(l),localStorage.setItem(ae.ORGANIZATIONS,JSON.stringify(c)),await this.createOrganizationUser(l.id,{userId:a,role:"owner",permissions:[]}),l},async createOrganization(e){const t=new Date().toISOString(),r={...e,id:`org_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:t,updatedAt:t},a=await this.getOrganizations();return a.push(r),localStorage.setItem(ae.ORGANIZATIONS,JSON.stringify(a)),r},async updateOrganization(e,t){const r=await this.getOrganizations(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.ORGANIZATIONS,JSON.stringify(r)),r[a])},async getOrganizationUsers(e){const t=localStorage.getItem(ae.ORGANIZATION_USERS),r=t?JSON.parse(t):[];return e?r.filter(a=>a.organizationId===e):r},async getOrganizationUser(e,t){return(await this.getOrganizationUsers(e)).find(a=>a.userId===t)||null},async getOrganizationUserById(e){return(await this.getOrganizationUsers()).find(r=>r.id===e)||null},async getOrganizationsByUserId(e){const r=(await this.getOrganizationUsers()).filter(n=>n.userId===e&&n.isActive).map(n=>n.organizationId);return(await this.getOrganizations()).filter(n=>r.includes(n.id)||n.ownerUserId===e)},async createOrganizationUser(e,t){const r=new Date().toISOString(),a={id:`orguser_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,organizationId:e,userId:t.userId,role:t.role,permissions:t.permissions,jobTitle:t.jobTitle,department:t.department,isActive:!0,joinedAt:r,createdAt:r,updatedAt:r},n=await this.getOrganizationUsers();return n.push(a),localStorage.setItem(ae.ORGANIZATION_USERS,JSON.stringify(n)),await this.logOrganizationActivity(e,t.userId,"team_member_added","team",{newMemberRole:t.role,newMemberUserId:t.userId}),a},async updateOrganizationUser(e,t){const r=await this.getOrganizationUsers(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ae.ORGANIZATION_USERS,JSON.stringify(r)),r[a])},async deactivateOrganizationUser(e){return await this.updateOrganizationUser(e,{isActive:!1})},async reactivateOrganizationUser(e){return await this.updateOrganizationUser(e,{isActive:!0})},async removeOrganizationUser(e){const t=await this.getOrganizationUsers(),r=t.filter(a=>a.id!==e);return r.length===t.length?!1:(localStorage.setItem(ae.ORGANIZATION_USERS,JSON.stringify(r)),!0)},async getTeamInvitations(e){const t=localStorage.getItem(ae.TEAM_INVITATIONS),r=t?JSON.parse(t):[];return e?r.filter(a=>a.organizationId===e):r},async getTeamInvitationByCode(e){return(await this.getTeamInvitations()).find(r=>r.invitationCode===e)||null},async createTeamInvitation(e,t,r){const a=await this.getOrganizationSettings(),n=new Date().toISOString(),i=new Date(Date.now()+a.invitationExpiryHours*60*60*1e3).toISOString(),l={id:`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,organizationId:e,invitedByUserId:t,email:r.email,phone:r.phone,name:r.name,role:r.role,permissions:r.permissions,status:"pending",invitationCode:Math.random().toString(36).substr(2,8).toUpperCase(),expiresAt:i,createdAt:n},c=await this.getTeamInvitations();return c.push(l),localStorage.setItem(ae.TEAM_INVITATIONS,JSON.stringify(c)),l},async acceptTeamInvitation(e,t){const r=await this.getTeamInvitationByCode(e);if(!r)return{success:!1,message:"   "};if(r.status!=="pending")return{success:!1,message:"    "};if(new Date(r.expiresAt)<new Date)return await this.updateTeamInvitation(r.id,{status:"expired"}),{success:!1,message:"  "};const a=await this.createOrganizationUser(r.organizationId,{userId:t,role:r.role,permissions:r.permissions});return await this.updateTeamInvitation(r.id,{status:"accepted",acceptedAt:new Date().toISOString()}),{success:!0,message:"   ",orgUser:a}},async updateTeamInvitation(e,t){const r=await this.getTeamInvitations(),a=r.findIndex(n=>n.id===e);return a===-1?null:(r[a]={...r[a],...t},localStorage.setItem(ae.TEAM_INVITATIONS,JSON.stringify(r)),r[a])},async cancelTeamInvitation(e){return await this.updateTeamInvitation(e,{status:"cancelled"})!==null},async getOrganizationActivityLogs(e,t=100){const r=localStorage.getItem(ae.ORGANIZATION_ACTIVITY_LOGS);let a=r?JSON.parse(r):[];return e&&(a=a.filter(n=>n.organizationId===e)),a.sort((n,i)=>new Date(i.createdAt).getTime()-new Date(n.createdAt).getTime()).slice(0,t)},async logOrganizationActivity(e,t,r,a,n){const i=await this.getOrganizationSettings();if(!i.trackTeamActivityPerOrganization)return{id:"",organizationId:e,userId:t,actionType:r,actionCategory:a,description:"",metadata:n,createdAt:new Date().toISOString()};const c=JSON.parse(localStorage.getItem(ae.USERS)||"[]").find(x=>x.id===t),u={id:`orglog_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,organizationId:e,userId:t,userName:(c==null?void 0:c.name)||"",actionType:r,actionCategory:a,description:this.getActivityDescription(r,a,n),metadata:n,createdAt:new Date().toISOString()},f=JSON.parse(localStorage.getItem(ae.ORGANIZATION_ACTIVITY_LOGS)||"[]");f.unshift(u);const p=new Date;p.setDate(p.getDate()-i.activityLogRetentionDays);const m=f.filter(x=>new Date(x.createdAt)>p);return localStorage.setItem(ae.ORGANIZATION_ACTIVITY_LOGS,JSON.stringify(m)),u},getActivityDescription(e,t,r){return{team_member_added:"    ",team_member_removed:"    ",team_member_updated:"    ",order_created:"   ",order_updated:"  ",installment_request_created:"   ",installment_offer_submitted:"   ",campaign_created:"   ",campaign_updated:"   ",offer_submitted:"  ",link_created:"   ",profile_updated:"   "}[e]||e},async hasScopedPermission(e,t,r){const a=await this.getOrganizationUser(t,e);if(!a){const n=await this.getOrganizationById(t);return!!(n&&n.ownerUserId===e)}return a.isActive?a.role==="owner"?!0:a.permissions.includes(r):!1},async getUserScopedPermissions(e,t){const r=await this.getOrganizationById(t);if(r&&r.ownerUserId===e)return this.getAllPermissionKeys();const a=await this.getOrganizationUser(t,e);return!a||!a.isActive?[]:a.role==="owner"?this.getAllPermissionKeys():a.permissions},getAllPermissionKeys(){return["adv_view_campaigns","adv_manage_campaigns","adv_manage_slots","adv_view_reports","sup_view_forwarded_requests","sup_submit_offers","sup_view_team_activity","sup_manage_products","sup_view_analytics","cust_create_orders","cust_view_orders","cust_create_installment_requests","cust_manage_installment_requests","cust_use_trader_tools","cust_view_team_activity","cust_view_prices","cust_manage_cart","aff_view_links","aff_manage_links","aff_view_commissions","aff_withdraw_commissions","aff_view_analytics","org_manage_team","org_view_logs","org_view_settings","org_edit_profile"]},getPermissionsByOrganizationType(e){const t=["org_manage_team","org_view_logs","org_view_settings","org_edit_profile"];switch(e){case"customer":return[...t,"cust_create_orders","cust_view_orders","cust_create_installment_requests","cust_manage_installment_requests","cust_use_trader_tools","cust_view_team_activity","cust_view_prices","cust_manage_cart"];case"supplier":return[...t,"sup_view_forwarded_requests","sup_submit_offers","sup_view_team_activity","sup_manage_products","sup_view_analytics"];case"advertiser":return[...t,"adv_view_campaigns","adv_manage_campaigns","adv_manage_slots","adv_view_reports"];case"affiliate":return[...t,"aff_view_links","aff_manage_links","aff_view_commissions","aff_withdraw_commissions","aff_view_analytics"];default:return t}},async getDefaultPermissionsForRole(e,t){const r=await this.getOrganizationSettings();if(t==="owner")return this.getPermissionsByOrganizationType(e);switch(e){case"customer":return t==="manager"?r.defaultCustomerManagerPermissions:t==="staff"?r.defaultCustomerStaffPermissions:r.defaultCustomerReadonlyPermissions;case"supplier":return t==="manager"?r.defaultSupplierManagerPermissions:t==="staff"?r.defaultSupplierStaffPermissions:r.defaultSupplierReadonlyPermissions;case"advertiser":return t==="manager"?r.defaultAdvertiserManagerPermissions:t==="staff"?r.defaultAdvertiserStaffPermissions:r.defaultAdvertiserReadonlyPermissions;case"affiliate":return t==="manager"?r.defaultAffiliateManagerPermissions:t==="staff"?r.defaultAffiliateStaffPermissions:r.defaultAffiliateReadonlyPermissions;default:return[]}},async getOrganizationStats(e){const t=await this.getOrganizationUsers(e),r=await this.getTeamInvitations(e),a=await this.getOrganizationActivityLogs(e,100),n=t.filter(f=>f.isActive),i=r.filter(f=>f.status==="pending"),l=new Date;l.setDate(l.getDate()-1);const c=a.filter(f=>new Date(f.createdAt)>l),u={owner:0,manager:0,staff:0,readonly:0};return n.forEach(f=>{u[f.role]++}),{totalMembers:t.length,activeMembers:n.length,pendingInvitations:i.length,recentActivities:c.length,membersByRole:Object.entries(u).map(([f,p])=>({role:f,count:p}))}},async canAddTeamMember(e){const t=await this.getOrganizationById(e);if(!t)return{allowed:!1,reason:"  "};const r=await this.getOrganizationSettings();if(!(t.type==="customer"&&r.enableTeamsForCustomers||t.type==="supplier"&&r.enableTeamsForSuppliers||t.type==="advertiser"&&r.enableTeamsForAdvertisers||t.type==="affiliate"&&r.enableTeamsForAffiliates))return{allowed:!1,reason:"       "};const i=(await this.getOrganizationUsers(e)).filter(c=>c.isActive),l=t.type==="customer"?r.maxCustomerEmployees:t.type==="supplier"?r.maxSupplierEmployees:t.type==="advertiser"?r.maxAdvertiserEmployees:r.maxAffiliateEmployees;return i.length>=l?{allowed:!1,reason:`       (${l})`}:{allowed:!0}},async canManageTeam(e,t){const r=await this.getOrganizationById(t);return r?r.ownerUserId===e?!0:await this.hasScopedPermission(e,t,"org_manage_team"):!1}};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),E4=e=>{const t=WJ(e);return t.charAt(0).toUpperCase()+t.slice(1)},JM=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),XJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...c},u)=>P.createElement("svg",{ref:u,...YJ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:JM("lucide",n),...!i&&!XJ(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>P.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const r=P.forwardRef(({className:a,...n},i)=>P.createElement(KJ,{ref:i,iconNode:t,className:JM(`lucide-${GJ(E4(e))}`,`lucide-${e}`,a),...n}));return r.displayName=E4(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rn=ke("activity",QJ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],ZM=ke("anchor",JJ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],eZ=ke("archive",ZJ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],rZ=ke("arrow-left-right",tZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sZ=ke("arrow-left",aZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dc=ke("arrow-right",nZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],lZ=ke("arrow-up-down",iZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],cZ=ke("award",oZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e8=ke("ban",dZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Wi=ke("bell",uZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ec=ke("box",fZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],p0=ke("briefcase",mZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ka=ke("building-2",hZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],A4=ke("calculator",pZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qj=ke("calendar",xZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bZ=ke("camera",gZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],io=ke("car",vZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],um=ke("chart-column",yZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gr=ke("check",SZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ui=ke("chevron-down",wZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zn=ke("chevron-right",NZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bi=ke("chevron-left",jZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kl=ke("chevron-up",EZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qn=ke("circle-alert",AZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],t8=ke("circle-arrow-down",_Z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Ow=ke("circle-arrow-up",CZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dr=ke("circle-check-big",TZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pi=ke("circle-check",OZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RZ=ke("circle-question-mark",kZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],DZ=ke("circle-stop",PZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_n=ke("circle-x",IZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dy=ke("clipboard-list",MZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xr=ke("clock",LZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],UZ=ke("cog",FZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Lp=ke("copy",BZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],r8=ke("credit-card",zZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ld=ke("database",qZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qs=ke("dollar-sign",$Z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cn=ke("download",HZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Zl=ke("external-link",VZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lo=ke("eye-off",GZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wa=ke("eye",WZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ll=ke("file-spreadsheet",XZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lr=ke("file-text",YZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],kw=ke("file",KZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]],JZ=ke("forward",QZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eee=ke("funnel",ZZ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fs=ke("globe",tee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],aee=ke("hash",ree);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Fp=ke("headphones",see);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fd=ke("history",nee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],lee=ke("house",iee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x0=ke("image",oee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],el=ke("info",cee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],pp=ke("key",dee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ud=ke("layers",uee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],a8=ke("layout-dashboard",fee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],hee=ke("layout-grid",mee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],xee=ke("link-2",pee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oo=ke("loader-circle",gee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],uy=ke("lock-keyhole",bee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yr=ke("lock",vee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s8=ke("log-out",yee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gf=ke("mail",See);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Up=ke("map-pin",wee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],cs=ke("megaphone",Nee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Eee=ke("menu",jee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_ee=ke("message-circle",Aee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$j=ke("message-square",Cee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M5 12h14",key:"1ays0h"}]],n8=ke("minus",Tee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],kee=ke("monitor",Oee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],_4=ke("move",Ree);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Dee=ke("package-plus",Pee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Na=ke("package",Iee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],Lee=ke("package-x",Mee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Rw=ke("palette",Fee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Bp=ke("panels-top-left",Uee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],i8=ke("pause",Bee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Hj=ke("pen-line",zee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nn=ke("pen",qee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],g0=ke("pencil",$ee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Zx=ke("percent",Hee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fm=ke("phone",Vee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],l8=ke("play",Gee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xr=ke("plus",Wee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bd=ke("power-off",Xee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],zd=ke("power",Yee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],qd=ke("printer",Kee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Jee=ke("receipt",Qee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],b0=ke("refresh-ccw",Zee);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ua=ke("refresh-cw",ete);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pr=ke("save",tte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Cd=ke("scale",rte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],C4=ke("search-x",ate);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ur=ke("search",ste);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],o8=ke("send",nte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zp=ke("server",ite);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],c8=ke("settings-2",lte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ds=ke("settings",ote);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],v0=ke("shield-alert",cte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ys=ke("shield-check",dte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],fte=ke("shield-x",ute);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ws=ke("shield",mte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],pte=ke("ship",hte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],qp=ke("shopping-bag",xte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Tn=ke("shopping-cart",gte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],vte=ke("smartphone",bte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],d8=ke("sparkles",yte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fy=ke("square-check-big",Ste);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nte=ke("square-pen",wte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],T4=ke("square",jte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Ate=ke("star-off",Ete);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tl=ke("star",_te);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],$p=ke("store",Cte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ote=ke("table",Tte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Rte=ke("tag",kte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],u8=ke("tags",Pte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eg=ke("target",Dte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],Mte=ke("text-align-center",Ite);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],Fte=ke("text-align-end",Lte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Bte=ke("text-align-start",Ute);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wt=ke("trash-2",zte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],$te=ke("trending-down",qte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uc=ke("trending-up",Hte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sa=ke("triangle-alert",Vte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],rl=ke("truck",Gte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],O4=ke("type",Wte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jc=ke("upload",Xte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$d=ke("user-check",Yte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fc=ke("user-plus",Kte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ho=ke("user-x",Qte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],y0=ke("user",Jte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xt=ke("users",Zte);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tre=ke("volume-2",ere);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],are=ke("wallet",rre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],f8=ke("warehouse",sre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],ire=ke("webhook",nre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ore=ke("wifi",lre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],mm=ke("wrench",cre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ar=ke("x",dre);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tg=ke("zap",ure),{slice:fre,forEach:mre}=[];function hre(e){return mre.call(fre.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function pre(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const k4=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,xre=function(e,t){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(t);let i=`${e}=${n}`;if(a.maxAge>0){const l=a.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(l)}`}if(a.domain){if(!k4.test(a.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${a.domain}`}if(a.path){if(!k4.test(a.path))throw new TypeError("option path is invalid");i+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(i+="; HttpOnly"),a.secure&&(i+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(i+="; Partitioned"),i},R4={create(e,t,r,a){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+r*60*1e3)),a&&(n.domain=a),document.cookie=xre(e,t,n)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let n=r[a];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(t)===0)return n.substring(t.length,n.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var gre={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return R4.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:a,cookieDomain:n,cookieOptions:i}=t;r&&typeof document<"u"&&R4.create(r,e,a,n,i)}},bre={name:"querystring",lookup(e){var a;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const l=n.substring(1).split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(r=l[c].substring(u+1))}}return r}},vre={name:"hash",lookup(e){var n;let{lookupHash:t,lookupFromHashIndex:r}=e,a;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const l=i.substring(1);if(t){const c=l.split("&");for(let u=0;u<c.length;u++){const f=c[u].indexOf("=");f>0&&c[u].substring(0,f)===t&&(a=c[u].substring(f+1))}}if(a)return a;if(!a&&r>-1){const c=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(n=c[typeof r=="number"?r:0])==null?void 0:n.replace("/",""):void 0}}}return a}};let hd=null;const P4=()=>{if(hd!==null)return hd;try{if(hd=typeof window<"u"&&window.localStorage!==null,!hd)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hd=!1}return hd};var yre={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&P4())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&P4()&&window.localStorage.setItem(r,e)}};let pd=null;const D4=()=>{if(pd!==null)return pd;try{if(pd=typeof window<"u"&&window.sessionStorage!==null,!pd)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{pd=!1}return pd};var Sre={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&D4())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&D4()&&window.sessionStorage.setItem(r,e)}},wre={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:a,language:n}=navigator;if(r)for(let i=0;i<r.length;i++)t.push(r[i]);a&&t.push(a),n&&t.push(n)}return t.length>0?t:void 0}},Nre={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const a=t||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},jre={name:"path",lookup(e){var n;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(n=r[typeof t=="number"?t:0])==null?void 0:n.replace("/",""):void 0}},Ere={name:"subdomain",lookup(e){var n,i;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,a=typeof window<"u"&&((i=(n=window.location)==null?void 0:n.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};let m8=!1;try{document.cookie,m8=!0}catch{}const h8=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];m8||h8.splice(1,1);const Are=()=>({order:h8,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class p8{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=hre(r,this.options||{},Are()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(gre),this.addDetector(bre),this.addDetector(yre),this.addDetector(Sre),this.addDetector(wre),this.addDetector(Nre),this.addDetector(jre),this.addDetector(Ere),this.addDetector(vre)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(a=>{if(this.detectors[a]){let n=this.detectors[a].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(r=r.concat(n))}}),r=r.filter(a=>a!=null&&!pre(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(t,this.options)}))}}p8.type="languageDetector";const _re={appName:" ",siniCar:" ",appSlogan:"  ",loading:" ...",save:"",cancel:"",confirm:"",delete:"",edit:"",add:"",search:"",filter:"",reset:" ",back:"",next:"",previous:"",close:"",submit:"",yes:"",no:"",all:"",none:" ",export:"",import:"",refresh:"",view:"",details:"",actions:"",status:"",date:"",time:"",total:"",price:"",quantity:"",name:"",email:" ",phone:"",address:"",city:"",region:"",country:"",notes:"",description:"",active:"",inactive:" ",enabled:"",disabled:"",success:" ",error:"",warning:"",info:"",noData:"  ",noResults:"  ",selectOption:" ",required:"",optional:"",language:"",welcome:"",page:"",of:"",currency:".",order:"",notSpecified:" ",sort:"",download:"",upload:"",first:"",last:"",selectAll:" ",deselectAll:" "},Cre={wholesaleLogin:"   ",b2bPortal:"   ",ownerLogin:" ",staffLogin:" ",clientId:" ",phoneNumber:" ",password:" ",activationCode:" ",rememberMe:"",forgotPassword:"  ",enter:"",verifying:" ...",secureConnection:"  ",securityNote:"      .    .",openNewAccount:"   ",invalidCredentials:"   ",loginSuccess:"   ",logoutSuccess:"   ",enterAsGuest:" ",guest:"",guestWelcome:"  !    ",title:" ",subtitle:"   ",phone:" ",phonePlaceholder:"  ",passwordPlaceholder:"  ",loginButton:"",loggingIn:" ...",noAccount:"  ",registerHere:" ",errors:{phoneRequired:"  ",passwordRequired:"  ",invalidCredentials:"   ",accountSuspended:" ",tooManyAttempts:" .  "},success:"   "},Tre={verifyingCredentials:"   ...",connectingWarehouse:"  ...",loadingCatalog:"   ...",applyingDiscounts:"    ...",syncingInventory:"   ...",optimizingLogistics:"   ...",finalizingSetup:"   ...",accessGranted:"   !"},Ore={mainServer:" ",connectingServer:"   ...",dataSync:" ",syncingData:"    ...",logistics:" ",connectingWarehouses:"      ..."},kre={dismiss:"",campaignOf:" {{current}}  {{total}}",next:"",understood:""},Rre={restrictedTitle:"   ",restrictedSubtitle:"    B2B",restrictedMessage:"   :",targetAudience:{partsStores:"  ",insuranceCompanies:" ",rentalCompanies:"  ",salesReps:"  "},benefitsTitle:"  ",benefits:{prices:"  ",catalog:"   ",orders:"   ",support:"  "},callToAction:"           !",loginButton:" ",requestAccountButton:"   ",browseOnly:" ",blurredResultsNote:"   ",loginToAccess:"   ",searchDisabled:"    "},Pre={title:"   ",openNewAccount:"  ",subtitle:"               .",businessInfo:" ",businessName:" ",businessNameAr:"  ()",businessNameEn:"  ()",commercialRegister:" ",taxNumber:" ",businessType:" ",selectBusinessType:"  ",contactInfo:" ",ownerName:" ",ownerPhone:"  ",ownerEmail:"  ()",addressInfo:" ",fullAddress:" ",nationalAddress:"  ",nationalAddressPlaceholder:": RDJ2929",city:"",region:"",postalCode:" ",branchesCount:" ",submitRequest:"   ",backToLogin:"  ",requestSuccess:"   !",requestPending:"  ",requestSuccessMessage:" .                .",backToHome:" ",benefits:{exclusivePrices:"  ",instantAccess:"  ",taxInvoices:"  "},businessTypes:{sparePartsShop:"  ",maintenanceCenter:" ",insuranceCompany:" ",rentalCompany:" ",salesRep:" ",workshop:" ",store:"  ",distributor:"",agency:"",other:""},salesRepFields:{fullName:" ",phone:" ",region:" /  ",email:"  ()",clientsType:"  ( ...)",clientsCount:"  "},documents:{title:" ",requiredDocuments:" ",instructions:"     PDF   .      .",uploadNotice:"     PDF   .      .",crCertificate:"  ",vatCertificate:"  ",nationalId:"  ",nationalAddressCert:"  ",clickToUpload:"  ",fileTypes:"PDF, JPEG, PNG, WebP (  5MB)",uploadSuccess:"  ",invalidFileType:"   .   PDF   (JPEG, PNG, WebP)",fileTooLarge:"   .   5 "},businessFields:{businessName:" ",branchesCount:" ",city:"",nationalAddress:"  ",nationalAddressPlaceholder:": RDJ2929",commercialReg:" ",vatNumber:" ",contactPerson:" ",phone:" ",emailOptional:"  ()"},success:{title:"   !",message:" .                .",backToHome:" "},validation:{phoneRequired:"  ",fullNameRequired:"  ",regionRequired:"   ",businessNameRequired:"  ",cityRequired:" ",contactPersonRequired:"  ",commercialRegRequired:"  ",vatRequired:"  ",nationalAddressRequired:"  ",documentRequired:""},additionalNotes:" ",submitting:" ...",submitError:"   "},Dre={home:"",dashboard:" ",products:"",catalog:"",orders:"",myOrders:"",cart:"",customers:"",users:"",roles:"",settings:"",profile:" ",notifications:"",reports:"",analytics:"",help:"",support:"",about:"",contact:" ",logout:" ",accountRequests:" ",statusLabels:" ",systemSettings:" "},Ire={title:" ",welcome:"",overview:" ",statistics:"",recentOrders:" ",recentActivity:" ",quickActions:" ",totalSales:" ",totalOrders:" ",totalCustomers:" ",totalProducts:" ",pendingOrders:" ",processingOrders:"  ",completedOrders:" ",cancelledOrders:" ",revenue:"",salesChart:" ",topProducts:"  ",topCustomers:" ",lowStock:" ",newCustomers:" ",monthlyRevenue:" ",weeklyOrders:" ",dailySales:" ",customerDashboard:"  ",adminDashboard:"  "},Mre={title:"",catalog:" ",addProduct:" ",editProduct:" ",deleteProduct:" ",productDetails:" ",productName:" ",productNameAr:"  ()",productNameEn:"  ()",sku:" ",barcode:"",category:"",subcategory:" ",brand:" ",manufacturer:" ",price:"",wholesalePrice:" ",retailPrice:" ",costPrice:" ",stock:"",stockQuantity:" ",minStock:"  ",maxStock:"  ",unit:"",weight:"",dimensions:"",image:"",images:"",specifications:"",description:"",shortDescription:" ",longDescription:" ",tags:"",status:"",available:"",outOfStock:" ",discontinued:"",featured:"",newArrival:" ",bestSeller:" ",onSale:"",discount:"",addToCart:" ",buyNow:" ",quantity:"",totalPrice:" ",searchProducts:"  ...",filterByCategory:"  ",filterByBrand:"   ",filterByPrice:"  ",sortBy:" ",priceAsc:":   ",priceDesc:":   ",nameAsc:": -",nameDesc:": -",newest:"",oldest:"",noProducts:"  ",productAdded:"   ",productUpdated:"   ",productDeleted:"   "},Lre={title:"",myOrders:"",allOrders:" ",newOrder:" ",createOrder:" ",orderDetails:" ",orderNumber:" ",orderDate:" ",orderStatus:" ",orderItems:" ",orderTotal:" ",subtotal:" ",tax:"",shipping:"",discount:"",grandTotal:" ",paymentMethod:" ",paymentStatus:" ",shippingAddress:" ",billingAddress:" ",trackOrder:" ",cancelOrder:" ",reorder:" ",printInvoice:" ",downloadInvoice:" ",orderConfirmed:"  ",orderShipped:" ",orderDelivered:" ",orderCancelled:" ",orderPending:" ",orderProcessing:" ",orderCompleted:"",orderRefunded:"",noOrders:"  ",searchOrders:"  ...",filterByStatus:"  ",filterByDate:"  ",orderCreated:"   ",orderUpdated:"   ",orderCancelledSuccess:"   "},Fre={title:" ",emptyCart:" ",addItems:"  ",continueShopping:" ",checkout:" ",clearCart:" ",updateCart:" ",itemAdded:"   ",itemRemoved:"    ",cartUpdated:"  ",cartCleared:"  ",proceedToCheckout:" ",estimatedTotal:" "},Ure={title:"",allCustomers:" ",addCustomer:" ",editCustomer:" ",customerDetails:" ",customerName:" ",clientId:" ",businessName:" ",contactPerson:" ",phone:"",email:" ",address:"",city:"",region:"",creditLimit:" ",currentBalance:" ",totalPurchases:" ",lastOrder:" ",status:"",activeCustomer:" ",inactiveCustomer:"  ",blockedCustomer:" ",verifiedCustomer:" ",pendingVerification:" ",searchCustomers:"  ...",noCustomers:"  ",customerAdded:"   ",customerUpdated:"   ",customerDeleted:"   "},Bre={title:"",allUsers:" ",addUser:" ",editUser:" ",deleteUser:" ",userDetails:" ",username:" ",fullName:" ",email:" ",phone:"",role:"",permissions:"",status:"",activeUser:" ",inactiveUser:"  ",lastLogin:" ",createdAt:" ",searchUsers:"  ...",noUsers:"  ",userAdded:"   ",userUpdated:"   ",userDeleted:"   ",passwordReset:"    ",sendPasswordReset:"   "},zre={title:" ",allRoles:" ",addRole:" ",editRole:" ",deleteRole:" ",roleDetails:" ",roleName:" ",roleDescription:" ",permissions:"",assignedUsers:" ",superAdmin:" ",admin:"",manager:"",salesManager:" ",salesAgent:" ",viewer:"",customer:"",staff:"",noRoles:"  ",roleAdded:"   ",roleUpdated:"   ",roleDeleted:"   "},qre={title:"",viewDashboard:"  ",viewProducts:" ",manageProducts:" ",viewOrders:" ",manageOrders:" ",viewCustomers:" ",manageCustomers:" ",viewUsers:" ",manageUsers:" ",viewRoles:" ",manageRoles:" ",viewSettings:" ",manageSettings:" ",viewReports:" ",exportData:" ",importData:" ",deleteData:" ",fullAccess:" "},$re={title:"",general:"",appearance:"",language:"",selectLanguage:" ",notifications:"",security:"",privacy:"",account:"",profile:" ",changePassword:"  ",twoFactorAuth:" ",sessions:"",apiKeys:" API",webhooks:"Webhooks",integrations:"",backup:" ",restore:"",export:"",import:"",theme:"",darkMode:" ",lightMode:" ",autoMode:"",timezone:" ",dateFormat:" ",currency:"",settingsSaved:"  ",settingsReset:"   "},Hre={title:"  ",pending:" ",approved:" ",rejected:"",underReview:" ",requestDate:" ",reviewDate:" ",reviewedBy:"",approve:"",reject:"",requestDetails:" ",noRequests:"  ",requestApproved:"   ",requestRejected:"  "},Vre={title:" ",addLabel:" ",editLabel:" ",deleteLabel:" ",labelName:" ",labelNameAr:"  ()",labelNameEn:"  ()",labelColor:" ",labelType:" ",orderStatus:" ",customerStatus:" ",productStatus:" ",noLabels:"  ",labelAdded:"   ",labelUpdated:"   ",labelDeleted:"   "},Gre={title:"",salesReport:" ",ordersReport:" ",customersReport:" ",productsReport:" ",inventoryReport:" ",financialReport:" ",generateReport:" ",downloadReport:" ",printReport:" ",dateRange:" ",from:"",to:"",today:"",yesterday:"",thisWeek:" ",lastWeek:" ",thisMonth:" ",lastMonth:" ",thisYear:" ",custom:""},Wre={title:"",allNotifications:" ",unread:" ",read:"",markAsRead:" ",markAllAsRead:"  ",clearAll:" ",noNotifications:"  ",newOrder:" ",orderUpdate:" ",newCustomer:" ",lowStock:" ",paymentReceived:"  ",systemUpdate:" "},Xre={somethingWrong:"  ",tryAgain:"   ",pageNotFound:"  ",accessDenied:"   ",sessionExpired:"  ",networkError:"  ",serverError:"  ",validationError:"  ",requiredField:"  ",invalidEmail:"   ",invalidPhone:"   ",passwordMismatch:"   ",weakPassword:"  "},Yre={deleteItem:"      ",deleteItems:"      ",cancelOrder:"      ",logout:"     ",clearCart:"     ",discardChanges:"     ",actionCannotBeUndone:"     "},Kre={panel:" ",systemSettings:" ",manageAll:" ",superAdmin:" ",salesManager:" ",salesAgent:" ",viewer:" "},Qre={mainMenu:" ",management:"",supportSection:"",home:"",orders:" ",quotes:" ",import:"  ",traderTools:" ",history:" ",organization:" ",teamManagement:" ",support:"  / ",searchCredits:"  ",unlimitedSearch:" "},Jre={heroTitle:"    ",heroSubtitle:"                .",searchTip:"       ",searchPlaceholder:"    ...",searching:" ...",noResults:"  ",pressSearch:"      :",partNotAvailable:"   ",noResultsFor:"     :",outOfStock:" ",outOfStockMessage:"     ",available:"",priceNotAvailable:"  ",showPrice:"",addToCartTip:"  ()    ",whoWeServe:" ",whoWeServeSubtitle:"    ",partsStores:"  ",partsStoresDesc:"          .",insuranceCompanies:" ",insuranceDesc:"         .",rentalCompanies:" ",rentalDesc:"         .",salesReps:" ",salesRepsDesc:"         .",mainServices:"   ",mainServicesSubtitle:"   ",quoteRequests:"  (Excel)",quoteRequestsDesc:"            .",importFromChina:"  ",importFromChinaDesc:"             .",wholesaleOrders:"  ",wholesaleOrdersDesc:"           PDF.",staffBranches:"  ",staffBranchesDesc:"          .",howItWorks:"  ",howItWorksSubtitle:"   ",step1Title:"  ",step1Desc:"        .",step2Title:" ",step2Desc:"      .",step3Title:" ",step3Desc:"        .",step4Title:" ",step4Desc:"       .",whySiniCar:"  ",whySiniCarSubtitle:"   ",expertiseTitle:" ",expertiseDesc:"         .",techTitle:" ",techDesc:"       .",globalTitle:" ",globalDesc:"     3   .",supportTitle:"  B2B",supportDesc:"        .",wholesaleCart:"  ",emptyCart:" ",useSearchToAdd:"   ",estimatedTotal:" ()",submitOrder:" ",fastShipping:" ",fastShippingDesc:"  24       .",techSupport:"  ",techSupportDesc:"        .",searchHistory:"  ",partNumber:" ",productName:" ",viewDate:" ",recordedPrice:" ",noSearchHistory:"     ",sar:".",enterValidPartNumber:"     .",unexpectedError:"       .",orderSubmitError:"    ",pageView:" :",addToCart:" ",priceModal:{productDetails:" ",wholesalePrice:" ",quantity:"",total:"",addToCart:" ",close:""},duplicateConfirm:{title:" ",message:"     .    ",confirm:"  ",cancel:""},orderSuccess:{title:"   !",message:"     "},welcome:"",dashboard:" ",searchProducts:"  ",search:"",recentOrders:" ",viewAll:" ",noRecentOrders:"   ",recentQuotes:"  ",noRecentQuotes:"    ",quickActions:" ",newOrder:" ",newQuote:" ",myAccount:"",support:"",stats:{totalOrders:" ",pendingOrders:"  ",totalSpent:" ",searchPoints:" "},searchResults:" ",cart:"",checkout:" ",total:"",currency:"."},Zre={mainSection:"",ordersCustomersSection:" ",settingsSection:"",dashboard:" ",activityLog:" ",customerOrders:" ",accountRequests:" ",customersCRM:"  (CRM)",quoteRequests:" ",importRequests:" ",missingParts:"",products:"",users:"",systemSettings:" ",marketingCenter:" ",pricingCenter:" ",traderTools:" ",supplierMarketplace:" ",marketers:"",installments:" ",advertising:"",connected:" ",slowConnection:" ",disconnected:" ",pageTitles:{dashboard:"  ",ordersManager:"  ",activityLogs:" ",accountRequests:"   ",customers:"   (CRM)",quotes:"  ",imports:" ",missing:"",settings:" ",users:" ",products:" ",marketing:" ",pricing:" ",traderTools:"  ",supplierMarketplace:"  ",marketers:" ",installments:"  ",advertising:" "},stats:{totalRevenue:" ",todayRevenue:" ",pendingOrders:" ",approvedOrders:"  ",shippedOrders:" ",cancelledOrders:" ",totalProducts:" ",outOfStock:" ",activeBusinesses:" ",pendingAccounts:" ",pendingQuotes:" "},kpi:{revenue:"",orders:"",inventory:"",customers:""},activity:{logins:" ",ordersCreated:" ",quotesRequested:" ",searchesPerformed:" "},charts:{dailyOrders:" ",dailyRevenue:" ",topCustomers:" ",topMissingParts:"  ",revenue:""},views:{dashboard:" ",customers:" ",products:"",settings:"",quotes:" ",missing:"",importRequests:" ",accountRequests:" ",activityLogs:" ",ordersManager:" ",adminUsers:"",marketing:" ",pricing:" ",traderTools:" ",supplierMarketplace:" ",marketers:"",installments:" ",advertising:"",teamSettings:" "},onlineUsers:{title:"  ",subtitle:"   5 ",now:"",minutesAgo:" {{mins}} ",online:"",noOnlineUsers:"    ",moreOnline:" {{count}}   ..."},activityLogs:{title:" ",activity:"",time:"",user:"",event:"",details:"",noActivities:"   "},generalManager:" ",teamSettings:" "},eae={title:"   (CRM)",loading:"  ...",stats:{totalCustomers:" ",activeCustomers:" ",suspendedBlocked:"/"},searchPlaceholder:"      ...",allStatuses:" ",table:{customer:"",city:"",priceLevel:" ",ordersCount:" ",totalPurchases:" ",status:"",actions:""},view:"",noMatchingCustomers:"   ",status:{active:"",suspended:"",blocked:"",pending:" ",inactive:" "},panel:{title:" ",tabs:{overview:" ",orders:"",activity:""},businessInfo:" ",companyName:" ",city:"",phone:"",crNumber:" ",priceLevel:" ",customerType:" ",accountStatus:" ",searchBalance:" ",staffUsers:"",accessValidity:" ",ordersHistory:" ",activityLog:" "},toast:{loadError:"    "},detail:{tabs:{overview:" ",orders:"",quotes:"",staff:"",security:" ",notes:""},accountManagement:" ",changeStatus:" ",statusActive:" (Active)",statusSuspended:"  (Suspend)",statusBlocked:"  (Block)",suspendUntil:"  ",saving:" ...",saveChanges:" ",statusUpdated:"   ",errorOccurred:" ",priceDisplayType:"  ",pricesVisible:"   -   ",pricesHidden:"  -    ",visibleNoPoints:"  ( )",hiddenWithPoints:"  ()",visible:"",hidden:"",priceDisplayChanged:"     ",searchWallet:" ",addBalance:" ",deductBalance:" ",totalBalance:" ",used:"",remaining:"",joinDate:" ",lastLogin:"  ",customerDocs:" ",commercialRegistration:" ",vatCertificate:" ",nationalId:" ",notAttached:" ",noDocument:" ",enterPointsToAdd:"   :",pointsAddedSuccess:"  {{points}}  ",currentBalance:" :",points:"",enterPointsToDeduct:"   :",cannotDeductMoreThan:"      ",pointsDeductedSuccess:"  {{points}}  ",errorDeductingPoints:"    ",staffStatusUpdated:"   ",customerOrders:" ",noOrders:"  ",orderNumber:" ",date:"",amount:"",orderStatus:"",priceQuotes:" ",noQuotes:"   ",quoteNumber:" ",items:"",staffMembers:" ",noStaff:"   ",staffName:" ",role:"",lastActive:" ",action:"",suspend:"",activate:"",securityAccessLogs:"  ",loginHistory:" ",device:"",ipAddress:"IP",location:"",adminNotes:" ",noNotes:"  ",addNote:" ...",writeNote:"  ...",notePlaceholder:"  ...",addNoteBtn:" ",docs:{commercialReg:" ",taxNumber:" ",nationalAddress:" ",notAttached:" ",notAvailable:" "},staff:{staffMembers:" ",maxLimit:" ",owner:"",active:"",suspended:"",suspendBtn:"",activateBtn:""},orders:{customerOrders:" ",completed:"",ongoing:"",loadingOrders:"  ...",noOrders:"    ",unspecified:" ",products:"",item:"",total:"",date:"",currency:".",showingOf:" {{shown}}  {{total}} "},quotes:{pricingRequests:" ",approved:"",new:"",loadingQuotes:"   ...",noQuotes:"     ",unspecified:" ",items:"",item:"",total:"",date:"",currency:".",pendingPricing:" ",showingOf:" {{shown}}  {{total}}  ",missing:"",reviewedBy:""},security:{securityIndicators:" ",failedLoginAttempts:"  ",suspiciousBehavior:"  (Flag)",yes:"",no:"",resetCounter:"    (Reset)",counterReset:"  ",passwordReset:"   ",passwordResetDesc:"        .        .",enterNewPassword:"    (4   ):",adminNotFound:":      ",passwordResetError:"      ",passwordMinLength:"     4   ",resetPasswordBtn:"   ",recentLoginHistory:"  ",successfulLogin:" ",failedLogin:" ",passwordChanged:"  ",passwordResetAdmin:"  (Admin)",noLogsAvailable:"   "},notes:{adminNotes:" ",noNotes:"   ",addNote:"  ...",placeholder:"   ...",saveNote:" "}}},tae={systemSettings:" ",generalSettings:" ",bannerManagement:" ",whySiniCar:"  ",textManagement:" ",statusLabels:" ",apiIntegration:"  (API)",appearanceIdentity:" ",siteSettings:"  ",saveChanges:" ",saving:" ...",siteName:"  / ",supportPhone:"  ",salesWhatsApp:"  ",supportEmail:"  ",newsTicker:"  ",enableTicker:" ",tickerText:" ",tickerSpeed:" (1-10)",bgColor:"  (Hex)",textColor:"  (Hex)",productDisplaySettings:"   ",minVisibleQty:"    ",minVisibleQtyNote:"          (: 1)",stockThreshold:"  ( )",stockThresholdNote:'           " " (: 0)',settingsNote:"        .       .",maintenanceMode:" ",maintenanceModeDesc:'       " "  .',bannerAds:"  ",bannerAdsDesc:"        ",addNewBanner:"  ",newBannerData:"  ",mainTitle:" ",subtitle:" ",buttonText:"  (:  )",colorScheme:"",imageUrl:"  ()",saveAndPublish:" ",uiTextManagement:"   ",uiTextManagementDesc:"        .",saveTexts:" ",erpIntegration:"  (ERP Integration)",erpIntegrationDesc:"   Onyx ERP    ",connectionSettings:" ",erpUrl:"   (Cloud ERP URL)",apiToken:"  (API Token)",syncFrequency:"  (Sync Frequency)",realtime:" (Real-time)",every15Min:" 15 ",hourly:" ",daily:"",environment:" ",production:"Production (Live)",sandbox:"Sandbox (Test)",testConnection:"  ",connecting:" ...",connectionSuccess:"    (200 OK)",connectionFailed:" :   ",sharedData:"   API",sharedDataDesc:"        ",productsItems:" ",productsItemsDesc:"  ",ordersData:"",ordersDataDesc:"  ",customersData:"",customersDataDesc:"  ",quotesData:" ",quotesDataDesc:"  ",inventoryData:"",inventoryDataDesc:"  ",priceLists:" ",priceListsDesc:"  ",syncDirection:" ",pullOnly:"  ERP ",pullOnlyDesc:"    ",pushOnly:"  ERP ",pushOnlyDesc:"   ",bidirectional:" ",bidirectionalDesc:"   ",webhooks:"Webhooks ( )",webhooksDesc:"        ",addWebhook:"",events:"",webhookAdded:"  Webhook ",loadingFailed:"   ",settingsSaved:"   ",saveError:"   ",fillTitleAndDesc:"   ",bannerAdded:"  ",bannerDeleted:"  ",confirmDeleteBanner:"      ",hide:"",show:"",darkGray:"  ()",royalBlue:" ",vibrantOrange:" ",darkGreen:" ",loading:" ...",advancedSettings:" ",loggingLevel:" ",loggingLevelBasic:"Basic",loggingLevelDetailed:"Detailed",loggingLevelDebug:"Debug ()",retryOnFail:"   ",retryAttempts:"",timeout:"  (Timeout)",seconds:"",featureManagement:'  "  "',featureManagementDesc:"      .     .",addNewFeature:"  ",fillAllFields:"   ",featureAdded:"   ",featureDeleted:"  ",title:"",description:"",icon:"",iconBox:"",iconChart:"",iconAnchor:"",iconHeadphones:"",iconTruck:"",iconShield:"",iconGlobe:" ",iconStar:"",iconClock:"",iconAward:"",iconColor:" ",colorCyan:"",colorGreen:"",colorGold:"",colorPurple:"",colorRed:"",colorBlue:"",colorPink:"",colorOrange:"",appearanceCustomization:" ",primaryColor:"  ",primaryColorDesc:"       .",siteLogo:"  (Logo)",uploadNotAvailable:"      ",clickToUploadLogo:"  ",livePreview:" ",livePreviewDesc:"     ",primaryButtonExample:"  ",statusLabelsManagement:"  ",statusLabelsDescription:"            .           .",addNewStatus:"  ",statusKey:" ()",statusLabel:" ",newStatus:" ",backgroundColor:"",preview:"",add:"",statusUpdated:"   ",fillKeyAndName:"   ",keyExists:"   ",statusAdded:"    ",cannotDeleteSystem:"    ",cannotDeleteInUse:"    {{count}}    ",statusDeleted:"   ",defaultStatusSet:"   ",checkingUsage:"   ...",confirmDelete:"    ",yesDelete:" ",systemStatus:"",defaultStatus:"",setAsDefault:" ",systemStatuses:" ",systemStatusesDesc:"         .      .",defaultStatusInfo:" ",defaultStatusInfoDesc:"    .        .",statusCategories:{orderStatus:"  ( )",orderInternalStatus:"  ",accountRequestStatus:"  ",quoteRequestStatus:"  ",quoteItemStatus:"  ",missingStatus:" ",importRequestStatus:"  ",customerStatus:" ",staffStatus:" "},guestMode:" ",guestModeSettings:"  ",guestModeSettingsDesc:"         .  /     .",guestBrowsingEnabled:"  ",guestBrowsingEnabledDesc:"      ",visibleSections:"  ( )",visibleSectionsDesc:"       ",showBusinessTypes:' " " ( )',showMainServices:"  ",showHowItWorks:' "  "',showWhySiniCar:' "  "',showCart:"  ",showMarketingCards:"  ",blurSettings:" ",blurIntensity:" ",blurLight:"",blurMedium:"",blurHeavy:"",showBlurOverlay:"    ",showBlurOverlayDesc:'  " "   ',searchSettings:"  ",allowSearch:" ",allowSearchDesc:"    ( )",showSearchResults:"  ",showSearchResultsDesc:"     ",guestSettingsSaved:"     ",general:{title:" ",siteName:" ",siteDescription:" ",contactEmail:"  ",contactPhone:" ",currency:"",language:"",timezone:" ",save:"",saved:"  "},business:{title:" ",minOrderAmount:"  ",maxOrderAmount:"  ",deliveryFee:" ",taxRate:" "},notifications:{title:" ",emailNotifications:" ",smsNotifications:" ",pushNotifications:" "},security:{title:" ",twoFactorAuth:" ",sessionTimeout:" ",maxLoginAttempts:"   "}},rae={title:" ",newOrders:" ",inProgress:" ",readyToShip:" ",totalOrders:" ",searchOrder:"     ...",allStatuses:" ",allInternalStatuses:"  ",orderNumber:" ",customer:"",date:"",total:"",status:"",internalStatus:" ",actions:"",noOrders:"  ",orderDetails:" ",customerInfo:" ",orderItems:" ",statusHistory:" ",internalNotes:" ",updateStatus:" ",updateInternalStatus:"  ",externalStatusUpdated:"    ",internalStatusUpdated:"    ",updateFailed:"  ",statusLabels:{pending:" ",approved:" ",shipped:" ",delivered:" ",rejected:"",cancelled:""},internalStatusLabels:{new:"",sentToWarehouse:" ",waitingPayment:" ",paymentConfirmed:" ",salesInvoiceCreated:"  ",readyForShipment:" ",completedInternal:" ",cancelledInternal:" "},details:"",name:"",userId:"",product:"",quantity:"",price:"",itemTotal:"",grandTotal:" ",changedStatusTo:"  ",noHistory:"   ",externalStatus:"  (External)",externalStatusDesc:"      .",noStatusPermission:"    ",internalStatusTitle:"  (Internal)",internalStatusDesc:"  .   .",notesPlaceholder:"     ...",saveNotes:" ",noInternalPermission:"     ",dangerZone:" ",cancelOrder:"  ",noPermission:"  ",stats:{pending:" ",processing:" ",shipped:" ",delivered:" ",cancelled:"",total:"",new:"",ready:" "},searchPlaceholder:"    ...",table:{orderId:" ",customer:"",items:"",total:"",date:"",status:"",actions:""},view:"",approve:"",ship:"",deliver:"",cancel:"",orderUpdated:"  ",shippingInfo:" ",paymentInfo:" ",noteAdded:"  "},aae={title:"   ",newRequests:" ",underReview:" ",approved:" ",rejected:"",searchAccount:"     ...",allStatuses:" ",businessName:" ",phone:"",requestDate:" ",status:"",actions:"",noRequests:"  ",requestDetails:" ",businessInfo:" ",contactInfo:" ",documents:"",decision:"",priceLevel:" ",customerType:" ",searchPoints:" ",initialPoints:" ",monthlyPoints:" ",portalAccess:" ",startDate:" ",endDate:" ",openEnded:"",staffAccess:" ",canCreateStaff:"  ",maxStaffUsers:"  ",adminNotes:" ",saveDecision:" ",decisionSaved:"   ",saveError:"   ",statusLabels:{new:" ",underReview:" ",approved:" ",rejected:"",onHold:""},documentTypes:{crCertificate:" ",vatCertificate:"  ",nationalId:" ",authorizationLetter:" ",other:" "}},sae={stats:{newRequests:" ",underReview:" ",approved:" ",rejected:""},status:{new:" ",underReview:" ",approved:" ",rejected:"",onHold:""},docTypes:{crCertificate:" ",vatCertificate:"  ",nationalId:" ",authLetter:" ",other:" "},categories:{spareParts:"  ",rental:" ",insurance:" ",agent:""},searchPlaceholder:"   ...",allStatuses:" ",table:{businessName:"  / ",activityType:" ",city:"",date:"",status:"",actions:""},approvedAccount:" ",view:"",noMatchingRequests:"   ",panel:{title:"  ",customerData:" ",businessName:" ",activity:"",city:"",contactNumber:" ",crNumber:" ",vatNumber:" ",customerNotes:" ",attachedDocuments:" ",adminDecision:"  "},form:{requestStatus:" ",statusNew:"",statusUnderReview:" ",statusApproved:" ()",statusRejected:"",statusOnHold:"",customerType:" ",typePartsShop:"  ",typeRentalCompany:" ",typeInsuranceCompany:" ",typeSalesAgent:"",typeFleetCustomer:" ",typeOther:"",priceLevel:" ",level1:"Level 1 (VIP -  )",level2:"Level 2 ()",level3:"Level 3 (/)",levelSpecial:"",accessValidity:" ",to:"",openEnded:"  (  )",searchPoints:"  ",initialBalance:" ",monthlyRenewal:" ",allowAddStaff:"  ",maxLimit:" ",adminNotes:"  ( )",notesPlaceholder:"    ...",saveDecision:" ",cancel:""},toast:{saveSuccess:"   ",saveError:"   "}},nae={title:"  ",pendingQuotes:" ",completedQuotes:" ",searchQuote:"     ...",allStatuses:" ",quoteNumber:" ",customer:"",date:"",itemsCount:" ",status:"",actions:"",noQuotes:"   ",quoteDetails:"  ",requestedItems:" ",response:"",sendResponse:" ",stats:{new:"",inProgress:" ",completed:"",approved:""},searchPlaceholder:"    ...",table:{quoteId:"  ",customer:"",items:"",priceType:" ",date:"",status:"",actions:""},view:"",process:"",complete:"",approve:"",quoteUpdated:"   ",pricedItems:" ",missingItems:" "},iae={title:" ",subtitle:"    ",searchPlaceholder:"  ...",addProduct:" ",importExcel:" Excel",exportExcel:" Excel",columnSettings:" ",visibilitySettings:" ",stats:{totalProducts:" ",inStock:"",outOfStock:" ",hidden:""},table:{partNumber:" ",name:" ",brand:"",quantity:"",price:"",visibility:"",actions:""},modal:{addTitle:"  ",editTitle:" ",deleteConfirm:" ",deleteMessage:"      ",importTitle:"  Excel",columnSettingsTitle:"  Excel"},form:{partNumber:" ",name:" ",brand:"",quantity:"",price:"",costPrice:" ",description:"",isVisible:" ",save:"",cancel:""},import:{selectFile:"  Excel",dragDrop:"    ",processing:" ...",success:"  ",imported:" ",updated:" ",skipped:" ",errors:""},validation:{partNumberRequired:"  ",nameRequired:"  ",priceInvalid:"  ",quantityInvalid:"  "},toast:{productCreated:"   ",productUpdated:"   ",productDeleted:"   ",importSuccess:"   ",createError:"   ",updateError:"   ",deleteError:"   ",importError:"   ",loadError:"   ",visibilityThresholdSaved:"     "},presets:{title:"  ",name:" ",isDefault:"",mappings:" ",internalField:" ",excelHeader:" Excel",enabled:"",required:"",addPreset:"  ",editPreset:" ",deletePreset:" ",savePreset:" ",toast:{presetCreated:"   ",presetUpdated:"   ",presetDeleted:"   ",presetSetDefault:"   "}},uploadExcel:" Excel",downloadTemplate:" ",loading:" ...",noProducts:"  ",noMatchingProducts:"   ",partNumber:" ",productName:" ",quantity:"",price:"",category:"",actions:"",edit:"",delete:"",deleteConfirm:"      ",productDeleted:"  ",productSaved:"  ",productCreated:"  ",importModal:{title:" ",selectFile:"  Excel",importing:" ...",importSuccess:"  ",imported:" ",updated:" ",skipped:" ",errors:""},productModal:{editTitle:" ",addTitle:"  ",save:"",cancel:""},columnPresets:{title:"  Excel",presetName:" ",enterPresetName:"   ",created:"   ",saved:"  ",deleteConfirm:"      ",deleted:"  ",setDefault:" ",isDefault:""},visibility:{title:" ",threshold:"  ",saved:"   "},pagination:{showing:"",of:"",products:"",previous:"",next:""},selectProductsFirst:"   ",selectedCount:"  {{count}} ",visibilityApplied:"      {{count}} ",visibilityRemoved:"      {{count}} ",loadFailed:"   ",importFailed:"  ",templateDownloaded:"   Excel",templateDownloadFailed:"   ",partAndNameRequired:"   ",deleteFailed:"   "},lae={title:" ",subtitle:"     ",tabs:{users:"",roles:" "},searchPlaceholder:"  ...",allRoles:" ",allStatuses:" ",addUser:" ",exportUsers:" ",table:{user:"",role:"",contact:"",lastLogin:" ",status:"",actions:"",name:"",email:" ",phone:""},status:{active:"",inactive:" ",ACTIVE:"",SUSPENDED:"",PENDING:" "},modal:{addTitle:"  ",editTitle:" ",deleteConfirm:" ",deleteMessage:"      ",resetPassword:"   ",toggleStatus:" "},form:{fullName:" ",username:" ",email:" ",phone:" ",role:"",password:" ",newPassword:"  ",confirmPassword:"  ",save:"",cancel:""},validation:{nameRequired:" ",usernameRequired:"  ",emailRequired:"  ",emailInvalid:"   ",passwordRequired:"  ",passwordMinLength:"     6   ",roleRequired:" "},toast:{userCreated:"   ",userUpdated:"   ",userDeleted:"   ",passwordReset:"    ",statusChanged:"   ",createError:"   ",updateError:"   ",deleteError:"   ",loadError:"   "},roles:{title:" ",addRole:"  ",editRole:" ",deleteRole:" ",roleName:" ",roleDescription:" ",permissions:"",usersCount:" ",isSystemRole:" ",noRoles:"  ",toast:{roleCreated:"   ",roleUpdated:"   ",roleDeleted:"   "},SUPER_ADMIN:" ",ADMIN:"",MANAGER:"",STAFF:"",CUSTOMER_OWNER:" ",CUSTOMER_STAFF:" "},stats:{total:" ",admins:"",staff:"",active:""},noUsers:"  ",editUser:" ",deleteUser:" ",deleteConfirm:"      ",userCreated:"  ",userUpdated:"  ",userDeleted:"  ",resetPassword:"   ",passwordReset:"    "},oae={title:"   ",message:"         ",contactAdmin:"    ",requestedPage:" ",goBack:"",goHome:" ",errorCode:" "},cae={searchPlaceholder:"    ...",allStatuses:" ",table:{requestNumber:" ",businessCustomer:" / ",uploadDate:" ",itemsCount:" ",priceType:" ",status:"",actions:""},reviewDetails:" / ",noRequests:"  ",panel:{reviewRequest:" ",proposedTotal:" ",approving:" ...",approveAndSend:"  ",selectAll:" ",changeSelectedStatus:"  ",available:" (Approved)",unavailable:"  (Missing)",rejected:" (Rejected)",customerPartNumber:"  ()",customerPartName:"  ()",quantity:"",matchedProduct:" ( )",price:"",decision:"",notes:"",generalNotes:"  ",notesPlaceholder:"   ...",itemStatus:{approved:"",missing:" ",rejected:"",pending:""}},status:{new:"",underReview:" ",partiallyApproved:" ",approved:" ",quoted:" ",processed:" ",rejected:""},toast:{itemsUpdated:"  {{count}} ",approvedWithoutPriceWarning:"    .   ",pricingSentSuccess:"     ",saveError:"   ",quoteSaved:"   ",quoteSaveFailed:"    "}},dae={tabs:{all:"",fromSearch:" ",fromQuote:" "},stats:{totalMissing:" ",newMissing:" ",underReview:" ",ordered:" ",solved:" ",orderedImport:"  / ",addedToStock:" ",fromQuote:" ",fromSearch:" "},searchPlaceholder:"  ...",allStatuses:" ",noMatchingMissing:"   ",table:{partNumber:"  / ",partInfo:" ",requestCount:" ",requestFrequency:" ",interestedCustomers:" ",source:"",date:"",lastRequest:" ",status:"",actions:""},source:{search:"",quote:""},actions:{details:"",linkToImport:"  ",addToStock:" ",saving:" ...",saveChanges:" "},view:"",noMatchingParts:"   ",pagination:{page:"",of:""},export:{partNumber:" ",itemName:" ",source:"",requestCount:" ",customerCount:" ",status:"",lastRequest:" ",adminNotes:" "},panel:{title:"  ",missingDetails:" ",partDetails:" ",requestedItem:" ",suggestedName:" ",brand:"",searchQuery:" ",partNumber:" ",partName:" ",requestCount:"  ",differentCustomers:" ",source:" ",sourceQuote:":  ",firstRequest:" ",lastRequest:" ",requestingCustomers:" ",updateStatus:" ",followUp:" ",internalNotes:" ",adminNotes:" ",notesPlaceholder:"   (:    ...)",saving:" ...",saveStatus:" "},status:{new:" ",underReview:" ",orderPlanned:" ",ordered:" ",addedToStock:" ",ignored:" "},sourceLabels:{search:"",quote:""},toast:{statusUpdated:"    ",saveError:"   ",exportSuccess:"   ",exportFailed:" ",linkImportSoon:"    ",redirectToAddProduct:"    ..."}},uae={stats:{newRequests:" ",pending:"",inProgress:" ",awaitingCustomer:" ",completed:"",delivered:" "},table:{requestNumber:" ",customer:"",service:"",requestDate:" ",date:"",category:"",status:"",action:"",actions:""},serviceType:{fullService:"",processingOnly:" ",fullImport:" ",goodsPreparation:" "},actions:{manageRequest:" ",startReview:" ",requestItemsFile:"  ",cancelRequest:" "},viewDetails:" ",noRequests:"   ",modal:{manageRequest:"  ",currentStatus:" ",timeline:"  (Timeline)"},pricing:{preparePricing:"  ",customerFile:" ",download:"",waitingForFile:"     ...",totalOffer:"  (.)",sendToCustomer:"  "},details:{title:" ",requestedBrands:" ",serviceType:" ",branchesCount:" ",estimatedValue:" ",customerNotes:" "},statusControl:{title:"  ()",hint:"       (  ...)"},panel:{title:"  ",requestInfo:" ",customer:"",category:"",description:"",estimatedQuantity:" ",timeline:" ",updateStatus:" ",pricingSection:" ",totalAmount:" ",enterAmount:" ",note:"",notePlaceholder:" ...",sendPricing:"  "},status:{new:" ",underReview:" ",waitingCustomerExcel:"  ",pricingInProgress:" ",pricingSent:"  ",waitingCustomerApproval:" ",approvedByCustomer:"  ",inFactory:" ",shipmentBooked:"  ",onTheSea:" ",inPort:" ",customsCleared:" ",onTheWay:" ",delivered:" ",cancelled:""},toast:{statusUpdated:"   ",updateFailed:" ",enterValidAmount:"   ",pricingSent:"    ",sendFailed:" "}},fae={title:"  ",subtitle:"    ",adminTitle:"  ",adminSubtitle:"    ",supplierTitle:"  ",supplierSubtitle:"     ",newRequest:" ",myRequests:"",noRequests:"   ",createFirst:"  ",requestDetails:" ",requestedValue:" ",duration:"",frequency:"",downPayment:" ",requestedItems:" ",product:"",quantity:"",price:"",notes:"",createdAt:" ",cancelRequest:" ",confirmCancel:"     ",requestCancelled:"  ",months:"",monthly:"",weekly:"",pendingOffers:"  ",sinicarOffer:"  ",supplierOffer:"",fullApproval:" ",partialApproval:" ",approvedValue:"  ",installments:" ",installmentAmount:" ",startDate:" ",acceptOffer:" ",rejectOffer:" ",offerAccepted:"   ",offerRejected:"  ",activeContract:" ",totalPaid:"",remaining:"",paidInstallments:" ",overdueInstallments:" ",installmentNumber:" ",dueDate:" ",amount:"",status:"",paid:"",overdue:"",pending:" ",enterTotalValue:"  ",selectProducts:" ",totalValue:"  ",selectProduct:"--   --",total:"",paymentFrequency:" ",minMax:" ",max:" ",unlimited:" ",minDownPayment:" ",paymentPreview:"  ",afterDownPayment:"  ",estimatedInstallment:" ",acceptTerms:"   ",submitRequest:" ",requestCreated:"   ",loadError:"    ",actionError:" ",cancelError:"   ",createError:"    ",minAmountError:"     ",maxAmountError:"     ",minDownPaymentError:"     ",disabled:"    ",disabledDesc:"      ",notesPlaceholder:"  ...",totalRequests:" ",pendingRequests:" ",activeContracts:" ",closedContracts:" ",overdueAmount:"",noRequestsInTab:"     ",requestId:" ",customer:"",date:"",actions:"",review:"",reviewRequest:"  ",yourDecision:"",approveFullAction:" ",approveFullDesc:"   ",approvePartialAction:" ",approvePartialDesc:"    ",rejectAction:"",rejectDesc:" ",approvedAmount:"  ",forwardOnReject:"    ",adminNotes:" ",confirmDecision:" ",decisionRecorded:"  ",requestRejected:"  ",forwarded:"   ",customerNotes:" ",generalSettings:" ",enableSystem:"  ",sinicarPriority:"   ",allowPartialSinicar:"     ",allowPartialSuppliers:"    ",forwardingSettings:" ",autoForwardOnReject:"    ",autoForwardOnPartial:"     ",onCustomerRejectsSinicar:"     ",forwardToSuppliers:" ",closeRequest:" ",financialLimits:" ",minAmount:" ",maxAmount:" ",requireDownPayment:"  ",minDownPercent:"  %",maxDownPercent:"  %",durationSettings:" ",minMonths:"  ()",maxMonths:"  ()",defaultFrequency:" ",settingsSaved:"  ",settingsError:"    ",noCreditProfiles:"   ",creditScore:" ",availableRequests:" ",submittedOffers:" ",pendingDecisions:" ",availableForOffer:"  ",noAvailableRequests:"    ",submitOffer:" ",mySubmittedOffers:" ",myOffer:"",perInstallment:"",anonymousCustomer:"",requestedDuration:" ",fullOffer:" ",partialOffer:" ",offerAmount:" ",numberOfInstallments:" ",offerSummary:" ",offerSubmitted:"   ",offerError:"    ",invalidAmount:"  "},mae={title:" ",stats:{total:" ",active:"",pending:" ",suspended:""},searchPlaceholder:"   ...",allStatuses:" ",table:{name:"",phone:"",referralCode:" ",referrals:"",earnings:"",status:"",actions:""},status:{ACTIVE:"",PENDING:" ",SUSPENDED:""},noMarketers:"  ",view:"",activate:"",suspend:"",delete:"",addMarketer:" ",marketerDetails:" ",referralHistory:" ",commissionHistory:" ",payoutHistory:" ",pendingPayout:" ",totalEarnings:" ",marketerUpdated:"  ",marketerCreated:"  "},hae={title:" ",stats:{total:" ",active:"",scheduled:"",expired:""},searchPlaceholder:"  ...",allStatuses:" ",table:{title:"",type:"",placement:"",startDate:" ",endDate:" ",status:"",actions:""},status:{ACTIVE:"",SCHEDULED:"",PAUSED:" ",EXPIRED:""},noAds:"  ",addAd:" ",editAd:" ",deleteAd:" ",deleteConfirm:"      ",adCreated:"  ",adUpdated:"  ",adDeleted:"  ",uploadImage:" ",adDetails:" "},pae={title:" ",stats:{totalRequests:" ",pending:" ",approved:"",rejected:"",active:""},searchPlaceholder:"   ...",allStatuses:" ",table:{requestId:" ",customer:"",product:"",amount:"",installments:"",status:"",actions:""},status:{PENDING:" ",APPROVED:"",REJECTED:"",ACTIVE:"",COMPLETED:"",DEFAULTED:""},noRequests:"   ",view:"",approve:"",reject:"",requestDetails:" ",customerInfo:" ",productInfo:" ",paymentSchedule:" ",paymentHistory:" ",monthlyPayment:" ",totalAmount:" ",remainingAmount:" ",dueDate:" ",requestApproved:"   ",requestRejected:"  "},xae={common:_re,login:Cre,loading:Tre,intro:Ore,marketing:kre,guestMode:Rre,register:Pre,nav:Dre,dashboard:Ire,products:Mre,orders:Lre,cart:Fre,customers:Ure,users:Bre,roles:zre,permissions:qre,settings:$re,accountRequests:Hre,statusLabels:Vre,reports:Gre,notifications:Wre,errors:Xre,confirmations:Yre,admin:Kre,sidebar:Qre,customerDashboard:Jre,adminDashboard:Zre,adminCustomers:eae,adminSettings:tae,adminOrders:rae,adminAccounts:aae,adminAccountRequests:sae,adminQuotes:nae,adminProducts:iae,adminUsers:lae,accessDenied:oae,adminQuoteManager:cae,adminMissingParts:dae,adminImport:uae,installment:fae,adminMarketers:mae,adminAdvertising:hae,adminInstallments:pae},gae={appName:"Sini Car",siniCar:"Sini Car",appSlogan:"Wholesale Auto Parts Portal",loading:"Loading...",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",reset:"Reset",back:"Back",next:"Next",previous:"Previous",close:"Close",submit:"Submit",yes:"Yes",no:"No",all:"All",none:"None",export:"Export",import:"Import",refresh:"Refresh",view:"View",details:"Details",actions:"Actions",status:"Status",date:"Date",time:"Time",total:"Total",price:"Price",quantity:"Quantity",name:"Name",email:"Email",phone:"Phone",address:"Address",city:"City",region:"Region",country:"Country",notes:"Notes",description:"Description",active:"Active",inactive:"Inactive",enabled:"Enabled",disabled:"Disabled",success:"Success",error:"Error",warning:"Warning",info:"Info",noData:"No data",noResults:"No results found",selectOption:"Select an option",required:"Required",optional:"Optional",language:"Language",welcome:"Welcome",page:"Page",of:"of",currency:"SAR",order:"Order",notSpecified:"Not specified",sort:"Sort",download:"Download",upload:"Upload",first:"First",last:"Last",selectAll:"Select All",deselectAll:"Deselect All"},bae={wholesaleLogin:"Wholesale Customer Login",b2bPortal:"SINI CAR B2B PORTAL",ownerLogin:"Business Owner",staffLogin:"Staff Login",clientId:"Client ID",phoneNumber:"Phone Number",password:"Password",activationCode:"Activation Code",rememberMe:"Remember me",forgotPassword:"Forgot password?",enter:"Login",verifying:"Verifying...",secureConnection:"SECURE CONNECTION ENCRYPTED",securityNote:"This system is protected with high-level security protocols. All operations are logged and monitored.",openNewAccount:"Request New Account",invalidCredentials:"Invalid credentials",loginSuccess:"Login successful",logoutSuccess:"Logout successful",enterAsGuest:"Browse as Guest",guest:"Guest",guestWelcome:"Welcome as a guest! You can browse products only",title:"Login",subtitle:"Enter your credentials to continue",phone:"Phone Number",phonePlaceholder:"Enter phone number",passwordPlaceholder:"Enter password",loginButton:"Login",loggingIn:"Logging in...",noAccount:"Don't have an account?",registerHere:"Register here",errors:{phoneRequired:"Phone number is required",passwordRequired:"Password is required",invalidCredentials:"Invalid credentials",accountSuspended:"Account is suspended",tooManyAttempts:"Too many attempts. Try later"},success:"Login successful"},vae={verifyingCredentials:"Verifying Secure Credentials",connectingWarehouse:"Connecting to Global Warehouse",loadingCatalog:"Fetching Product Catalog",applyingDiscounts:"Applying Exclusive Wholesale Rates",syncingInventory:"Syncing Real-time Inventory",optimizingLogistics:"Optimizing Logistics Routes",finalizingSetup:"Finalizing Dashboard Setup",accessGranted:"Access Granted"},yae={mainServer:"Main Server",connectingServer:"Connecting and verifying identity...",dataSync:"Data Sync",syncingData:"Updating price lists and inventory...",logistics:"Logistics Connection",connectingWarehouses:"Connecting to Sini Car central warehouses..."},Sae={dismiss:"Dismiss",campaignOf:"Campaign {{current}} of {{total}}",next:"Next",understood:"Got it"},wae={restrictedTitle:"Exclusive B2B Wholesale Service",restrictedSubtitle:"Sini Car Business Platform",restrictedMessage:"We exclusively serve:",targetAudience:{partsStores:"Auto Parts Stores",insuranceCompanies:"Insurance Companies",rentalCompanies:"Car Rental Companies",salesReps:"Sales Representatives & Agents"},benefitsTitle:"Full Membership Benefits",benefits:{prices:"Competitive wholesale prices",catalog:"Complete parts catalog",orders:"Fast orders with real-time tracking",support:"Dedicated technical support"},callToAction:"If you're in one of these industries, register now for full membership access!",loginButton:"Login",requestAccountButton:"Request New Account",browseOnly:"Continue Browsing",blurredResultsNote:"Register to view details and prices",loginToAccess:"Login for full access",searchDisabled:"Login to search products"},Nae={title:"New Account Request",openNewAccount:"Open New Account",subtitle:"Join Sini Car certified network and benefit from wholesale prices, fast shipping, and specialized technical support.",businessInfo:"Business Information",businessName:"Business Name",businessNameAr:"Business Name (Arabic)",businessNameEn:"Business Name (English)",commercialRegister:"Commercial Register",taxNumber:"Tax Number",businessType:"Business Type",selectBusinessType:"Select Business Type",contactInfo:"Contact Information",ownerName:"Contact Person Name",ownerPhone:"Owner Phone",ownerEmail:"Email Address (Optional)",addressInfo:"Address Information",fullAddress:"Full Address",nationalAddress:"National Address (Short)",nationalAddressPlaceholder:"e.g., RDJ2929",city:"City",region:"Region",postalCode:"Postal Code",branchesCount:"Number of Branches",submitRequest:"Submit Account Request",backToLogin:"Back to Login",requestSuccess:"Your request has been received successfully!",requestPending:"Your request is under review",requestSuccessMessage:"Thank you for your interest. Sini Car customer relations team will review the data and contact you to activate your account and send login credentials.",backToHome:"Back to Home",benefits:{exclusivePrices:"Exclusive wholesale prices",instantAccess:"Instant inventory access",taxInvoices:"Certified tax invoices"},businessTypes:{sparePartsShop:"Spare Parts Shop",maintenanceCenter:"Maintenance Center",insuranceCompany:"Insurance Company",rentalCompany:"Car Rental",salesRep:"Sales Representative",workshop:"Maintenance Workshop",store:"Parts Store",distributor:"Distributor",agency:"Agency",other:"Other"},salesRepFields:{fullName:"Full Name",phone:"Phone Number",region:"Region / Cities Covered",email:"Email (Optional)",clientsType:"Clients Type (workshops, shops...)",clientsCount:"Approximate Clients Count"},documents:{title:"Required Documents",requiredDocuments:"Required Documents",instructions:"Please upload the following documents in PDF or clear image format. They will be reviewed by the approval team.",uploadNotice:"Please upload the following documents in PDF or clear image format. They will be reviewed by the approval team.",crCertificate:"Commercial Register Certificate",vatCertificate:"VAT Registration Certificate",nationalId:"National ID Copy",nationalAddressCert:"National Address Certificate",clickToUpload:"Click to upload file",fileTypes:"PDF, JPEG, PNG, WebP (max 5MB)",uploadSuccess:"uploaded successfully",invalidFileType:"Invalid file type. Please use PDF or images (JPEG, PNG, WebP)",fileTooLarge:"File too large. Maximum size is 5MB"},businessFields:{businessName:"Business Name",branchesCount:"Number of Branches",city:"City",nationalAddress:"National Address (Short)",nationalAddressPlaceholder:"e.g., RDJ2929",commercialReg:"Commercial Register",vatNumber:"VAT Number",contactPerson:"Contact Person",phone:"Phone Number",emailOptional:"Email (Optional)"},success:{title:"Your request has been received successfully!",message:"Thank you for your interest. Sini Car customer relations team will review the data and contact you to activate your account and send login credentials.",backToHome:"Back to Home"},validation:{phoneRequired:"Phone number is required",fullNameRequired:"Full name is required",regionRequired:"Region is required",businessNameRequired:"Business name is required",cityRequired:"City is required",contactPersonRequired:"Contact person name is required",commercialRegRequired:"Commercial register is required",vatRequired:"VAT number is required",nationalAddressRequired:"National address is required",documentRequired:"is required"},additionalNotes:"Additional Notes",submitting:"Submitting...",submitError:"An error occurred during submission"},jae={home:"Home",dashboard:"Dashboard",products:"Products",catalog:"Catalog",orders:"Orders",myOrders:"My Orders",cart:"Cart",customers:"Customers",users:"Users",roles:"Roles",settings:"Settings",profile:"Profile",notifications:"Notifications",reports:"Reports",analytics:"Analytics",help:"Help",support:"Support",about:"About",contact:"Contact Us",logout:"Logout",accountRequests:"Account Requests",statusLabels:"Status Labels",systemSettings:"System Settings"},Eae={title:"Dashboard",welcome:"Welcome",overview:"Overview",statistics:"Statistics",recentOrders:"Recent Orders",recentActivity:"Recent Activity",quickActions:"Quick Actions",totalSales:"Total Sales",totalOrders:"Total Orders",totalCustomers:"Total Customers",totalProducts:"Total Products",pendingOrders:"Pending Orders",processingOrders:"Processing Orders",completedOrders:"Completed Orders",cancelledOrders:"Cancelled Orders",revenue:"Revenue",salesChart:"Sales Chart",topProducts:"Top Selling Products",topCustomers:"Top Customers",lowStock:"Low Stock",newCustomers:"New Customers",monthlyRevenue:"Monthly Revenue",weeklyOrders:"Weekly Orders",dailySales:"Daily Sales",customerDashboard:"Customer Dashboard",adminDashboard:"Admin Dashboard"},Aae={title:"Products",catalog:"Product Catalog",addProduct:"Add Product",editProduct:"Edit Product",deleteProduct:"Delete Product",productDetails:"Product Details",productName:"Product Name",productNameAr:"Product Name (Arabic)",productNameEn:"Product Name (English)",sku:"SKU",barcode:"Barcode",category:"Category",subcategory:"Subcategory",brand:"Brand",manufacturer:"Manufacturer",price:"Price",wholesalePrice:"Wholesale Price",retailPrice:"Retail Price",costPrice:"Cost Price",stock:"Stock",stockQuantity:"Stock Quantity",minStock:"Minimum Stock",maxStock:"Maximum Stock",unit:"Unit",weight:"Weight",dimensions:"Dimensions",image:"Image",images:"Images",specifications:"Specifications",description:"Description",shortDescription:"Short Description",longDescription:"Long Description",tags:"Tags",status:"Status",available:"Available",outOfStock:"Out of Stock",discontinued:"Discontinued",featured:"Featured",newArrival:"New Arrival",bestSeller:"Best Seller",onSale:"On Sale",discount:"Discount",addToCart:"Add to Cart",buyNow:"Buy Now",quantity:"Quantity",totalPrice:"Total Price",searchProducts:"Search products...",filterByCategory:"Filter by Category",filterByBrand:"Filter by Brand",filterByPrice:"Filter by Price",sortBy:"Sort by",priceAsc:"Price: Low to High",priceDesc:"Price: High to Low",nameAsc:"Name: A-Z",nameDesc:"Name: Z-A",newest:"Newest",oldest:"Oldest",noProducts:"No products found",productAdded:"Product added successfully",productUpdated:"Product updated successfully",productDeleted:"Product deleted successfully"},_ae={title:"Orders",myOrders:"My Orders",allOrders:"All Orders",newOrder:"New Order",createOrder:"Create Order",orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Order Status",orderItems:"Order Items",orderTotal:"Order Total",subtotal:"Subtotal",tax:"Tax",shipping:"Shipping",discount:"Discount",grandTotal:"Grand Total",paymentMethod:"Payment Method",paymentStatus:"Payment Status",shippingAddress:"Shipping Address",billingAddress:"Billing Address",trackOrder:"Track Order",cancelOrder:"Cancel Order",reorder:"Reorder",printInvoice:"Print Invoice",downloadInvoice:"Download Invoice",orderConfirmed:"Order Confirmed",orderShipped:"Shipped",orderDelivered:"Delivered",orderCancelled:"Cancelled",orderPending:"Pending",orderProcessing:"Processing",orderCompleted:"Completed",orderRefunded:"Refunded",noOrders:"No orders found",searchOrders:"Search orders...",filterByStatus:"Filter by Status",filterByDate:"Filter by Date",orderCreated:"Order created successfully",orderUpdated:"Order updated successfully",orderCancelledSuccess:"Order cancelled successfully"},Cae={title:"Shopping Cart",emptyCart:"Your cart is empty",addItems:"Add products to your cart",continueShopping:"Continue Shopping",checkout:"Checkout",clearCart:"Clear Cart",updateCart:"Update Cart",itemAdded:"Item added to cart",itemRemoved:"Item removed from cart",cartUpdated:"Cart updated",cartCleared:"Cart cleared",proceedToCheckout:"Proceed to Checkout",estimatedTotal:"Estimated Total"},Tae={title:"Customers",allCustomers:"All Customers",addCustomer:"Add Customer",editCustomer:"Edit Customer",customerDetails:"Customer Details",customerName:"Customer Name",clientId:"Client ID",businessName:"Business Name",contactPerson:"Contact Person",phone:"Phone",email:"Email",address:"Address",city:"City",region:"Region",creditLimit:"Credit Limit",currentBalance:"Current Balance",totalPurchases:"Total Purchases",lastOrder:"Last Order",status:"Status",activeCustomer:"Active Customer",inactiveCustomer:"Inactive Customer",blockedCustomer:"Blocked Customer",verifiedCustomer:"Verified Customer",pendingVerification:"Pending Verification",searchCustomers:"Search customers...",noCustomers:"No customers found",customerAdded:"Customer added successfully",customerUpdated:"Customer updated successfully",customerDeleted:"Customer deleted successfully"},Oae={title:"Users",allUsers:"All Users",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",userDetails:"User Details",username:"Username",fullName:"Full Name",email:"Email",phone:"Phone",role:"Role",permissions:"Permissions",status:"Status",activeUser:"Active User",inactiveUser:"Inactive User",lastLogin:"Last Login",createdAt:"Created At",searchUsers:"Search users...",noUsers:"No users found",userAdded:"User added successfully",userUpdated:"User updated successfully",userDeleted:"User deleted successfully",passwordReset:"Password reset successfully",sendPasswordReset:"Send Password Reset"},kae={title:"Roles & Permissions",allRoles:"All Roles",addRole:"Add Role",editRole:"Edit Role",deleteRole:"Delete Role",roleDetails:"Role Details",roleName:"Role Name",roleDescription:"Role Description",permissions:"Permissions",assignedUsers:"Assigned Users",superAdmin:"Super Admin",admin:"Admin",manager:"Manager",salesManager:"Sales Manager",salesAgent:"Sales Agent",viewer:"Viewer",customer:"Customer",staff:"Staff",noRoles:"No roles found",roleAdded:"Role added successfully",roleUpdated:"Role updated successfully",roleDeleted:"Role deleted successfully"},Rae={title:"Permissions",viewDashboard:"View Dashboard",viewProducts:"View Products",manageProducts:"Manage Products",viewOrders:"View Orders",manageOrders:"Manage Orders",viewCustomers:"View Customers",manageCustomers:"Manage Customers",viewUsers:"View Users",manageUsers:"Manage Users",viewRoles:"View Roles",manageRoles:"Manage Roles",viewSettings:"View Settings",manageSettings:"Manage Settings",viewReports:"View Reports",exportData:"Export Data",importData:"Import Data",deleteData:"Delete Data",fullAccess:"Full Access"},Pae={title:"Settings",general:"General",appearance:"Appearance",language:"Language",selectLanguage:"Select Language",notifications:"Notifications",security:"Security",privacy:"Privacy",account:"Account",profile:"Profile",changePassword:"Change Password",twoFactorAuth:"Two-Factor Authentication",sessions:"Sessions",apiKeys:"API Keys",webhooks:"Webhooks",integrations:"Integrations",backup:"Backup",restore:"Restore",export:"Export",import:"Import",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",autoMode:"Auto",timezone:"Timezone",dateFormat:"Date Format",currency:"Currency",settingsSaved:"Settings saved",settingsReset:"Settings reset"},Dae={title:"Account Requests",pending:"Pending",approved:"Approved",rejected:"Rejected",underReview:"Under Review",requestDate:"Request Date",reviewDate:"Review Date",reviewedBy:"Reviewed By",approve:"Approve",reject:"Reject",requestDetails:"Request Details",noRequests:"No requests found",requestApproved:"Request approved",requestRejected:"Request rejected"},Iae={title:"Status Labels",addLabel:"Add Label",editLabel:"Edit Label",deleteLabel:"Delete Label",labelName:"Label Name",labelNameAr:"Label Name (Arabic)",labelNameEn:"Label Name (English)",labelColor:"Label Color",labelType:"Label Type",orderStatus:"Order Status",customerStatus:"Customer Status",productStatus:"Product Status",noLabels:"No labels found",labelAdded:"Label added successfully",labelUpdated:"Label updated successfully",labelDeleted:"Label deleted successfully"},Mae={title:"Reports",salesReport:"Sales Report",ordersReport:"Orders Report",customersReport:"Customers Report",productsReport:"Products Report",inventoryReport:"Inventory Report",financialReport:"Financial Report",generateReport:"Generate Report",downloadReport:"Download Report",printReport:"Print Report",dateRange:"Date Range",from:"From",to:"To",today:"Today",yesterday:"Yesterday",thisWeek:"This Week",lastWeek:"Last Week",thisMonth:"This Month",lastMonth:"Last Month",thisYear:"This Year",custom:"Custom"},Lae={title:"Notifications",allNotifications:"All Notifications",unread:"Unread",read:"Read",markAsRead:"Mark as Read",markAllAsRead:"Mark All as Read",clearAll:"Clear All",noNotifications:"No notifications",newOrder:"New Order",orderUpdate:"Order Update",newCustomer:"New Customer",lowStock:"Low Stock",paymentReceived:"Payment Received",systemUpdate:"System Update"},Fae={somethingWrong:"Something went wrong",tryAgain:"Please try again",pageNotFound:"Page not found",accessDenied:"Access denied",sessionExpired:"Session expired",networkError:"Network error",serverError:"Server error",validationError:"Validation error",requiredField:"This field is required",invalidEmail:"Invalid email address",invalidPhone:"Invalid phone number",passwordMismatch:"Passwords do not match",weakPassword:"Password is too weak"},Uae={deleteItem:"Are you sure you want to delete this item?",deleteItems:"Are you sure you want to delete selected items?",cancelOrder:"Are you sure you want to cancel this order?",logout:"Are you sure you want to logout?",clearCart:"Are you sure you want to clear the cart?",discardChanges:"Are you sure you want to discard changes?",actionCannotBeUndone:"This action cannot be undone"},Bae={panel:"Admin Panel",systemSettings:"System Settings",manageAll:"Full Management",superAdmin:"Super Admin",salesManager:"Sales Manager",salesAgent:"Sales Agent",viewer:"Viewer Only"},zae={mainMenu:"Main Menu",management:"Management",supportSection:"Support",home:"Home",orders:"Order History",quotes:"Quote Requests",import:"Import from China",traderTools:"Trader Tools",history:"Search History",organization:"Organization Management",teamManagement:"Team Management",support:"About / Support",searchCredits:"Remaining Search Credits",unlimitedSearch:"Unlimited Search"},qae={heroTitle:"Sini Car Wholesale Platform",heroSubtitle:"Unified system for ordering and pricing Chinese auto parts for wholesale customers, insurance companies, rental companies, and parts stores.",searchTip:"Best results when searching by part number",searchPlaceholder:"Enter part number or description...",searching:"Searching...",noResults:"No results",pressSearch:"Press search button for exact search:",partNotAvailable:"Part currently unavailable",noResultsFor:"No results found for:",outOfStock:"Out of Stock",outOfStockMessage:"This part is currently out of stock",available:"Available",priceNotAvailable:"Price unavailable",showPrice:"Price",addToCartTip:"Click (Price) to view details and add product",whoWeServe:"Who We Serve?",partsStores:"Parts Stores",partsStoresDesc:"Organize wholesale orders, manage quotes, and track each order status accurately.",insuranceCompanies:"Insurance Companies",insuranceDesc:"Unified platform for parts requests for accident cases and official approvals management.",rentalCompanies:"Rental Companies",rentalDesc:"Prepare parts for vehicle fleets with complete records of previous orders.",salesReps:"Sales Representatives",salesRepsDesc:"Tool for organizing customer orders you manage in different regions and cities.",mainServices:"Sini Car Main Services",quoteRequests:"Quote Requests (Excel)",quoteRequestsDesc:"Upload your items file and get a complete quote for available and unavailable items in seconds.",importFromChina:"Import from China",importFromChinaDesc:"Custom form for import requests, with our import/export company in three Chinese cities.",wholesaleOrders:"Wholesale Order Management",wholesaleOrdersDesc:"Complete record for each order, with order status, invoice printing, and PDF download.",staffBranches:"Staff & Branch Linking",staffBranchesDesc:"Add staff to your account, set their permissions, and link orders to each branch or rep.",howItWorks:"How Does It Work?",step1Title:"Request Account",step1Desc:"Submit an account request via a form customized for your business type.",step2Title:"Approval & Activation",step2Desc:"We review your data and grant you search and wholesale ordering permissions.",step3Title:"Search & Pricing",step3Desc:"Use smart search by part number or upload Excel files.",step4Title:"Execution & Shipping",step4Desc:"We contact you to complete orders and shipping or special import.",whySiniCar:"Why Sini Car?",expertiseTitle:"Specialized Expertise",expertiseDesc:"Specialists in Chinese auto parts only, ensuring part accuracy.",techTitle:"Technical Integration",techDesc:"Direct link with inventory and accounting system for instant updates.",globalTitle:"Global Presence",globalDesc:"Private import/export offices in 3 major Chinese cities.",supportTitle:"B2B Technical Support",supportDesc:"Dedicated wholesale sales team available all week.",wholesaleCart:"Wholesale Orders Cart",emptyCart:"Cart is empty",useSearchToAdd:"Use search to add items",estimatedTotal:"Estimated Total",submitOrder:"Submit Order",fastShipping:"Fast Shipping",fastShippingDesc:"24-hour delivery to major cities and refrigerated shipping to remote areas.",techSupport:"Specialized Technical Support",techSupportDesc:"Dedicated wholesale sales team available all week.",searchHistory:"Search & View History",partNumber:"Part Number",productName:"Product Name",viewDate:"View Date",recordedPrice:"Recorded Price",noSearchHistory:"No search history yet",sar:"SAR",enterValidPartNumber:"Please enter a valid part number.",unexpectedError:"An unexpected error occurred. Please try again.",orderSubmitError:"Error submitting order",pageView:"Opened page:",addToCart:"Add to Cart",priceModal:{productDetails:"Product Details",wholesalePrice:"Wholesale Price",quantity:"Quantity",total:"Total",addToCart:"Add to Cart",close:"Close"},duplicateConfirm:{title:"Confirm Addition",message:"This product is already in the cart. Add more quantity?",confirm:"Yes, Add Quantity",cancel:"Cancel"},orderSuccess:{title:"Order Submitted Successfully!",message:"We will contact you soon to complete the order"},welcome:"Welcome",dashboard:"Dashboard",searchProducts:"Search Products",search:"Search",recentOrders:"Recent Orders",viewAll:"View All",noRecentOrders:"No recent orders",recentQuotes:"Recent Quote Requests",noRecentQuotes:"No recent quote requests",quickActions:"Quick Actions",newOrder:"New Order",newQuote:"Quote Request",myAccount:"My Account",support:"Support",stats:{totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalSpent:"Total Spent",searchPoints:"Search Points"},searchResults:"Search Results",cart:"Cart",checkout:"Checkout",total:"Total",currency:"SAR"},$ae={mainSection:"Main",ordersCustomersSection:"Orders & Customers",settingsSection:"Settings",dashboard:"Dashboard",activityLog:"Activity Log",customerOrders:"Customer Orders",accountRequests:"Account Requests",customersCRM:"Customers (CRM)",quoteRequests:"Quote Requests",importRequests:"Import Requests",missingParts:"Missing Parts",products:"Products",users:"Users",systemSettings:"System Settings",marketingCenter:"Marketing Center",pricingCenter:"Pricing Center",traderTools:"Trader Tools",supplierMarketplace:"Supplier Marketplace",marketers:"Marketers",installments:"Installment Requests",advertising:"Advertising",connected:"System Connected",slowConnection:"Slow Connection",disconnected:"Disconnected",pageTitles:{dashboard:"Central Dashboard",ordersManager:"Customer Orders Management",activityLogs:"Activity Logs",accountRequests:"Account Opening Requests",customers:"Customer Database (CRM)",quotes:"Quote Requests Management",imports:"Import Requests",missing:"Missing Parts",settings:"General Settings",users:"User Management",products:"Products Management",marketing:"Marketing Center",pricing:"Pricing Center",traderTools:"Trader Tools Management",supplierMarketplace:"Supplier Marketplace Settings",marketers:"Marketers Management",installments:"Installment Requests Management",advertising:"Advertising Management"},stats:{totalRevenue:"Total Revenue",todayRevenue:"Today's Revenue",pendingOrders:"Pending Orders",approvedOrders:"Approved Orders",shippedOrders:"Shipped Orders",cancelledOrders:"Cancelled Orders",totalProducts:"Total Products",outOfStock:"Out of Stock",activeBusinesses:"Active Businesses",pendingAccounts:"Pending Accounts",pendingQuotes:"Pending Quotes"},kpi:{revenue:"Revenue",orders:"Orders",inventory:"Inventory",customers:"Customers"},activity:{logins:"Logins",ordersCreated:"New Orders",quotesRequested:"Quote Requests",searchesPerformed:"Searches"},charts:{dailyOrders:"Daily Orders",dailyRevenue:"Daily Revenue",topCustomers:"Top Customers",topMissingParts:"Most Requested Parts",revenue:"Revenue"},views:{dashboard:"Dashboard",customers:"Customers",products:"Products",settings:"Settings",quotes:"Quote Requests",missing:"Missing Parts",importRequests:"Import Requests",accountRequests:"Account Requests",activityLogs:"Activity Log",ordersManager:"Customer Orders",adminUsers:"Users",marketing:"Marketing Center",pricing:"Pricing Center",traderTools:"Trader Tools",supplierMarketplace:"Supplier Marketplace",marketers:"Marketers",installments:"Installment Requests",advertising:"Advertising",teamSettings:"Organizations & Teams"},onlineUsers:{title:"Online Customers",subtitle:"Active in last 5 minutes",now:"Now",minutesAgo:"{{mins}} minutes ago",online:"Online",noOnlineUsers:"No customers online currently",moreOnline:"And {{count}} more customers online..."},activityLogs:{title:"Activity Log",activity:"activity",time:"Time",user:"User",event:"Event",details:"Details",noActivities:"No activities recorded"},generalManager:"General Manager",teamSettings:"Organizations & Teams"},Hae={title:"Customer Database (CRM)",loading:"Loading data...",stats:{totalCustomers:"Total Customers",activeCustomers:"Active Customers",suspendedBlocked:"Suspended/Blocked"},searchPlaceholder:"Search by business name, phone, or city...",allStatuses:"All Statuses",table:{customer:"Customer",city:"City",priceLevel:"Price Level",ordersCount:"Orders Count",totalPurchases:"Total Purchases",status:"Status",actions:"Actions"},view:"View",noMatchingCustomers:"No matching customers found",status:{active:"Active",suspended:"Suspended",blocked:"Blocked",pending:"Pending Activation",inactive:"Inactive"},panel:{title:"Customer Profile",tabs:{overview:"Overview",orders:"Orders",activity:"Activity"},businessInfo:"Business Information",companyName:"Company Name",city:"City",phone:"Phone",crNumber:"Commercial Register",priceLevel:"Price Level",customerType:"Customer Type",accountStatus:"Account Status",searchBalance:"Search Balance",staffUsers:"Staff Users",accessValidity:"Access Validity",ordersHistory:"Orders History",activityLog:"Activity Log"},toast:{loadError:"Failed to load database"},detail:{tabs:{overview:"Overview",orders:"Orders",quotes:"Quotes",staff:"Staff",security:"Security & Access",notes:"Notes"},accountManagement:"Account Management",changeStatus:"Change Status",statusActive:"Active",statusSuspended:"Suspend",statusBlocked:"Block",suspendUntil:"Suspend Until Date",saving:"Saving...",saveChanges:"Save Changes",statusUpdated:"Customer status updated",errorOccurred:"An error occurred",priceDisplayType:"Price Display Type",pricesVisible:"Prices always visible - No points system",pricesHidden:"Prices hidden - Requires search points to reveal",visibleNoPoints:"Visible prices (No points)",hiddenWithPoints:"Hidden prices (With points)",visible:"visible",hidden:"hidden",priceDisplayChanged:"Price display changed to",searchWallet:"Search Wallet",addBalance:"Add Balance",deductBalance:"Deduct Balance",totalBalance:"Total Balance",used:"Used",remaining:"Remaining",joinDate:"Join Date",lastLogin:"Last Login",customerDocs:"Customer Documents",commercialRegistration:"Commercial Registration",vatCertificate:"VAT Certificate",nationalId:"National ID",notAttached:"Not attached",noDocument:"No document",enterPointsToAdd:"Enter points to add:",pointsAddedSuccess:"{{points}} points added successfully",currentBalance:"Current balance:",points:"points",enterPointsToDeduct:"Enter points to deduct:",cannotDeductMoreThan:"Cannot deduct more than remaining balance",pointsDeductedSuccess:"{{points}} points deducted successfully",errorDeductingPoints:"Error deducting points",staffStatusUpdated:"Staff status updated",customerOrders:"Customer Orders",noOrders:"No orders",orderNumber:"Order #",date:"Date",amount:"Amount",orderStatus:"Status",priceQuotes:"Price Quote Requests",noQuotes:"No quote requests",quoteNumber:"Quote #",items:"Items",staffMembers:"Customer Staff",noStaff:"No registered staff",staffName:"Staff Name",role:"Role",lastActive:"Last Active",action:"Action",suspend:"Suspend",activate:"Activate",securityAccessLogs:"Security & Access Logs",loginHistory:"Login History",device:"Device",ipAddress:"IP",location:"Location",adminNotes:"Admin Notes",noNotes:"No notes",addNote:"Add a note...",writeNote:"Write a new note...",notePlaceholder:"Write your note here...",addNoteBtn:"Add Note",docs:{commercialReg:"Commercial Registration",taxNumber:"Tax Number",nationalAddress:"National Address",notAttached:"Not attached",notAvailable:"Not available"},staff:{staffMembers:"Staff Members",maxLimit:"Max Limit",owner:"Owner",active:"Active",suspended:"Suspended",suspendBtn:"Suspend",activateBtn:"Activate"},orders:{customerOrders:"Customer Orders",completed:"Completed",ongoing:"Ongoing",loadingOrders:"Loading orders...",noOrders:"No orders for this customer",unspecified:"Unspecified",products:"Products",item:"item",total:"Total",date:"Date",currency:"SAR",showingOf:"Showing {{shown}} of {{total}} orders"},quotes:{pricingRequests:"Quote Requests",approved:"Approved",new:"New",loadingQuotes:"Loading quote requests...",noQuotes:"No quote requests for this customer",unspecified:"Unspecified",items:"Items",item:"item",total:"Total",date:"Date",currency:"SAR",pendingPricing:"Pending Pricing",showingOf:"Showing {{shown}} of {{total}} quote requests",missing:"Missing",reviewedBy:"By"},security:{securityIndicators:"Security Indicators",failedLoginAttempts:"Failed Login Attempts",suspiciousBehavior:"Suspicious Behavior (Flag)",yes:"Yes",no:"No",resetCounter:"Reset Failure Counter",counterReset:"Counter reset",passwordReset:"Password Reset",passwordResetDesc:"You can reset the account owner's password here. A new password will be generated and the customer will be notified.",enterNewPassword:"Enter new password (at least 4 characters):",adminNotFound:"Error: Admin data not found",passwordResetError:"Error resetting password",passwordMinLength:"Password must be at least 4 characters",resetPasswordBtn:"Reset Password",recentLoginHistory:"Recent Login History",successfulLogin:"Successful Login",failedLogin:"Failed Login",passwordChanged:"Password Changed",passwordResetAdmin:"Reset (Admin)",noLogsAvailable:"No logs available"},notes:{adminNotes:"Admin Notes",noNotes:"No internal notes",addNote:"Add a new note...",placeholder:"Write admin notes here...",saveNote:"Save Note"}}},Vae={systemSettings:"System Settings",generalSettings:"General Settings",bannerManagement:"Banner Management",whySiniCar:"Why Sini Car?",textManagement:"Text Management",statusLabels:"System Statuses",apiIntegration:"API Integration",appearanceIdentity:"Appearance & Identity",siteSettings:"Basic Site Settings",saveChanges:"Save Changes",saving:"Saving...",siteName:"Site/Store Name",supportPhone:"Support Phone",salesWhatsApp:"Sales WhatsApp",supportEmail:"Support Email",newsTicker:"News Ticker",enableTicker:"Enable Ticker",tickerText:"Ticker Text",tickerSpeed:"Speed (1-10)",bgColor:"Background Color (Hex)",textColor:"Text Color (Hex)",productDisplaySettings:"Product Display & Search Settings",minVisibleQty:"Min Quantity for Product Visibility",minVisibleQtyNote:"Products with quantity below this will not be visible to customers (Default: 1)",stockThreshold:"Stock Threshold (Out of Stock)",stockThresholdNote:"Products with quantity at or below this will show as 'Out of Stock' (Default: 0)",settingsNote:"These settings affect search results and product display. Low stock products will show without price.",maintenanceMode:"Maintenance Mode",maintenanceModeDesc:"When enabled, the site will show as 'Closed for Maintenance' to all customers.",bannerAds:"Banner Ads Management",bannerAdsDesc:"Control images and offers displayed on the homepage",addNewBanner:"Add New Banner",newBannerData:"New Banner Data",mainTitle:"Main Title",subtitle:"Subtitle",buttonText:"Button Text (e.g., Shop Now)",colorScheme:"Color",imageUrl:"Image URL (Optional)",saveAndPublish:"Save & Publish",uiTextManagement:"UI Text Management",uiTextManagementDesc:"Edit labels and titles visible to customers directly here.",saveTexts:"Save Texts",erpIntegration:"ERP Integration Settings",erpIntegrationDesc:"Connect with Onyx ERP or any external system",connectionSettings:"Connection Settings",erpUrl:"Cloud ERP URL",apiToken:"API Token",syncFrequency:"Sync Frequency",realtime:"Real-time",every15Min:"Every 15 minutes",hourly:"Hourly",daily:"Daily",environment:"Environment",production:"Production (Live)",sandbox:"Sandbox (Test)",testConnection:"Test System Connection",connecting:"Connecting...",connectionSuccess:"Server connection successful (200 OK)",connectionFailed:"Connection failed: Auth token missing",sharedData:"Shared Data via API",sharedDataDesc:"Select data types to sync with external system",productsItems:"Products & Items",productsItemsDesc:"Names, prices, quantities",ordersData:"Orders",ordersDataDesc:"Customer orders and statuses",customersData:"Customers",customersDataDesc:"Customer data and accounts",quotesData:"Quote Requests",quotesDataDesc:"Custom price quotes",inventoryData:"Inventory",inventoryDataDesc:"Warehouse quantities",priceLists:"Price Lists",priceListsDesc:"Wholesale and retail prices",syncDirection:"Sync Direction",pullOnly:"Pull from ERP Only",pullOnlyDesc:"Import data from accounting system",pushOnly:"Push to ERP Only",pushOnlyDesc:"Send data to accounting system",bidirectional:"Bidirectional",bidirectionalDesc:"Full sync in both directions",webhooks:"Webhooks (Instant Notifications)",webhooksDesc:"Add URLs to receive instant notifications on events",addWebhook:"Add",events:"events",webhookAdded:"Webhook added successfully",loadingFailed:"Failed to load settings",settingsSaved:"Settings saved successfully",saveError:"Error saving settings",fillTitleAndDesc:"Please fill in title and description",bannerAdded:"Banner added",bannerDeleted:"Banner deleted",confirmDeleteBanner:"Are you sure you want to delete this banner?",hide:"Hide",show:"Show",darkGray:"Dark Gray (Default)",royalBlue:"Royal Blue",vibrantOrange:"Vibrant Orange",darkGreen:"Dark Green",loading:"Loading...",advancedSettings:"Advanced Settings",loggingLevel:"Logging Level",loggingLevelBasic:"Basic",loggingLevelDetailed:"Detailed",loggingLevelDebug:"Debug (For Developers)",retryOnFail:"Retry on Failure",retryAttempts:"attempts",timeout:"Response Timeout",seconds:"seconds",featureManagement:'"Why Sini Car?" Feature Management',featureManagementDesc:"Customize features displayed on the homepage. You can change texts, icons and colors.",addNewFeature:"Add New Feature",fillAllFields:"Please fill all fields",featureAdded:"Feature added successfully",featureDeleted:"Feature deleted",title:"Settings",description:"Description",icon:"Icon",iconBox:"Box",iconChart:"Chart",iconAnchor:"Anchor",iconHeadphones:"Headphones",iconTruck:"Truck",iconShield:"Shield",iconGlobe:"Globe",iconStar:"Star",iconClock:"Clock",iconAward:"Award",iconColor:"Icon Color",colorCyan:"Cyan",colorGreen:"Green",colorGold:"Gold",colorPurple:"Purple",colorRed:"Red",colorBlue:"Blue",colorPink:"Pink",colorOrange:"Orange",appearanceCustomization:"Appearance & Customization",primaryColor:"Primary Brand Color",primaryColorDesc:"This color affects buttons, links, and main headings.",siteLogo:"Site Logo",uploadNotAvailable:"Upload feature not available in demo version",clickToUploadLogo:"Click to upload logo",livePreview:"Live Preview",livePreviewDesc:"This is how the main button will look with the selected color",primaryButtonExample:"Primary Button Example",statusLabelsManagement:"System Status Labels Management",statusLabelsDescription:"Customize status labels and colors displayed in the dashboard and to customers. System statuses are protected and cannot be deleted, but you can modify their names and colors.",addNewStatus:"Add New Status",statusKey:"Key (English)",statusLabel:"Status Name",newStatus:"New Status",backgroundColor:"Background",preview:"Preview",add:"Add",statusUpdated:"Status updated successfully",fillKeyAndName:"Please fill in key and name",keyExists:"This key already exists",statusAdded:"New status added successfully",cannotDeleteSystem:"Cannot delete system status",cannotDeleteInUse:"Cannot delete, {{count}} records using this status",statusDeleted:"Status deleted successfully",defaultStatusSet:"Default status set",checkingUsage:"Checking usage...",confirmDelete:"Are you sure you want to delete?",yesDelete:"Yes, Delete",systemStatus:"System",defaultStatus:"Default",setAsDefault:"Set as Default",systemStatuses:"System Statuses",systemStatusesDesc:"Protected and cannot be deleted, but you can modify name and color only. These statuses are linked to core system logic.",defaultStatusInfo:"Default Status",defaultStatusInfoDesc:"Used when creating new records. You can set any status as default via the star icon.",statusCategories:{orderStatus:"Order Statuses (Customer Visible)",orderInternalStatus:"Internal Order Statuses",accountRequestStatus:"Account Request Statuses",quoteRequestStatus:"Quote Request Statuses",quoteItemStatus:"Quote Item Statuses",missingStatus:"Missing Parts Statuses",importRequestStatus:"Import Request Statuses",customerStatus:"Customer Statuses",staffStatus:"Staff Statuses"},guestMode:"Guest Mode",guestModeSettings:"Guest Mode Settings",guestModeSettingsDesc:"Control what unregistered visitors see when browsing the site. You can enable/disable different sections and adjust blur intensity.",guestBrowsingEnabled:"Enable Guest Browsing",guestBrowsingEnabledDesc:"Allow visitors to browse the site without logging in",visibleSections:"Visible Sections (with blur)",visibleSectionsDesc:"Select sections that will be visible to guests with blurred content",showBusinessTypes:'"Who We Serve" Section (Business Types)',showMainServices:"Main Services Section",showHowItWorks:'"How It Works" Section',showWhySiniCar:'"Why Sini Car" Section',showCart:"Side Shopping Cart",showMarketingCards:"Side Marketing Cards",blurSettings:"Blur Settings",blurIntensity:"Blur Intensity",blurLight:"Light",blurMedium:"Medium",blurHeavy:"Heavy",showBlurOverlay:"Show overlay on blurred content",showBlurOverlayDesc:'Shows "Login" button over blurred content',searchSettings:"Guest Search Settings",allowSearch:"Allow Search",allowSearchDesc:"Guests can use search (results are blurred)",showSearchResults:"Show Search Results",showSearchResultsDesc:"Display search results with blurred details",guestSettingsSaved:"Guest mode settings saved successfully",general:{title:"General Settings",siteName:"Site Name",siteDescription:"Site Description",contactEmail:"Contact Email",contactPhone:"Contact Phone",currency:"Currency",language:"Language",timezone:"Timezone",save:"Save",saved:"Settings saved"},business:{title:"Business Settings",minOrderAmount:"Minimum Order Amount",maxOrderAmount:"Maximum Order Amount",deliveryFee:"Delivery Fee",taxRate:"Tax Rate"},notifications:{title:"Notification Settings",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",pushNotifications:"Push Notifications"},security:{title:"Security Settings",twoFactorAuth:"Two-Factor Authentication",sessionTimeout:"Session Timeout",maxLoginAttempts:"Max Login Attempts"}},Gae={title:"Order Management",newOrders:"New Orders",inProgress:"In Progress",readyToShip:"Ready to Ship",totalOrders:"Total Orders",searchOrder:"Search by order number or customer name...",allStatuses:"All Statuses",allInternalStatuses:"All Internal Statuses",orderNumber:"Order Number",customer:"Customer",date:"Date",total:"Total",status:"Status",internalStatus:"Internal Status",actions:"Actions",noOrders:"No orders",orderDetails:"Order Details",customerInfo:"Customer Information",orderItems:"Order Items",statusHistory:"Status History",internalNotes:"Internal Notes",updateStatus:"Update Status",updateInternalStatus:"Update Internal Status",externalStatusUpdated:"External order status updated",internalStatusUpdated:"Internal order status updated",updateFailed:"Update failed",statusLabels:{pending:"Pending",approved:"Approved",shipped:"Shipped",delivered:"Delivered",rejected:"Rejected",cancelled:"Cancelled"},internalStatusLabels:{new:"New",sentToWarehouse:"Sent to Warehouse",waitingPayment:"Waiting Payment",paymentConfirmed:"Payment Confirmed",salesInvoiceCreated:"Sales Invoice Created",readyForShipment:"Ready for Shipment",completedInternal:"Completed Internally",cancelledInternal:"Cancelled Internally"},details:"Details",name:"Name",userId:"ID",product:"Product",quantity:"Quantity",price:"Price",itemTotal:"Total",grandTotal:"Grand Total",changedStatusTo:"changed status to",noHistory:"No previous history",externalStatus:"Customer Status (External)",externalStatusDesc:"Customer will be notified when this status changes.",noStatusPermission:"You don't have permission to change status",internalStatusTitle:"Internal Status",internalStatusDesc:"For admin use only. Not visible to customer.",notesPlaceholder:"Write a note about the status change...",saveNotes:"Save Notes",noInternalPermission:"You don't have permission to edit internal status",dangerZone:"Danger Zone",cancelOrder:"Cancel Order Permanently",noPermission:"No Permission",stats:{pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",total:"Total",new:"New",ready:"Ready for Shipment"},searchPlaceholder:"Search by order number or customer...",table:{orderId:"Order ID",customer:"Customer",items:"Items",total:"Total",date:"Date",status:"Status",actions:"Actions"},view:"View",approve:"Approve",ship:"Ship",deliver:"Deliver",cancel:"Cancel",orderUpdated:"Order updated",shippingInfo:"Shipping Info",paymentInfo:"Payment Info",noteAdded:"Note added"},Wae={title:"Account Opening Requests",newRequests:"New Requests",underReview:"Under Review",approved:"Approved",rejected:"Rejected",searchAccount:"Search by business name or phone...",allStatuses:"All Statuses",businessName:"Business Name",phone:"Phone",requestDate:"Request Date",status:"Status",actions:"Actions",noRequests:"No requests found",requestDetails:"Request Details",businessInfo:"Business Information",contactInfo:"Contact Information",documents:"Documents",decision:"Decision",priceLevel:"Price Level",customerType:"Customer Type",searchPoints:"Search Points",initialPoints:"Initial Points",monthlyPoints:"Monthly Points",portalAccess:"Portal Access",startDate:"Start Date",endDate:"End Date",openEnded:"Open Ended",staffAccess:"Staff Access",canCreateStaff:"Can Create Staff",maxStaffUsers:"Max Staff Users",adminNotes:"Admin Notes",saveDecision:"Save Decision",decisionSaved:"Decision saved successfully",saveError:"Error saving decision",statusLabels:{new:"New Request",underReview:"Under Review",approved:"Approved",rejected:"Rejected",onHold:"On Hold"},documentTypes:{crCertificate:"Commercial Register",vatCertificate:"VAT Certificate",nationalId:"National ID",authorizationLetter:"Authorization Letter",other:"Other Document"}},Xae={stats:{newRequests:"New Requests",underReview:"Under Review",approved:"Approved",rejected:"Rejected"},status:{new:"New Request",underReview:"Under Review",approved:"Approved",rejected:"Rejected",onHold:"On Hold"},docTypes:{crCertificate:"Commercial Registration",vatCertificate:"VAT Certificate",nationalId:"National ID",authLetter:"Authorization Letter",other:"Other Document"},categories:{spareParts:"Spare Parts Shop",rental:"Car Rental",insurance:"Insurance Company",agent:"Agent"},searchPlaceholder:"Search by business name, phone...",allStatuses:"All Statuses",table:{businessName:"Business / Customer Name",activityType:"Activity Type",city:"City",date:"Date",status:"Status",actions:"Actions"},approvedAccount:"Approved Account",view:"View",noMatchingRequests:"No matching requests",panel:{title:"Approval Request Details",customerData:"Customer Data",businessName:"Business Name",activity:"Activity",city:"City",contactNumber:"Contact Number",crNumber:"Commercial Registration",vatNumber:"VAT Number",customerNotes:"Customer Notes",attachedDocuments:"Attached Documents",adminDecision:"Admin Decision & Permissions"},form:{requestStatus:"Request Status",statusNew:"New",statusUnderReview:"Under Review",statusApproved:"Approved",statusRejected:"Rejected",statusOnHold:"On Hold",customerType:"Customer Type",typePartsShop:"Parts Shop",typeRentalCompany:"Rental Company",typeInsuranceCompany:"Insurance Company",typeSalesAgent:"Sales Agent",typeFleetCustomer:"Fleet Customer",typeOther:"Other",priceLevel:"Price Level",level1:"Level 1 (VIP - Best Price)",level2:"Level 2 (Wholesale)",level3:"Level 3 (Retail/Small)",levelSpecial:"Special",accessValidity:"Access Validity",to:"to",openEnded:"Open-ended (no expiry date)",searchPoints:"Search Points Balance",initialBalance:"Initial Balance",monthlyRenewal:"Monthly Renewal",allowAddStaff:"Allow Adding Staff",maxLimit:"Maximum Limit",adminNotes:"Admin Notes (Internal Use)",notesPlaceholder:"Write any notes about the review...",saveDecision:"Save Decision",cancel:"Cancel"},toast:{saveSuccess:"Decision saved successfully",saveError:"Error saving decision"}},Yae={title:"Quote Request Management",pendingQuotes:"Pending Quotes",completedQuotes:"Completed Quotes",searchQuote:"Search by request number or customer...",allStatuses:"All Statuses",quoteNumber:"Request Number",customer:"Customer",date:"Date",itemsCount:"Items Count",status:"Status",actions:"Actions",noQuotes:"No quote requests",quoteDetails:"Quote Details",requestedItems:"Requested Items",response:"Response",sendResponse:"Send Response",stats:{new:"New",inProgress:"In Progress",completed:"Completed",approved:"Approved"},searchPlaceholder:"Search by quote ID, customer name...",table:{quoteId:"Quote ID",customer:"Customer",items:"Items",priceType:"Price Type",date:"Date",status:"Status",actions:"Actions"},view:"View",process:"Process",complete:"Complete",approve:"Approve",quoteUpdated:"Quote request updated",pricedItems:"Priced Items",missingItems:"Missing Items"},Kae={title:"Product Management",subtitle:"Manage product catalog, prices and inventory",searchPlaceholder:"Search for product...",addProduct:"Add Product",importExcel:"Import Excel",exportExcel:"Export Excel",columnSettings:"Column Settings",visibilitySettings:"Visibility Settings",stats:{totalProducts:"Total Products",inStock:"In Stock",outOfStock:"Out of Stock",hidden:"Hidden"},table:{partNumber:"Part Number",name:"Product Name",brand:"Brand",quantity:"Quantity",price:"Price",visibility:"Visibility",actions:"Actions"},modal:{addTitle:"Add New Product",editTitle:"Edit Product",deleteConfirm:"Confirm Delete",deleteMessage:"Are you sure you want to delete this product?",importTitle:"Import from Excel",columnSettingsTitle:"Excel Column Settings"},form:{partNumber:"Part Number",name:"Product Name",brand:"Brand",quantity:"Quantity",price:"Price",costPrice:"Cost Price",description:"Description",isVisible:"Visible to Customers",save:"Save",cancel:"Cancel"},import:{selectFile:"Select Excel File",dragDrop:"Or drag and drop file here",processing:"Processing...",success:"Import successful",imported:"Imported",updated:"Updated",skipped:"Skipped",errors:"Errors"},validation:{partNumberRequired:"Part number is required",nameRequired:"Product name is required",priceInvalid:"Price is invalid",quantityInvalid:"Quantity is invalid"},toast:{productCreated:"Product added successfully",productUpdated:"Product updated successfully",productDeleted:"Product deleted successfully",importSuccess:"Products imported successfully",createError:"Failed to add product",updateError:"Failed to update product",deleteError:"Failed to delete product",importError:"Failed to import file",loadError:"Failed to load products",visibilityThresholdSaved:"Minimum display quantity saved"},presets:{title:"Import Column Settings",name:"Preset Name",isDefault:"Default",mappings:"Column Mappings",internalField:"Internal Field",excelHeader:"Excel Column",enabled:"Enabled",required:"Required",addPreset:"Add New Preset",editPreset:"Edit Preset",deletePreset:"Delete Preset",savePreset:"Save Preset",toast:{presetCreated:"Preset created successfully",presetUpdated:"Preset updated successfully",presetDeleted:"Preset deleted successfully",presetSetDefault:"Preset set as default"}},uploadExcel:"Upload Excel",downloadTemplate:"Download Template",loading:"Loading...",noProducts:"No products",noMatchingProducts:"No matching products",partNumber:"Part Number",productName:"Product Name",quantity:"Quantity",price:"Price",category:"Category",actions:"Actions",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this product?",productDeleted:"Product deleted",productSaved:"Product saved",productCreated:"Product created",importModal:{title:"Import Products",selectFile:"Select Excel file",importing:"Importing...",importSuccess:"Import successful",imported:"Added",updated:"Updated",skipped:"Skipped",errors:"Errors"},productModal:{editTitle:"Edit Product",addTitle:"Add New Product",save:"Save",cancel:"Cancel"},columnPresets:{title:"Excel Column Settings",presetName:"Preset Name",enterPresetName:"Please enter preset name",created:"Preset created successfully",saved:"Changes saved",deleteConfirm:"Are you sure you want to delete this preset?",deleted:"Preset deleted",setDefault:"Set as Default",isDefault:"Default"},visibility:{title:"Visibility Settings",threshold:"Minimum Visibility Threshold",saved:"Visibility settings saved"},pagination:{showing:"Showing",of:"of",products:"products",previous:"Previous",next:"Next"},selectProductsFirst:"Please select products first",selectedCount:"Selected {{count}} products",visibilityApplied:"Applied visibility rule to {{count}} products",visibilityRemoved:"Removed visibility rule from {{count}} products",loadFailed:"Failed to load products",importFailed:"Import failed",templateDownloaded:"Excel template downloaded",templateDownloadFailed:"Failed to download template",partAndNameRequired:"Part number and name are required",deleteFailed:"Failed to delete product"},Qae={title:"User Management",subtitle:"Manage admin user accounts, roles and permissions",tabs:{users:"Users",roles:"Roles & Permissions"},searchPlaceholder:"Search by name, email...",allRoles:"All Roles",allStatuses:"All Statuses",addUser:"Add User",exportUsers:"Export Data",table:{user:"User",role:"Role",contact:"Contact",lastLogin:"Last Login",status:"Status",actions:"Actions",name:"Name",email:"Email",phone:"Phone"},status:{active:"Active",inactive:"Inactive",ACTIVE:"Active",SUSPENDED:"Suspended",PENDING:"Pending"},modal:{addTitle:"Add New User",editTitle:"Edit User",deleteConfirm:"Confirm Delete",deleteMessage:"Are you sure you want to delete this user?",resetPassword:"Reset Password",toggleStatus:"Change Status"},form:{fullName:"Full Name",username:"Username",email:"Email",phone:"Phone Number",role:"Role",password:"Password",newPassword:"New Password",confirmPassword:"Confirm Password",save:"Save",cancel:"Cancel"},validation:{nameRequired:"Name is required",usernameRequired:"Username is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 6 characters",roleRequired:"Role is required"},toast:{userCreated:"User created successfully",userUpdated:"User updated successfully",userDeleted:"User deleted successfully",passwordReset:"Password reset successfully",statusChanged:"User status changed",createError:"Failed to create user",updateError:"Failed to update user",deleteError:"Failed to delete user",loadError:"Failed to load users"},roles:{title:"Roles Management",addRole:"Add New Role",editRole:"Edit Role",deleteRole:"Delete Role",roleName:"Role Name",roleDescription:"Role Description",permissions:"Permissions",usersCount:"Users Count",isSystemRole:"System Role",noRoles:"No roles found",toast:{roleCreated:"Role created successfully",roleUpdated:"Role updated successfully",roleDeleted:"Role deleted successfully"},SUPER_ADMIN:"Super Admin",ADMIN:"Admin",MANAGER:"Manager",STAFF:"Staff",CUSTOMER_OWNER:"Account Owner",CUSTOMER_STAFF:"Customer Staff"},stats:{total:"Total Users",admins:"Admins",staff:"Staff",active:"Active"},noUsers:"No users",editUser:"Edit User",deleteUser:"Delete User",deleteConfirm:"Are you sure you want to delete this user?",userCreated:"User created",userUpdated:"User updated",userDeleted:"User deleted",resetPassword:"Reset Password",passwordReset:"Password reset"},Jae={title:"Access Denied",message:"You do not have permission to view this page or perform this action",contactAdmin:"Please contact the system administrator",requestedPage:"Requested Page",goBack:"Go Back",goHome:"Dashboard",errorCode:"Error Code"},Zae={searchPlaceholder:"Search by quote number or company...",allStatuses:"All Statuses",table:{requestNumber:"Request Number",businessCustomer:"Business / Customer",uploadDate:"Upload Date",itemsCount:"Items Count",priceType:"Price Type",status:"Status",actions:"Actions"},reviewDetails:"Review / Details",noRequests:"No requests found",panel:{reviewRequest:"Review Request",proposedTotal:"Proposed Total",approving:"Approving...",approveAndSend:"Approve and Send to Customer",selectAll:"Select All",changeSelectedStatus:"Change Selected Status",available:"Available (Approved)",unavailable:"Unavailable (Missing)",rejected:"Rejected",customerPartNumber:"Part Number (Customer)",customerPartName:"Part Name (Customer)",quantity:"Quantity",matchedProduct:"Matched Product",price:"Price",decision:"Decision",notes:"Notes",generalNotes:"General Notes for Customer",notesPlaceholder:"Additional notes that will be shown to customer...",itemStatus:{approved:"Available",missing:"Unavailable",rejected:"Rejected",pending:"Pending"}},status:{new:"New",underReview:"Under Review",partiallyApproved:"Partially Approved",approved:"Approved",quoted:"Quoted",processed:"Processed",rejected:"Rejected"},toast:{itemsUpdated:"Updated {{count}} items",approvedWithoutPriceWarning:"Some items are approved without price. Continue?",pricingSentSuccess:"Pricing approved and sent to customer",saveError:"Error saving changes",quoteSaved:"Quote request saved",quoteSaveFailed:"Failed to save quote request"}},ese={tabs:{all:"All",fromSearch:"From Search",fromQuote:"From Quote"},stats:{totalMissing:"Total Missing",newMissing:"New Missing",underReview:"Under Review",ordered:"Ordered",solved:"Solved",orderedImport:"Ordered / Import",addedToStock:"Added to Stock",fromQuote:"From Quote",fromSearch:"From Search"},searchPlaceholder:"Search by part number...",allStatuses:"All Statuses",noMatchingMissing:"No matching missing parts found",table:{partNumber:"Part Number / Search",partInfo:"Part Information",requestCount:"Request Count",requestFrequency:"Request Frequency",interestedCustomers:"Interested Customers",source:"Source",date:"Date",lastRequest:"Last Request",status:"Status",actions:"Actions"},source:{search:"Search",quote:"Quote"},actions:{details:"Details",linkToImport:"Link to Import",addToStock:"Add to Stock",saving:"Saving...",saveChanges:"Save Changes"},view:"View",noMatchingParts:"No matching results found",pagination:{page:"Page",of:"of"},export:{partNumber:"Part Number",itemName:"Item Name",source:"Source",requestCount:"Request Count",customerCount:"Customer Count",status:"Status",lastRequest:"Last Request",adminNotes:"Admin Notes"},panel:{title:"Missing Part Details",missingDetails:"Missing Details",partDetails:"Part Details",requestedItem:"Requested Item",suggestedName:"Suggested Name",brand:"Brand",searchQuery:"Original Search",partNumber:"Part Number",partName:"Part Name",requestCount:"Request Count",differentCustomers:"Different Customers",source:"Request Source",sourceQuote:"Source: Quote Request",firstRequest:"First Request",lastRequest:"Last Request",requestingCustomers:"Requesting Customers",updateStatus:"Update Status",followUp:"Follow Up",internalNotes:"Internal Notes",adminNotes:"Admin Notes",notesPlaceholder:"Write follow-up notes (e.g., Contacted supplier...)",saving:"Saving...",saveStatus:"Save Status"},status:{new:"New Missing",underReview:"Under Review",orderPlanned:"Scheduled for Import",ordered:"Ordered",addedToStock:"Added to Stock",ignored:"Ignored"},sourceLabels:{search:"Search",quote:"Quote"},toast:{statusUpdated:"Item status updated successfully",saveError:"Error saving changes",exportSuccess:"Report exported successfully",exportFailed:"Export failed",linkImportSoon:"Import linking will be enabled soon",redirectToAddProduct:"Redirecting to add product page..."}},tse={stats:{newRequests:"New Requests",pending:"Pending",inProgress:"In Progress",awaitingCustomer:"Awaiting Customer",completed:"Completed",delivered:"Delivered"},table:{requestNumber:"Request Number",customer:"Customer",service:"Service",requestDate:"Request Date",date:"Date",category:"Category",status:"Status",action:"Action",actions:"Actions"},serviceType:{fullService:"Full Service",processingOnly:"Processing Only",fullImport:"Full Import",goodsPreparation:"Goods Preparation"},actions:{manageRequest:"Manage Request",startReview:"Start Review",requestItemsFile:"Request Items File",cancelRequest:"Cancel Request"},viewDetails:"View Details",noRequests:"No import requests found",modal:{manageRequest:"Manage Import Request",currentStatus:"Current Status",timeline:"Events Log (Timeline)"},pricing:{preparePricing:"Prepare Price Offer",customerFile:"Customer File",download:"Download",waitingForFile:"Waiting for customer to upload items file...",totalOffer:"Total Offer (SAR)",sendToCustomer:"Send Offer to Customer"},details:{title:"Request Details",requestedBrands:"Requested Brands",serviceType:"Service Type",branchesCount:"Branches Count",estimatedValue:"Estimated Value",customerNotes:"Customer Notes"},statusControl:{title:"Update Status (Manual)",hint:"Use this option to progress through shipping stages (Factory, Sea, Port...)"},panel:{title:"Import Request Details",requestInfo:"Request Information",customer:"Customer",category:"Category",description:"Description",estimatedQuantity:"Estimated Quantity",timeline:"Timeline",updateStatus:"Update Status",pricingSection:"Pricing Section",totalAmount:"Total Amount",enterAmount:"Enter amount",note:"Note",notePlaceholder:"Note for customer...",sendPricing:"Send Price Offer"},status:{new:"New Request",underReview:"Under Review",waitingCustomerExcel:"Waiting Customer File",pricingInProgress:"Pricing in Progress",pricingSent:"Offer Sent",waitingCustomerApproval:"Waiting Approval",approvedByCustomer:"Customer Approved",inFactory:"In Factory",shipmentBooked:"Shipment Booked",onTheSea:"On the Sea",inPort:"Arrived at Port",customsCleared:"Customs Cleared",onTheWay:"On the Way",delivered:"Delivered",cancelled:"Cancelled"},toast:{statusUpdated:"Status updated successfully",updateFailed:"Update failed",enterValidAmount:"Please enter a valid amount",pricingSent:"Price offer sent to customer",sendFailed:"Failed to send"}},rse={title:"Installment Purchase Requests",subtitle:"Submit and track installment purchase requests",adminTitle:"Installment Request Management",adminSubtitle:"Review and approve installment purchase requests",supplierTitle:"Supplier Installment Requests",supplierSubtitle:"View and submit offers on installment requests",newRequest:"New Request",myRequests:"My Requests",noRequests:"No installment requests",createFirst:"Create your first request",requestDetails:"Request Details",requestedValue:"Requested Value",duration:"Duration",frequency:"Frequency",downPayment:"Down Payment",requestedItems:"Requested Items",product:"Product",quantity:"Quantity",price:"Price",notes:"Notes",createdAt:"Created At",cancelRequest:"Cancel Request",confirmCancel:"Are you sure you want to cancel this request?",requestCancelled:"Request cancelled",months:"months",monthly:"Monthly",weekly:"Weekly",pendingOffers:"Offers Awaiting Your Decision",sinicarOffer:"SINI CAR Offer",supplierOffer:"Offer from",fullApproval:"Full Approval",partialApproval:"Partial Approval",approvedValue:"Approved Value",installments:"Installments",installmentAmount:"Installment Amount",startDate:"Start Date",acceptOffer:"Accept Offer",rejectOffer:"Reject Offer",offerAccepted:"Offer accepted successfully",offerRejected:"Offer rejected",activeContract:"Active Contract",totalPaid:"Total Paid",remaining:"Remaining",paidInstallments:"Paid Installments",overdueInstallments:"Overdue Installments",installmentNumber:"Installment #",dueDate:"Due Date",amount:"Amount",status:"Status",paid:"Paid",overdue:"Overdue",pending:"Pending",enterTotalValue:"Enter Total Value",selectProducts:"Select Products",totalValue:"Total Value Requested",selectProduct:"-- Select Product --",total:"Total",paymentFrequency:"Payment Frequency",minMax:"Minimum",max:"Maximum",unlimited:"Unlimited",minDownPayment:"Minimum",paymentPreview:"Payment Preview",afterDownPayment:"After Down Payment",estimatedInstallment:"Estimated Installment",acceptTerms:"I agree to the terms and conditions",submitRequest:"Submit Request",requestCreated:"Request submitted successfully",loadError:"Error loading data",actionError:"An error occurred",cancelError:"Error cancelling request",createError:"Error submitting request",minAmountError:"Value is below minimum allowed",maxAmountError:"Value exceeds maximum allowed",minDownPaymentError:"Down payment is below minimum",disabled:"Installment service is currently unavailable",disabledDesc:"The service will be available soon. Please try again later",notesPlaceholder:"Any additional notes...",totalRequests:"Total Requests",pendingRequests:"Pending Review",activeContracts:"Active Contracts",closedContracts:"Closed Contracts",overdueAmount:"Overdue Amount",noRequestsInTab:"No requests in this section",requestId:"Request ID",customer:"Customer",date:"Date",actions:"Actions",review:"Review",reviewRequest:"Review Installment Request",yourDecision:"Your Decision",approveFullAction:"Full Approval",approveFullDesc:"Approve the full amount",approvePartialAction:"Partial Approval",approvePartialDesc:"Approve part of the amount",rejectAction:"Reject",rejectDesc:"Reject the request",approvedAmount:"Approved Amount",forwardOnReject:"Forward request to suppliers after rejection",adminNotes:"Admin Notes",confirmDecision:"Confirm Decision",decisionRecorded:"Decision recorded",requestRejected:"Request rejected",forwarded:"Request forwarded to suppliers",customerNotes:"Customer Notes",generalSettings:"General Settings",enableSystem:"Enable Installment System",sinicarPriority:"SINI CAR Has Priority",allowPartialSinicar:"Allow Partial Approval by SINI CAR",allowPartialSuppliers:"Allow Partial Approval by Suppliers",forwardingSettings:"Forwarding Settings",autoForwardOnReject:"Auto-forward to suppliers on rejection",autoForwardOnPartial:"Auto-forward remainder on partial approval",onCustomerRejectsSinicar:"When customer rejects SINI CAR offer",forwardToSuppliers:"Forward to Suppliers",closeRequest:"Close Request",financialLimits:"Financial Limits",minAmount:"Minimum Amount",maxAmount:"Maximum Amount",requireDownPayment:"Require Down Payment",minDownPercent:"Minimum %",maxDownPercent:"Maximum %",durationSettings:"Duration Settings",minMonths:"Minimum (months)",maxMonths:"Maximum (months)",defaultFrequency:"Default Frequency",settingsSaved:"Settings saved",settingsError:"Error saving settings",noCreditProfiles:"No credit profiles",creditScore:"Credit Score",availableRequests:"Available Requests",submittedOffers:"Submitted Offers",pendingDecisions:"Pending Decisions",availableForOffer:"Available for Offer",noAvailableRequests:"No requests available",submitOffer:"Submit Offer",mySubmittedOffers:"My Submitted Offers",myOffer:"My Offer",perInstallment:"per installment",anonymousCustomer:"Customer",requestedDuration:"Requested Duration",fullOffer:"Full Offer",partialOffer:"Partial Offer",offerAmount:"Offer Amount",numberOfInstallments:"Number of Installments",offerSummary:"Offer Summary",offerSubmitted:"Offer submitted successfully",offerError:"Error submitting offer",invalidAmount:"Invalid amount"},ase={title:"Marketer Management",stats:{total:"Total Marketers",active:"Active",pending:"Pending",suspended:"Suspended"},searchPlaceholder:"Search by name, phone...",allStatuses:"All Statuses",table:{name:"Name",phone:"Phone",referralCode:"Referral Code",referrals:"Referrals",earnings:"Earnings",status:"Status",actions:"Actions"},status:{ACTIVE:"Active",PENDING:"Pending",SUSPENDED:"Suspended"},noMarketers:"No marketers",view:"View",activate:"Activate",suspend:"Suspend",delete:"Delete",addMarketer:"Add Marketer",marketerDetails:"Marketer Details",referralHistory:"Referral History",commissionHistory:"Commission History",payoutHistory:"Payout History",pendingPayout:"Pending Payout",totalEarnings:"Total Earnings",marketerUpdated:"Marketer updated",marketerCreated:"Marketer created"},sse={title:"Advertising Management",stats:{total:"Total Ads",active:"Active",scheduled:"Scheduled",expired:"Expired"},searchPlaceholder:"Search ads...",allStatuses:"All Statuses",table:{title:"Title",type:"Type",placement:"Placement",startDate:"Start Date",endDate:"End Date",status:"Status",actions:"Actions"},status:{ACTIVE:"Active",SCHEDULED:"Scheduled",PAUSED:"Paused",EXPIRED:"Expired"},noAds:"No advertisements",addAd:"Add Ad",editAd:"Edit Ad",deleteAd:"Delete Ad",deleteConfirm:"Are you sure you want to delete this ad?",adCreated:"Ad created",adUpdated:"Ad updated",adDeleted:"Ad deleted",uploadImage:"Upload Image",adDetails:"Ad Details"},nse={title:"Installment Management",stats:{totalRequests:"Total Requests",pending:"Pending",approved:"Approved",rejected:"Rejected",active:"Active"},searchPlaceholder:"Search by name, request ID...",allStatuses:"All Statuses",table:{requestId:"Request ID",customer:"Customer",product:"Product",amount:"Amount",installments:"Installments",status:"Status",actions:"Actions"},status:{PENDING:"Pending",APPROVED:"Approved",REJECTED:"Rejected",ACTIVE:"Active",COMPLETED:"Completed",DEFAULTED:"Defaulted"},noRequests:"No installment requests",view:"View",approve:"Approve",reject:"Reject",requestDetails:"Request Details",customerInfo:"Customer Info",productInfo:"Product Info",paymentSchedule:"Payment Schedule",paymentHistory:"Payment History",monthlyPayment:"Monthly Payment",totalAmount:"Total Amount",remainingAmount:"Remaining Amount",dueDate:"Due Date",requestApproved:"Request approved",requestRejected:"Request rejected"},ise={common:gae,login:bae,loading:vae,intro:yae,marketing:Sae,guestMode:wae,register:Nae,nav:jae,dashboard:Eae,products:Aae,orders:_ae,cart:Cae,customers:Tae,users:Oae,roles:kae,permissions:Rae,settings:Pae,accountRequests:Dae,statusLabels:Iae,reports:Mae,notifications:Lae,errors:Fae,confirmations:Uae,admin:Bae,sidebar:zae,customerDashboard:qae,adminDashboard:$ae,adminCustomers:Hae,adminSettings:Vae,adminOrders:Gae,adminAccounts:Wae,adminAccountRequests:Xae,adminQuotes:Yae,adminProducts:Kae,adminUsers:Qae,accessDenied:Jae,adminQuoteManager:Zae,adminMissingParts:ese,adminImport:tse,installment:rse,adminMarketers:ase,adminAdvertising:sse,adminInstallments:nse},lse={appName:" ",siniCar:" ",appSlogan:"   ",loading:"   ...",save:"",cancel:" ",confirm:" ",delete:"",edit:" ",add:"",search:"",filter:"",reset:"",back:"",next:"",previous:"",close:" ",submit:" ",yes:"",no:"",all:"",none:" ",export:"",import:"",refresh:" ",view:"",details:"",actions:"",status:"",date:"",time:"",total:"",price:"",quantity:"",name:"",email:"",phone:"",address:"",city:"",region:"",country:"",notes:"",description:"",active:"",inactive:"",enabled:"",disabled:"",success:"",error:"",warning:"",info:"",noData:"  ",noResults:"   ",selectOption:"  ",required:"",optional:"",language:"",welcome:" ",page:"",of:"",currency:"SAR",order:"",notSpecified:" ",sort:" ",download:"",upload:"",first:"",last:"",selectAll:" ",deselectAll:"  "},ose={wholesaleLogin:"  ",b2bPortal:"  B2B ",ownerLogin:" ",staffLogin:" ",clientId:" ",phoneNumber:" ",password:"",activationCode:" ",rememberMe:"  ",forgotPassword:"  ?",enter:"",verifying:"   ...",secureConnection:"  ",securityNote:"  -             ",openNewAccount:"   ",invalidCredentials:" ",loginSuccess:" ",logoutSuccess:" ",enterAsGuest:"     ",guest:"",guestWelcome:"     !      ",title:"",subtitle:"       ",phone:" ",phonePlaceholder:"   ",passwordPlaceholder:"  ",loginButton:"",loggingIn:"    ...",noAccount:"  ?",registerHere:"  ",errors:{phoneRequired:"   ",passwordRequired:"  ",invalidCredentials:" ",accountSuspended:"  ",tooManyAttempts:"       "},success:" "},cse={verifyingCredentials:"     ",connectingWarehouse:"      ",loadingCatalog:"     ",applyingDiscounts:"      ",syncingInventory:"-     ",optimizingLogistics:"     ",finalizingSetup:"     ",accessGranted:"   "},dse={mainServer:" ",connectingServer:"         ...",dataSync:" ",syncingData:"       ...",logistics:" ",connectingWarehouses:"        ..."},use={dismiss:" ",campaignOf:" {{current}}   {{total}}",next:"",understood:" "},fse={restrictedTitle:" B2B  ",restrictedSubtitle:"   ",restrictedMessage:"      :",targetAudience:{partsStores:"  ",insuranceCompanies:" ",rentalCompanies:"  ",salesReps:"   "},benefitsTitle:"  ",benefits:{prices:"  ",catalog:"  ",orders:"   - ",support:"  "},callToAction:"     ,        !",loginButton:"",requestAccountButton:"   ",browseOnly:"  ",blurredResultsNote:"       ",loginToAccess:"     ",searchDisabled:"     "},mse={title:"  ",openNewAccount:"  ",subtitle:"         ,  ,       ",businessInfo:"  ",businessName:"  ",businessNameAr:"   ()",businessNameEn:"   ()",commercialRegister:" ",taxNumber:" ",businessType:"  ",selectBusinessType:"  ",contactInfo:" ",ownerName:"   ",ownerPhone:"  ",ownerEmail:"  ()",addressInfo:" ",fullAddress:" ",nationalAddress:"  ()",nationalAddressPlaceholder:": RDJ2929",city:"",region:"",postalCode:" ",branchesCount:"  ",submitRequest:"   ",backToLogin:"   ",requestSuccess:"    !",requestPending:"   ",requestSuccessMessage:"                            ",backToHome:"   ",benefits:{exclusivePrices:"  ",instantAccess:"  ",taxInvoices:"  "},businessTypes:{sparePartsShop:"  ",maintenanceCenter:" ",insuranceCompany:" ",rentalCompany:" ",salesRep:" ",workshop:" ",store:" ",distributor:"",agency:"",other:""},salesRepFields:{fullName:" ",phone:" ",region:" /    ",email:" ()",clientsType:"  (, ...)",clientsCount:"  "},documents:{title:" ",requiredDocuments:" ",instructions:"   PDF              ",uploadNotice:"   PDF              ",crCertificate:"  ",vatCertificate:"VAT  ",nationalId:"    ",nationalAddressCert:"  ",clickToUpload:"      ",fileTypes:"PDF, JPEG, PNG, WebP ( 5MB)",uploadSuccess:"   ",invalidFileType:"    PDF   (JPEG, PNG, WebP)  ",fileTooLarge:"      5MB "},businessFields:{businessName:"  ",branchesCount:"  ",city:"",nationalAddress:"  ()",nationalAddressPlaceholder:": RDJ2929",commercialReg:" ",vatNumber:"VAT ",contactPerson:" ",phone:" ",emailOptional:" ()"},success:{title:"    !",message:"                            ",backToHome:"   "},validation:{phoneRequired:"   ",fullNameRequired:"   ",regionRequired:"  ",businessNameRequired:"    ",cityRequired:"  ",contactPersonRequired:"     ",commercialRegRequired:"   ",vatRequired:"VAT   ",nationalAddressRequired:"   ",documentRequired:" "},additionalNotes:" ",submitting:"   ...",submitError:"    "},hse={home:"",dashboard:"",products:"",catalog:"",orders:"",myOrders:" ",cart:"",customers:"",users:"",roles:"",settings:"",profile:"",notifications:"",reports:"",analytics:"",help:"",support:"",about:"  ",contact:" ",logout:"",accountRequests:" ",statusLabels:" ",systemSettings:" "},pse={title:"",welcome:" ",overview:"",statistics:"",recentOrders:"  ",recentActivity:" ",quickActions:" ",totalSales:" ",totalOrders:" ",totalCustomers:" ",totalProducts:" ",pendingOrders:" ",processingOrders:" ",completedOrders:" ",cancelledOrders:" ",revenue:"",salesChart:" ",topProducts:"  ",topCustomers:" ",lowStock:" ",newCustomers:" ",monthlyRevenue:" ",weeklyOrders:" ",dailySales:" ",customerDashboard:" ",adminDashboard:" "},xse={title:"",catalog:" ",addProduct:" ",editProduct:"  ",deleteProduct:" ",productDetails:" ",productName:"  ",productNameAr:"   ()",productNameEn:"   ()",sku:"SKU",barcode:"",category:"",subcategory:"-",brand:"",manufacturer:"",price:"",wholesalePrice:" ",retailPrice:" ",costPrice:" ",stock:"",stockQuantity:" ",minStock:" ",maxStock:" ",unit:"",weight:"",dimensions:"",image:"",images:"",specifications:"",description:"",shortDescription:" ",longDescription:" ",tags:"",status:"",available:"",outOfStock:"  ",discontinued:"",featured:"",newArrival:" ",bestSeller:" ",onSale:" ",discount:"",addToCart:"  ",buyNow:" ",quantity:"",totalPrice:" ",searchProducts:" ...",filterByCategory:"    ",filterByBrand:"    ",filterByPrice:"    ",sortBy:"   ",priceAsc:":   ",priceDesc:":   ",nameAsc:": A-Z",nameDesc:": Z-A",newest:"",oldest:" ",noProducts:"   ",productAdded:"   ",productUpdated:"    ",productDeleted:"   "},gse={title:"",myOrders:" ",allOrders:" ",newOrder:" ",createOrder:" ",orderDetails:" ",orderNumber:" ",orderDate:" ",orderStatus:" ",orderItems:" ",orderTotal:" ",subtotal:"-",tax:"",shipping:"",discount:"",grandTotal:" ",paymentMethod:" ",paymentStatus:" ",shippingAddress:" ",billingAddress:" ",trackOrder:"  ",cancelOrder:"  ",reorder:"   ",printInvoice:"  ",downloadInvoice:"  ",orderConfirmed:" ",orderShipped:"  ",orderDelivered:"  ",orderCancelled:"",orderPending:"",orderProcessing:"",orderCompleted:"",orderRefunded:"  ",noOrders:"   ",searchOrders:" ...",filterByStatus:"    ",filterByDate:"    ",orderCreated:"   ",orderUpdated:"    ",orderCancelledSuccess:"    "},bse={title:" ",emptyCart:"   ",addItems:"    ",continueShopping:"  ",checkout:"",clearCart:"  ",updateCart:"  ",itemAdded:"    ",itemRemoved:"    ",cartUpdated:"   ",cartCleared:"   ",proceedToCheckout:"  ",estimatedTotal:" "},vse={title:"",allCustomers:" ",addCustomer:" ",editCustomer:"  ",customerDetails:" ",customerName:"  ",clientId:" ",businessName:"  ",contactPerson:" ",phone:"",email:"",address:"",city:"",region:"",creditLimit:" ",currentBalance:" ",totalPurchases:" ",lastOrder:" ",status:"",activeCustomer:" ",inactiveCustomer:" ",blockedCustomer:"   ",verifiedCustomer:" ",pendingVerification:" ",searchCustomers:" ...",noCustomers:"   ",customerAdded:"   ",customerUpdated:"    ",customerDeleted:"   "},yse={title:"",allUsers:" ",addUser:" ",editUser:"  ",deleteUser:" ",userDetails:" ",username:" ",fullName:" ",email:"",phone:"",role:"",permissions:"",status:"",activeUser:" ",inactiveUser:" ",lastLogin:" ",createdAt:" ",searchUsers:" ...",noUsers:"   ",userAdded:"   ",userUpdated:"    ",userDeleted:"   ",passwordReset:"    ",sendPasswordReset:"  "},Sse={title:"  ",allRoles:" ",addRole:" ",editRole:"  ",deleteRole:" ",roleDetails:" ",roleName:"  ",roleDescription:" ",permissions:"",assignedUsers:"   ",superAdmin:" ",admin:"",manager:"",salesManager:" ",salesAgent:" ",viewer:"",customer:"",staff:"",noRoles:"   ",roleAdded:"   ",roleUpdated:"    ",roleDeleted:"   "},wse={title:"",viewDashboard:" ",viewProducts:" ",manageProducts:"  ",viewOrders:" ",manageOrders:"  ",viewCustomers:" ",manageCustomers:"  ",viewUsers:" ",manageUsers:"  ",viewRoles:" ",manageRoles:"  ",viewSettings:" ",manageSettings:"  ",viewReports:" ",exportData:"  ",importData:"  ",deleteData:" ",fullAccess:" "},Nse={title:"",general:"",appearance:"",language:"",selectLanguage:" ",notifications:"",security:"",privacy:"",account:"",profile:"",changePassword:" ",twoFactorAuth:"- ",sessions:"",apiKeys:"API ",webhooks:"",integrations:"",backup:"",restore:"",export:"",import:"",theme:"",darkMode:" ",lightMode:" ",autoMode:"",timezone:" ",dateFormat:" ",currency:"",settingsSaved:"  ",settingsReset:" "},jse={title:" ",pending:"",approved:"",rejected:"",underReview:"",requestDate:" ",reviewDate:" ",reviewedBy:"",approve:" ",reject:" ",requestDetails:" ",noRequests:"   ",requestApproved:" ",requestRejected:" "},Ese={title:" ",addLabel:" ",editLabel:"  ",deleteLabel:" ",labelName:"  ",labelNameAr:"   ()",labelNameEn:"   ()",labelColor:" ",labelType:" ",orderStatus:" ",customerStatus:" ",productStatus:" ",noLabels:"   ",labelAdded:"   ",labelUpdated:"    ",labelDeleted:"   "},Ase={title:"",salesReport:" ",ordersReport:" ",customersReport:" ",productsReport:" ",inventoryReport:" ",financialReport:" ",generateReport:" ",downloadReport:"  ",printReport:"  ",dateRange:" ",from:"",to:"",today:"",yesterday:"",thisWeek:" ",lastWeek:" ",thisMonth:" ",lastMonth:" ",thisYear:" ",custom:""},_se={title:"",allNotifications:" ",unread:"",read:"",markAsRead:"     ",markAllAsRead:"       ",clearAll:"  ",noNotifications:"  ",newOrder:" ",orderUpdate:" ",newCustomer:" ",lowStock:" ",paymentReceived:" ",systemUpdate:" "},Cse={somethingWrong:"   ",tryAgain:"   ",pageNotFound:"  ",accessDenied:" ",sessionExpired:"   ",networkError:" ",serverError:" ",validationError:" ",requiredField:"   ",invalidEmail:"  ",invalidPhone:"  ",passwordMismatch:"   ",weakPassword:"   "},Tse={deleteItem:"        ?",deleteItems:"       ?",cancelOrder:"         ?",logout:"      ?",clearCart:"       ?",discardChanges:"       ?",actionCannotBeUndone:"      "},Ose={panel:" ",systemSettings:" ",manageAll:" ",superAdmin:" ",salesManager:" ",salesAgent:" ",viewer:" "},kse={mainMenu:" ",management:"",supportSection:"",home:"",orders:" ",quotes:" ",import:"  ",traderTools:" ",history:" ",organization:" ",teamManagement:" ",support:"   / ",searchCredits:"  ",unlimitedSearch:" "},Rse={heroTitle:"   ",heroSubtitle:" ,  ,                ",searchTip:"       ",searchPlaceholder:"     ...",searching:"  ...",noResults:"  ",pressSearch:"      :",partNotAvailable:"    ",noResultsFor:"     :",outOfStock:"  ",outOfStockMessage:"       ",available:"",priceNotAvailable:"  ",showPrice:"",addToCartTip:"       ()   ",whoWeServe:"    ?",partsStores:" ",partsStoresDesc:"   ,   ,           ",insuranceCompanies:" ",insuranceDesc:"            ",rentalCompanies:" ",rentalDesc:"             ",salesReps:" ",salesRepsDesc:"                 ",mainServices:"   ",quoteRequests:"  (Excel)",quoteRequestsDesc:"                ",importFromChina:"  ",importFromChinaDesc:"     /         ",wholesaleOrders:"  ",wholesaleOrdersDesc:"    ,  ,    PDF   ",staffBranches:"   ",staffBranchesDesc:"    ,    ,          ",howItWorks:"    ?",step1Title:"  ",step1Desc:"             ",step2Title:"  ",step2Desc:"                ",step3Title:"  ",step3Desc:"         Excel   ",step4Title:"  ",step4Desc:"               ",whySiniCar:"  ?",expertiseTitle:" ",expertiseDesc:"     ,     ",techTitle:" ",techDesc:"          ",globalTitle:" ",globalDesc:"3      / ",supportTitle:"B2B  ",supportDesc:"      ",wholesaleCart:"  ",emptyCart:"  ",useSearchToAdd:"       ",estimatedTotal:" ",submitOrder:"  ",fastShipping:" ",fastShippingDesc:"   24          ",techSupport:"  ",techSupportDesc:"      ",searchHistory:"   ",partNumber:" ",productName:"  ",viewDate:"  ",recordedPrice:"   ",noSearchHistory:"     ",sar:"SAR",enterValidPartNumber:"      ",unexpectedError:"       ",orderSubmitError:"    ",pageView:"  :",addToCart:"  ",priceModal:{productDetails:" ",wholesalePrice:" ",quantity:"",total:"",addToCart:"  ",close:" "},duplicateConfirm:{title:"   ",message:"         ?",confirm:",  ",cancel:" "},orderSuccess:{title:"  !",message:"          "},welcome:" ",dashboard:"",searchProducts:" ",search:"",recentOrders:"  ",viewAll:" ",noRecentOrders:"    ",recentQuotes:"   ",noRecentQuotes:"     ",quickActions:" ",newOrder:" ",newQuote:" ",myAccount:" ",support:"",stats:{totalOrders:" ",pendingOrders:" ",totalSpent:" ",searchPoints:" "},searchResults:" ",cart:"",checkout:"",total:"",currency:"SAR"},Pse={mainSection:"",ordersCustomersSection:"  ",settingsSection:"",dashboard:"",activityLog:" ",customerOrders:" ",accountRequests:" ",customersCRM:" (CRM)",quoteRequests:" ",importRequests:" ",missingParts:" ",products:"",users:"",systemSettings:" ",marketingCenter:" ",connected:" ",slowConnection:" ",disconnected:"",pageTitles:{dashboard:" ",ordersManager:"  ",activityLogs:" ",accountRequests:"   ",customers:"  (CRM)",quotes:"  ",imports:" ",missing:" ",settings:" ",users:" ",products:" ",marketing:" "},stats:{totalRevenue:" ",todayRevenue:"  ",pendingOrders:" ",approvedOrders:" ",shippedOrders:"   ",cancelledOrders:" ",totalProducts:" ",outOfStock:" ",activeBusinesses:" ",pendingAccounts:" ",pendingQuotes:" "},kpi:{revenue:"",orders:"",inventory:"",customers:""},activity:{logins:"",ordersCreated:" ",quotesRequested:" ",searchesPerformed:""},charts:{dailyOrders:" ",dailyRevenue:" ",topCustomers:" ",topMissingParts:"   ",revenue:""},views:{dashboard:"",customers:"",products:"",settings:"",quotes:" ",missing:" ",importRequests:" ",accountRequests:" ",activityLogs:" ",ordersManager:" ",adminUsers:"",marketing:" ",pricing:"  ",traderTools:" ",supplierMarketplace:" ",marketers:"",installments:" ",advertising:"",teamSettings:"  "},onlineUsers:{title:" ",subtitle:" 5   ",now:"",minutesAgo:"{{mins}}  ",online:"",noOnlineUsers:"      ",moreOnline:" {{count}}   ..."},activityLogs:{title:" ",activity:"",time:"",user:"",event:"",details:"",noActivities:"   "},generalManager:"",teamSettings:"  "},Dse={title:"  (CRM)",loading:"    ...",stats:{totalCustomers:" ",activeCustomers:" ",suspendedBlocked:"/"},searchPlaceholder:" , ,    ...",allStatuses:" ",table:{customer:"",city:"",priceLevel:" ",ordersCount:" ",totalPurchases:" ",status:"",actions:""},view:"",noMatchingCustomers:"    ",status:{active:"",suspended:"",blocked:"",pending:" ",inactive:""},panel:{title:" ",tabs:{overview:"",orders:"",activity:""},businessInfo:" ",companyName:"  ",city:"",phone:"",crNumber:" ",priceLevel:" ",customerType:" ",accountStatus:" ",searchBalance:" ",staffUsers:" ",accessValidity:" ",ordersHistory:" ",activityLog:" "},toast:{loadError:"    "},detail:{tabs:{overview:"",orders:"",quotes:"",staff:"",security:"  ",notes:""},accountManagement:" ",changeStatus:" ",statusActive:"",statusSuspended:"",statusBlocked:"",suspendUntil:"   ",saving:"   ...",saveChanges:" ",statusUpdated:"    ",errorOccurred:"  ",priceDisplayType:"  ",pricesVisible:"     -    ",pricesHidden:"    -     ",visibleNoPoints:"  ( )",hiddenWithPoints:"  (  )",visible:"",hidden:" ",priceDisplayChanged:"   ",searchWallet:" ",addBalance:" ",deductBalance:" ",totalBalance:" ",used:"  ",remaining:"",joinDate:"  ",lastLogin:" ",customerDocs:" ",commercialRegistration:" ",vatCertificate:"VAT ",nationalId:"  ",notAttached:" ",noDocument:"  ",enterPointsToAdd:"     :",pointsAddedSuccess:"{{points}}    ",currentBalance:" :",points:"",enterPointsToDeduct:"     :",cannotDeductMoreThan:"        ",pointsDeductedSuccess:"{{points}}    ",errorDeductingPoints:"   ",staffStatusUpdated:"    ",customerOrders:" ",noOrders:"  ",orderNumber:" #",date:"",amount:"",orderStatus:"",priceQuotes:"  ",noQuotes:"   ",quoteNumber:" #",items:"",staffMembers:" ",noStaff:"   ",staffName:" ",role:"",lastActive:" ",action:"",suspend:" ",activate:" ",securityAccessLogs:"   ",loginHistory:" ",device:"",ipAddress:"IP",location:"",adminNotes:" ",noNotes:"  ",addNote:"  ...",writeNote:"   ...",notePlaceholder:"   ...",addNoteBtn:" ",docs:{commercialReg:" ",taxNumber:" ",nationalAddress:" ",notAttached:" ",notAvailable:" "},staff:{staffMembers:" ",maxLimit:" ",owner:"",active:"",suspended:"",suspendBtn:" ",activateBtn:" "},orders:{customerOrders:" ",completed:"",ongoing:" ",loadingOrders:"    ...",noOrders:"      ",unspecified:"",products:"",item:"",total:"",date:"",currency:"SAR",showingOf:"{{total}}   {{shown}}     "},quotes:{pricingRequests:" ",approved:"",new:"",loadingQuotes:"     ...",noQuotes:"       ",unspecified:"",items:"",item:"",total:"",date:"",currency:"SAR",pendingPricing:"  ",showingOf:"{{total}}   {{shown}}      ",missing:"",reviewedBy:""},security:{securityIndicators:" ",failedLoginAttempts:"  ",suspiciousBehavior:"  (Flag)",yes:"",no:"",resetCounter:"   ",counterReset:"   ",passwordReset:" ",passwordResetDesc:"                    ",enterNewPassword:"    (   4 ):",adminNotFound:":    ",passwordResetError:"    ",passwordMinLength:"    4    ",resetPasswordBtn:"  ",recentLoginHistory:"   ",successfulLogin:" ",failedLogin:" ",passwordChanged:"  ",passwordResetAdmin:" (Admin)",noLogsAvailable:"   "},notes:{adminNotes:" ",noNotes:"   ",addNote:"   ...",placeholder:"   ...",saveNote:" "}}},Ise={systemSettings:" ",generalSettings:" ",bannerManagement:" ",whySiniCar:"  ?",textManagement:" ",statusLabels:" ",apiIntegration:"API ",appearanceIdentity:"  ",siteSettings:"  ",saveChanges:" ",saving:"   ...",siteName:"/  ",supportPhone:" ",salesWhatsApp:" WhatsApp",supportEmail:" ",newsTicker:" ",enableTicker:"  ",tickerText:" ",tickerSpeed:" (1-10)",bgColor:"  (Hex)",textColor:"  (Hex)",productDisplaySettings:"    ",minVisibleQty:"     ",minVisibleQtyNote:"          (: 1)",stockThreshold:"  ( )",stockThresholdNote:"       ' '      (: 0)",settingsNote:"          ",maintenanceMode:" ",maintenanceModeDesc:"  ,     '   '     ",bannerAds:"  ",bannerAdsDesc:"        ",addNewBanner:"  ",newBannerData:"  ",mainTitle:" ",subtitle:"",buttonText:" ",colorScheme:"",imageUrl:" URL ()",saveAndPublish:"   ",uiTextManagement:"UI  ",uiTextManagementDesc:"          ",saveTexts:" ",erpIntegration:"ERP  ",erpIntegrationDesc:"Onyx ERP       ",connectionSettings:" ",erpUrl:"Cloud ERP URL",apiToken:"API ",syncFrequency:" ",realtime:"-",every15Min:" 15 ",hourly:" ",daily:"",environment:"",production:"Production (Live)",sandbox:"Sandbox (Test)",testConnection:"   ",connecting:"   ...",connectionSuccess:"   (200 OK)",connectionFailed:" :   ",sharedData:"API     ",sharedDataDesc:"          ",productsItems:"  ",productsItemsDesc:", , ",ordersData:"",ordersDataDesc:"   ",customersData:"",customersDataDesc:"   ",quotesData:" ",quotesDataDesc:"  ",inventoryData:"",inventoryDataDesc:" ",priceLists:" ",priceListsDesc:"   ",syncDirection:" ",pullOnly:" ERP   ",pullOnlyDesc:"     ",pushOnly:" ERP   ",pushOnlyDesc:"    ",bidirectional:"",bidirectionalDesc:"    ",webhooks:"Webhooks ( )",webhooksDesc:"        URLs ",addWebhook:"",events:"",webhookAdded:"Webhook   ",loadingFailed:"    ",settingsSaved:"   ",saveError:"   ",fillTitleAndDesc:"    ",bannerAdded:"  ",bannerDeleted:"  ",confirmDeleteBanner:"        ?",hide:"",show:"",darkGray:"  ()",royalBlue:" ",vibrantOrange:" ",darkGreen:" ",loading:"   ...",advancedSettings:" ",loggingLevel:" ",loggingLevelBasic:"",loggingLevelDetailed:"",loggingLevelDebug:" (  )",retryOnFail:"   ",retryAttempts:"",timeout:" ",seconds:"",featureManagement:'"  ?"  ',featureManagementDesc:"        ,      ",addNewFeature:"  ",fillAllFields:"   ",featureAdded:"   ",featureDeleted:"  ",title:"",description:"",icon:"",iconBox:"",iconChart:"",iconAnchor:"",iconHeadphones:"",iconTruck:"",iconShield:"",iconGlobe:"",iconStar:"",iconClock:"",iconAward:"",iconColor:" ",colorCyan:"",colorGreen:"",colorGold:"",colorPurple:"",colorRed:"",colorBlue:"",colorPink:"",colorOrange:"",appearanceCustomization:"  ",primaryColor:"  ",primaryColorDesc:"  ,        ",siteLogo:" ",uploadNotAvailable:"       ",clickToUploadLogo:"      ",livePreview:" ",livePreviewDesc:"       ",primaryButtonExample:"  ",statusLabelsManagement:"   ",statusLabelsDescription:"                      ,         ",addNewStatus:"  ",statusKey:" ()",statusLabel:"  ",newStatus:" ",backgroundColor:"",preview:"",add:"",statusUpdated:"    ",fillKeyAndName:"    ",keyExists:"     ",statusAdded:"    ",cannotDeleteSystem:"     ",cannotDeleteInUse:"   , {{count}}        ",statusDeleted:"   ",defaultStatusSet:"    ",checkingUsage:"     ...",confirmDelete:"     ?",yesDelete:", ",systemStatus:"",defaultStatus:"",setAsDefault:"     ",systemStatuses:" ",systemStatusesDesc:"      ,                 ",defaultStatusInfo:" ",defaultStatusInfoDesc:"                         ",statusCategories:{orderStatus:"  (    )",orderInternalStatus:"  ",accountRequestStatus:"  ",quoteRequestStatus:"  ",quoteItemStatus:"  ",missingStatus:"  ",importRequestStatus:"  ",customerStatus:" ",staffStatus:" "},guestMode:" ",guestModeSettings:"  ",guestModeSettingsDesc:"                  /          ",guestBrowsingEnabled:"   ",guestBrowsingEnabledDesc:"          ",visibleSections:"  (  )",visibleSectionsDesc:"          ",showBusinessTypes:'"    " ',showMainServices:"  ",showHowItWorks:'"    " ',showWhySiniCar:'"  " ',showCart:"  ",showMarketingCards:"  ",blurSettings:" ",blurIntensity:" ",blurLight:"",blurMedium:"",blurHeavy:"",showBlurOverlay:"    ",showBlurOverlayDesc:'   ""   ',searchSettings:"  ",allowSearch:"   ",allowSearchDesc:"       (  )",showSearchResults:"  ",showSearchResultsDesc:"       ",guestSettingsSaved:"     ",general:{title:" ",siteName:"  ",siteDescription:" ",contactEmail:" ",contactPhone:" ",currency:"",language:"",timezone:" ",save:"",saved:"  "},business:{title:" ",minOrderAmount:"  ",maxOrderAmount:"  ",deliveryFee:" ",taxRate:" "},notifications:{title:" ",emailNotifications:" ",smsNotifications:"SMS ",pushNotifications:" "},security:{title:" ",twoFactorAuth:"- ",sessionTimeout:"  ",maxLoginAttempts:"  "}},Mse={title:" ",newOrders:" ",inProgress:" ",readyToShip:"    ",totalOrders:" ",searchOrder:"      ...",allStatuses:" ",allInternalStatuses:"  ",orderNumber:" ",customer:"",date:"",total:"",status:"",internalStatus:" ",actions:"",noOrders:"  ",orderDetails:" ",customerInfo:" ",orderItems:" ",statusHistory:" ",internalNotes:" ",updateStatus:"  ",updateInternalStatus:"   ",externalStatusUpdated:"     ",internalStatusUpdated:"     ",updateFailed:" ",statusLabels:{pending:"",approved:"",shipped:"  ",delivered:"  ",rejected:"",cancelled:""},internalStatusLabels:{new:"",sentToWarehouse:"   ",waitingPayment:"  ",paymentConfirmed:" ",salesInvoiceCreated:"   ",readyForShipment:"   ",completedInternal:"   ",cancelledInternal:"   "},details:"",name:"",userId:"",product:"",quantity:"",price:"",itemTotal:"",grandTotal:" ",changedStatusTo:"   ",noHistory:"   ",externalStatus:"  ()",externalStatusDesc:"          ",noStatusPermission:"      ",internalStatusTitle:" ",internalStatusDesc:"         ",notesPlaceholder:"      ...",saveNotes:" ",noInternalPermission:"        ",dangerZone:" ",cancelOrder:"     ",noPermission:"  ",stats:{pending:"",processing:"",shipped:"  ",delivered:"  ",cancelled:"  ",total:"",new:"",ready:"   "},searchPlaceholder:"     ...",table:{orderId:" ",customer:"",items:"",total:"",date:"",status:"",actions:""},view:"",approve:" ",ship:"",deliver:" ",cancel:" ",orderUpdated:"   ",shippingInfo:" ",paymentInfo:" ",noteAdded:"  "},Lse={title:"   ",newRequests:" ",underReview:"",approved:"",rejected:"",searchAccount:"     ...",allStatuses:" ",businessName:"  ",phone:"",requestDate:" ",status:"",actions:"",noRequests:"   ",requestDetails:" ",businessInfo:" ",contactInfo:" ",documents:"",decision:"",priceLevel:" ",customerType:" ",searchPoints:" ",initialPoints:" ",monthlyPoints:" ",portalAccess:" ",startDate:" ",endDate:" ",openEnded:" ",staffAccess:" ",canCreateStaff:"   ",maxStaffUsers:"  ",adminNotes:" ",saveDecision:" ",decisionSaved:"   ",saveError:"   ",statusLabels:{new:" ",underReview:"",approved:"",rejected:"",onHold:" "},documentTypes:{crCertificate:" ",vatCertificate:"VAT ",nationalId:"  ",authorizationLetter:" ",other:" "}},Fse={stats:{newRequests:" ",underReview:"",approved:"",rejected:""},status:{new:" ",underReview:"",approved:"",rejected:"",onHold:" "},docTypes:{crCertificate:" ",vatCertificate:"VAT ",nationalId:"  ",authLetter:" ",other:" "},categories:{spareParts:"  ",rental:" ",insurance:" ",agent:""},searchPlaceholder:" ,   ...",allStatuses:" ",table:{businessName:" /   ",activityType:" ",city:"",date:"",status:"",actions:""},approvedAccount:" ",view:"",noMatchingRequests:"   ",panel:{title:"  ",customerData:" ",businessName:"  ",activity:"",city:"",contactNumber:" ",crNumber:" ",vatNumber:"VAT ",customerNotes:" ",attachedDocuments:" ",adminDecision:"   "},form:{requestStatus:" ",statusNew:"",statusUnderReview:"",statusApproved:"",statusRejected:"",statusOnHold:" ",customerType:" ",typePartsShop:" ",typeRentalCompany:" ",typeInsuranceCompany:" ",typeSalesAgent:" ",typeFleetCustomer:" ",typeOther:"",priceLevel:" ",level1:"Level 1 (VIP -  )",level2:"Level 2 ()",level3:"Level 3 (/)",levelSpecial:"",accessValidity:" ",to:"",openEnded:"  (   )",searchPoints:"  ",initialBalance:" ",monthlyRenewal:" ",allowAddStaff:"   ",maxLimit:" ",adminNotes:"  ( )",notesPlaceholder:"      ...",saveDecision:" ",cancel:" "},toast:{saveSuccess:"   ",saveError:"   "}},Use={title:"  ",pendingQuotes:" ",completedQuotes:" ",searchQuote:"     ...",allStatuses:" ",quoteNumber:" ",customer:"",date:"",itemsCount:" ",status:"",actions:"",noQuotes:"   ",quoteDetails:" ",requestedItems:" ",response:"",sendResponse:" ",stats:{new:"",inProgress:" ",completed:"",approved:""},searchPlaceholder:" ,    ...",table:{quoteId:" ",customer:"",items:"",priceType:" ",date:"",status:"",actions:""},view:"",process:" ",complete:" ",approve:" ",quoteUpdated:"    ",pricedItems:"  ",missingItems:" "},Bse={title:" ",subtitle:" ,     ",searchPlaceholder:" ...",addProduct:" ",importExcel:"Excel  ",exportExcel:"Excel  ",columnSettings:" ",visibilitySettings:" ",stats:{totalProducts:" ",inStock:" ",outOfStock:"  ",hidden:" "},table:{partNumber:" ",name:"  ",brand:"",quantity:"",price:"",visibility:"",actions:""},modal:{addTitle:"  ",editTitle:"  ",deleteConfirm:"  ",deleteMessage:"        ?",importTitle:"Excel   ",columnSettingsTitle:"Excel  "},form:{partNumber:" ",name:"  ",brand:"",quantity:"",price:"",costPrice:" ",description:"",isVisible:"   ",save:"",cancel:" "},import:{selectFile:"Excel  ",dragDrop:"     ",processing:"...",success:" ",imported:"  ",updated:"  ",skipped:" ",errors:""},validation:{partNumberRequired:"   ",nameRequired:"    ",priceInvalid:"  ",quantityInvalid:"  "},toast:{productCreated:"   ",productUpdated:"    ",productDeleted:"   ",importSuccess:"    ",createError:"   ",updateError:"    ",deleteError:"   ",importError:"    ",loadError:"    ",visibilityThresholdSaved:"    "},presets:{title:"  ",name:" ",isDefault:"",mappings:" ",internalField:" ",excelHeader:"Excel ",enabled:"",required:"",addPreset:"  ",editPreset:"  ",deletePreset:" ",savePreset:" ",toast:{presetCreated:"   ",presetUpdated:"    ",presetDeleted:"   ",presetSetDefault:"       "}},uploadExcel:"Excel  ",downloadTemplate:"  ",loading:"   ...",noProducts:"  ",noMatchingProducts:"     ",partNumber:" ",productName:"  ",quantity:"",price:"",category:"",actions:"",edit:" ",delete:"",deleteConfirm:"        ?",productDeleted:"  ",productSaved:"  ",productCreated:"  ",importModal:{title:"  ",selectFile:"Excel  ",importing:"   ...",importSuccess:" ",imported:" ",updated:"  ",skipped:" ",errors:""},productModal:{editTitle:"  ",addTitle:"  ",save:"",cancel:" "},columnPresets:{title:"Excel  ",presetName:"  ",enterPresetName:"     ",created:"   ",saved:"  ",deleteConfirm:"        ?",deleted:"  ",setDefault:"  ",isDefault:""},visibility:{title:" ",threshold:"  ",saved:"   "},pagination:{showing:"  ",of:" ",products:"",previous:"",next:""},selectProductsFirst:"   ",selectedCount:"{{count}}   ",visibilityApplied:"{{count}}       ",visibilityRemoved:"{{count}}      ",loadFailed:"    ",importFailed:" ",templateDownloaded:"Excel    ",templateDownloadFailed:"    ",partAndNameRequired:"     ",deleteFailed:"   "},zse={title:" ",subtitle:"  ,     ",tabs:{users:"",roles:"  "},searchPlaceholder:",   ...",allRoles:" ",allStatuses:" ",addUser:" ",exportUsers:"  ",table:{user:"",role:"",contact:"",lastLogin:" ",status:"",actions:"",name:"",email:"",phone:""},status:{active:"",inactive:"",ACTIVE:"",SUSPENDED:"",PENDING:""},modal:{addTitle:"  ",editTitle:"  ",deleteConfirm:"  ",deleteMessage:"        ?",resetPassword:"  ",toggleStatus:" "},form:{fullName:" ",username:" ",email:"",phone:" ",role:"",password:"",newPassword:" ",confirmPassword:"   ",save:"",cancel:" "},validation:{nameRequired:"  ",usernameRequired:"   ",emailRequired:"  ",emailInvalid:"  ",passwordRequired:"  ",passwordMinLength:"    6    ",roleRequired:"  "},toast:{userCreated:"   ",userUpdated:"    ",userDeleted:"   ",passwordReset:"    ",statusChanged:"   ",createError:"   ",updateError:"    ",deleteError:"   ",loadError:"    "},roles:{title:" ",addRole:"  ",editRole:"  ",deleteRole:" ",roleName:"  ",roleDescription:" ",permissions:"",usersCount:" ",isSystemRole:" ",noRoles:"   ",toast:{roleCreated:"   ",roleUpdated:"    ",roleDeleted:"   "},SUPER_ADMIN:" ",ADMIN:"",MANAGER:"",STAFF:"",CUSTOMER_OWNER:" ",CUSTOMER_STAFF:" "},stats:{total:" ",admins:"",staff:"",active:""},noUsers:"  ",editUser:"  ",deleteUser:" ",deleteConfirm:"        ?",userCreated:"  ",userUpdated:"   ",userDeleted:"  ",resetPassword:"  ",passwordReset:"   "},qse={title:" ",message:"            ",contactAdmin:"     ",requestedPage:" ",goBack:" ",goHome:"",errorCode:" "},$se={searchPlaceholder:"     ...",allStatuses:" ",table:{requestNumber:" ",businessCustomer:" / ",uploadDate:" ",itemsCount:" ",priceType:" ",status:"",actions:""},reviewDetails:" / ",noRequests:"   ",panel:{reviewRequest:" ",proposedTotal:" ",approving:" ...",approveAndSend:"     ",selectAll:" ",changeSelectedStatus:"  ",available:" (Approved)",unavailable:" (Missing)",rejected:" (Rejected)",customerPartNumber:"  ()",customerPartName:"  ()",quantity:"",matchedProduct:" ",price:"",decision:"",notes:"",generalNotes:"    ",notesPlaceholder:"      ...",itemStatus:{approved:"",missing:"",rejected:"",pending:""}},status:{new:"",underReview:"",partiallyApproved:"   ",approved:"",quoted:"  ",processed:"  ",rejected:""},toast:{itemsUpdated:"{{count}}    ",approvedWithoutPriceWarning:"        ?",pricingSentSuccess:"       ",saveError:"   ",quoteSaved:"   ",quoteSaveFailed:"    "}},Hse={tabs:{all:"",fromSearch:" ",fromQuote:" "},stats:{totalMissing:" ",newMissing:" ",underReview:"",ordered:"  ",solved:"  ",orderedImport:" / ",addedToStock:"   ",fromQuote:" ",fromSearch:" "},searchPlaceholder:"   ...",allStatuses:" ",noMatchingMissing:"     ",table:{partNumber:"  / ",partInfo:" ",requestCount:" ",requestFrequency:" ",interestedCustomers:" ",source:"",date:"",lastRequest:" ",status:"",actions:""},source:{search:"",quote:""},actions:{details:"",linkToImport:"  ",addToStock:"  ",saving:"   ...",saveChanges:" "},view:"",noMatchingParts:"    ",pagination:{page:"",of:""},export:{partNumber:" ",itemName:" ",source:"",requestCount:" ",customerCount:" ",status:"",lastRequest:" ",adminNotes:" "},panel:{title:"  ",missingDetails:" ",partDetails:" ",requestedItem:" ",suggestedName:"  ",brand:"",searchQuery:" ",partNumber:" ",partName:" ",requestCount:" ",differentCustomers:" ",source:" ",sourceQuote:":  ",firstRequest:" ",lastRequest:" ",requestingCustomers:"   ",updateStatus:"  ",followUp:" ",internalNotes:" ",adminNotes:" ",notesPlaceholder:"-   (,    ...)",saving:"   ...",saveStatus:" "},status:{new:" ",underReview:"",orderPlanned:"   ",ordered:"  ",addedToStock:"   ",ignored:"  "},sourceLabels:{search:"",quote:""},toast:{statusUpdated:"     ",saveError:"   ",exportSuccess:"    ",exportFailed:" ",linkImportSoon:"    ",redirectToAddProduct:"       ..."}},Vse={stats:{newRequests:" ",pending:"",inProgress:" ",awaitingCustomer:"  ",completed:"",delivered:""},table:{requestNumber:" ",customer:"",service:"",requestDate:" ",date:"",category:"",status:"",action:"",actions:""},serviceType:{fullService:" ",processingOnly:" ",fullImport:" ",goodsPreparation:" "},actions:{manageRequest:"  ",startReview:"  ",requestItemsFile:"   ",cancelRequest:"  "},viewDetails:" ",noRequests:"    ",modal:{manageRequest:"   ",currentStatus:" ",timeline:"  ()"},pricing:{preparePricing:"   ",customerFile:" ",download:"",waitingForFile:"      ...",totalOffer:"  (SAR)",sendToCustomer:"   "},details:{title:" ",requestedBrands:" ",serviceType:" ",branchesCount:"  ",estimatedValue:" ",customerNotes:" "},statusControl:{title:"   ()",hint:"            (, , ...)"},panel:{title:"  ",requestInfo:" ",customer:"",category:"",description:"",estimatedQuantity:" ",timeline:"",updateStatus:"  ",pricingSection:"  ",totalAmount:" ",enterAmount:"  ",note:"",notePlaceholder:"   ...",sendPricing:"  "},status:{new:" ",underReview:"",waitingCustomerExcel:"   ",pricingInProgress:"  ",pricingSent:"  ",waitingCustomerApproval:"  ",approvedByCustomer:"  ",inFactory:" ",shipmentBooked:" ",onTheSea:" ",inPort:"  ",customsCleared:" ",onTheWay:" ",delivered:"",cancelled:""},toast:{statusUpdated:"    ",updateFailed:" ",enterValidAmount:"     ",pricingSent:"     ",sendFailed:"  "}},Gse={title:" ",stats:{total:" ",active:"",pending:"",suspended:""},searchPlaceholder:",   ...",allStatuses:" ",table:{name:"",phone:"",referralCode:" ",referrals:"",earnings:"",status:"",actions:""},status:{ACTIVE:"",PENDING:"",SUSPENDED:""},noMarketers:"  ",view:"",activate:" ",suspend:" ",delete:"",addMarketer:" ",marketerDetails:" ",referralHistory:" ",commissionHistory:" ",payoutHistory:" ",pendingPayout:" ",totalEarnings:" ",marketerUpdated:"   ",marketerCreated:"  "},Wse={title:" ",stats:{total:" ",active:"",scheduled:"",expired:""},searchPlaceholder:" ...",allStatuses:" ",table:{title:"",type:"",placement:"",startDate:" ",endDate:" ",status:"",actions:""},status:{ACTIVE:"",SCHEDULED:"",PAUSED:" ",EXPIRED:""},noAds:"  ",addAd:" ",editAd:"  ",deleteAd:" ",deleteConfirm:"        ?",adCreated:"  ",adUpdated:"   ",adDeleted:"  ",uploadImage:"  ",adDetails:" "},Xse={title:" ",stats:{totalRequests:" ",pending:"",approved:"",rejected:"",active:""},searchPlaceholder:",    ...",allStatuses:" ",table:{requestId:" ",customer:"",product:"",amount:"",installments:"",status:"",actions:""},status:{PENDING:"",APPROVED:"",REJECTED:"",ACTIVE:"",COMPLETED:"",DEFAULTED:""},noRequests:"   ",view:"",approve:" ",reject:" ",requestDetails:" ",customerInfo:" ",productInfo:" ",paymentSchedule:" ",paymentHistory:" ",monthlyPayment:" ",totalAmount:" ",remainingAmount:" ",dueDate:" ",requestApproved:" ",requestRejected:" "},Yse={common:lse,login:ose,loading:cse,intro:dse,marketing:use,guestMode:fse,register:mse,nav:hse,dashboard:pse,products:xse,orders:gse,cart:bse,customers:vse,users:yse,roles:Sse,permissions:wse,settings:Nse,accountRequests:jse,statusLabels:Ese,reports:Ase,notifications:_se,errors:Cse,confirmations:Tse,admin:Ose,sidebar:kse,customerDashboard:Rse,adminDashboard:Pse,adminCustomers:Dse,adminSettings:Ise,adminOrders:Mse,adminAccounts:Lse,adminAccountRequests:Fse,adminQuotes:Use,adminProducts:Bse,adminUsers:zse,accessDenied:qse,adminQuoteManager:$se,adminMissingParts:Hse,adminImport:Vse,adminMarketers:Gse,adminAdvertising:Wse,adminInstallments:Xse},Kse={appName:"",siniCar:"",appSlogan:"",loading:"...",save:"",cancel:"",confirm:"",delete:"",edit:"",add:"",search:"",filter:"",reset:"",back:"",next:"",previous:"",close:"",submit:"",yes:"",no:"",all:"",none:"",export:"",import:"",refresh:"",view:"",details:"",actions:"",status:"",date:"",time:"",total:"",price:"",quantity:"",name:"",email:"",phone:"",address:"",city:"",region:"",country:"",notes:"",description:"",active:"",inactive:"",enabled:"",disabled:"",success:"",error:"",warning:"",info:"",noData:"",noResults:"",selectOption:"",required:"",optional:"",language:"",welcome:"",page:"",of:"/",currency:"SAR",order:"",notSpecified:"",sort:"",download:"",upload:"",first:"",last:"",selectAll:"",deselectAll:""},Qse={wholesaleLogin:"",b2bPortal:" B2B ",ownerLogin:"",staffLogin:"",clientId:"ID",phoneNumber:"",password:"",activationCode:"",rememberMe:"",forgotPassword:"",enter:"",verifying:"...",secureConnection:"",securityNote:"",openNewAccount:"",invalidCredentials:"",loginSuccess:"",logoutSuccess:"",enterAsGuest:"",guest:"",guestWelcome:"",title:"",subtitle:"",phone:"",phonePlaceholder:"",passwordPlaceholder:"",loginButton:"",loggingIn:"...",noAccount:"",registerHere:"",errors:{phoneRequired:"",passwordRequired:"",invalidCredentials:"",accountSuspended:"",tooManyAttempts:""},success:""},Jse={verifyingCredentials:"",connectingWarehouse:"",loadingCatalog:"",applyingDiscounts:"",syncingInventory:"",optimizingLogistics:"",finalizingSetup:"",accessGranted:""},Zse={mainServer:"",connectingServer:"...",dataSync:"",syncingData:"...",logistics:"",connectingWarehouses:"..."},ene={dismiss:"",campaignOf:" {{current}}/{{total}}",next:"",understood:""},tne={restrictedTitle:"B2B",restrictedSubtitle:"",restrictedMessage:"",targetAudience:{partsStores:"",insuranceCompanies:"",rentalCompanies:"",salesReps:""},benefitsTitle:"",benefits:{prices:"",catalog:"",orders:"",support:""},callToAction:"",loginButton:"",requestAccountButton:"",browseOnly:"",blurredResultsNote:"",loginToAccess:"",searchDisabled:""},rne={title:"",openNewAccount:"",subtitle:"",businessInfo:"",businessName:"",businessNameAr:"",businessNameEn:"",commercialRegister:"",taxNumber:"",businessType:"",selectBusinessType:"",contactInfo:"",ownerName:"",ownerPhone:"",ownerEmail:"",addressInfo:"",fullAddress:"",nationalAddress:"",nationalAddressPlaceholder:"RDJ2929",city:"",region:"",postalCode:"",branchesCount:"",submitRequest:"",backToLogin:"",requestSuccess:"",requestPending:"",requestSuccessMessage:"",backToHome:"",benefits:{exclusivePrices:"",instantAccess:"",taxInvoices:""},businessTypes:{sparePartsShop:"",maintenanceCenter:"",insuranceCompany:"",rentalCompany:"",salesRep:"",workshop:"",store:"",distributor:"",agency:"",other:""},salesRepFields:{fullName:"",phone:"",region:"/",email:"",clientsType:"...",clientsCount:""},documents:{title:"",requiredDocuments:"",instructions:"PDF",uploadNotice:"PDF",crCertificate:"",vatCertificate:"",nationalId:"",nationalAddressCert:"",clickToUpload:"",fileTypes:"PDF, JPEG, PNG, WebP5MB",uploadSuccess:"",invalidFileType:"PDFJPEG, PNG, WebP",fileTooLarge:"5MB"},businessFields:{businessName:"",branchesCount:"",city:"",nationalAddress:"",nationalAddressPlaceholder:"RDJ2929",commercialReg:"",vatNumber:"",contactPerson:"",phone:"",emailOptional:""},success:{title:"",message:"",backToHome:""},validation:{phoneRequired:"",fullNameRequired:"",regionRequired:"",businessNameRequired:"",cityRequired:"",contactPersonRequired:"",commercialRegRequired:"",vatRequired:"",nationalAddressRequired:"",documentRequired:""},additionalNotes:"",submitting:"...",submitError:""},ane={home:"",dashboard:"",products:"",catalog:"",orders:"",myOrders:"",cart:"",customers:"",users:"",roles:"",settings:"",profile:"",notifications:"",reports:"",analytics:"",help:"",support:"",about:"",contact:"",logout:"",accountRequests:"",statusLabels:"",systemSettings:""},sne={title:"",welcome:"",overview:"",statistics:"",recentOrders:"",recentActivity:"",quickActions:"",totalSales:"",totalOrders:"",totalCustomers:"",totalProducts:"",pendingOrders:"",processingOrders:"",completedOrders:"",cancelledOrders:"",revenue:"",salesChart:"",topProducts:"",topCustomers:"",lowStock:"",newCustomers:"",monthlyRevenue:"",weeklyOrders:"",dailySales:"",customerDashboard:"",adminDashboard:""},nne={title:"",catalog:"",addProduct:"",editProduct:"",deleteProduct:"",productDetails:"",productName:"",productNameAr:"",productNameEn:"",sku:"SKU",barcode:"",category:"",subcategory:"",brand:"",manufacturer:"",price:"",wholesalePrice:"",retailPrice:"",costPrice:"",stock:"",stockQuantity:"",minStock:"",maxStock:"",unit:"",weight:"",dimensions:"",image:"",images:"",specifications:"",description:"",shortDescription:"",longDescription:"",tags:"",status:"",available:"",outOfStock:"",discontinued:"",featured:"",newArrival:"",bestSeller:"",onSale:"",discount:"",addToCart:"",buyNow:"",quantity:"",totalPrice:"",searchProducts:"...",filterByCategory:"",filterByBrand:"",filterByPrice:"",sortBy:"",priceAsc:"",priceDesc:"",nameAsc:"A-Z",nameDesc:"Z-A",newest:"",oldest:"",noProducts:"",productAdded:"",productUpdated:"",productDeleted:""},ine={title:"",myOrders:"",allOrders:"",newOrder:"",createOrder:"",orderDetails:"",orderNumber:"",orderDate:"",orderStatus:"",orderItems:"",orderTotal:"",subtotal:"",tax:"",shipping:"",discount:"",grandTotal:"",paymentMethod:"",paymentStatus:"",shippingAddress:"",billingAddress:"",trackOrder:"",cancelOrder:"",reorder:"",printInvoice:"",downloadInvoice:"",orderConfirmed:"",orderShipped:"",orderDelivered:"",orderCancelled:"",orderPending:"",orderProcessing:"",orderCompleted:"",orderRefunded:"",noOrders:"",searchOrders:"...",filterByStatus:"",filterByDate:"",orderCreated:"",orderUpdated:"",orderCancelledSuccess:""},lne={title:"",emptyCart:"",addItems:"",continueShopping:"",checkout:"",clearCart:"",updateCart:"",itemAdded:"",itemRemoved:"",cartUpdated:"",cartCleared:"",proceedToCheckout:"",estimatedTotal:""},one={title:"",allCustomers:"",addCustomer:"",editCustomer:"",customerDetails:"",customerName:"",clientId:"ID",businessName:"",contactPerson:"",phone:"",email:"",address:"",city:"",region:"",creditLimit:"",currentBalance:"",totalPurchases:"",lastOrder:"",status:"",activeCustomer:"",inactiveCustomer:"",blockedCustomer:"",verifiedCustomer:"",pendingVerification:"",searchCustomers:"...",noCustomers:"",customerAdded:"",customerUpdated:"",customerDeleted:""},cne={title:"",allUsers:"",addUser:"",editUser:"",deleteUser:"",userDetails:"",username:"",fullName:"",email:"",phone:"",role:"",permissions:"",status:"",activeUser:"",inactiveUser:"",lastLogin:"",createdAt:"",searchUsers:"...",noUsers:"",userAdded:"",userUpdated:"",userDeleted:"",passwordReset:"",sendPasswordReset:""},dne={title:"",allRoles:"",addRole:"",editRole:"",deleteRole:"",roleDetails:"",roleName:"",roleDescription:"",permissions:"",assignedUsers:"",superAdmin:"",admin:"",manager:"",salesManager:"",salesAgent:"",viewer:"",customer:"",staff:"",noRoles:"",roleAdded:"",roleUpdated:"",roleDeleted:""},une={title:"",viewDashboard:"",viewProducts:"",manageProducts:"",viewOrders:"",manageOrders:"",viewCustomers:"",manageCustomers:"",viewUsers:"",manageUsers:"",viewRoles:"",manageRoles:"",viewSettings:"",manageSettings:"",viewReports:"",exportData:"",importData:"",deleteData:"",fullAccess:""},fne={title:"",general:"",appearance:"",language:"",selectLanguage:"",notifications:"",security:"",privacy:"",account:"",profile:"",changePassword:"",twoFactorAuth:"",sessions:"",apiKeys:"API",webhooks:"Webhooks",integrations:"",backup:"",restore:"",export:"",import:"",theme:"",darkMode:"",lightMode:"",autoMode:"",timezone:"",dateFormat:"",currency:"",settingsSaved:"",settingsReset:""},mne={title:"",pending:"",approved:"",rejected:"",underReview:"",requestDate:"",reviewDate:"",reviewedBy:"",approve:"",reject:"",requestDetails:"",noRequests:"",requestApproved:"",requestRejected:""},hne={title:"",addLabel:"",editLabel:"",deleteLabel:"",labelName:"",labelNameAr:"",labelNameEn:"",labelColor:"",labelType:"",orderStatus:"",customerStatus:"",productStatus:"",noLabels:"",labelAdded:"",labelUpdated:"",labelDeleted:""},pne={title:"",salesReport:"",ordersReport:"",customersReport:"",productsReport:"",inventoryReport:"",financialReport:"",generateReport:"",downloadReport:"",printReport:"",dateRange:"",from:"",to:"",today:"",yesterday:"",thisWeek:"",lastWeek:"",thisMonth:"",lastMonth:"",thisYear:"",custom:""},xne={title:"",allNotifications:"",unread:"",read:"",markAsRead:"",markAllAsRead:"",clearAll:"",noNotifications:"",newOrder:"",orderUpdate:"",newCustomer:"",lowStock:"",paymentReceived:"",systemUpdate:""},gne={somethingWrong:"",tryAgain:"",pageNotFound:"",accessDenied:"",sessionExpired:"",networkError:"",serverError:"",validationError:"",requiredField:"",invalidEmail:"",invalidPhone:"",passwordMismatch:"",weakPassword:""},bne={deleteItem:"",deleteItems:"",cancelOrder:"",logout:"",clearCart:"",discardChanges:"",actionCannotBeUndone:""},vne={panel:"",systemSettings:"",manageAll:"",superAdmin:"",salesManager:"",salesAgent:"",viewer:""},yne={mainMenu:"",management:"",supportSection:"",home:"",orders:"",quotes:"",import:"",traderTools:"",history:"",organization:"",teamManagement:"",support:" / ",searchCredits:"",unlimitedSearch:""},Sne={heroTitle:"",heroSubtitle:"",searchTip:"",searchPlaceholder:"...",searching:"...",noResults:"",pressSearch:"",partNotAvailable:"",noResultsFor:"",outOfStock:"",outOfStockMessage:"",available:"",priceNotAvailable:"",showPrice:"",addToCartTip:"",whoWeServe:"",partsStores:"",partsStoresDesc:"",insuranceCompanies:"",insuranceDesc:"",rentalCompanies:"",rentalDesc:"",salesReps:"",salesRepsDesc:"",mainServices:"",quoteRequests:"Excel",quoteRequestsDesc:"",importFromChina:"",importFromChinaDesc:"",wholesaleOrders:"",wholesaleOrdersDesc:"PDF",staffBranches:"",staffBranchesDesc:"",howItWorks:"",step1Title:"",step1Desc:"",step2Title:"",step2Desc:"",step3Title:"",step3Desc:"Excel",step4Title:"",step4Desc:"",whySiniCar:"",expertiseTitle:"",expertiseDesc:"",techTitle:"",techDesc:"",globalTitle:"",globalDesc:"3",supportTitle:"B2B",supportDesc:"",wholesaleCart:"",emptyCart:"",useSearchToAdd:"",estimatedTotal:"",submitOrder:"",fastShipping:"",fastShippingDesc:"24",techSupport:"",techSupportDesc:"",searchHistory:"",partNumber:"",productName:"",viewDate:"",recordedPrice:"",noSearchHistory:"",sar:"SAR",enterValidPartNumber:"",unexpectedError:"",orderSubmitError:"",pageView:"",addToCart:"",priceModal:{productDetails:"",wholesalePrice:"",quantity:"",total:"",addToCart:"",close:""},duplicateConfirm:{title:"",message:"",confirm:"",cancel:""},orderSuccess:{title:"",message:""},welcome:"",dashboard:"",searchProducts:"",search:"",recentOrders:"",viewAll:"",noRecentOrders:"",recentQuotes:"",noRecentQuotes:"",quickActions:"",newOrder:"",newQuote:"",myAccount:"",support:"",stats:{totalOrders:"",pendingOrders:"",totalSpent:"",searchPoints:""},searchResults:"",cart:"",checkout:"",total:"",currency:"SAR"},wne={mainSection:"",ordersCustomersSection:"",settingsSection:"",dashboard:"",activityLog:"",customerOrders:"",accountRequests:"",customersCRM:" (CRM)",quoteRequests:"",importRequests:"",missingParts:"",products:"",users:"",systemSettings:"",marketingCenter:"",connected:"",slowConnection:"",disconnected:"",pageTitles:{dashboard:"",ordersManager:"",activityLogs:"",accountRequests:"",customers:" (CRM)",quotes:"",imports:"",missing:"",settings:"",users:"",products:"",marketing:""},stats:{totalRevenue:"",todayRevenue:"",pendingOrders:"",approvedOrders:"",shippedOrders:"",cancelledOrders:"",totalProducts:"",outOfStock:"",activeBusinesses:"",pendingAccounts:"",pendingQuotes:""},kpi:{revenue:"",orders:"",inventory:"",customers:""},activity:{logins:"",ordersCreated:"",quotesRequested:"",searchesPerformed:""},charts:{dailyOrders:"",dailyRevenue:"",topCustomers:"",topMissingParts:"",revenue:""},views:{dashboard:"",customers:"",products:"",settings:"",quotes:"",missing:"",importRequests:"",accountRequests:"",activityLogs:"",ordersManager:"",adminUsers:"",marketing:"",pricing:"",traderTools:"",supplierMarketplace:"",marketers:"",installments:"",advertising:"",teamSettings:""},onlineUsers:{title:"",subtitle:"5",now:"",minutesAgo:"{{mins}}",online:"",noOnlineUsers:"",moreOnline:"{{count}}..."},activityLogs:{title:"",activity:"",time:"",user:"",event:"",details:"",noActivities:""},generalManager:"",teamSettings:""},Nne={title:" (CRM)",loading:"...",stats:{totalCustomers:"",activeCustomers:"",suspendedBlocked:"/"},searchPlaceholder:"...",allStatuses:"",table:{customer:"",city:"",priceLevel:"",ordersCount:"",totalPurchases:"",status:"",actions:""},view:"",noMatchingCustomers:"",status:{active:"",suspended:"",blocked:"",pending:"",inactive:""},panel:{title:"",tabs:{overview:"",orders:"",activity:""},businessInfo:"",companyName:"",city:"",phone:"",crNumber:"",priceLevel:"",customerType:"",accountStatus:"",searchBalance:"",staffUsers:"",accessValidity:"",ordersHistory:"",activityLog:""},toast:{loadError:""},detail:{tabs:{overview:"",orders:"",quotes:"",staff:"",security:"",notes:""},accountManagement:"",changeStatus:"",statusActive:"",statusSuspended:"",statusBlocked:"",suspendUntil:"",saving:"...",saveChanges:"",statusUpdated:"",errorOccurred:"",priceDisplayType:"",pricesVisible:" - ",pricesHidden:" - ",visibleNoPoints:"",hiddenWithPoints:"",visible:"",hidden:"",priceDisplayChanged:"",searchWallet:"",addBalance:"",deductBalance:"",totalBalance:"",used:"",remaining:"",joinDate:"",lastLogin:"",customerDocs:"",commercialRegistration:"",vatCertificate:"",nationalId:"",notAttached:"",noDocument:"",enterPointsToAdd:"",pointsAddedSuccess:" {{points}} ",currentBalance:"",points:"",enterPointsToDeduct:"",cannotDeductMoreThan:"",pointsDeductedSuccess:" {{points}} ",errorDeductingPoints:"",staffStatusUpdated:"",customerOrders:"",noOrders:"",orderNumber:"",date:"",amount:"",orderStatus:"",priceQuotes:"",noQuotes:"",quoteNumber:"",items:"",staffMembers:"",noStaff:"",staffName:"",role:"",lastActive:"",action:"",suspend:"",activate:"",securityAccessLogs:"",loginHistory:"",device:"",ipAddress:"IP",location:"",adminNotes:"",noNotes:"",addNote:"...",writeNote:"...",notePlaceholder:"...",addNoteBtn:"",docs:{commercialReg:"",taxNumber:"",nationalAddress:"",notAttached:"",notAvailable:""},staff:{staffMembers:"",maxLimit:"",owner:"",active:"",suspended:"",suspendBtn:"",activateBtn:""},orders:{customerOrders:"",completed:"",ongoing:"",loadingOrders:"...",noOrders:"",unspecified:"",products:"",item:"",total:"",date:"",currency:"SAR",showingOf:" {{total}}  {{shown}} "},quotes:{pricingRequests:"",approved:"",new:"",loadingQuotes:"...",noQuotes:"",unspecified:"",items:"",item:"",total:"",date:"",currency:"SAR",pendingPricing:"",showingOf:" {{total}}  {{shown}} ",missing:"",reviewedBy:""},security:{securityIndicators:"",failedLoginAttempts:"",suspiciousBehavior:" ()",yes:"",no:"",resetCounter:"",counterReset:"",passwordReset:"",passwordResetDesc:"",enterNewPassword:"4",adminNotFound:"",passwordResetError:"",passwordMinLength:"4",resetPasswordBtn:"",recentLoginHistory:"",successfulLogin:"",failedLogin:"",passwordChanged:"",passwordResetAdmin:" ()",noLogsAvailable:""},notes:{adminNotes:"",noNotes:"",addNote:"...",placeholder:"...",saveNote:""}}},jne={systemSettings:"",generalSettings:"",bannerManagement:"",whySiniCar:"Sini Car",textManagement:"",statusLabels:"",apiIntegration:"API",appearanceIdentity:"",siteSettings:"",saveChanges:"",saving:"...",siteName:"/",supportPhone:"",salesWhatsApp:"WhatsApp",supportEmail:"",newsTicker:"",enableTicker:"",tickerText:"",tickerSpeed:" (1-10)",bgColor:" (Hex)",textColor:" (Hex)",productDisplaySettings:"",minVisibleQty:"",minVisibleQtyNote:"1",stockThreshold:"",stockThresholdNote:"0",settingsNote:"",maintenanceMode:"",maintenanceModeDesc:"",bannerAds:"",bannerAdsDesc:"",addNewBanner:"",newBannerData:"",mainTitle:"",subtitle:"",buttonText:"",colorScheme:"",imageUrl:"URL",saveAndPublish:"",uiTextManagement:"UI",uiTextManagementDesc:"",saveTexts:"",erpIntegration:"ERP",erpIntegrationDesc:"Onyx ERP",connectionSettings:"",erpUrl:"ERP URL",apiToken:"API",syncFrequency:"",realtime:"",every15Min:"15",hourly:"",daily:"",environment:"",production:" (Live)",sandbox:" (Test)",testConnection:"",connecting:"...",connectionSuccess:" (200 OK)",connectionFailed:"",sharedData:"API",sharedDataDesc:"",productsItems:"",productsItemsDesc:"",ordersData:"",ordersDataDesc:"",customersData:"",customersDataDesc:"",quotesData:"",quotesDataDesc:"",inventoryData:"",inventoryDataDesc:"",priceLists:"",priceListsDesc:"",syncDirection:"",pullOnly:"ERP",pullOnlyDesc:"",pushOnly:"ERP",pushOnlyDesc:"",bidirectional:"",bidirectionalDesc:"",webhooks:"Webhooks",webhooksDesc:"URL",addWebhook:"",events:"",webhookAdded:"Webhook",loadingFailed:"",settingsSaved:"",saveError:"",fillTitleAndDesc:"",bannerAdded:"",bannerDeleted:"",confirmDeleteBanner:"",hide:"",show:"",darkGray:"",royalBlue:"",vibrantOrange:"",darkGreen:"",loading:"...",advancedSettings:"",loggingLevel:"",loggingLevelBasic:"",loggingLevelDetailed:"",loggingLevelDebug:"",retryOnFail:"",retryAttempts:"",timeout:"",seconds:"",featureManagement:'"Sini Car"',featureManagementDesc:"",addNewFeature:"",fillAllFields:"",featureAdded:"",featureDeleted:"",title:"",description:"",icon:"",iconBox:"",iconChart:"",iconAnchor:"",iconHeadphones:"",iconTruck:"",iconShield:"",iconGlobe:"",iconStar:"",iconClock:"",iconAward:"",iconColor:"",colorCyan:"",colorGreen:"",colorGold:"",colorPurple:"",colorRed:"",colorBlue:"",colorPink:"",colorOrange:"",appearanceCustomization:"",primaryColor:"",primaryColorDesc:"",siteLogo:"",uploadNotAvailable:"",clickToUploadLogo:"",livePreview:"",livePreviewDesc:"",primaryButtonExample:"",statusLabelsManagement:"",statusLabelsDescription:"",addNewStatus:"",statusKey:"",statusLabel:"",newStatus:"",backgroundColor:"",preview:"",add:"",statusUpdated:"",fillKeyAndName:"",keyExists:"",statusAdded:"",cannotDeleteSystem:"",cannotDeleteInUse:"{{count}}",statusDeleted:"",defaultStatusSet:"",checkingUsage:"...",confirmDelete:"",yesDelete:"",systemStatus:"",defaultStatus:"",setAsDefault:"",systemStatuses:"",systemStatusesDesc:"",defaultStatusInfo:"",defaultStatusInfoDesc:"",statusCategories:{orderStatus:"",orderInternalStatus:"",accountRequestStatus:"",quoteRequestStatus:"",quoteItemStatus:"",missingStatus:"",importRequestStatus:"",customerStatus:"",staffStatus:""},guestMode:"",guestModeSettings:"",guestModeSettingsDesc:"/",guestBrowsingEnabled:"",guestBrowsingEnabledDesc:"",visibleSections:"",visibleSectionsDesc:"",showBusinessTypes:'""',showMainServices:"",showHowItWorks:'""',showWhySiniCar:'""',showCart:"",showMarketingCards:"",blurSettings:"",blurIntensity:"",blurLight:"",blurMedium:"",blurHeavy:"",showBlurOverlay:"",showBlurOverlayDesc:'""',searchSettings:"",allowSearch:"",allowSearchDesc:"",showSearchResults:"",showSearchResultsDesc:"",guestSettingsSaved:"",general:{title:"",siteName:"",siteDescription:"",contactEmail:"",contactPhone:"",currency:"",language:"",timezone:"",save:"",saved:""},business:{title:"",minOrderAmount:"",maxOrderAmount:"",deliveryFee:"",taxRate:""},notifications:{title:"",emailNotifications:"",smsNotifications:"",pushNotifications:""},security:{title:"",twoFactorAuth:"",sessionTimeout:"",maxLoginAttempts:""}},Ene={title:"",newOrders:"",inProgress:"",readyToShip:"",totalOrders:"",searchOrder:"...",allStatuses:"",allInternalStatuses:"",orderNumber:"",customer:"",date:"",total:"",status:"",internalStatus:"",actions:"",noOrders:"",orderDetails:"",customerInfo:"",orderItems:"",statusHistory:"",internalNotes:"",updateStatus:"",updateInternalStatus:"",externalStatusUpdated:"",internalStatusUpdated:"",updateFailed:"",statusLabels:{pending:"",approved:"",shipped:"",delivered:"",rejected:"",cancelled:""},internalStatusLabels:{new:"",sentToWarehouse:"",waitingPayment:"",paymentConfirmed:"",salesInvoiceCreated:"",readyForShipment:"",completedInternal:"",cancelledInternal:""},details:"",name:"",userId:"ID",product:"",quantity:"",price:"",itemTotal:"",grandTotal:"",changedStatusTo:"",noHistory:"",externalStatus:"",externalStatusDesc:"",noStatusPermission:"",internalStatusTitle:"",internalStatusDesc:"",notesPlaceholder:"...",saveNotes:"",noInternalPermission:"",dangerZone:"",cancelOrder:"",noPermission:"",stats:{pending:"",processing:"",shipped:"",delivered:"",cancelled:"",total:"",new:"",ready:""},searchPlaceholder:"...",table:{orderId:"",customer:"",items:"",total:"",date:"",status:"",actions:""},view:"",approve:"",ship:"",deliver:"",cancel:"",orderUpdated:"",shippingInfo:"",paymentInfo:"",noteAdded:""},Ane={title:"",newRequests:"",underReview:"",approved:"",rejected:"",searchAccount:"...",allStatuses:"",businessName:"",phone:"",requestDate:"",status:"",actions:"",noRequests:"",requestDetails:"",businessInfo:"",contactInfo:"",documents:"",decision:"",priceLevel:"",customerType:"",searchPoints:"",initialPoints:"",monthlyPoints:"",portalAccess:"",startDate:"",endDate:"",openEnded:"",staffAccess:"",canCreateStaff:"",maxStaffUsers:"",adminNotes:"",saveDecision:"",decisionSaved:"",saveError:"",statusLabels:{new:"",underReview:"",approved:"",rejected:"",onHold:""},documentTypes:{crCertificate:"",vatCertificate:"",nationalId:"",authorizationLetter:"",other:""}},_ne={stats:{newRequests:"",underReview:"",approved:"",rejected:""},status:{new:"",underReview:"",approved:"",rejected:"",onHold:""},docTypes:{crCertificate:"",vatCertificate:"",nationalId:"",authLetter:"",other:""},categories:{spareParts:"",rental:"",insurance:"",agent:""},searchPlaceholder:"...",allStatuses:"",table:{businessName:"/",activityType:"",city:"",date:"",status:"",actions:""},approvedAccount:"",view:"",noMatchingRequests:"",panel:{title:"",customerData:"",businessName:"",activity:"",city:"",contactNumber:"",crNumber:"",vatNumber:"",customerNotes:"",attachedDocuments:"",adminDecision:""},form:{requestStatus:"",statusNew:"",statusUnderReview:"",statusApproved:"",statusRejected:"",statusOnHold:"",customerType:"",typePartsShop:"",typeRentalCompany:"",typeInsuranceCompany:"",typeSalesAgent:"",typeFleetCustomer:"",typeOther:"",priceLevel:"",level1:"Level 1 (VIP - )",level2:"Level 2 ()",level3:"Level 3 (/)",levelSpecial:"",accessValidity:"",to:"",openEnded:"",searchPoints:"",initialBalance:"",monthlyRenewal:"",allowAddStaff:"",maxLimit:"",adminNotes:"",notesPlaceholder:"...",saveDecision:"",cancel:""},toast:{saveSuccess:"",saveError:""}},Cne={title:"",pendingQuotes:"",completedQuotes:"",searchQuote:"...",allStatuses:"",quoteNumber:"",customer:"",date:"",itemsCount:"",status:"",actions:"",noQuotes:"",quoteDetails:"",requestedItems:"",response:"",sendResponse:"",stats:{new:"",inProgress:"",completed:"",approved:""},searchPlaceholder:"ID...",table:{quoteId:"ID",customer:"",items:"",priceType:"",date:"",status:"",actions:""},view:"",process:"",complete:"",approve:"",quoteUpdated:"",pricedItems:"",missingItems:""},Tne={title:"",subtitle:"",searchPlaceholder:"...",addProduct:"",importExcel:"Excel",exportExcel:"Excel",columnSettings:"",visibilitySettings:"",stats:{totalProducts:"",inStock:"",outOfStock:"",hidden:""},table:{partNumber:"",name:"",brand:"",quantity:"",price:"",visibility:"",actions:""},modal:{addTitle:"",editTitle:"",deleteConfirm:"",deleteMessage:"",importTitle:"Excel",columnSettingsTitle:"Excel"},form:{partNumber:"",name:"",brand:"",quantity:"",price:"",costPrice:"",description:"",isVisible:"",save:"",cancel:""},import:{selectFile:"Excel",dragDrop:"",processing:"...",success:"",imported:"",updated:"",skipped:"",errors:""},validation:{partNumberRequired:"",nameRequired:"",priceInvalid:"",quantityInvalid:""},toast:{productCreated:"",productUpdated:"",productDeleted:"",importSuccess:"",createError:"",updateError:"",deleteError:"",importError:"",loadError:"",visibilityThresholdSaved:""},presets:{title:"",name:"",isDefault:"",mappings:"",internalField:"",excelHeader:"Excel",enabled:"",required:"",addPreset:"",editPreset:"",deletePreset:"",savePreset:"",toast:{presetCreated:"",presetUpdated:"",presetDeleted:"",presetSetDefault:""}},uploadExcel:"Excel",downloadTemplate:"",loading:"...",noProducts:"",noMatchingProducts:"",partNumber:"",productName:"",quantity:"",price:"",category:"",actions:"",edit:"",delete:"",deleteConfirm:"",productDeleted:"",productSaved:"",productCreated:"",importModal:{title:"",selectFile:"Excel",importing:"...",importSuccess:"",imported:"",updated:"",skipped:"",errors:""},productModal:{editTitle:"",addTitle:"",save:"",cancel:""},columnPresets:{title:"Excel",presetName:"",enterPresetName:"",created:"",saved:"",deleteConfirm:"",deleted:"",setDefault:"",isDefault:""},visibility:{title:"",threshold:"",saved:""},pagination:{showing:"",of:"",products:"",previous:"",next:""},selectProductsFirst:"",selectedCount:" {{count}} ",visibilityApplied:" {{count}} ",visibilityRemoved:" {{count}} ",loadFailed:"",importFailed:"",templateDownloaded:"Excel",templateDownloadFailed:"",partAndNameRequired:"",deleteFailed:""},One={title:"",subtitle:"",tabs:{users:"",roles:""},searchPlaceholder:"...",allRoles:"",allStatuses:"",addUser:"",exportUsers:"",table:{user:"",role:"",contact:"",lastLogin:"",status:"",actions:"",name:"",email:"",phone:""},status:{active:"",inactive:"",ACTIVE:"",SUSPENDED:"",PENDING:""},modal:{addTitle:"",editTitle:"",deleteConfirm:"",deleteMessage:"",resetPassword:"",toggleStatus:""},form:{fullName:"",username:"",email:"",phone:"",role:"",password:"",newPassword:"",confirmPassword:"",save:"",cancel:""},validation:{nameRequired:"",usernameRequired:"",emailRequired:"",emailInvalid:"",passwordRequired:"",passwordMinLength:"6",roleRequired:""},toast:{userCreated:"",userUpdated:"",userDeleted:"",passwordReset:"",statusChanged:"",createError:"",updateError:"",deleteError:"",loadError:""},roles:{title:"",addRole:"",editRole:"",deleteRole:"",roleName:"",roleDescription:"",permissions:"",usersCount:"",isSystemRole:"",noRoles:"",toast:{roleCreated:"",roleUpdated:"",roleDeleted:""},SUPER_ADMIN:"",ADMIN:"",MANAGER:"",STAFF:"",CUSTOMER_OWNER:"",CUSTOMER_STAFF:""},stats:{total:"",admins:"",staff:"",active:""},noUsers:"",editUser:"",deleteUser:"",deleteConfirm:"",userCreated:"",userUpdated:"",userDeleted:"",resetPassword:"",passwordReset:""},kne={title:"",message:"",contactAdmin:"",requestedPage:"",goBack:"",goHome:"",errorCode:""},Rne={searchPlaceholder:"...",allStatuses:"",table:{requestNumber:"",businessCustomer:" / ",uploadDate:"",itemsCount:"",priceType:"",status:"",actions:""},reviewDetails:" / ",noRequests:"",panel:{reviewRequest:"",proposedTotal:"",approving:"...",approveAndSend:"",selectAll:"",changeSelectedStatus:"",available:" (Approved)",unavailable:" (Missing)",rejected:" (Rejected)",customerPartNumber:"",customerPartName:"",quantity:"",matchedProduct:"",price:"",decision:"",notes:"",generalNotes:"",notesPlaceholder:"...",itemStatus:{approved:"",missing:"",rejected:"",pending:""}},status:{new:"",underReview:"",partiallyApproved:"",approved:"",quoted:"",processed:"",rejected:""},toast:{itemsUpdated:" {{count}} ",approvedWithoutPriceWarning:"",pricingSentSuccess:"",saveError:"",quoteSaved:"",quoteSaveFailed:""}},Pne={tabs:{all:"",fromSearch:"",fromQuote:""},stats:{totalMissing:"",newMissing:"",underReview:"",ordered:"",solved:"",orderedImport:" / ",addedToStock:"",fromQuote:"",fromSearch:""},searchPlaceholder:"...",allStatuses:"",noMatchingMissing:"",table:{partNumber:" / ",partInfo:"",requestCount:"",requestFrequency:"",interestedCustomers:"",source:"",date:"",lastRequest:"",status:"",actions:""},source:{search:"",quote:""},actions:{details:"",linkToImport:"",addToStock:"",saving:"...",saveChanges:""},view:"",noMatchingParts:"",pagination:{page:"",of:""},export:{partNumber:"",itemName:"",source:"",requestCount:"",customerCount:"",status:"",lastRequest:"",adminNotes:""},panel:{title:"",missingDetails:"",partDetails:"",requestedItem:"",suggestedName:"",brand:"",searchQuery:"",partNumber:"",partName:"",requestCount:"",differentCustomers:"",source:"",sourceQuote:"",firstRequest:"",lastRequest:"",requestingCustomers:"",updateStatus:"",followUp:"",internalNotes:"",adminNotes:"",notesPlaceholder:"...",saving:"...",saveStatus:""},status:{new:"",underReview:"",orderPlanned:"",ordered:"",addedToStock:"",ignored:""},sourceLabels:{search:"",quote:""},toast:{statusUpdated:"",saveError:"",exportSuccess:"",exportFailed:"",linkImportSoon:"",redirectToAddProduct:"..."}},Dne={stats:{newRequests:"",pending:"",inProgress:"",awaitingCustomer:"",completed:"",delivered:""},table:{requestNumber:"",customer:"",service:"",requestDate:"",date:"",category:"",status:"",action:"",actions:""},serviceType:{fullService:"",processingOnly:"",fullImport:"",goodsPreparation:""},actions:{manageRequest:"",startReview:"",requestItemsFile:"",cancelRequest:""},viewDetails:"",noRequests:"",modal:{manageRequest:"",currentStatus:"",timeline:""},pricing:{preparePricing:"",customerFile:"",download:"",waitingForFile:"...",totalOffer:" (SAR)",sendToCustomer:""},details:{title:"",requestedBrands:"",serviceType:"",branchesCount:"",estimatedValue:"",customerNotes:""},statusControl:{title:"",hint:"..."},panel:{title:"",requestInfo:"",customer:"",category:"",description:"",estimatedQuantity:"",timeline:"",updateStatus:"",pricingSection:"",totalAmount:"",enterAmount:"",note:"",notePlaceholder:"...",sendPricing:""},status:{new:"",underReview:"",waitingCustomerExcel:"",pricingInProgress:"",pricingSent:"",waitingCustomerApproval:"",approvedByCustomer:"",inFactory:"",shipmentBooked:"",onTheSea:"",inPort:"",customsCleared:"",onTheWay:"",delivered:"",cancelled:""},toast:{statusUpdated:"",updateFailed:"",enterValidAmount:"",pricingSent:"",sendFailed:""}},Ine={title:"",stats:{total:"",active:"",pending:"",suspended:""},searchPlaceholder:"...",allStatuses:"",table:{name:"",phone:"",referralCode:"",referrals:"",earnings:"",status:"",actions:""},status:{ACTIVE:"",PENDING:"",SUSPENDED:""},noMarketers:"",view:"",activate:"",suspend:"",delete:"",addMarketer:"",marketerDetails:"",referralHistory:"",commissionHistory:"",payoutHistory:"",pendingPayout:"",totalEarnings:"",marketerUpdated:"",marketerCreated:""},Mne={title:"",stats:{total:"",active:"",scheduled:"",expired:""},searchPlaceholder:"...",allStatuses:"",table:{title:"",type:"",placement:"",startDate:"",endDate:"",status:"",actions:""},status:{ACTIVE:"",SCHEDULED:"",PAUSED:"",EXPIRED:""},noAds:"",addAd:"",editAd:"",deleteAd:"",deleteConfirm:"",adCreated:"",adUpdated:"",adDeleted:"",uploadImage:"",adDetails:""},Lne={title:"",stats:{totalRequests:"",pending:"",approved:"",rejected:"",active:""},searchPlaceholder:"ID...",allStatuses:"",table:{requestId:"ID",customer:"",product:"",amount:"",installments:"",status:"",actions:""},status:{PENDING:"",APPROVED:"",REJECTED:"",ACTIVE:"",COMPLETED:"",DEFAULTED:""},noRequests:"",view:"",approve:"",reject:"",requestDetails:"",customerInfo:"",productInfo:"",paymentSchedule:"",paymentHistory:"",monthlyPayment:"",totalAmount:"",remainingAmount:"",dueDate:"",requestApproved:"",requestRejected:""},Fne={common:Kse,login:Qse,loading:Jse,intro:Zse,marketing:ene,guestMode:tne,register:rne,nav:ane,dashboard:sne,products:nne,orders:ine,cart:lne,customers:one,users:cne,roles:dne,permissions:une,settings:fne,accountRequests:mne,statusLabels:hne,reports:pne,notifications:xne,errors:gne,confirmations:bne,admin:vne,sidebar:yne,customerDashboard:Sne,adminDashboard:wne,adminCustomers:Nne,adminSettings:jne,adminOrders:Ene,adminAccounts:Ane,adminAccountRequests:_ne,adminQuotes:Cne,adminProducts:Tne,adminUsers:One,accessDenied:kne,adminQuoteManager:Rne,adminMissingParts:Pne,adminImport:Dne,adminMarketers:Ine,adminAdvertising:Mne,adminInstallments:Lne},Une={ar:{translation:xae},en:{translation:ise},hi:{translation:Yse},zh:{translation:Fne}};ms.use(p8).use(Rz).init({resources:Une,lng:localStorage.getItem("i18nextLng")||"ar",fallbackLng:"ar",supportedLngs:["ar","en","hi","zh"],debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});const xp=[{code:"ar",name:"",nativeName:"",flag:"",dir:"rtl"},{code:"en",name:"English",nativeName:"English",flag:"",dir:"ltr"},{code:"hi",name:"",nativeName:"",flag:"",dir:"ltr"},{code:"zh",name:"",nativeName:"",flag:"",dir:"ltr"}],Td=e=>e==="ar"?"rtl":"ltr",x8=e=>{ms.changeLanguage(e);const t=Td(e);document.documentElement.dir=t,document.documentElement.lang=e,localStorage.setItem("i18nextLng",e)},g8=P.createContext(void 0),Bne=({children:e})=>{const{t,i18n:r}=na(),[a,n]=P.useState(r.language||"ar"),[i,l]=P.useState({}),c=x=>{n(x),x8(x)};P.useEffect(()=>{const x=y=>{n(y);const b=Td(y);document.documentElement.dir=b,document.documentElement.lang=y};r.on("languageChanged",x);const v=Td(r.language);return document.documentElement.dir=v,document.documentElement.lang=r.language,()=>{r.off("languageChanged",x)}},[r]),P.useEffect(()=>{(async()=>{try{const v=await de.getSettings();v.uiTexts&&l(v.uiTexts)}catch{console.error("Failed to load UI texts")}})()},[]);const u=(x,v)=>{const y=t(x,v);return typeof y=="string"?y:x},f=(x,v)=>i[x]||v,p=Td(a);return s.jsx(g8.Provider,{value:{language:a,setLanguage:c,t:u,tDynamic:f,dir:p,fontFamily:"Tajawal, system-ui, sans-serif"},children:e})},Ea=()=>{const e=P.useContext(g8);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},zne=({className:e,variant:t="light"})=>{const{language:r,setLanguage:a}=Ea(),[n,i]=P.useState(!1);return s.jsxs("div",{className:`relative ${e}`,children:[s.jsxs("button",{onClick:()=>i(!n),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all duration-200 ${t==="dark"?"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-md":"bg-white border-gray-200 text-slate-700 hover:border-amber-500 shadow-sm hover:shadow-md"}`,"data-testid":"button-language-switcher",children:[s.jsx(fs,{size:14,className:t==="dark"?"text-amber-400":"text-amber-600"}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:r}),s.jsx(ui,{size:12,className:`transition-transform duration-200 ${n?"rotate-180":""} opacity-70`})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),s.jsx("div",{className:`absolute top-full mt-2 w-44 py-1 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden z-50 animate-fade-in ${document.dir==="rtl"?"left-0":"right-0"}`,children:xp.map(l=>s.jsxs("button",{onClick:()=>{a(l.code),i(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm hover:bg-slate-50 transition-colors ${r===l.code?"bg-amber-50 font-bold text-amber-700":"text-slate-700"}`,"data-testid":`button-lang-${l.code}`,children:[s.jsx("span",{className:"text-lg",children:l.flag}),s.jsx("span",{className:"flex-1 text-start",children:l.nativeName}),r===l.code&&s.jsx(Gr,{size:16,className:"text-amber-600"})]},l.code))})]})]})},b8=P.createContext(void 0),qne=({children:e})=>{const[t,r]=P.useState([]),a=P.useCallback(i=>{r(l=>l.filter(c=>c.id!==i))},[]),n=P.useCallback((i,l="success")=>{const c=Math.random().toString(36).substring(2,9);r(u=>[...u,{id:c,message:i,type:l}]),setTimeout(()=>{a(c)},3e3)},[a]);return s.jsx(b8.Provider,{value:{toasts:t,addToast:n,removeToast:a},children:e})},qt=()=>{const e=P.useContext(b8);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Vj=({variant:e="light",size:t="md",showLabel:r=!0})=>{const{i18n:a,t:n}=na(),[i,l]=P.useState(!1),c=P.useRef(null),u=xp.find(x=>x.code===a.language)||xp[0];P.useEffect(()=>{const x=v=>{c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),P.useEffect(()=>{const x=Td(a.language);document.documentElement.dir=x,document.documentElement.lang=a.language},[a.language]);const f=x=>{x8(x),l(!1)},p={sm:"px-2 py-1.5 text-xs gap-1.5",md:"px-3 py-2 text-sm gap-2",lg:"px-4 py-2.5 text-base gap-2.5"},m={dark:"bg-white/10 hover:bg-white/20 text-white border-white/20 backdrop-blur-md",light:"bg-white hover:bg-slate-50 text-slate-700 border-slate-200 shadow-sm hover:shadow-md",floating:"bg-[#0B1B3A] hover:bg-[#1a2e56] text-white border-[#C8A04F]/30 shadow-lg"};return s.jsxs("div",{className:"relative",ref:c,children:[s.jsxs("button",{onClick:()=>l(!i),className:`flex items-center rounded-xl border transition-all duration-200 font-medium ${p[t]} ${m[e]}`,"data-testid":"button-language-switcher",children:[s.jsx("span",{className:"text-lg leading-none",children:u.flag}),r&&s.jsx("span",{className:"font-bold",children:u.nativeName}),s.jsx(ui,{size:t==="sm"?12:14,className:`transition-transform opacity-60 ${i?"rotate-180":""}`})]}),i&&s.jsxs("div",{className:`absolute top-full mt-2 w-52 bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden z-[100] animate-in fade-in slide-in-from-top-2 duration-200 ${document.dir==="rtl"?"left-0":"right-0"}`,children:[s.jsx("div",{className:"p-2 bg-slate-50 border-b border-slate-100",children:s.jsx("p",{className:"text-xs font-bold text-slate-500 px-2",children:n("settings.selectLanguage")})}),s.jsx("div",{className:"p-1",children:xp.map(x=>s.jsxs("button",{onClick:()=>f(x.code),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-start transition-all duration-150 ${x.code===a.language?"bg-gradient-to-r from-amber-50 to-amber-100/50 text-amber-800":"hover:bg-slate-50 text-slate-700"}`,"data-testid":`button-language-${x.code}`,children:[s.jsx("span",{className:"text-2xl",children:x.flag}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-bold ${x.code===a.language?"text-amber-800":"text-slate-800"}`,children:x.nativeName}),s.jsx("p",{className:"text-xs text-slate-500",children:x.name})]}),x.code===a.language&&s.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-500 flex items-center justify-center",children:s.jsx(Gr,{size:14,className:"text-white"})})]},x.code))})]})]})},$ne=()=>s.jsx(Vj,{variant:"light",size:"md"}),I4={CR_CERTIFICATE:{labelKey:"register.documents.crCertificate",required:!0,forCategory:["SPARE_PARTS_SHOP","INSURANCE_COMPANY","RENTAL_COMPANY","MAINTENANCE_CENTER"]},VAT_CERTIFICATE:{labelKey:"register.documents.vatCertificate",required:!0,forCategory:["SPARE_PARTS_SHOP","INSURANCE_COMPANY","RENTAL_COMPANY","MAINTENANCE_CENTER"]},NATIONAL_ID:{labelKey:"register.documents.nationalId",required:!0,forCategory:["SALES_REP"]},NATIONAL_ADDRESS:{labelKey:"register.documents.nationalAddressCert",required:!0,forCategory:["SPARE_PARTS_SHOP","INSURANCE_COMPANY","RENTAL_COMPANY","MAINTENANCE_CENTER"]}},Hne=["application/pdf","image/jpeg","image/png","image/webp"],Vne=5*1024*1024,Gne=({onSuccess:e,onSwitchToLogin:t})=>{var I,V,q,z,R,W,X,B,ee,Y,F,K,J,H,ce,le,xe;const[r,a]=P.useState(!1),[n,i]=P.useState(!1),[l,c]=P.useState("SPARE_PARTS_SHOP"),[u,f]=P.useState([]),p=P.useRef({}),[m,x]=P.useState(null),{addToast:v}=qt(),{t:y,i18n:b}=na(),{dir:S}=Ea();b.language,P.useEffect(()=>{de.getSettings().then(x)},[]);const[_,w]=P.useState({phone:"",notes:"",email:"",businessName:"",city:"",country:"",branchesCount:1,commercialRegNumber:"",vatNumber:"",nationalAddress:"",contactPerson:"",fullName:"",representativeRegion:"",representativeClientsType:"",approximateClientsCount:""}),E=se=>{w({..._,[se.target.name]:se.target.value})},O=()=>Object.entries(I4).filter(([se,fe])=>fe.forCategory.includes(l)).map(([se,fe])=>({key:se,label:y(fe.labelKey),...fe})),A=async(se,fe)=>{if(!Hne.includes(fe.type)){v(y("register.documents.invalidFileType"),"error");return}if(fe.size>Vne){v(y("register.documents.fileTooLarge"),"error");return}const we=new FileReader;we.onload=()=>{const G={id:`doc_${Date.now()}`,name:fe.name,type:se,fileType:fe.type,fileSize:fe.size,base64Data:we.result,uploadedAt:new Date().toISOString()};f(Ue=>[...Ue.filter(Me=>Me.type!==se),G]);const He=I4[se];v(`${y((He==null?void 0:He.labelKey)||"common.document")} ${y("register.documents.uploadSuccess")}`,"success")},we.readAsDataURL(fe)},T=se=>{f(fe=>fe.filter(we=>we.type!==se))},N=se=>se<1024?se+" B":se<1024*1024?(se/1024).toFixed(1)+" KB":(se/(1024*1024)).toFixed(1)+" MB",D=()=>{if(!_.phone)return v(y("register.validation.phoneRequired"),"error"),!1;if(l==="SALES_REP"){if(!_.fullName)return v(y("register.validation.fullNameRequired"),"error"),!1;if(!_.representativeRegion)return v(y("register.validation.regionRequired"),"error"),!1}else{if(!_.businessName)return v(y("register.validation.businessNameRequired"),"error"),!1;if(!_.city)return v(y("register.validation.cityRequired"),"error"),!1;if(!_.contactPerson)return v(y("register.validation.contactPersonRequired"),"error"),!1;if(!_.commercialRegNumber)return v(y("register.validation.commercialRegRequired"),"error"),!1;if(!_.vatNumber)return v(y("register.validation.vatRequired"),"error"),!1;if(!_.nationalAddress)return v(y("register.validation.nationalAddressRequired"),"error"),!1}const se=O().filter(fe=>fe.required);for(const fe of se)if(!u.find(we=>we.type===fe.key))return v(`${fe.label} ${y("register.validation.documentRequired")}`,"error"),!1;return!0},L=async()=>{if(D()){a(!0);try{await de.createAccountOpeningRequest({category:l,..._,phone:_.phone||"",documents:u}),i(!0),v(y("register.requestSuccess"),"success")}catch{v(y("register.submitError"),"error")}finally{a(!1)}}},M=({docKey:se,label:fe,required:we})=>{const G=u.find(Ue=>Ue.type===se),He=G==null?void 0:G.fileType.startsWith("image/");return s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:[fe," ",we&&s.jsx("span",{className:"text-red-500",children:"*"})]}),G?s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:He?s.jsx(x0,{size:20}):s.jsx(kw,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:G.name}),s.jsx("p",{className:"text-xs text-slate-500",children:N(G.fileSize)})]}),s.jsx("button",{type:"button",onClick:()=>T(se),className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center text-red-600 hover:bg-red-200 transition-colors","data-testid":`remove-doc-${se}`,children:s.jsx(ar,{size:16})})]}):s.jsxs("div",{className:"w-full p-6 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50 hover:bg-slate-100 hover:border-brand-400 transition-all cursor-pointer text-center",onClick:()=>{var Ue;return(Ue=p.current[se])==null?void 0:Ue.click()},"data-testid":`upload-${se}`,children:[s.jsx(jc,{className:"mx-auto mb-2 text-slate-400",size:28}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:y("register.documents.clickToUpload")}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:y("register.documents.fileTypes")}),s.jsx("input",{type:"file",ref:Ue=>p.current[se]=Ue,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:Ue=>{var Me;const he=(Me=Ue.target.files)==null?void 0:Me[0];he&&A(se,he),Ue.target.value=""}})]})]})},k=se=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:[se.label," ",se.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{...se,className:"w-full p-3 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all font-medium"})]});return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center py-12 px-4 relative",dir:S,children:[s.jsx("div",{className:`absolute top-4 z-50 ${S==="rtl"?"left-4":"right-4"}`,children:s.jsx(Vj,{variant:"floating",size:"md"})}),s.jsx("div",{className:"max-w-4xl w-full bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden",children:n?s.jsxs("div",{className:"text-center py-20 px-8 animate-fade-in",children:[s.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-green-600 mx-auto mb-8 shadow-sm animate-bounce",children:s.jsx(dr,{size:48})}),s.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-4",children:y("register.success.title")}),s.jsx("p",{className:"text-slate-500 text-lg mb-8 max-w-xl mx-auto leading-relaxed",children:y("register.success.message")}),s.jsx("div",{className:"flex justify-center gap-4",children:s.jsx("button",{onClick:t,className:"px-8 py-3 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 shadow-md",children:y("register.success.backToHome")})})]}):s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsxs("div",{className:"bg-slate-900 text-white p-8 md:w-1/3 flex flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("h2",{className:"text-2xl font-black mb-6",children:((I=m==null?void 0:m.authPageTexts)==null?void 0:I.registerTitle)||y("register.openNewAccount")}),s.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-6",children:((V=m==null?void 0:m.authPageTexts)==null?void 0:V.registerSubtitle)||y("register.subtitle")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-slate-200",children:[s.jsx(dr,{className:"text-brand-500",size:18}),s.jsx("span",{children:y("register.benefits.exclusivePrices")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-slate-200",children:[s.jsx(dr,{className:"text-brand-500",size:18}),s.jsx("span",{children:y("register.benefits.instantAccess")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-slate-200",children:[s.jsx(dr,{className:"text-brand-500",size:18}),s.jsx("span",{children:y("register.benefits.taxInvoices")})]})]})]}),s.jsx("div",{className:"relative z-10 mt-8 pt-8 border-t border-slate-800",children:s.jsxs("button",{onClick:t,className:"text-sm font-bold text-slate-400 hover:text-white flex items-center gap-2 transition-colors",children:[s.jsx(dc,{size:16})," ",((q=m==null?void 0:m.authPageTexts)==null?void 0:q.registerLoginLinkText)||y("register.backToLogin")]})})]}),s.jsxs("div",{className:"p-8 md:p-10 md:w-2/3",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:[((z=m==null?void 0:m.authPageTexts)==null?void 0:z.registerBusinessTypeLabel)||y("register.selectBusinessType")," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[s.jsxs("button",{onClick:()=>c("SPARE_PARTS_SHOP"),className:`p-3 rounded-xl border text-center transition-all ${l==="SPARE_PARTS_SHOP"?"border-brand-600 bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"data-testid":"category-spare-parts",children:[s.jsx(ka,{size:24,className:"mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:y("register.businessTypes.sparePartsShop")})]}),s.jsxs("button",{onClick:()=>c("MAINTENANCE_CENTER"),className:`p-3 rounded-xl border text-center transition-all ${l==="MAINTENANCE_CENTER"?"border-brand-600 bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"data-testid":"category-maintenance-center",children:[s.jsx(mm,{size:24,className:"mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:y("register.businessTypes.maintenanceCenter")})]}),s.jsxs("button",{onClick:()=>c("INSURANCE_COMPANY"),className:`p-3 rounded-xl border text-center transition-all ${l==="INSURANCE_COMPANY"?"border-brand-600 bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"data-testid":"category-insurance",children:[s.jsx(Ws,{size:24,className:"mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:y("register.businessTypes.insuranceCompany")})]}),s.jsxs("button",{onClick:()=>c("RENTAL_COMPANY"),className:`p-3 rounded-xl border text-center transition-all ${l==="RENTAL_COMPANY"?"border-brand-600 bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"data-testid":"category-rental",children:[s.jsx(io,{size:24,className:"mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:y("register.businessTypes.rentalCompany")})]}),s.jsxs("button",{onClick:()=>c("SALES_REP"),className:`p-3 rounded-xl border text-center transition-all ${l==="SALES_REP"?"border-brand-600 bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,"data-testid":"category-sales-rep",children:[s.jsx(p0,{size:24,className:"mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:y("register.businessTypes.salesRep")})]})]})]}),s.jsxs("form",{onSubmit:se=>se.preventDefault(),className:"space-y-6 animate-fade-in",children:[l==="SALES_REP"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:y("register.salesRepFields.fullName"),name:"fullName",value:_.fullName,onChange:E,required:!0}),s.jsx(k,{label:y("register.salesRepFields.phone"),name:"phone",value:_.phone,onChange:E,placeholder:"05xxxxxxxx",required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:y("register.salesRepFields.region"),name:"representativeRegion",value:_.representativeRegion,onChange:E,required:!0}),s.jsx(k,{label:y("register.salesRepFields.email"),name:"email",type:"email",value:_.email,onChange:E})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:y("register.salesRepFields.clientsType"),name:"representativeClientsType",value:_.representativeClientsType,onChange:E}),s.jsx(k,{label:y("register.salesRepFields.clientsCount"),name:"approximateClientsCount",value:_.approximateClientsCount,onChange:E})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:((R=m==null?void 0:m.authPageTexts)==null?void 0:R.registerBusinessNameLabel)||y("register.businessFields.businessName"),name:"businessName",value:_.businessName,onChange:E,placeholder:((W=m==null?void 0:m.authPageTexts)==null?void 0:W.registerBusinessNamePlaceholder)||"",required:!0}),s.jsx(k,{label:y("register.businessFields.branchesCount"),name:"branchesCount",type:"number",min:1,value:_.branchesCount,onChange:E,required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:((X=m==null?void 0:m.authPageTexts)==null?void 0:X.registerCityLabel)||y("register.businessFields.city"),name:"city",value:_.city,onChange:E,placeholder:((B=m==null?void 0:m.authPageTexts)==null?void 0:B.registerCityPlaceholder)||"",required:!0}),s.jsx(k,{label:y("register.businessFields.nationalAddress"),name:"nationalAddress",value:_.nationalAddress,onChange:E,placeholder:y("register.businessFields.nationalAddressPlaceholder"),required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:y("register.businessFields.commercialReg"),name:"commercialRegNumber",value:_.commercialRegNumber,onChange:E,required:!0}),s.jsx(k,{label:y("register.businessFields.vatNumber"),name:"vatNumber",value:_.vatNumber,onChange:E,required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(k,{label:((ee=m==null?void 0:m.authPageTexts)==null?void 0:ee.registerOwnerNameLabel)||y("register.businessFields.contactPerson"),name:"contactPerson",value:_.contactPerson,onChange:E,placeholder:((Y=m==null?void 0:m.authPageTexts)==null?void 0:Y.registerOwnerNamePlaceholder)||"",required:!0}),s.jsx(k,{label:((F=m==null?void 0:m.authPageTexts)==null?void 0:F.registerPhoneLabel)||y("register.businessFields.phone"),name:"phone",value:_.phone,onChange:E,placeholder:((K=m==null?void 0:m.authPageTexts)==null?void 0:K.registerPhonePlaceholder)||"05xxxxxxxx",required:!0})]}),s.jsx(k,{label:((J=m==null?void 0:m.authPageTexts)==null?void 0:J.registerEmailLabel)||y("register.businessFields.emailOptional"),name:"email",type:"email",value:_.email,onChange:E,placeholder:((H=m==null?void 0:m.authPageTexts)==null?void 0:H.registerEmailPlaceholder)||""})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(lr,{className:"text-brand-600",size:20}),s.jsx("h3",{className:"text-lg font-bold text-slate-800",children:y("register.documents.requiredDocuments")})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-4 flex items-start gap-3",children:[s.jsx(Qn,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:18}),s.jsx("p",{className:"text-sm text-amber-800",children:y("register.documents.uploadNotice")})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:O().map(se=>s.jsx("div",{children:s.jsx(M,{docKey:se.key,label:se.label,required:se.required})},se.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:((ce=m==null?void 0:m.authPageTexts)==null?void 0:ce.registerNotesLabel)||y("register.additionalNotes")}),s.jsx("textarea",{name:"notes",className:"w-full p-3 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all font-medium",rows:3,value:_.notes,onChange:E,placeholder:((le=m==null?void 0:m.authPageTexts)==null?void 0:le.registerNotesPlaceholder)||""})]}),s.jsxs("button",{onClick:L,disabled:r,className:"w-full py-4 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 shadow-lg shadow-brand-200 flex items-center justify-center gap-2 transition-all",children:[r?y("register.submitting"):((xe=m==null?void 0:m.authPageTexts)==null?void 0:xe.registerButtonText)||y("register.submitRequest")," ",s.jsx(o8,{size:18,className:"rtl:rotate-180"})]})]})]})]})})]})};var Wne=MI();const Xne="modulepreload",Yne=function(e){return"/"+e},M4={},Vi=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=l(r.map(f=>{if(f=Yne(f),f in M4)return;M4[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":Xne,p||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),p)return new Promise((v,y)=>{x.addEventListener("load",v),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},gr=({isOpen:e,onClose:t,title:r,children:a,maxWidth:n="max-w-lg",noPadding:i=!1})=>{const[l,c]=P.useState(!1),[u,f]=P.useState(!1);return P.useEffect(()=>{if(e){c(!0);const p=setTimeout(()=>f(!0),10);return()=>clearTimeout(p)}else{f(!1);const p=setTimeout(()=>c(!1),200);return()=>clearTimeout(p)}},[e]),l?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:`absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-200 ease-out ${u?"opacity-100":"opacity-0"}`,onClick:t}),s.jsxs("div",{className:`
          relative z-10 w-full ${n} bg-white rounded-2xl shadow-2xl flex flex-col max-h-[90vh]
          transform transition-all duration-200 ease-out
          ${u?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}
        `,onClick:p=>p.stopPropagation(),children:[s.jsx("button",{onClick:t,className:"absolute top-4 left-4 z-20 p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors text-slate-500 hover:text-slate-700","data-testid":"button-modal-close",children:s.jsx(ar,{size:18})}),r&&s.jsx("div",{className:"flex justify-between items-center p-6 pb-4 border-b border-slate-100 flex-shrink-0",children:s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:r})}),s.jsx("div",{className:`flex-1 overflow-y-auto ${i?"":"p-6"}`,children:a})]})]}):null};function Hd(e){if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return`${r}/${a}/${n}`}function Kne(e){if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";let r=t.getHours();const a=String(t.getMinutes()).padStart(2,"0"),i=r>=12?"":"";return r=r%12,r===0&&(r=12),`${String(r).padStart(2,"0")}:${a} ${i}`}function Dr(e){return e?`${Hd(e)} - ${Kne(e)}`:"-"}const Yh=({status:e,type:t="ORDER"})=>{const r={[Je.PENDING]:"bg-amber-50 text-amber-700 border-amber-200",[Je.APPROVED]:"bg-blue-50 text-blue-700 border-blue-200",[Je.SHIPPED]:"bg-emerald-50 text-emerald-700 border-emerald-200",[Je.DELIVERED]:"bg-green-100 text-green-800 border-green-300",[Je.REJECTED]:"bg-red-50 text-red-700 border-red-200",[Je.CANCELLED]:"bg-gray-100 text-gray-500 border-gray-300",PENDING:"bg-yellow-50 text-yellow-700 border-yellow-200",NEW:"bg-blue-50 text-blue-700 border-blue-200",UNDER_REVIEW:"bg-yellow-50 text-yellow-700 border-yellow-200",QUOTED:"bg-blue-50 text-blue-700 border-blue-200",PROCESSED:"bg-green-50 text-green-700 border-green-200",PARTIALLY_APPROVED:"bg-purple-100 text-purple-700 border-purple-200",MATCHED:"bg-green-50 text-green-700 border-green-200",NOT_FOUND:"bg-slate-50 text-slate-500 border-slate-200"},a={[Je.PENDING]:" ",[Je.APPROVED]:" ",[Je.SHIPPED]:" ",[Je.DELIVERED]:" ",[Je.REJECTED]:"",[Je.CANCELLED]:"",PENDING:" ",NEW:"",UNDER_REVIEW:" ",QUOTED:" ",PROCESSED:" ",PARTIALLY_APPROVED:" ",MATCHED:"  ",NOT_FOUND:" "};return s.jsxs("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold border flex items-center gap-1.5 w-fit ${r[e]||"bg-gray-50 text-gray-700 border-gray-200"}`,children:[e===Je.PENDING&&s.jsx(Xr,{size:14}),(e===Je.APPROVED||e===Je.DELIVERED||e==="PROCESSED"||e==="QUOTED"||e==="MATCHED"||e==="PARTIALLY_APPROVED")&&s.jsx(dr,{size:14}),e===Je.SHIPPED&&s.jsx(Na,{size:14}),(e===Je.REJECTED||e==="NOT_FOUND")&&s.jsx(e8,{size:14}),e===Je.CANCELLED&&s.jsx(_n,{size:14}),(e==="NEW"||e==="UNDER_REVIEW"||e==="PENDING")&&s.jsx(Xr,{size:14}),a[e]||e]})},Qne=({orders:e,quoteRequests:t=[]})=>{var W;const[r,a]=P.useState("ORDERS"),[n,i]=P.useState(e),[l,c]=P.useState(""),[u,f]=P.useState("ALL"),[p,m]=P.useState(1),x=20,[v,y]=P.useState(null),[b,S]=P.useState(null),[_,w]=P.useState(null),{addToast:E}=qt();P.useEffect(()=>{i(e)},[e]),P.useEffect(()=>{m(1)},[l,u,r]);const O=P.useMemo(()=>{let X=[...n];if(l){const B=l.toLowerCase();X=X.filter(ee=>ee.id.toLowerCase().includes(B))}return u!=="ALL"&&(X=X.filter(B=>B.status===u)),X.sort((B,ee)=>new Date(ee.date).getTime()-new Date(B.date).getTime())},[n,l,u]),A=P.useMemo(()=>[...t].sort((X,B)=>new Date(B.date).getTime()-new Date(X.date).getTime()),[t]),T=P.useMemo(()=>{const X=(p-1)*x;return r==="ORDERS"?O.slice(X,X+x):A.slice(X,X+x)},[r,O,A,p]),N=P.useMemo(()=>{const X=r==="ORDERS"?O.length:A.length;return Math.ceil(X/x)},[r,O.length,A.length]),D=P.useMemo(()=>({total:n.length,pending:n.filter(X=>X.status===Je.PENDING).length,approved:n.filter(X=>X.status===Je.APPROVED||X.status===Je.SHIPPED).length}),[n]),L=X=>{X.status==="NEW"||X.status==="UNDER_REVIEW"?E("        ","info"):w(X)},M=async X=>{if(!(X.status===Je.PENDING||X.status===Je.APPROVED)){X.status===Je.SHIPPED||X.status===Je.DELIVERED?E("            .","error"):E("       .","error");return}if(window.confirm("            ."))try{await de.cancelOrder(X.id,"CUSTOMER");const ee=n.map(Y=>Y.id===X.id?{...Y,status:Je.CANCELLED,cancelledBy:"CUSTOMER",cancelledAt:new Date().toISOString()}:Y);i(ee),b&&b.id===X.id&&S({...b,status:Je.CANCELLED,cancelledBy:"CUSTOMER",cancelledAt:new Date().toISOString()}),E("   ","success")}catch(ee){ee.message==="CANNOT_CANCEL_SENSITIVE_STATUS"?E("        .","error"):E(ee.message||"   ","error")}},k=async X=>{if(X.status!==Je.CANCELLED&&X.status!==Je.REJECTED){E("      .   .","error");return}if(window.confirm("         "))try{await de.deleteOrder(X.id);const B=n.filter(ee=>ee.id!==X.id);i(B),(b==null?void 0:b.id)===X.id&&S(null),E("   ","success")}catch{E("   ","error")}},I=async(X,B)=>{X.stopPropagation();try{const{default:ee}=await Vi(async()=>{const{default:J}=await import("./jspdf.es.min-CPuXHEK3.js").then(H=>H.j);return{default:J}},[]),{default:Y}=await Vi(async()=>{const{default:J}=await import("./jspdf.plugin.autotable-Ctn9oCMc.js");return{default:J}},[]),F=new ee;F.setFontSize(18),F.text(`Order Invoice #${B.id}`,14,20),F.setFontSize(10),F.text(`Date: ${Hd(B.date)}`,14,30),F.text(`Total Amount: ${B.totalAmount.toLocaleString()} SAR`,14,35),F.text(`Status: ${B.status}`,14,40);const K=B.items.map(J=>[J.partNumber,J.name,J.quantity,J.price,(J.price*J.quantity).toFixed(2)]);Y(F,{startY:45,head:[["Part No","Item Name","Qty","Unit Price","Total"]],body:K,foot:[["","","","Grand Total",`${B.totalAmount.toLocaleString()} SAR`]]}),F.save(`order-${B.id}.pdf`),E("   ","success")}catch(ee){console.error(ee),E("    PDF","error")}},V=(X,B)=>{X.stopPropagation();const ee=window.open("","_blank","width=800,height=600");if(ee){const Y=B.items.map(K=>`
            <tr>
                <td style="padding: 8px; border-bottom: 1px solid #ddd;">${K.partNumber}</td>
                <td style="padding: 8px; border-bottom: 1px solid #ddd;">${K.name}</td>
                <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">${K.quantity}</td>
                <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">${K.price}</td>
                <td style="padding: 8px; border-bottom: 1px solid #ddd; text-align: center;">${(K.price*K.quantity).toLocaleString()}</td>
            </tr>
        `).join(""),F=`
            <html dir="rtl" lang="ar">
            <head>
                <title>  #${B.id}</title>
                <style>
                    body { font-family: 'Arial', sans-serif; padding: 20px; }
                    .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
                    .details { margin-bottom: 20px; }
                    table { w-full; width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
                    th { background-color: #f8f9fa; padding: 10px; border-bottom: 2px solid #ddd; text-align: right; }
                    .totals { margin-top: 20px; text-align: left; font-size: 16px; font-weight: bold; }
                    @media print {
                        button { display: none; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h1>Sini Car Wholesale</h1>
                    <h2>   #${B.id}</h2>
                </div>
                <div class="details">
                    <p><strong>:</strong> ${Dr(B.date)}</p>
                    <p><strong>:</strong> ${B.status}</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th> </th>
                            <th> </th>
                            <th style="text-align: center;"></th>
                            <th style="text-align: center;"> </th>
                            <th style="text-align: center;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Y}
                    </tbody>
                </table>
                <div class="totals">
                    <p> ( ): ${B.totalAmount.toLocaleString()} .</p>
                </div>
                <script>
                    window.onload = function() { window.print(); }
                <\/script>
            </body>
            </html>
        `;ee.document.write(F),ee.document.close()}},q=X=>{V({stopPropagation:()=>{}},X)},z=async X=>{const B=X.items.filter(ee=>ee.status==="REJECTED"||ee.status==="NOT_FOUND").map(ee=>({"Part Number":ee.partNumber,"Part Name":ee.partName,Quantity:ee.requestedQty,Reason:ee.notes||"N/A"}));if(B.length===0){E("      ","info");return}try{const{utils:ee,writeFile:Y}=await Vi(async()=>{const{utils:J,writeFile:H}=await Promise.resolve().then(()=>Vf);return{utils:J,writeFile:H}},void 0),F=ee.json_to_sheet(B),K=ee.book_new();ee.book_append_sheet(K,F,"Rejected Items"),Y(K,`Quote_${X.id}_NotFound.xlsx`),E("   Excel  ","success")}catch{E("    ","error")}},R=()=>N<=1?null:s.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[s.jsx("button",{disabled:p===1,onClick:()=>m(X=>Math.max(1,X-1)),className:"p-2 rounded-lg border border-slate-200 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600",children:[" ",p,"  ",N]}),s.jsx("button",{disabled:p===N,onClick:()=>m(X=>Math.min(N,X+1)),className:"p-2 rounded-lg border border-slate-200 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(bi,{size:18})})]});return s.jsxs("div",{className:"w-full animate-fade-in pb-20 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden min-h-[600px]",children:[s.jsxs("div",{className:"p-8 border-b border-slate-100 flex flex-col md:flex-row justify-between items-center gap-6 bg-slate-50/50",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[r==="ORDERS"?s.jsx(lr,{className:"text-brand-600",size:28}):s.jsx(Xr,{className:"text-brand-600",size:28}),r==="ORDERS"?"  ":"  "]}),s.jsx("p",{className:"text-sm font-medium text-slate-500 mt-2",children:r==="ORDERS"?"     .":"      ."})]}),s.jsxs("div",{className:"bg-white p-1.5 rounded-xl border border-slate-200 shadow-sm flex items-center",children:[s.jsxs("button",{onClick:()=>a("ORDERS"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${r==="ORDERS"?"bg-slate-800 text-white shadow-md":"text-slate-500 hover:text-slate-800 hover:bg-slate-50"}`,children:[s.jsx(Ud,{size:18}),"  "]}),s.jsxs("button",{onClick:()=>a("QUOTES"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${r==="QUOTES"?"bg-brand-600 text-white shadow-md":"text-slate-500 hover:text-brand-600 hover:bg-brand-50"}`,children:[s.jsx(lr,{size:18}),"  "]})]})]}),s.jsxs("div",{className:"p-8",children:[r==="ORDERS"&&s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-5 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"p-4 bg-slate-100 text-slate-600 rounded-full",children:s.jsx(Ud,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-3xl font-black text-slate-800 mt-1",children:D.total})]})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-5 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"p-4 bg-amber-50 text-amber-600 rounded-full",children:s.jsx(Xr,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-3xl font-black text-slate-800 mt-1",children:D.pending})]})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-5 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-full",children:s.jsx(dr,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:" "}),s.jsx("p",{className:"text-3xl font-black text-slate-800 mt-1",children:D.approved})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-bold text-slate-500 ml-2 flex items-center gap-2",children:[s.jsx(eee,{size:16})," :"]}),["ALL",Je.PENDING,Je.APPROVED,Je.SHIPPED,Je.CANCELLED].map(X=>s.jsx("button",{onClick:()=>f(X),className:`px-5 py-2 rounded-full text-xs font-bold border transition-colors ${u===X?"bg-brand-600 text-white border-brand-600":"bg-white text-slate-500 border-slate-200 hover:border-brand-300 hover:text-brand-600"}`,children:X==="ALL"?"":X===Je.CANCELLED?"":X},X))]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-visible",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:T.length>0?T.map((X,B)=>s.jsxs("tr",{className:`hover:bg-blue-50/50 transition-colors group ${B%2===0?"bg-white":"bg-slate-50/30"}`,onClick:()=>S(X),children:[s.jsx("td",{className:"p-5 font-mono font-bold text-brand-700 text-base",children:X.id}),s.jsx("td",{className:"p-5 text-slate-600 font-medium",children:Dr(X.date)}),s.jsxs("td",{className:"p-5 font-black text-slate-900",children:[X.totalAmount.toLocaleString()," ."]}),s.jsx("td",{className:"p-5",children:s.jsx(Yh,{status:X.status})}),s.jsxs("td",{className:"p-5 relative",onClick:ee=>ee.stopPropagation(),children:[s.jsxs("button",{className:"text-slate-400 hover:text-brand-600 p-2 rounded-full hover:bg-slate-100 transition-colors flex items-center gap-1 text-xs font-bold",onMouseEnter:()=>y(X.id),onMouseLeave:()=>y(null),onClick:()=>y(v===X.id?null:X.id),children:[s.jsx(wa,{size:18})," "]}),v===X.id&&s.jsxs("div",{className:"absolute z-50 top-full mt-2 -right-4 w-72 md:w-80 rounded-xl bg-white shadow-xl border border-slate-200 p-4 text-xs animate-fade-in pointer-events-none md:pointer-events-auto",children:[s.jsx("div",{className:"absolute top-0 right-8 -mt-2 w-4 h-4 bg-white border-t border-r border-slate-200 transform -rotate-45"}),s.jsxs("h4",{className:"font-bold text-slate-800 mb-2 border-b border-slate-100 pb-2",children:["  (",X.items.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:X.items.map((ee,Y)=>s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"block font-bold text-slate-700 truncate",children:ee.name}),s.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:ee.partNumber})]}),s.jsxs("div",{className:"bg-slate-100 px-2 py-0.5 rounded text-[10px] font-bold",children:["x",ee.quantity]})]},Y))})]})]}),s.jsx("td",{className:"p-5 text-center",onClick:ee=>ee.stopPropagation(),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:ee=>V(ee,X),className:"p-2 text-slate-400 hover:text-slate-700 hover:bg-slate-200 rounded-lg transition-colors",title:"",children:s.jsx(qd,{size:18})}),s.jsx("button",{onClick:ee=>I(ee,X),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:" PDF",children:s.jsx(lr,{size:18})}),X.status===Je.PENDING||X.status===Je.APPROVED||X.status===Je.SHIPPED||X.status===Je.DELIVERED?s.jsx("div",{className:"relative group/cancel",children:s.jsx("button",{onClick:()=>M(X),disabled:X.status===Je.SHIPPED||X.status===Je.DELIVERED,className:`p-2 rounded-lg transition-colors ${X.status===Je.PENDING||X.status===Je.APPROVED?"text-slate-400 hover:text-red-600 hover:bg-red-50":"text-slate-200 cursor-not-allowed"}`,title:X.status===Je.SHIPPED?"     ":" ",children:s.jsx(_n,{size:18})})}):s.jsx("button",{onClick:()=>k(X),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"  ",children:s.jsx(Wt,{size:18})})]})})]},X.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-16 text-center text-slate-400 font-bold",children:"   "})})})]})}),s.jsx(R,{})]}),r==="QUOTES"&&s.jsxs("div",{className:"space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-6 flex items-start gap-4",children:[s.jsx("div",{className:"bg-white p-3 rounded-full text-brand-600 shadow-sm shrink-0",children:s.jsx(lr,{size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-brand-900 text-base",children:"   "}),s.jsxs("p",{className:"text-sm font-medium text-brand-700 mt-2 leading-relaxed",children:["   Excel       .    ",s.jsx("span",{className:"font-bold mx-1 px-2 py-0.5 bg-green-100 text-green-700 rounded-md",children:" "}),"       ."]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:T.length>0?T.map((X,B)=>s.jsxs("tr",{className:`hover:bg-blue-50/50 transition-colors cursor-pointer group ${B%2===0?"bg-white":"bg-slate-50/30"}`,onClick:()=>L(X),children:[s.jsx("td",{className:"p-5 font-mono font-bold text-brand-700 text-base",children:X.id}),s.jsx("td",{className:"p-5 text-slate-600 font-medium",children:Dr(X.date)}),s.jsx("td",{className:"p-5 font-bold text-slate-800",children:X.items.length}),s.jsx("td",{className:"p-5 text-slate-600 font-medium",children:X.priceType==="OEM"?" ":X.priceType==="AFTERMARKET"?" ":""}),s.jsx("td",{className:"p-5",children:s.jsx(Yh,{status:X.status,type:"QUOTE"})}),s.jsx("td",{className:"p-5 text-center",children:X.status==="NEW"||X.status==="UNDER_REVIEW"?s.jsx("span",{className:"text-xs font-bold text-slate-400 italic",children:" "}):s.jsxs("button",{className:"text-brand-600 hover:text-brand-800 font-bold text-xs flex items-center justify-center gap-1.5 mx-auto px-3 py-1.5 bg-brand-50 rounded-lg hover:bg-brand-100 transition-colors",children:[s.jsx(Cn,{size:14}),"  "]})})]},X.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-16 text-center text-slate-400 font-bold",children:"    "})})})]})}),s.jsx(R,{})]})]})]}),s.jsx(gr,{isOpen:!!b,onClose:()=>S(null),title:b?`  #${b.id}`:"",maxWidth:"max-w-2xl",children:b&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-5 rounded-2xl border border-slate-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:" "}),s.jsx("div",{children:s.jsx(Yh,{status:b.status})}),b.status===Je.CANCELLED&&b.cancelledBy&&s.jsxs("p",{className:"text-xs text-red-500 mt-1 font-bold",children:[": ",b.cancelledBy==="CUSTOMER"?"":""]})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:""}),s.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[b.totalAmount.toLocaleString()," ."]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2 text-lg",children:[s.jsx(Na,{size:20,className:"text-brand-500"}),"  (",b.items.length,")"]}),s.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:b.items.map((X,B)=>s.jsxs("tr",{children:[s.jsxs("td",{className:"p-4",children:[s.jsx("p",{className:"font-bold text-slate-800 text-base",children:X.name}),s.jsx("p",{className:"font-mono text-xs text-slate-400 font-bold mt-0.5",children:X.partNumber})]}),s.jsx("td",{className:"p-4 text-center font-bold text-base",children:X.quantity}),s.jsx("td",{className:"p-4 text-center text-slate-600 font-medium",children:X.price}),s.jsx("td",{className:"p-4 text-center font-bold text-brand-600 text-base",children:(X.price*X.quantity).toLocaleString()})]},B))})]})})]}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-slate-100",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>q(b),className:"px-5 py-2.5 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-900 flex items-center gap-2 text-sm shadow-md transition-all",children:[s.jsx(qd,{size:18})," "]}),(b.status===Je.PENDING||b.status===Je.APPROVED)&&s.jsxs("button",{onClick:()=>{b&&M(b)},className:"px-5 py-2.5 bg-red-50 text-red-600 border border-red-100 rounded-xl font-bold hover:bg-red-100 flex items-center gap-2 text-sm transition-all",children:[s.jsx(_n,{size:18}),"  "]}),(b.status===Je.CANCELLED||b.status===Je.REJECTED)&&s.jsxs("button",{onClick:()=>{b&&k(b)},className:"px-5 py-2.5 bg-slate-50 text-slate-600 border border-slate-200 rounded-xl font-bold hover:bg-slate-100 flex items-center gap-2 text-sm transition-all",children:[s.jsx(Wt,{size:18})," "]})]}),s.jsx("button",{onClick:()=>S(null),className:"px-6 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:""})]})]})}),s.jsx(gr,{isOpen:!!_,onClose:()=>w(null),title:_?`   #${_.id}`:"",maxWidth:"max-w-3xl",children:_&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 bg-slate-50 p-5 rounded-2xl border border-slate-200 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:""}),s.jsx("p",{className:"font-bold text-slate-800",children:Hd(_.date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:" "}),s.jsx("p",{className:"font-bold text-slate-800",children:_.priceType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:" "}),s.jsx("p",{className:"font-bold text-slate-800",children:_.items.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider mb-1",children:"  "}),s.jsxs("p",{className:"font-black text-brand-600 text-lg",children:[((W=_.totalQuotedAmount)==null?void 0:W.toLocaleString())||0," ."]})]})]}),s.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden max-h-[400px] overflow-y-auto custom-scrollbar shadow-inner",children:s.jsxs("table",{className:"w-full text-sm text-right relative",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:_.items.map((X,B)=>s.jsxs("tr",{className:X.status==="NOT_FOUND"||X.status==="REJECTED"?"bg-red-50/30":"bg-white",children:[s.jsx("td",{className:"p-4 font-mono text-slate-600 font-bold",children:X.partNumber}),s.jsxs("td",{className:"p-4",children:[s.jsx("span",{className:"font-bold text-slate-800 block text-base",children:X.matchedProductName||X.partName}),X.notes&&s.jsx("span",{className:"text-xs text-red-500 font-bold block mt-1 bg-red-50 px-2 py-0.5 rounded w-fit",children:X.notes})]}),s.jsx("td",{className:"p-4 text-center font-bold text-base",children:X.requestedQty}),s.jsx("td",{className:"p-4 text-center font-bold text-brand-600 text-base",children:X.matchedPrice?X.matchedPrice.toLocaleString():"-"}),s.jsx("td",{className:"p-4 text-center",children:s.jsx(Yh,{status:X.status||"PENDING"})})]},B))})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 pt-6 border-t border-slate-100",children:[s.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[s.jsxs("button",{onClick:()=>{const X=window.open("","_blank");X==null||X.document.write("<h1>         </h1>")},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-brand-600 text-white px-5 py-3 rounded-xl font-bold hover:bg-brand-700 shadow-md transition-colors text-sm opacity-50 cursor-not-allowed",title:"       ",children:[s.jsx(Cn,{size:18}),"    (PDF)"]}),_.items.some(X=>X.status==="NOT_FOUND"||X.status==="REJECTED")&&s.jsxs("button",{onClick:()=>z(_),className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 py-2.5 px-5 rounded-xl text-xs font-bold transition-colors",children:[s.jsx(Cn,{size:16}),"    (Excel)"]})]}),s.jsx("button",{onClick:()=>w(null),className:"text-slate-500 font-bold hover:text-slate-800 transition-colors px-4",children:" "})]})]})})]})},Jne=({user:e,onSuccess:t})=>{var X,B;const[r,a]=P.useState(null),[n,i]=P.useState(null),[l,c]=P.useState([]),[u,f]=P.useState(0),[p,m]=P.useState(!1),[x,v]=P.useState(!1),[y,b]=P.useState([]),[S,_]=P.useState(1),w=5,E=P.useRef(null),[O,A]=P.useState(null),T=P.useRef(null),{addToast:N}=qt();P.useEffect(()=>{D()},[x]);const D=async()=>{const ee=await de.getAllQuoteRequests();b(ee.filter(Y=>Y.userId===e.id).reverse())},L=P.useMemo(()=>{const ee=(S-1)*w;return y.slice(ee,ee+w)},[y,S]),M=Math.ceil(y.length/w),k=async()=>{try{const{utils:ee,writeFile:Y}=await Vi(async()=>{const{utils:H,writeFile:ce}=await Promise.resolve().then(()=>Vf);return{utils:H,writeFile:ce}},void 0),F=ee.book_new(),K=[["PartNumber","PartName","Quantity"],["CN-102030"," ",10],["MG-998877","   ",5],["GL-COOL-01"," ",1]],J=ee.aoa_to_sheet(K);ee.book_append_sheet(F,J,"Template"),Y(F,"SiniCar_Quote_Template.xlsx")}catch{N("    ","error")}},I=ee=>{if(!ee||ee.length<3)return!1;const Y=ee.map(H=>String(H).toLowerCase()),F=Y.some(H=>H.includes("number")||H.includes("num")||H.includes("part")||H.includes("")),K=Y.some(H=>H.includes("name")||H.includes("desc")||H.includes("")||H.includes("")),J=Y.some(H=>H.includes("qty")||H.includes("quantity")||H.includes("count")||H.includes("")||H.includes(""));return F&&K&&J},V=async ee=>{var F;const Y=(F=ee.target.files)==null?void 0:F[0];if(Y){if(!r){N("       ","error");return}i(Y),m(!0),f(10);try{const{read:K,utils:J}=await Vi(async()=>{const{read:ye,utils:$e}=await Promise.resolve().then(()=>Vf);return{read:ye,utils:$e}},void 0),H=await Y.arrayBuffer(),ce=K(H),le=ce.Sheets[ce.SheetNames[0]],xe=J.sheet_to_json(le,{header:1});if(xe.length<2)throw new Error(" ");const se=xe[0];if(!I(se))throw new Error("     :     ");f(40);const fe=[],we=se.map(ye=>String(ye).toLowerCase()),G=we.findIndex(ye=>ye.includes("number")||ye.includes("num")||ye.includes("part")||ye.includes("")),He=we.findIndex(ye=>ye.includes("name")||ye.includes("desc")||ye.includes("")||ye.includes("")),Ue=we.findIndex(ye=>ye.includes("qty")||ye.includes("quantity")||ye.includes("count")||ye.includes(""));for(let ye=1;ye<xe.length;ye++){const $e=xe[ye];$e&&$e[G]&&fe.push({partNumber:String($e[G]).trim(),partName:String($e[He]||"Unknown").trim(),requestedQty:Number($e[Ue])||1})}if(fe.length===0)throw new Error("     ");let he=40;const Me=setInterval(()=>{he+=5,f(he),he>=90&&clearInterval(Me)},50);await new Promise(ye=>setTimeout(ye,500)),clearInterval(Me),f(100),c(fe),await q(fe)}catch(K){N(K.message||"    ","error"),i(null),m(!1),f(0)}}},q=async ee=>{var Y;try{const F=(Y=(await de.getAllUsers()).find(K=>K.user.id===e.id))==null?void 0:Y.profile;await de.createQuoteRequest({userId:e.id,userName:e.name,companyName:(F==null?void 0:F.companyName)||"Unknown",items:ee,priceType:r}),v(!0),N("    ","success")}catch{N("   ","error"),m(!1)}},z=()=>{i(null),c([]),m(!1),v(!1),f(0),a(null)},R=async ee=>{A(ee),setTimeout(async()=>{if(E.current)try{const{default:Y}=await Vi(async()=>{const{default:xe}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:xe}},[]),{default:F}=await Vi(async()=>{const{default:xe}=await import("./jspdf.es.min-CPuXHEK3.js").then(se=>se.j);return{default:xe}},[]),K=await Y(E.current,{scale:2,useCORS:!0}),J=K.toDataURL("image/png"),H=new F("p","mm","a4"),ce=H.internal.pageSize.getWidth(),le=K.height*ce/K.width;H.addImage(J,"PNG",0,0,ce,le),H.save(`Quote_${ee.id}_Matched.pdf`),N("    ","success")}catch(Y){console.error(Y),N("     PDF","error")}finally{A(null)}},100)},W=async ee=>{const Y=ee.items.filter(F=>F.approvalStatus==="MISSING"||F.approvalStatus==="REJECTED"||F.status==="NOT_FOUND"||F.status==="REJECTED").map(F=>({"Part Number":F.partNumber,"Part Name":F.partName,Quantity:F.requestedQty,Reason:F.adminNote||F.notes||"   "}));if(Y.length===0){N("    ","info");return}try{const{utils:F,writeFile:K}=await Vi(async()=>{const{utils:ce,writeFile:le}=await Promise.resolve().then(()=>Vf);return{utils:ce,writeFile:le}},void 0),J=F.json_to_sheet(Y),H=F.book_new();F.book_append_sheet(H,J,"Missing Items"),K(H,`Quote_${ee.id}_Missing.xlsx`)}catch{N("    ","error")}};return s.jsxs("div",{className:"w-full animate-fade-in py-8 space-y-10",children:[x?s.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-green-100 p-16 text-center animate-fade-in relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-green-500"}),s.jsx("div",{className:"w-24 h-24 bg-green-50 rounded-full flex items-center justify-center text-green-500 mx-auto mb-8 shadow-sm border border-green-100 animate-bounce",children:s.jsx(dr,{size:48})}),s.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-4",children:"   "}),s.jsx("p",{className:"text-slate-500 font-medium text-lg max-w-xl mx-auto mb-10",children:"         .    ."}),s.jsxs("button",{onClick:z,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 px-10 py-4 rounded-xl font-bold transition-colors flex items-center gap-3 mx-auto text-lg",children:[s.jsx(dc,{size:20}),"   "]})]}):s.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 p-10 text-white",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black mb-3",children:"   (Bulk Request)"}),s.jsx("p",{className:"text-slate-200 text-lg font-medium",children:"    Excel   ."})]}),s.jsxs("button",{onClick:k,className:"bg-white/10 hover:bg-white/20 text-white px-5 py-3 rounded-xl text-sm font-bold flex items-center gap-2 transition-all backdrop-blur-sm",children:[s.jsx(Cn,{size:18}),"  Excel"]})]})}),s.jsxs("div",{className:"p-10",children:[s.jsxs("div",{className:"mb-10",children:[s.jsxs("label",{className:"block text-base font-bold text-slate-700 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-bold",children:"1"}),"    :"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("button",{onClick:()=>a("OEM"),disabled:p,className:`p-8 rounded-2xl border-2 transition-all text-right group ${r==="OEM"?"border-brand-600 bg-brand-50 shadow-md ring-2 ring-brand-200":"border-slate-100 hover:border-slate-300 bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(Ys,{className:`w-10 h-10 ${r==="OEM"?"text-brand-600":"text-slate-300"}`}),r==="OEM"&&s.jsx(dr,{size:24,className:"text-brand-600"})]}),s.jsx("h3",{className:`font-bold text-xl mb-2 ${r==="OEM"?"text-brand-800":"text-slate-700"}`,children:"  (OEM)"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"      ."})]}),s.jsxs("button",{onClick:()=>a("AFTERMARKET"),disabled:p,className:`p-8 rounded-2xl border-2 transition-all text-right group ${r==="AFTERMARKET"?"border-brand-600 bg-brand-50 shadow-md ring-2 ring-brand-200":"border-slate-100 hover:border-slate-300 bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(UZ,{className:`w-10 h-10 ${r==="AFTERMARKET"?"text-brand-600":"text-slate-300"}`}),r==="AFTERMARKET"&&s.jsx(dr,{size:24,className:"text-brand-600"})]}),s.jsx("h3",{className:`font-bold text-xl mb-2 ${r==="AFTERMARKET"?"text-brand-800":"text-slate-700"}`,children:" "}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"     ."})]}),s.jsxs("button",{onClick:()=>a("BOTH"),disabled:p,className:`p-8 rounded-2xl border-2 transition-all text-right group ${r==="BOTH"?"border-brand-600 bg-brand-50 shadow-md ring-2 ring-brand-200":"border-slate-100 hover:border-slate-300 bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(Ud,{className:`w-10 h-10 ${r==="BOTH"?"text-brand-600":"text-slate-300"}`}),r==="BOTH"&&s.jsx(dr,{size:24,className:"text-brand-600"})]}),s.jsx("h3",{className:`font-bold text-xl mb-2 ${r==="BOTH"?"text-brand-800":"text-slate-700"}`,children:" ( )"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"       ."})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-base font-bold text-slate-700 mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm font-bold",children:"2"}),"  :"]}),p?s.jsx("div",{className:"border-2 border-slate-100 rounded-3xl p-16 text-center bg-slate-50/50",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 mb-2",children:[s.jsx("span",{children:" ..."}),s.jsxs("span",{children:[u,"%"]})]}),s.jsx("div",{className:"h-4 bg-slate-200 rounded-full overflow-hidden mb-8",children:s.jsx("div",{className:"h-full bg-brand-600 rounded-full transition-all duration-300 ease-out",style:{width:`${u}%`}})}),s.jsxs("div",{className:"flex flex-col items-center gap-4 animate-pulse",children:[s.jsx(oo,{className:"animate-spin text-brand-600",size:40}),s.jsx("p",{className:"text-slate-700 font-bold text-lg",children:"   ..."})]})]})}):s.jsxs("div",{onClick:()=>{var ee;return r?(ee=T.current)==null?void 0:ee.click():N("    ","error")},className:`border-2 border-dashed rounded-3xl p-16 text-center transition-all group ${r?"border-slate-300 hover:border-brand-500 hover:bg-slate-50 cursor-pointer":"border-slate-200 bg-slate-50 opacity-50 cursor-not-allowed"}`,children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center text-brand-600 mx-auto mb-8 shadow-sm group-hover:scale-110 transition-transform border border-slate-100",children:s.jsx(jc,{size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"   Excel    "}),s.jsx("p",{className:"text-base text-slate-500 font-medium",children:"    :     "}),s.jsx("p",{className:"text-sm text-slate-400 mt-6 font-mono font-bold",children:".xlsx, .xls  Max 5MB"}),s.jsx("input",{type:"file",ref:T,className:"hidden",accept:".xlsx, .xls",onChange:V,disabled:!r})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"font-bold text-2xl text-slate-800 flex items-center gap-3 px-2",children:[s.jsx(lr,{size:24,className:"text-slate-400"}),"   "]}),L.map(ee=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col lg:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-5 flex-1 w-full",children:[s.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-xl font-bold ${ee.resultReady?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ee.items.length}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[s.jsx("span",{className:"font-mono font-bold text-slate-800 text-lg",children:ee.id}),ee.resultReady?s.jsx("span",{className:"bg-green-50 text-green-700 text-[11px] font-bold px-2.5 py-1 rounded-md border border-green-200",children:" "}):s.jsxs("span",{className:"bg-yellow-50 text-yellow-700 text-[11px] font-bold px-2.5 py-1 rounded-md border border-yellow-200 flex items-center gap-1",children:[s.jsx(Xr,{size:12}),"  "]})]}),s.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[Dr(ee.date),"  ",ee.priceType==="OEM"?" ":ee.priceType==="AFTERMARKET"?" ":""]})]})]}),s.jsx("div",{className:"flex gap-8 w-full lg:w-auto justify-around lg:justify-start",children:ee.resultReady?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center px-4 lg:border-l border-slate-100",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:""}),s.jsx("p",{className:"text-2xl font-black text-green-600",children:ee.approvedItemsCount??ee.items.filter(Y=>Y.approvalStatus==="APPROVED"||Y.status==="MATCHED").length})]}),s.jsxs("div",{className:"text-center px-4 lg:border-l border-slate-100",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:" "}),s.jsx("p",{className:"text-2xl font-black text-slate-500",children:ee.missingItemsCount??ee.items.filter(Y=>Y.approvalStatus==="MISSING"||Y.status==="NOT_FOUND").length})]})]}):s.jsx("div",{className:"text-center px-8 lg:border-l border-slate-100 text-slate-400 italic font-bold",children:" ..."})}),ee.resultReady&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto min-w-[200px]",children:[s.jsxs("button",{onClick:()=>R(ee),className:"flex-1 flex items-center justify-center gap-2 bg-brand-600 hover:bg-brand-700 text-white py-2.5 px-5 rounded-xl text-xs font-bold transition-colors shadow-sm",children:[s.jsx(qd,{size:16}),"   "]}),(ee.missingItemsCount||0)>0&&s.jsxs("button",{onClick:()=>W(ee),className:"flex-1 flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 py-2.5 px-5 rounded-xl text-xs font-bold transition-colors",children:[s.jsx(Cn,{size:16}),"  (Excel)"]})]})]},ee.id)),M>1&&s.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[s.jsx("button",{disabled:S===1,onClick:()=>_(ee=>Math.max(1,ee-1)),className:"p-2 rounded-lg border border-slate-200 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600",children:[" ",S,"  ",M]}),s.jsx("button",{disabled:S===M,onClick:()=>_(ee=>Math.min(M,ee+1)),className:"p-2 rounded-lg border border-slate-200 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(bi,{size:18})})]}),y.length===0&&s.jsx("div",{className:"text-center py-16 text-slate-400 bg-slate-50 rounded-3xl border border-dashed border-slate-200",children:s.jsx("p",{className:"text-lg font-bold opacity-50",children:"    "})})]}),O&&s.jsx("div",{className:"fixed top-0 left-0 -z-50 opacity-0 pointer-events-none",children:s.jsxs("div",{ref:E,className:"bg-white p-10 w-[210mm] min-h-[297mm] text-slate-900 font-sans",dir:"rtl",children:[s.jsxs("div",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:"  / Quotation"}),s.jsxs("p",{className:"text-slate-500 font-bold",children:[" : ",s.jsx("span",{className:"font-mono text-slate-900",children:O.id})]}),s.jsxs("p",{className:"text-slate-500 font-bold",children:[": ",s.jsx("span",{className:"font-mono text-slate-900",children:Hd(O.processedDate||O.date)})]})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-2xl font-black text-brand-700",children:"Sini Car Wholesale"}),s.jsx("p",{className:"text-sm text-slate-500",children:"   "}),s.jsx("p",{className:"text-sm text-slate-500 font-mono",children:"CR: 1010xxxxxx"})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-8",children:[s.jsx("h3",{className:"font-bold text-lg mb-2 border-b border-slate-200 pb-1",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-slate-500 font-bold ml-2",children:":"})," ",O.userName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-slate-500 font-bold ml-2",children:":"})," ",O.companyName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-slate-500 font-bold ml-2",children:" :"})," ",O.priceType]})]})]}),s.jsxs("table",{className:"w-full text-right text-sm border-collapse mb-8",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-800 text-white",children:[s.jsx("th",{className:"p-3 border border-slate-800",children:"#"}),s.jsx("th",{className:"p-3 border border-slate-800",children:" "}),s.jsx("th",{className:"p-3 border border-slate-800",children:" "}),s.jsx("th",{className:"p-3 border border-slate-800 text-center",children:""}),s.jsx("th",{className:"p-3 border border-slate-800 text-center",children:" "}),s.jsx("th",{className:"p-3 border border-slate-800 text-center",children:""})]})}),s.jsx("tbody",{children:O.items.filter(ee=>ee.approvalStatus==="APPROVED"||ee.status==="MATCHED").map((ee,Y)=>{var F;return s.jsxs("tr",{className:Y%2===0?"bg-white":"bg-slate-50",children:[s.jsx("td",{className:"p-3 border border-slate-200 text-center",children:Y+1}),s.jsx("td",{className:"p-3 border border-slate-200 font-mono font-bold",children:ee.partNumber}),s.jsx("td",{className:"p-3 border border-slate-200 font-bold",children:ee.matchedProductName||ee.partName}),s.jsx("td",{className:"p-3 border border-slate-200 text-center",children:ee.requestedQty}),s.jsx("td",{className:"p-3 border border-slate-200 text-center",children:(F=ee.matchedPrice)==null?void 0:F.toLocaleString()}),s.jsx("td",{className:"p-3 border border-slate-200 text-center font-bold",children:(ee.matchedPrice*ee.requestedQty).toLocaleString()})]},Y)})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 bg-slate-100 p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"font-bold text-slate-600",children:":"}),s.jsxs("span",{className:"font-bold font-mono",children:[(X=O.totalQuotedAmount)==null?void 0:X.toLocaleString()," SAR"]})]}),s.jsxs("div",{className:"flex justify-between border-t border-slate-300 pt-2",children:[s.jsx("span",{className:"font-black text-slate-900 text-lg",children:":"}),s.jsxs("span",{className:"font-black text-slate-900 text-lg font-mono",children:[(B=O.totalQuotedAmount)==null?void 0:B.toLocaleString()," SAR"]})]})]})}),s.jsxs("div",{className:"mt-12 text-center text-xs text-slate-400 border-t border-slate-200 pt-4",children:[s.jsx("p",{children:"    7   .     ."}),s.jsx("p",{children:"        ."})]})]})})]})},Zne=()=>s.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in pb-10",children:[s.jsxs("div",{className:"bg-slate-900 rounded-3xl overflow-hidden shadow-2xl relative mb-10 text-white",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"}),s.jsx("div",{className:"absolute right-0 top-0 w-1/2 h-full bg-gradient-to-l from-primary-900/50 to-transparent"}),s.jsxs("div",{className:"relative z-10 p-12 md:p-20 text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4",children:"SINI PRO"}),s.jsx("p",{className:"text-xl text-slate-300 font-light max-w-2xl mx-auto",children:"           ."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-soft border border-slate-100 hover:border-primary-200 transition-colors group",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-2xl flex items-center justify-center text-primary-600 mb-6 group-hover:scale-110 transition-transform",children:s.jsx(eg,{size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:""}),s.jsx("p",{className:"text-slate-600 leading-relaxed",children:"                            ."})]}),s.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-soft border border-slate-100 hover:border-secondary-200 transition-colors group",children:[s.jsx("div",{className:"w-12 h-12 bg-secondary-100 rounded-2xl flex items-center justify-center text-secondary-600 mb-6 group-hover:scale-110 transition-transform",children:s.jsx(Ys,{size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:""}),s.jsx("p",{className:"text-slate-600 leading-relaxed",children:"                        ."})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-3xl p-10 border border-slate-200 mb-12",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center divide-x divide-slate-200 divide-x-reverse",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-4xl font-black text-primary-600 mb-2",children:"20k+"}),s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:" "})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-4xl font-black text-slate-800 mb-2",children:"500+"}),s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:" "})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-4xl font-black text-secondary-500 mb-2",children:"12"}),s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:" "})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-4xl font-black text-slate-800 mb-2",children:"24/7"}),s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:" "})]})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-soft border border-slate-100 p-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center text-white shadow-lg",children:s.jsx(fm,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase",children:" "}),s.jsx("p",{className:"text-2xl font-black text-slate-900 font-mono",children:"9200 00000"})]})]}),s.jsx("div",{className:"h-12 w-px bg-slate-100 hidden md:block"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white border border-slate-200 rounded-full flex items-center justify-center text-green-600 shadow-sm",children:s.jsx(_ee,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase",children:" "}),s.jsx("p",{className:"text-2xl font-black text-slate-900 font-mono",children:"050 000 0000"})]})]}),s.jsx("div",{className:"h-12 w-px bg-slate-100 hidden md:block"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white border border-slate-200 rounded-full flex items-center justify-center text-blue-600 shadow-sm",children:s.jsx(fs,{size:28})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase",children:" "}),s.jsx("p",{className:"text-lg font-bold text-slate-900",children:"   "})]})]})]})]}),eie=({user:e,mainProfileUserId:t})=>{const[r,a]=P.useState("PROFILE"),[n,i]=P.useState([]),[l,c]=P.useState([]),[u,f]=P.useState(!0),[p,m]=P.useState({companyName:"",crNumber:"",taxNumber:"",nationalAddress:"",city:"",region:"  ",phone:""}),[x,v]=P.useState(!1),[y,b]=P.useState(!1),[S,_]=P.useState(!1),[w,E]=P.useState(null),[O,A]=P.useState(!1),[T,N]=P.useState({}),[D,L]=P.useState({employeeRole:Bs.BUYER}),[M,k]=P.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[I,V]=P.useState(!1),[q,z]=P.useState(!1),{addToast:R}=qt();P.useEffect(()=>{W()},[t]);const W=async()=>{var H;f(!0);try{const le=(H=(await de.getAllUsers()).find(se=>se.user.id===t))==null?void 0:H.profile;le&&(i(le.branches||[]),m({companyName:le.companyName||"",crNumber:le.crNumber||"",taxNumber:le.taxNumber||"",nationalAddress:le.nationalAddress||"",city:le.city||"",region:le.region||"  ",phone:le.phone||""}));const xe=await de.getEmployees(t);c(xe)}catch(ce){console.error(ce),R("    ","error")}finally{f(!1)}},X=async()=>{v(!0);try{await de.updateCustomerProfile(t,p),R("    ","success")}catch(H){R(H.message||"  ","error")}finally{v(!1)}},B=async()=>{if(!T.name||!T.city||!T.phone){R("    (  )","error");return}A(!0);try{await de.addBranch(t,T),R("   ","success"),b(!1),N({}),W()}catch(H){R(H.message||" ","error")}finally{A(!1)}},ee=async H=>{if(confirm("      "))try{await de.deleteBranch(t,H),R("  ","info"),W()}catch{R(" ","error")}},Y=async()=>{if(!D.name||!D.phone||!D.branchId){R("    ","error");return}A(!0);try{const H=await de.addEmployee(t,D);R("   ","success"),_(!1),L({employeeRole:Bs.BUYER}),E(H.activationCode),W()}catch(H){R(H.message||" ","error")}finally{A(!1)}},F=async H=>{try{await de.toggleEmployeeStatus(H),R("   ","success"),W()}catch{R(" ","error")}},K=async H=>{if(confirm("      "))try{await de.deleteEmployee(H),R("   ","info"),W()}catch{R(" ","error")}},J=async()=>{if(!M.oldPassword){R("    ","error");return}if(!M.newPassword){R("    ","error");return}if(M.newPassword.length<4){R("      4   ","error");return}if(M.newPassword!==M.confirmPassword){R("      ","error");return}V(!0);try{const H=await de.changePassword(e.id,M.oldPassword,M.newPassword);H.success?(R(H.message,"success"),k({oldPassword:"",newPassword:"",confirmPassword:""})):R(H.message,"error")}catch{R("     ","error")}finally{V(!1)}};return s.jsxs("div",{className:"w-full animate-fade-in pb-20",children:[s.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200 mb-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[s.jsx(ka,{className:"text-brand-600",size:32}),"   "]}),s.jsx("p",{className:"text-slate-500 font-medium mt-2",children:"      ."})]}),s.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-xl flex-wrap gap-1",children:[s.jsxs("button",{onClick:()=>a("PROFILE"),className:`px-6 py-3 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${r==="PROFILE"?"bg-white text-brand-700 shadow":"text-slate-500 hover:text-slate-700"}`,"data-testid":"tab-profile",children:[s.jsx(p0,{size:18}),"  "]}),s.jsxs("button",{onClick:()=>a("BRANCHES"),className:`px-6 py-3 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${r==="BRANCHES"?"bg-white text-brand-700 shadow":"text-slate-500 hover:text-slate-700"}`,"data-testid":"tab-branches",children:[s.jsx(ka,{size:18}),"  (",n.length,")"]}),s.jsxs("button",{onClick:()=>a("EMPLOYEES"),className:`px-6 py-3 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${r==="EMPLOYEES"?"bg-white text-brand-700 shadow":"text-slate-500 hover:text-slate-700"}`,"data-testid":"tab-employees",children:[s.jsx(Xt,{size:18}),"  (",l.length,")"]}),s.jsxs("button",{onClick:()=>a("SECURITY"),className:`px-6 py-3 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${r==="SECURITY"?"bg-white text-brand-700 shadow":"text-slate-500 hover:text-slate-700"}`,"data-testid":"tab-security",children:[s.jsx(Yr,{size:18})," "]})]})]}),r==="PROFILE"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden animate-slide-up",children:[s.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-xl text-slate-800 flex items-center gap-2",children:[s.jsx(p0,{size:22,className:"text-brand-600"})," "]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"    "})]}),s.jsxs("button",{onClick:X,disabled:x,className:"bg-brand-600 text-white px-6 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-brand-700 transition-colors disabled:opacity-50 shadow-md","data-testid":"button-save-profile",children:[s.jsx(Pr,{size:18})," ",x?" ...":" "]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(ka,{size:16,className:"text-slate-400"})," "]}),s.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all text-lg font-bold",value:p.companyName,onChange:H=>m({...p,companyName:H.target.value}),placeholder:"   ","data-testid":"input-business-name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(aee,{size:16,className:"text-slate-400"}),"  "]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all font-mono",value:p.crNumber,onChange:H=>m({...p,crNumber:H.target.value}),placeholder:"10 ","data-testid":"input-cr-number"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Jee,{size:16,className:"text-slate-400"})," "]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all font-mono",value:p.taxNumber,onChange:H=>m({...p,taxNumber:H.target.value}),placeholder:"15 ","data-testid":"input-vat-number"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Up,{size:16,className:"text-slate-400"})," "]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:p.nationalAddress,onChange:H=>m({...p,nationalAddress:H.target.value}),placeholder:"    ABCD1234","data-testid":"input-national-address"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(fs,{size:16,className:"text-slate-400"}),""]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:p.city,onChange:H=>m({...p,city:H.target.value}),placeholder:": ","data-testid":"input-city"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(fs,{size:16,className:"text-slate-400"}),""]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:p.region,onChange:H=>m({...p,region:H.target.value}),placeholder:":   ","data-testid":"input-region"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(fm,{size:16,className:"text-slate-400"})," "]}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all font-mono",value:p.phone,onChange:H=>m({...p,phone:H.target.value}),placeholder:"    ",dir:"ltr","data-testid":"input-phone"})]})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-5 flex gap-3",children:[s.jsx(Ws,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-800",children:" "}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"       .       ."})]})]})]})]}),r==="BRANCHES"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden animate-slide-up",children:[s.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-xl text-slate-800",children:" "}),s.jsxs("button",{onClick:()=>b(!0),className:"bg-brand-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-brand-700 transition-colors",children:[s.jsx(xr,{size:18}),"   "]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-right",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold text-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:" / "}),s.jsx("th",{className:"p-5 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:n.length>0?n.map((H,ce)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"p-5 font-bold text-slate-800 text-base",children:[H.name,ce===0&&s.jsx("span",{className:"mr-2 text-xs bg-brand-100 text-brand-700 px-2 py-0.5 rounded-full border border-brand-200",children:""})]}),s.jsx("td",{className:"p-5 text-slate-700 font-medium",children:H.city}),s.jsx("td",{className:"p-5 text-slate-700 font-mono font-bold",dir:"ltr",children:H.phone}),s.jsx("td",{className:"p-5",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm text-slate-600 truncate max-w-[250px]",children:H.address}),H.mapUrl&&s.jsxs("a",{href:H.mapUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-brand-600 flex items-center gap-1 hover:underline mt-1",children:[s.jsx(Up,{size:12}),"   "]})]})}),s.jsx("td",{className:"p-5 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{className:"p-2 text-slate-400 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors",children:s.jsx(Nte,{size:18})}),ce!==0&&s.jsx("button",{onClick:()=>ee(H.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Wt,{size:18})})]})})]},H.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-16 text-center text-slate-400 font-bold",children:"   "})})})]})})]}),r==="EMPLOYEES"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden animate-slide-up",children:[s.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-xl text-slate-800",children:" "}),s.jsxs("button",{onClick:()=>_(!0),className:"bg-brand-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-brand-700 transition-colors",children:[s.jsx(xr,{size:18}),"  "]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-right",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold text-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-5",children:" "}),s.jsx("th",{className:"p-5",children:"  ()"}),s.jsx("th",{className:"p-5",children:"  "}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5",children:""}),s.jsx("th",{className:"p-5 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:l.length>0?l.map(H=>{var ce;return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"p-5 font-bold text-slate-800 text-base",children:H.name}),s.jsx("td",{className:"p-5 font-mono font-bold text-slate-700",children:H.phone}),s.jsx("td",{className:"p-5 text-slate-700 font-medium",children:((ce=n.find(le=>le.id===H.branchId))==null?void 0:ce.name)||s.jsx("span",{className:"text-red-400 italic",children:" "})}),s.jsx("td",{className:"p-5",children:H.employeeRole===Bs.MANAGER?s.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold bg-purple-100 text-purple-700 px-3 py-1 rounded-full w-fit border border-purple-200",children:[s.jsx(Ws,{size:14}),"  (Admin)"]}):s.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold bg-blue-100 text-blue-700 px-3 py-1 rounded-full w-fit border border-blue-200",children:[s.jsx(Tn,{size:14}),"  (Buyer)"]})}),s.jsx("td",{className:"p-5",children:s.jsx("button",{onClick:()=>F(H.id),className:`px-3 py-1 rounded-full text-xs font-bold transition-all border ${H.isActive?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:H.isActive?"":""})}),s.jsx("td",{className:"p-5 text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("button",{onClick:()=>K(H.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Wt,{size:18})})})})]},H.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-16 text-center text-slate-400 font-bold",children:"   "})})})]})})]}),r==="SECURITY"&&s.jsxs("div",{className:"animate-slide-up space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-8 border-b border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-xl text-slate-800 flex items-center gap-2",children:[s.jsx(Yr,{size:22,className:"text-brand-600"}),"  "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"       "})]}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-md space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:q?"text":"password",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all pr-12",placeholder:"   ",value:M.oldPassword,onChange:H=>k({...M,oldPassword:H.target.value}),"data-testid":"input-old-password"}),s.jsx("button",{type:"button",onClick:()=>z(!q),className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:s.jsx(wa,{size:18})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  "}),s.jsx("input",{type:q?"text":"password",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",placeholder:"    (4   )",value:M.newPassword,onChange:H=>k({...M,newPassword:H.target.value}),"data-testid":"input-new-password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"   "}),s.jsx("input",{type:q?"text":"password",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",placeholder:"    ",value:M.confirmPassword,onChange:H=>k({...M,confirmPassword:H.target.value}),"data-testid":"input-confirm-password"})]}),s.jsx("button",{onClick:J,disabled:I,className:"bg-brand-600 text-white font-bold py-3.5 px-8 rounded-xl hover:bg-brand-700 disabled:opacity-50 transition-colors shadow-md flex items-center gap-2","data-testid":"button-change-password",children:I?s.jsx(s.Fragment,{children:" ..."}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{size:18}),"  "]})})]})})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"p-8 border-b border-slate-100",children:s.jsxs("h3",{className:"font-bold text-xl text-slate-800 flex items-center gap-2",children:[s.jsx(Ws,{size:22,className:"text-brand-600"})," "]})}),s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsx("p",{className:"text-lg font-bold text-slate-800 font-mono",children:e.clientId})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.email||"-"})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsx("p",{className:"text-lg font-bold text-slate-800 font-mono",dir:"ltr",children:e.phone||"-"})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.role==="CUSTOMER_OWNER"?" ":e.role==="CUSTOMER_STAFF"?"":e.role})]})]})})]})]}),s.jsx(gr,{isOpen:y,onClose:()=>b(!1),title:"  ",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",placeholder:":   ",value:T.name||"",onChange:H=>N({...T,name:H.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:""}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:T.city||"",onChange:H=>N({...T,city:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:T.phone||"",onChange:H=>N({...T,phone:H.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:T.address||"",onChange:H=>N({...T,address:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"   ()"}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:T.mapUrl||"",onChange:H=>N({...T,mapUrl:H.target.value})})]}),s.jsx("button",{onClick:B,disabled:O,className:"w-full bg-brand-600 text-white font-bold py-3.5 rounded-xl mt-4 hover:bg-brand-700 disabled:opacity-50 transition-colors shadow-md",children:O?" ...":" "})]})}),s.jsx(gr,{isOpen:S,onClose:()=>_(!1),title:"  ",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:D.name||"",onChange:H=>L({...D,name:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  (  )"}),s.jsx("input",{type:"text",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",placeholder:"05xxxxxxxx",value:D.phone||"",onChange:H=>L({...D,phone:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  "}),s.jsxs("select",{className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:D.branchId||"",onChange:H=>L({...D,branchId:H.target.value}),children:[s.jsx("option",{value:"",children:" ..."}),n.map(H=>s.jsxs("option",{value:H.id,children:[H.name," - ",H.city]},H.id))]})]}),s.jsxs("div",{className:"mt-2 bg-slate-50 p-5 rounded-xl border border-slate-200",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Ws,{size:18,className:"text-brand-600"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 cursor-pointer transition-all ${D.employeeRole===Bs.MANAGER?"border-purple-500 bg-purple-50 text-purple-900 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[s.jsx("input",{type:"radio",name:"role",className:"hidden",checked:D.employeeRole===Bs.MANAGER,onChange:()=>L({...D,employeeRole:Bs.MANAGER})}),s.jsx(Ws,{className:`mb-2 ${D.employeeRole===Bs.MANAGER?"text-purple-600":"text-slate-400"}`,size:24}),s.jsx("span",{className:"font-bold text-sm",children:" (Admin)"}),s.jsx("span",{className:"text-xs text-center opacity-70 mt-1 font-medium",children:"      ."})]}),s.jsxs("label",{className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 cursor-pointer transition-all ${D.employeeRole===Bs.BUYER?"border-blue-500 bg-blue-50 text-blue-900 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[s.jsx("input",{type:"radio",name:"role",className:"hidden",checked:D.employeeRole===Bs.BUYER,onChange:()=>L({...D,employeeRole:Bs.BUYER})}),s.jsx(Tn,{className:`mb-2 ${D.employeeRole===Bs.BUYER?"text-blue-600":"text-slate-400"}`,size:24}),s.jsx("span",{className:"font-bold text-sm",children:" (Buyer)"}),s.jsx("span",{className:"text-xs text-center opacity-70 mt-1 font-medium",children:"     (  )."})]})]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 text-amber-800 text-sm flex gap-2",children:[s.jsx(Yr,{size:16,className:"shrink-0 mt-0.5"}),s.jsx("p",{children:"          ."})]}),s.jsx("button",{onClick:Y,disabled:O,className:"w-full bg-brand-600 text-white font-bold py-3.5 rounded-xl mt-4 hover:bg-brand-700 disabled:opacity-50 transition-colors shadow-md",children:O?" ...":"   "})]})}),s.jsx(gr,{isOpen:!!w,onClose:()=>E(null),title:"   ",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-green-600 mx-auto mb-4",children:s.jsx(Gr,{size:32})}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"   "}),s.jsx("p",{className:"text-slate-500 mb-6",children:"         ."}),s.jsx("div",{className:"bg-slate-100 p-6 rounded-2xl border border-slate-200 mb-6",children:s.jsx("p",{className:"text-4xl font-mono font-black text-slate-800 tracking-widest",children:w})}),s.jsx("button",{onClick:()=>E(null),className:"w-full bg-slate-800 text-white font-bold py-3 rounded-xl hover:bg-slate-900",children:""})]})})]})},tie=["Changan","MG","Geely","Haval","Chery","GAC","BYD","Great Wall","Jetour","Hongqi","Jac","Omoda","Exeed","Wuling","Maxus"],L4={NEW:" ",UNDER_REVIEW:" ",WAITING_CUSTOMER_EXCEL:"   ",PRICING_IN_PROGRESS:"   ",PRICING_SENT:"   ",WAITING_CUSTOMER_APPROVAL:" ",APPROVED_BY_CUSTOMER:"  -  ",IN_FACTORY:"  / ",SHIPMENT_BOOKED:"  ",ON_THE_SEA:"  ",IN_PORT:" ",CUSTOMS_CLEARED:"  ",ON_THE_WAY:"  ",DELIVERED:" ",CANCELLED:""},rie=[{key:"NEW",label:" "},{key:"PRICING_SENT",label:""},{key:"APPROVED_BY_CUSTOMER",label:""},{key:"ON_THE_SEA",label:""},{key:"DELIVERED",label:""}],aie=({user:e,userProfile:t})=>{var M;const[r,a]=P.useState("LIST"),[n,i]=P.useState([]),[l,c]=P.useState(!0),[u,f]=P.useState(1),[p,m]=P.useState(!1),[x,v]=P.useState(!1),[y,b]=P.useState({businessName:(t==null?void 0:t.companyName)||e.name,branchesCount:((M=t==null?void 0:t.branches)==null?void 0:M.length)||1,targetCarBrands:[],hasImportedBefore:!1,serviceMode:"FULL_SERVICE",notes:""}),[S,_]=P.useState(""),{addToast:w}=qt();P.useEffect(()=>{E()},[e.id]);const E=async()=>{c(!0);try{const I=(await de.getImportRequests()).filter(V=>V.customerId===e.id);i(I.reverse()),I.length===0&&a("NEW")}catch(k){console.error(k)}finally{c(!1)}},O=k=>{const I=y.targetCarBrands||[];I.includes(k)?b({...y,targetCarBrands:I.filter(V=>V!==k)}):b({...y,targetCarBrands:[...I,k]})},A=()=>{var k;if(u===1){if(!y.businessName||!y.branchesCount){w("     ","error");return}if((((k=y.targetCarBrands)==null?void 0:k.length)||0)===0){w("     ","error");return}}if(u===2&&y.hasImportedBefore&&!y.previousImportDetails){w("      ","error");return}f(I=>I+1),window.scrollTo(0,0)},T=async()=>{var k;m(!0);try{await de.createImportRequest({...y,customerId:e.id}),w("    ","success"),await E(),a("LIST"),f(1),b({businessName:(t==null?void 0:t.companyName)||e.name,branchesCount:((k=t==null?void 0:t.branches)==null?void 0:k.length)||1,targetCarBrands:[],hasImportedBefore:!1,serviceMode:"FULL_SERVICE",notes:""})}catch{w("   ","error")}finally{m(!1)}},N=async(k,I)=>{var q;const V=(q=k.target.files)==null?void 0:q[0];if(V){v(!0);try{await de.uploadImportRequestExcel(I,V.name,e.name),w("   ","success"),E()}catch{w(" ","error")}finally{v(!1)}}},D=async k=>{if(confirm("          "))try{await de.confirmImportRequestByCustomer(k,{customerName:e.name}),w("     ","success"),E()}catch{w(" ","error")}},L=({status:k})=>{const V=(q=>q==="NEW"||q==="UNDER_REVIEW"||q==="WAITING_CUSTOMER_EXCEL"?0:q.includes("PRICING")||q==="WAITING_CUSTOMER_APPROVAL"?1:q==="APPROVED_BY_CUSTOMER"||q==="IN_FACTORY"?2:q==="SHIPMENT_BOOKED"||q==="ON_THE_SEA"||q==="IN_PORT"||q==="CUSTOMS_CLEARED"||q==="ON_THE_WAY"?3:q==="DELIVERED"?4:0)(k);return s.jsx("div",{className:"w-full py-4",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-slate-100 -z-10 rounded-full"}),rie.map((q,z)=>s.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white px-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border-2 transition-all ${z<=V?"bg-brand-600 text-white border-brand-600":"bg-white border-slate-300 text-slate-400"}`,children:z<V?s.jsx(Gr,{size:14}):z+1}),s.jsx("span",{className:`text-[10px] font-bold ${z<=V?"text-brand-700":"text-slate-400"}`,children:q.label})]},q.key))]})})};return r==="NEW"?s.jsxs("div",{className:"animate-fade-in pb-20",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"  "}),n.length>0&&s.jsxs("button",{onClick:()=>a("LIST"),className:"text-slate-500 hover:text-slate-800 font-bold text-sm flex items-center gap-2",children:[s.jsx(dc,{size:16}),"  "]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-cyan-900 to-slate-900 rounded-3xl overflow-hidden shadow-xl text-white relative mb-10",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cartographer.png')] opacity-10"}),s.jsx("div",{className:"absolute right-0 top-0 w-1/3 h-full bg-gradient-to-l from-brand-600/30 to-transparent"}),s.jsxs("div",{className:"relative z-10 p-8 md:p-12 flex flex-col md:flex-row items-center gap-8",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-500/20 backdrop-blur-md px-4 py-1.5 rounded-full border border-brand-400/30 text-brand-200 text-xs font-bold uppercase tracking-wider mb-2",children:[s.jsx(fs,{size:14}),"   "]}),s.jsx("h1",{className:"text-3xl md:text-5xl font-black leading-tight",children:"   "}),s.jsx("p",{className:"text-slate-300 text-lg max-w-xl leading-relaxed",children:"                3     ."})]}),s.jsx("div",{className:"hidden md:block opacity-80",children:s.jsx(pte,{size:180,strokeWidth:.5,className:"text-white/20"})})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-3xl shadow-sm border border-slate-200 p-8 md:p-10 min-h-[500px] flex flex-col",children:[u===1&&s.jsxs("div",{className:"animate-fade-in flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(ka,{className:"text-brand-600"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  / "}),s.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold",value:y.businessName,onChange:k=>b({...y,businessName:k.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"number",min:1,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold",value:y.branchesCount,onChange:k=>b({...y,branchesCount:parseInt(k.target.value)||0})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"  (   )"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:tie.map(k=>{var I;return s.jsx("button",{onClick:()=>O(k),className:`px-4 py-2 rounded-lg text-sm font-bold border transition-all ${(I=y.targetCarBrands)!=null&&I.includes(k)?"bg-brand-600 text-white border-brand-600 shadow-md":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:k},k)})})]})]}),u===2&&s.jsxs("div",{className:"animate-fade-in flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Fd,{className:"text-brand-600"}),"  "]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-4",children:"      "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md",children:[s.jsx("button",{onClick:()=>b({...y,hasImportedBefore:!0}),className:`p-6 rounded-2xl border-2 text-center transition-all ${y.hasImportedBefore?"border-brand-600 bg-brand-50 text-brand-800 shadow-md":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:s.jsx("span",{className:"font-bold text-lg",children:"  "})}),s.jsx("button",{onClick:()=>b({...y,hasImportedBefore:!1,previousImportDetails:""}),className:`p-6 rounded-2xl border-2 text-center transition-all ${y.hasImportedBefore?"border-slate-200 text-slate-500 hover:bg-slate-50":"border-brand-600 bg-brand-50 text-brand-800 shadow-md"}`,children:s.jsx("span",{className:"font-bold text-lg",children:"  "})})]})]}),y.hasImportedBefore&&s.jsxs("div",{className:"animate-slide-up",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"    "}),s.jsx("textarea",{rows:4,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl",placeholder:":     ...",value:y.previousImportDetails||"",onChange:k=>b({...y,previousImportDetails:k.target.value})})]})]}),u===3&&s.jsxs("div",{className:"animate-fade-in flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Ud,{className:"text-brand-600"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("button",{onClick:()=>b({...y,serviceMode:"FULL_SERVICE"}),className:`p-6 rounded-2xl border-2 text-right transition-all group ${y.serviceMode==="FULL_SERVICE"?"border-brand-600 bg-brand-50 shadow-md":"border-slate-200 hover:border-slate-300"}`,children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:"  (Full Service)"}),s.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"           ."})]}),s.jsxs("button",{onClick:()=>b({...y,serviceMode:"GOODS_ONLY"}),className:`p-6 rounded-2xl border-2 text-right transition-all group ${y.serviceMode==="GOODS_ONLY"?"border-brand-600 bg-brand-50 shadow-md":"border-slate-200 hover:border-slate-300"}`,children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:"  (EXW/FOB)"}),s.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"           ."})]})]})]}),u===4&&s.jsxs("div",{className:"animate-fade-in flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(lr,{className:"text-brand-600"}),"  "]}),s.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 mb-8 space-y-4 text-sm",children:s.jsx("p",{className:"font-bold",children:"     ."})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("textarea",{rows:3,className:"w-full p-4 bg-white border border-slate-300 rounded-xl",placeholder:"    ...",value:y.notes||"",onChange:k=>b({...y,notes:k.target.value})})]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-slate-100",children:[u>1?s.jsxs("button",{onClick:()=>f(u-1),className:"text-slate-500 font-bold hover:text-slate-800 flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-slate-50",children:[s.jsx(dc,{size:18})," "]}):s.jsx("div",{}),u<4?s.jsxs("button",{onClick:A,className:"bg-brand-600 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-brand-700 shadow-lg shadow-brand-200 transition-all",children:[" ",s.jsx(sZ,{size:18})]}):s.jsxs("button",{onClick:T,disabled:p,className:"bg-green-600 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-200 transition-all",children:[p?" ...":"  "," ",s.jsx(pi,{size:18})]})]})]})]}):s.jsxs("div",{className:"animate-fade-in pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:" "}),s.jsx("p",{className:"text-slate-500 font-medium",children:"      ."})]}),s.jsxs("button",{onClick:()=>a("NEW"),className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[s.jsx(fs,{size:18}),"  "]})]}),l?s.jsx("div",{className:"text-center py-20",children:" ..."}):s.jsx("div",{className:"space-y-8",children:n.map(k=>s.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-100 flex flex-col md:flex-row justify-between gap-6 bg-slate-50/50",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"font-mono text-lg font-bold text-brand-700",children:["#",k.id]}),s.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full border bg-white ${k.status==="CANCELLED"?"border-red-200 text-red-600":k.status==="DELIVERED"?"border-green-200 text-green-600":"border-blue-200 text-blue-600"}`,children:L4[k.status]||k.status})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[" : ",Dr(k.createdAt)]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[k.status==="WAITING_CUSTOMER_EXCEL"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:`file-${k.id}`,className:"hidden",accept:".xlsx,.xls",onChange:I=>N(I,k.id)}),s.jsxs("label",{htmlFor:`file-${k.id}`,className:`cursor-pointer bg-brand-600 text-white px-6 py-3 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-brand-700 shadow-lg shadow-brand-200 ${x?"opacity-50 pointer-events-none":""}`,children:[s.jsx(jc,{size:18})," ",x?" ...":"   (Excel)"]})]}),(k.status==="PRICING_SENT"||k.status==="WAITING_CUSTOMER_APPROVAL")&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"bg-white border border-slate-200 text-slate-700 px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-slate-50",children:[s.jsx(Cn,{size:16}),"  "]}),s.jsxs("button",{onClick:()=>D(k.id),className:"bg-green-600 text-white px-6 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-200",children:[s.jsx(pi,{size:18}),"  "]})]})]})]}),s.jsxs("div",{className:"p-6 md:p-8",children:[s.jsx(L,{status:k.status}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100 text-sm space-y-3",children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[s.jsx(lr,{size:16}),"  "]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-500",children:" "}),s.jsx("span",{className:"font-bold",children:k.serviceMode==="FULL_SERVICE"?" ":" "})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("span",{className:"font-bold",children:k.targetCarBrands.join(", ")})]}),k.pricingTotalAmount&&s.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2 mt-2",children:[s.jsx("span",{className:"text-slate-500",children:" "}),s.jsxs("span",{className:"font-black text-brand-600 text-lg",children:[k.pricingTotalAmount," ."]})]})]}),s.jsxs("div",{className:"border-r-2 border-slate-100 pr-6 mr-2 relative",children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Fd,{size:16}),"  "]}),s.jsx("div",{className:"space-y-6",children:(k.timeline||[]).slice().reverse().slice(0,3).map((I,V)=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -right-[31px] top-1 w-3 h-3 rounded-full bg-slate-300 border-2 border-white"}),s.jsx("p",{className:"text-xs font-bold text-slate-800",children:L4[I.status]||I.status}),s.jsx("p",{className:"text-[10px] text-slate-400 mt-0.5",children:Dr(I.changedAt)}),I.note&&s.jsx("p",{className:"text-xs text-slate-600 mt-1 bg-slate-50 p-2 rounded",children:I.note})]},V))})]})]})]})]},k.id))})]})};function sie(e){return e?e.toLowerCase().trim().replace(/[]/g,"").replace(//g,"").replace(//g,"").replace(/[\u064B-\u065F]/g,"").replace(/[]/g,"").replace(//g,"").replace(/[^\w\s\u0600-\u06FF]/g," "):""}function F4(e){return sie(e).split(/\s+/).filter(r=>r.length>=2)}function nie(e,t){const r=[];for(let a=0;a<=t.length;a++)r[a]=[a];for(let a=0;a<=e.length;a++)r[0][a]=a;for(let a=1;a<=t.length;a++)for(let n=1;n<=e.length;n++)t.charAt(a-1)===e.charAt(n-1)?r[a][n]=r[a-1][n-1]:r[a][n]=Math.min(r[a-1][n-1]+1,Math.min(r[a][n-1]+1,r[a-1][n]+1));return r[t.length][e.length]}function iie(e,t){const r=F4(e),a=F4(t);let n=0;for(const i of r){let l=0;for(const c of a){let u=0;if(i===c)u=3;else if(c.includes(i))u=2;else{const f=nie(i,c),p=Math.floor(i.length/3)+1;(f<=1||i.length>4&&f<=p)&&(u=1)}u>l&&(l=u)}n+=l}return n}function lie(e,t){if(!e.trim())return[];const r=/[0-9-]/.test(e);let a="",n="";return r&&(a=hi(e),n=Zf(e)),t.map(l=>{let c=0;if(r&&a.length>2){const f=l.normalizedPart||hi(l.partNumber),p=l.numericPartCore||Zf(l.partNumber);f===a?c+=15:p===n&&p.length>3?c+=10:p.includes(n)||n.includes(p)?n.length>4?c+=6:n.length>2&&(c+=3):f.includes(a)&&(c+=4)}const u=[l.name,l.brand,l.category||"",l.description||""].join(" ");return c+=iie(e,u),{product:l,score:c}}).filter(l=>l.score>=3).sort((l,c)=>c.score-l.score).map(l=>l.product)}const oie=()=>{const[e,t]=P.useState(!1),[r,a]=P.useState(!1);P.useEffect(()=>{localStorage.getItem("siniCar_hasSeenUsageIntro")||setTimeout(()=>t(!0),1500)},[]);const n=()=>{t(!1),r&&localStorage.setItem("siniCar_hasSeenUsageIntro","true")};return s.jsx(gr,{isOpen:e,onClose:n,title:"    ",maxWidth:"max-w-2xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-brand-50 p-4 rounded-xl border border-brand-100 flex items-start gap-3",children:[s.jsx(el,{className:"text-brand-600 shrink-0 mt-1"}),s.jsx("p",{className:"text-brand-800 text-sm leading-relaxed font-medium",children:"     .           .       :"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 shrink-0",children:s.jsx(Ur,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:" "}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"        (: 218102K700)."})]})]}),s.jsxs("div",{className:"flex gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 shrink-0",children:s.jsx(Tn,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:" "}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"         ."})]})]}),s.jsxs("div",{className:"flex gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 shrink-0",children:s.jsx(lr,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"  (Bulk)"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"  Excel        ."})]})]}),s.jsxs("div",{className:"flex gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 shrink-0",children:s.jsx(fs,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:" "}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"         ."})]})]})]}),s.jsxs("div",{className:"border-t border-slate-100 pt-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Xt,{size:16,className:"text-slate-400"}),s.jsx("span",{className:"text-xs text-slate-500",children:':         " ".'})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-600",children:[s.jsx("input",{type:"checkbox",className:"rounded text-brand-600 focus:ring-brand-500",checked:r,onChange:i=>a(i.target.checked)}),"     "]}),s.jsxs("button",{onClick:n,className:"bg-brand-600 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-brand-700 flex items-center gap-2 shadow-md w-full sm:w-auto justify-center",children:["   ",s.jsx(dr,{size:18})]})]})]})]})})},cie=({user:e,customerType:t})=>{const[r,a]=P.useState([]),[n,i]=P.useState(!1),[l,c]=P.useState(0),u=P.useRef(null),{addToast:f}=qt();P.useEffect(()=>{p();const w=setInterval(p,3e4),E=O=>{u.current&&!u.current.contains(O.target)&&i(!1)};return document.addEventListener("mousedown",E),()=>{clearInterval(w),document.removeEventListener("mousedown",E)}},[e.id,t]);const p=async()=>{try{const w=await de.getNotificationsForUser(e.id),O=(await de.getActiveCampaignsForUser(e.id,t)).filter(D=>D.displayType==="BELL"),A=JSON.parse(localStorage.getItem(`siniCar_bell_read_${e.id}`)||"[]"),T=O.map(D=>({id:`campaign-${D.id}`,userId:e.id,type:"MARKETING",title:D.title,message:D.message,createdAt:D.createdAt,isRead:A.includes(D.id),isCampaign:!0,campaignId:D.id,ctaUrl:D.ctaUrl,ctaLabel:D.ctaLabel})),N=[...w,...T];N.sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime()),a(N),c(N.filter(D=>!D.isRead).length)}catch(w){console.error("Failed to load notifications",w)}},m=async()=>{if(i(!n),!n&&l>0)try{await de.markNotificationsAsRead(e.id);const w=r.filter(E=>E.isCampaign&&!E.isRead&&E.campaignId).map(E=>E.campaignId);if(w.length>0){const E=JSON.parse(localStorage.getItem(`siniCar_bell_read_${e.id}`)||"[]"),O=[...new Set([...E,...w])];localStorage.setItem(`siniCar_bell_read_${e.id}`,JSON.stringify(O))}a(E=>E.map(O=>({...O,isRead:!0}))),c(0)}catch{console.error("Failed to mark read")}},x=async()=>{try{await de.clearNotificationsForUser(e.id),a([]),c(0),f("   ","success")}catch(w){console.error("Failed to clear notifications",w),f("    ","error")}},v=async w=>{try{await de.deleteNotification(e.id,w),a(E=>E.filter(O=>O.id!==w)),f("  ","success")}catch(E){console.error("Failed to delete notification",E)}},y=async(w,E)=>{try{await de.dismissCampaignForUser(e.id,w),a(O=>O.filter(A=>A.id!==E)),f("  ","success")}catch(O){console.error("Failed to dismiss campaign",O)}},b=w=>{switch(w){case"ORDER_STATUS_CHANGED":return s.jsx(Na,{size:16,className:"text-blue-500"});case"SEARCH_POINTS_ADDED":return s.jsx(Ur,{size:16,className:"text-green-500"});case"QUOTE_PROCESSED":return s.jsx(ll,{size:16,className:"text-purple-500"});case"SYSTEM":return s.jsx(pp,{size:16,className:"text-amber-500"});case"ACCOUNT_UPDATE":return s.jsx(ds,{size:16,className:"text-slate-500"});case"IMPORT_UPDATE":return s.jsx(Na,{size:16,className:"text-orange-500"});case"GENERAL":return s.jsx(el,{size:16,className:"text-blue-400"});case"MARKETING":return s.jsx(cs,{size:16,className:"text-pink-500"});default:return s.jsx(Wi,{size:16,className:"text-slate-400"})}},S=w=>{switch(w){case"ORDER_STATUS_CHANGED":return"bg-blue-50 border-blue-100";case"SEARCH_POINTS_ADDED":return"bg-green-50 border-green-100";case"QUOTE_PROCESSED":return"bg-purple-50 border-purple-100";case"SYSTEM":return"bg-amber-50 border-amber-100";case"ACCOUNT_UPDATE":return"bg-slate-50 border-slate-200";case"IMPORT_UPDATE":return"bg-orange-50 border-orange-100";case"MARKETING":return"bg-pink-50 border-pink-100";default:return"bg-white border-slate-100"}},_=w=>{const E=new Date(w),A=new Date().getTime()-E.getTime(),T=Math.floor(A/6e4),N=Math.floor(T/60),D=Math.floor(N/24);return T<1?"":T<60?` ${T} `:N<24?` ${N} `:D<7?` ${D} `:Dr(w).split("-")[1]};return s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("button",{onClick:m,className:"relative p-2 text-slate-500 hover:text-slate-800 hover:bg-slate-100 rounded-xl transition-all",title:"","data-testid":"button-notifications",children:[s.jsx(Wi,{size:24}),l>0&&s.jsx("span",{className:"absolute top-0.5 right-0.5 min-w-[18px] h-[18px] bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:l>9?"9+":l})]}),n&&s.jsxs("div",{className:"absolute left-0 mt-3 w-80 md:w-[400px] bg-white rounded-2xl shadow-2xl border border-slate-200 z-50 overflow-hidden animate-fade-in-up origin-top-left",children:[s.jsxs("div",{className:"p-4 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wi,{size:18,className:"text-brand-600"}),s.jsx("h3",{className:"font-bold text-slate-800 text-sm",children:" "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&s.jsx("button",{onClick:x,className:"text-[10px] text-red-500 hover:text-red-600 font-bold px-2 py-1 rounded hover:bg-red-50 transition-colors","data-testid":"button-clear-all-notifications",children:" "}),s.jsx("span",{className:"bg-slate-100 text-slate-600 text-[10px] font-bold px-2 py-1 rounded-full",children:r.length})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:r.length>0?s.jsx("div",{className:"divide-y divide-slate-50",children:r.map(w=>s.jsxs("div",{className:`p-4 hover:bg-slate-50 transition-colors flex gap-3 group ${w.isCampaign?"bg-gradient-to-l from-pink-50/50 to-transparent":w.isRead?"":"bg-blue-50/30"}`,"data-testid":`notification-item-${w.id}`,children:[s.jsx("div",{className:`mt-0.5 p-2 rounded-full border shadow-sm shrink-0 h-fit ${S(w.type)}`,children:b(w.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-bold text-slate-800 leading-tight",children:w.title}),w.isCampaign&&s.jsx("span",{className:"text-[9px] bg-pink-100 text-pink-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx("span",{className:"text-[10px] text-slate-400 font-medium whitespace-nowrap",children:_(w.createdAt)}),s.jsx("button",{onClick:E=>{E.stopPropagation(),w.isCampaign&&w.campaignId?y(w.campaignId,w.id):v(w.id)},className:"p-1 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all rounded hover:bg-red-50",title:"","data-testid":`button-delete-notification-${w.id}`,children:s.jsx(ar,{size:12})})]})]}),s.jsx("p",{className:"text-xs text-slate-500 leading-relaxed line-clamp-2",children:w.message}),w.isCampaign&&w.ctaUrl&&w.ctaLabel&&s.jsx("a",{href:w.ctaUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-[11px] bg-pink-500 text-white px-3 py-1.5 rounded-lg font-bold hover:bg-pink-600 transition-colors","data-testid":`button-cta-${w.id}`,children:w.ctaLabel}),!w.isRead&&!w.isCampaign&&s.jsx("span",{className:"inline-block mt-1.5 text-[9px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded font-bold",children:""})]})]},w.id))}):s.jsxs("div",{className:"py-16 px-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Wi,{size:28,className:"text-slate-300"})}),s.jsx("p",{className:"text-sm font-bold text-slate-600 mb-1",children:"  "}),s.jsx("p",{className:"text-xs text-slate-400",children:"    "})]})}),r.length>5&&s.jsx("div",{className:"p-3 border-t border-slate-100 bg-slate-50 text-center",children:s.jsxs("span",{className:"text-xs text-slate-500",children:["  ",Math.min(r.length,20)," "]})})]})]})},die=P.memo(({userId:e,customerType:t})=>{const{t:r,isRTL:a}=Ea(),[n,i]=P.useState([]),[l,c]=P.useState(0),[u,f]=P.useState(new Set);P.useEffect(()=>{(async()=>{const w=(await de.getActiveCampaignsForUser(e,t)).filter(E=>E.displayType==="BANNER").sort((E,O)=>O.priority-E.priority);i(w)})()},[e,t]);const p=async S=>{await de.dismissCampaignForUser(e,S),f(_=>{const w=new Set([..._,S]),E=n.filter(O=>!w.has(O.id)).length;return E>0&&l>=E&&c(0),w})},m=n.filter(S=>!u.has(S.id));if(m.length===0)return null;const x=m.length>0?l%m.length:0,v=m[x];if(!v)return null;const y=()=>{c(S=>(S+1)%m.length)},b=()=>{c(S=>(S-1+m.length)%m.length)};return s.jsx("div",{className:"relative bg-gradient-to-r from-brand-600 via-brand-500 to-purple-600 text-white px-4 py-3 shadow-md","data-testid":"marketing-banner",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"shrink-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(cs,{size:16,className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate","data-testid":"text-campaign-title",children:v.title}),s.jsx("p",{className:"text-xs text-white/80 truncate","data-testid":"text-campaign-message",children:v.message})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[v.ctaUrl&&v.ctaLabel&&s.jsxs("a",{href:v.ctaUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-white text-brand-600 rounded-lg text-xs font-bold hover:bg-white/90 transition-colors flex items-center gap-1","data-testid":"link-campaign-cta",children:[v.ctaLabel,s.jsx(Zl,{size:12})]}),m.length>1&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:b,className:"p-1 hover:bg-white/20 rounded transition-colors","data-testid":"button-banner-prev",children:a?s.jsx(Zn,{size:16}):s.jsx(bi,{size:16})}),s.jsxs("span",{className:"text-xs text-white/70 min-w-[2rem] text-center",children:[x+1,"/",m.length]}),s.jsx("button",{onClick:y,className:"p-1 hover:bg-white/20 rounded transition-colors","data-testid":"button-banner-next",children:a?s.jsx(bi,{size:16}):s.jsx(Zn,{size:16})})]}),v.skippable&&s.jsx("button",{onClick:()=>p(v.id),className:"p-1.5 hover:bg-white/20 rounded-full transition-colors",title:r("marketing.dismiss",""),"data-testid":"button-dismiss-banner",children:s.jsx(ar,{size:16})})]})]})})}),uie=P.memo(({userId:e,customerType:t,onClose:r})=>{const{t:a,isRTL:n}=Ea(),[i,l]=P.useState([]),[c,u]=P.useState(0),[f,p]=P.useState(!1);P.useEffect(()=>{(async()=>{const S=(await de.getActiveCampaignsForUser(e,t)).filter(_=>_.displayType==="POPUP").sort((_,w)=>w.priority-_.priority);S.length>0&&(l(S),setTimeout(()=>p(!0),500))})()},[e,t]);const m=async()=>{const y=i[c];y&&await de.dismissCampaignForUser(e,y.id),c<i.length-1?u(b=>b+1):(p(!1),setTimeout(()=>{r==null||r()},300))},x=()=>{p(!1),i.forEach(y=>{de.dismissCampaignForUser(e,y.id)}),setTimeout(()=>{r==null||r()},300)};if(i.length===0||!f)return null;const v=i[c];return v?s.jsxs("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center p-4 transition-all duration-300 ${f?"opacity-100":"opacity-0 pointer-events-none"}`,"data-testid":"marketing-popup",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:v.skippable?x:void 0}),s.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden transform transition-all duration-300 ${f?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,dir:n?"rtl":"ltr",children:[s.jsx("div",{className:"bg-gradient-to-r from-brand-600 via-brand-500 to-purple-600 p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(cs,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white","data-testid":"text-popup-title",children:v.title}),i.length>1&&s.jsx("p",{className:"text-xs text-white/70",children:a("marketing.campaignOf"," {{current}}  {{total}}").replace("{{current}}",String(c+1)).replace("{{total}}",String(i.length))})]})]}),v.skippable&&s.jsx("button",{onClick:x,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-white/70 hover:text-white","data-testid":"button-close-popup",children:s.jsx(ar,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[v.contentType==="IMAGE"&&v.mediaUrl&&s.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:s.jsx("img",{src:v.mediaUrl,alt:v.title,className:"w-full h-48 object-cover"})}),v.contentType==="VIDEO"&&v.mediaUrl&&s.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:s.jsx("video",{src:v.mediaUrl,controls:!0,className:"w-full"})}),v.contentType==="HTML"&&v.htmlContent&&s.jsx("div",{className:"mb-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:v.htmlContent}}),s.jsx("p",{className:"text-slate-600 text-sm leading-relaxed","data-testid":"text-popup-message",children:v.message})]}),s.jsxs("div",{className:"px-6 pb-6 flex items-center justify-between gap-3",children:[v.ctaUrl&&v.ctaLabel&&s.jsxs("a",{href:v.ctaUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 px-4 py-3 bg-gradient-to-r from-brand-600 to-brand-500 text-white rounded-xl font-bold text-center hover:shadow-lg hover:shadow-brand-500/30 transition-all flex items-center justify-center gap-2","data-testid":"link-popup-cta",children:[v.ctaLabel,s.jsx(Zl,{size:16})]}),s.jsx("button",{onClick:m,className:`px-4 py-3 rounded-xl font-medium transition-all ${v.ctaUrl?"bg-slate-100 text-slate-600 hover:bg-slate-200":"flex-1 bg-gradient-to-r from-brand-600 to-brand-500 text-white hover:shadow-lg"}`,"data-testid":"button-dismiss-popup",children:c<i.length-1?a("marketing.next",""):a("marketing.understood","")})]})]})]}):null});P.memo(({userId:e,customerType:t})=>{const{t:r,isRTL:a}=Ea(),[n,i]=P.useState([]),[l,c]=P.useState(new Set);P.useEffect(()=>{(async()=>{const x=(await de.getActiveCampaignsForUser(e,t)).filter(v=>v.displayType==="DASHBOARD_CARD").sort((v,y)=>y.priority-v.priority);i(x)})()},[e,t]);const u=async p=>{await de.dismissCampaignForUser(e,p),c(m=>new Set([...m,p]))},f=n.filter(p=>!l.has(p.id));return f.length===0?null:s.jsx("div",{className:"space-y-4","data-testid":"marketing-dashboard-cards",children:f.slice(0,3).map(p=>s.jsxs("div",{className:"bg-gradient-to-r from-brand-50 to-purple-50 border border-brand-200 rounded-2xl p-4 relative","data-testid":`card-campaign-${p.id}`,children:[p.skippable&&s.jsx("button",{onClick:()=>u(p.id),className:"absolute top-2 left-2 p-1 hover:bg-white/50 rounded-full transition-colors text-slate-400 hover:text-slate-600","data-testid":`button-dismiss-card-${p.id}`,children:s.jsx(ar,{size:14})}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 w-10 h-10 bg-gradient-to-br from-brand-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(cs,{size:18,className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-1 truncate",children:p.title}),s.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:p.message}),p.ctaUrl&&p.ctaLabel&&s.jsxs("a",{href:p.ctaUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs font-bold text-brand-600 hover:text-brand-700",children:[p.ctaLabel,s.jsx(Zl,{size:10})]})]})]})]},p.id))})});function Gj(e){if(!e)return null;const t=e.trim();if(!t)return null;const r=hi(t);return r.length<2?null:r}function fie(e){const t=e.trim();if(!t)return{isValid:!1,normalized:null,error:"     ."};const r=Gj(t);return r?{isValid:!0,normalized:r}:{isValid:!1,normalized:null,error:"     ."}}async function mie(e,t=!0){const r=Gj(e);if(!r)return{type:"NOT_FOUND",normalizedQuery:e};const a=Zf(r),n=await de.searchProducts(""),i=de.getStockThreshold(),l=de.getMinVisibleQty();let c=null,u=0;for(const p of n){const m=p.qtyTotal??p.stock??0;if(t&&m<l)continue;const x=p.normalizedPart||hi(p.partNumber),v=p.numericPartCore||Zf(p.partNumber);let y=0;if(x===r?y=100:v===a&&a.length>3?y=80:x.includes(r)||r.includes(x)?y=50:(v.includes(a)||a.includes(v))&&a.length>4&&(y=40),y>u&&(u=y,c=p),y===100)break}return!c||u<50?{type:"NOT_FOUND",normalizedQuery:r}:(c.qtyTotal??c.stock??0)<=i?{type:"FOUND_OUT_OF_STOCK",product:c,normalizedQuery:r}:{type:"FOUND_AVAILABLE",product:c,normalizedQuery:r}}function hie(e){const t=de.getMinVisibleQty();return e.filter(r=>(r.qtyTotal??r.stock??0)>=t)}async function pie(e,t,r="heroSearch"){const a=fie(e);if(!a.isValid)return{type:"NOT_FOUND",message:a.error||"     .",showPrice:!1};const n=await mie(e);switch(n.type){case"NOT_FOUND":return await xie(n.normalizedQuery||e,t,r),{type:"NOT_FOUND",normalizedQuery:n.normalizedQuery,message:"   .",showPrice:!1};case"FOUND_OUT_OF_STOCK":return await gie(n.product,t,r,n.normalizedQuery),{type:"FOUND_OUT_OF_STOCK",product:n.product,normalizedQuery:n.normalizedQuery,message:"     .",showPrice:!1};case"FOUND_AVAILABLE":return{type:"FOUND_AVAILABLE",product:n.product,normalizedQuery:n.normalizedQuery,message:"",showPrice:!0};default:return{type:"NOT_FOUND",message:"       .",showPrice:!1}}}async function xie(e,t,r){try{await de.logMissingPartFromSearch({partNumber:e,normalizedPartNumber:Gj(e)||e,customerId:t.customerId,customerName:t.customerName,carInfo:t.carInfo,branchId:t.branchId,availabilityStatus:"not_found",searchSource:r})}catch(a){console.error("Error logging missing part (not_found):",a)}}async function gie(e,t,r,a){try{await de.logMissingPartFromSearch({partNumber:e.partNumber,normalizedPartNumber:a||hi(e.partNumber),productId:e.id,productName:e.name,brand:e.brand,customerId:t.customerId,customerName:t.customerName,carInfo:t.carInfo,branchId:t.branchId,availabilityStatus:"out_of_stock",searchSource:r})}catch(n){console.error("Error logging missing part (out_of_stock):",n)}}function bie(e){return{customerId:(e==null?void 0:e.id)||null,customerName:e==null?void 0:e.name,branchId:e==null?void 0:e.branchId}}const co={async checkToolAccess(e,t,r){var a,n,i;try{const l=await de.getToolConfig(e);if(!l)return{hasAccess:!1,reason:"Tool configuration not found",reasonAr:"     "};if(!l.enabled)return{hasAccess:!1,reason:"This tool is currently disabled",reasonAr:"   ",toolConfig:l};if(l.maintenanceMode)return{hasAccess:!1,reason:l.maintenanceMessage||"Tool is under maintenance",reasonAr:l.maintenanceMessage||"  ",toolConfig:l,isInMaintenanceMode:!0};const c=await de.getCustomerToolsOverride(t);if(c&&!c.useGlobalDefaults){if((a=c.forcedDisabledTools)!=null&&a.includes(e))return{hasAccess:!1,reason:"Tool access has been disabled for your account",reasonAr:"     ",toolConfig:l};if((n=c.forcedEnabledTools)!=null&&n.includes(e)){const x=await de.getCustomerToolUsageToday(t,e),v=await de.getCustomerToolUsageThisMonth(t,e),y=(i=c.customLimits)==null?void 0:i.find(_=>_.toolKey===e),b=(y==null?void 0:y.maxFilesPerDay)??l.maxFilesPerDay,S=(y==null?void 0:y.maxFilesPerMonth)??l.maxFilesPerMonth;return b&&x>=b?{hasAccess:!1,reason:`Daily usage limit reached (${b} uses per day)`,reasonAr:`    (${b}   )`,toolConfig:l,usageToday:x,usageThisMonth:v,dailyLimit:b,monthlyLimit:S}:S&&v>=S?{hasAccess:!1,reason:`Monthly usage limit reached (${S} uses per month)`,reasonAr:`    (${S}   )`,toolConfig:l,usageToday:x,usageThisMonth:v,dailyLimit:b,monthlyLimit:S}:{hasAccess:!0,toolConfig:l,usageToday:x,usageThisMonth:v,dailyLimit:b,monthlyLimit:S}}}if(l.blockedCustomerIds.includes(t))return{hasAccess:!1,reason:"Tool access has been blocked for your account",reasonAr:"     ",toolConfig:l};if(r&&l.allowedCustomerTypes.length>0&&!l.allowedCustomerTypes.includes(r))return{hasAccess:!1,reason:"This tool is not available for your account type",reasonAr:"     ",toolConfig:l};const u=await de.getCustomerToolUsageToday(t,e),f=await de.getCustomerToolUsageThisMonth(t,e),p=l.maxFilesPerDay,m=l.maxFilesPerMonth;return p&&u>=p?{hasAccess:!1,reason:`Daily usage limit reached (${p} uses per day)`,reasonAr:`    (${p}   )`,toolConfig:l,usageToday:u,usageThisMonth:f,dailyLimit:p,monthlyLimit:m}:m&&f>=m?{hasAccess:!1,reason:`Monthly usage limit reached (${m} uses per month)`,reasonAr:`    (${m}   )`,toolConfig:l,usageToday:u,usageThisMonth:f,dailyLimit:p,monthlyLimit:m}:{hasAccess:!0,toolConfig:l,usageToday:u,usageThisMonth:f,dailyLimit:p,monthlyLimit:m}}catch(l){return console.error("Error checking tool access:",l),{hasAccess:!1,reason:"Error checking tool access",reasonAr:"      "}}},async getAllToolsAccess(e,t){const r=["PDF_TO_EXCEL","VIN_EXTRACTOR","PRICE_COMPARISON"],a={};for(const n of r)a[n]=await this.checkToolAccess(n,e,t);return a},async getVisibleTools(e,t){const r=await de.getToolConfigs(),a=await this.getAllToolsAccess(e,t);return r.filter(n=>{var c;if(!n.enabled||!n.showInDashboardShortcuts)return!1;const i=a[n.toolKey];return i?!i.hasAccess&&i.isInMaintenanceMode?!0:n.blockedCustomerIds.includes(e)?!1:((c=a[n.toolKey])==null?void 0:c.toolConfig)?!0:!(t&&n.allowedCustomerTypes.length>0&&!n.allowedCustomerTypes.includes(t)):!1}).sort((n,i)=>(n.sortOrder||0)-(i.sortOrder||0))},async recordToolUsage(e,t,r,a=1,n,i,l){const c=await de.getToolConfig(e);c!=null&&c.logUsageForAnalytics&&await de.addToolUsageRecord({customerId:t,toolKey:e,usedAt:new Date().toISOString(),filesProcessed:a,success:r,errorMessage:n,processingTimeMs:i,metadata:l})},async getToolUsageStats(e,t,r="month"){const a=await de.getToolUsageRecords(t,e),n=new Date;let i;switch(r){case"today":i=new Date(n.getFullYear(),n.getMonth(),n.getDate());break;case"week":i=new Date(n.getTime()-10080*60*1e3);break;case"month":i=new Date(n.getFullYear(),n.getMonth(),1);break;default:i=new Date(0)}const l=a.filter(b=>new Date(b.usedAt)>=i),c=l.length,u=l.filter(b=>b.success).length,f=l.filter(b=>!b.success).length,p=l.filter(b=>b.processingTimeMs!==void 0).map(b=>b.processingTimeMs),m=p.length>0?p.reduce((b,S)=>b+S,0)/p.length:0,x=new Set(l.map(b=>b.customerId)).size,v=new Map;l.forEach(b=>{const S=b.usedAt.split("T")[0];v.set(S,(v.get(S)||0)+1)});const y=Array.from(v.entries()).map(([b,S])=>({date:b,count:S})).sort((b,S)=>b.date.localeCompare(S.date));return{totalUsage:c,successfulUsage:u,failedUsage:f,avgProcessingTime:Math.round(m),uniqueCustomers:x,byDay:y}}},vie=({user:e,profile:t,onClose:r})=>{const{t:a,dir:n}=Ea(),{addToast:i}=qt(),l=n==="rtl",c=P.useRef(null),[u,f]=P.useState([]),[p,m]=P.useState([]),[x,v]=P.useState(!1),[y,b]=P.useState(!1),S=L=>{if(L.target.files){const M=Array.from(L.target.files),k=M.filter(I=>I.type==="application/pdf");k.length!==M.length&&i(a("pdfToExcel.onlyPdfAllowed","   PDF"),"info"),f(I=>[...I,...k])}},_=P.useCallback(L=>{L.preventDefault(),v(!0)},[]),w=P.useCallback(L=>{L.preventDefault(),v(!1)},[]),E=P.useCallback(L=>{L.preventDefault(),v(!1);const k=Array.from(L.dataTransfer.files).filter(I=>I.type==="application/pdf");k.length>0?f(I=>[...I,...k]):i(a("pdfToExcel.onlyPdfAllowed","   PDF"),"info")},[i,a]),O=L=>{f(M=>M.filter((k,I)=>I!==L))},A=async L=>{await new Promise(I=>setTimeout(I,1500+Math.random()*1e3));const M=10+Math.floor(Math.random()*20),k=[];k.push([a("pdfToExcel.demo.partNumber"," "),a("pdfToExcel.demo.partName"," "),a("pdfToExcel.demo.quantity",""),a("pdfToExcel.demo.price",""),a("pdfToExcel.demo.total","")]);for(let I=0;I<M;I++){const V=`PT-${String(1e3+I).padStart(5,"0")}`,q=Math.floor(Math.random()*50)+1,z=Math.floor(Math.random()*500)+50;k.push([V,`${a("pdfToExcel.demo.sparePart"," ")} ${I+1}`,q,z,q*z])}return k},T=async()=>{if(u.length===0)return;b(!0);const L=Date.now(),M=u.map((k,I)=>({id:`conv-${Date.now()}-${I}`,fileName:k.name,status:"pending",progress:0}));m(M);for(let k=0;k<M.length;k++){const I=M[k];m(V=>V.map(q=>q.id===I.id?{...q,status:"processing",progress:20}:q));try{m(B=>B.map(ee=>ee.id===I.id?{...ee,progress:50}:ee));const V=await A(u[k]);m(B=>B.map(ee=>ee.id===I.id?{...ee,progress:80}:ee));const q=wn.book_new(),z=wn.aoa_to_sheet(V);z["!cols"]=[{wch:15},{wch:25},{wch:10},{wch:12},{wch:15}],wn.book_append_sheet(q,z,"Sheet1");const R=Jx(q,{bookType:"xlsx",type:"array"}),W=new Blob([R],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),X=URL.createObjectURL(W);m(B=>B.map(ee=>{var Y;return ee.id===I.id?{...ee,status:"completed",progress:100,downloadUrl:X,rows:V.length,columns:((Y=V[0])==null?void 0:Y.length)||0,data:V}:ee})),await co.recordToolUsage("PDF_TO_EXCEL",e.id,!0,1,void 0,Date.now()-L)}catch{m(q=>q.map(z=>z.id===I.id?{...z,status:"error",progress:0,error:a("pdfToExcel.conversionError","   ")}:z)),await co.recordToolUsage("PDF_TO_EXCEL",e.id,!1,0,"Conversion failed")}}b(!1),f([]),i(a("pdfToExcel.conversionComplete","   "),"success")},N=L=>{if(L.downloadUrl){const M=document.createElement("a");M.href=L.downloadUrl,M.download=L.fileName.replace(".pdf",".xlsx"),document.body.appendChild(M),M.click(),document.body.removeChild(M)}},D=()=>{p.forEach(L=>{L.downloadUrl&&URL.revokeObjectURL(L.downloadUrl)}),m([])};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(ll,{size:32})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:a("pdfToExcel.title"," PDF  Excel")}),s.jsx("p",{className:"text-green-100 mt-1",children:a("pdfToExcel.subtitle","  PDF   Excel  ")})]})]})}),s.jsxs("div",{onDragOver:_,onDragLeave:w,onDrop:E,className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all ${x?"border-brand-500 bg-brand-50":"border-slate-300 hover:border-brand-400 hover:bg-slate-50"}`,children:[s.jsx("input",{ref:c,type:"file",accept:".pdf",multiple:!0,onChange:S,className:"hidden","data-testid":"input-pdf-upload"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx(jc,{size:32,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold text-slate-700",children:a("pdfToExcel.dragDrop","  PDF ")}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a("pdfToExcel.orClick","   ")})]}),s.jsxs("button",{onClick:()=>{var L;return(L=c.current)==null?void 0:L.click()},className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold rounded-xl transition-colors","data-testid":"button-select-pdf",children:[s.jsx(lr,{size:20}),a("pdfToExcel.selectFiles","  PDF")]})]})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-bold text-slate-800",children:[a("pdfToExcel.selectedFiles"," ")," (",u.length,")"]}),s.jsx("button",{onClick:()=>f([]),className:"text-sm text-red-500 hover:text-red-600 font-medium","data-testid":"button-clear-files",children:a("pdfToExcel.clearAll"," ")})]}),s.jsx("div",{className:"space-y-2",children:u.map((L,M)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lr,{size:20,className:"text-red-500"}),s.jsx("span",{className:"text-sm font-medium text-slate-700 truncate max-w-[200px]",children:L.name}),s.jsxs("span",{className:"text-xs text-slate-400",children:["(",(L.size/1024).toFixed(1)," KB)"]})]}),s.jsx("button",{onClick:()=>O(M),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors","data-testid":`button-remove-file-${M}`,children:s.jsx(ar,{size:16})})]},M))}),s.jsx("button",{onClick:T,disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-slate-300 text-white font-bold rounded-xl transition-colors","data-testid":"button-convert-files",children:y?s.jsxs(s.Fragment,{children:[s.jsx(oo,{size:20,className:"animate-spin"}),a("pdfToExcel.converting"," ...")]}):s.jsxs(s.Fragment,{children:[s.jsx(Ote,{size:20}),a("pdfToExcel.convertToExcel","  Excel")]})})]}),p.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-slate-800",children:a("pdfToExcel.results"," ")}),s.jsx("button",{onClick:D,className:"text-sm text-slate-500 hover:text-slate-600 font-medium","data-testid":"button-clear-results",children:a("pdfToExcel.clearResults"," ")})]}),s.jsx("div",{className:"space-y-3",children:p.map(L=>s.jsx("div",{className:`p-4 rounded-xl border ${L.status==="completed"?"bg-green-50 border-green-200":L.status==="error"?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[L.status==="completed"?s.jsx(dr,{size:20,className:"text-green-600"}):L.status==="error"?s.jsx(sa,{size:20,className:"text-red-600"}):s.jsx(oo,{size:20,className:"animate-spin text-brand-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:L.fileName}),L.status==="completed"&&s.jsxs("p",{className:"text-xs text-slate-500",children:[L.rows," ",a("pdfToExcel.rows",""),"  ",L.columns," ",a("pdfToExcel.columns","")]}),L.status==="error"&&s.jsx("p",{className:"text-xs text-red-500",children:L.error})]})]}),L.status==="processing"&&s.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${L.progress}%`}})}),L.status==="completed"&&s.jsxs("button",{onClick:()=>N(L),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-bold rounded-lg transition-colors","data-testid":`button-download-${L.id}`,children:[s.jsx(Cn,{size:16}),a("pdfToExcel.download","")]})]})},L.id))})]}),s.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"font-bold text-slate-800 mb-3",children:a("pdfToExcel.howToUse"," ")}),s.jsxs("ol",{className:"text-sm text-slate-600 space-y-2 list-decimal list-inside",children:[s.jsx("li",{children:a("pdfToExcel.step1","  PDF     ")}),s.jsx("li",{children:a("pdfToExcel.step2",'   "  Excel"')}),s.jsx("li",{children:a("pdfToExcel.step3","   ")}),s.jsx("li",{children:a("pdfToExcel.step4","  Excel ")})]})]})]})},v8={JT:{manufacturer:"Toyota",country:"Japan"},JH:{manufacturer:"Honda",country:"Japan"},JN:{manufacturer:"Nissan",country:"Japan"},JM:{manufacturer:"Mazda/Mitsubishi",country:"Japan"},JS:{manufacturer:"Suzuki",country:"Japan"},WA:{manufacturer:"Audi",country:"Germany"},WB:{manufacturer:"BMW",country:"Germany"},WD:{manufacturer:"Mercedes-Benz",country:"Germany"},WV:{manufacturer:"Volkswagen",country:"Germany"},WP:{manufacturer:"Porsche",country:"Germany"},"1G":{manufacturer:"General Motors",country:"USA"},"1F":{manufacturer:"Ford",country:"USA"},"2H":{manufacturer:"Honda",country:"Canada"},"3V":{manufacturer:"Volkswagen",country:"Mexico"},KM:{manufacturer:"Hyundai",country:"Korea"},KN:{manufacturer:"Kia",country:"Korea"},SA:{manufacturer:"Land Rover",country:"UK"},SB:{manufacturer:"Bentley",country:"UK"},SJ:{manufacturer:"Jaguar",country:"UK"},ZA:{manufacturer:"Alfa Romeo",country:"Italy"},ZF:{manufacturer:"Ferrari",country:"Italy"},ZH:{manufacturer:"Maserati",country:"Italy"}},yie=()=>{const e=Object.keys(v8),t=e[Math.floor(Math.random()*e.length)],r="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let a=t;for(let n=0;n<15;n++)a+=r[Math.floor(Math.random()*r.length)];return a.substring(0,17)},U4=e=>{var l;const t=e.substring(0,2).toUpperCase(),r=v8[t],a={A:"2010",B:"2011",C:"2012",D:"2013",E:"2014",F:"2015",G:"2016",H:"2017",J:"2018",K:"2019",L:"2020",M:"2021",N:"2022",P:"2023",R:"2024",S:"2025"},n=((l=e[9])==null?void 0:l.toUpperCase())||"",i=a[n]||"20"+(Math.floor(Math.random()*5)+20);return{manufacturer:(r==null?void 0:r.manufacturer)||"Unknown",country:(r==null?void 0:r.country)||"Unknown",year:i,model:"Model "+e.substring(3,6)}},Sie=({user:e,profile:t,onClose:r})=>{const{t:a,dir:n}=Ea(),{addToast:i}=qt(),l=n==="rtl",c=P.useRef(null),[u,f]=P.useState([]),[p,m]=P.useState([]),[x,v]=P.useState(!1),[y,b]=P.useState(!1),[S,_]=P.useState(""),w=k=>{if(k.target.files){const I=Array.from(k.target.files),V=I.filter(q=>q.type.startsWith("image/"));V.length!==I.length&&i(a("vinExtractor.onlyImagesAllowed","   "),"info"),f(q=>[...q,...V])}},E=P.useCallback(k=>{k.preventDefault(),v(!0)},[]),O=P.useCallback(k=>{k.preventDefault(),v(!1)},[]),A=P.useCallback(k=>{k.preventDefault(),v(!1);const V=Array.from(k.dataTransfer.files).filter(q=>q.type.startsWith("image/"));V.length>0?f(q=>[...q,...V]):i(a("vinExtractor.onlyImagesAllowed","   "),"info")},[i,a]),T=k=>{f(I=>I.filter((V,q)=>q!==k))},N=async()=>{if(u.length===0)return;b(!0);const k=Date.now(),I=u.map((V,q)=>({id:`ext-${Date.now()}-${q}`,fileName:V.name,imageUrl:URL.createObjectURL(V),status:"pending"}));m(I);for(let V=0;V<I.length;V++){const q=I[V];m(z=>z.map(R=>R.id===q.id?{...R,status:"processing"}:R));try{if(await new Promise(R=>setTimeout(R,1500+Math.random()*1500)),Math.random()>.15){const R=yie(),W=U4(R),X=85+Math.floor(Math.random()*15);m(B=>B.map(ee=>ee.id===q.id?{...ee,status:"completed",vin:R,confidence:X,vehicleInfo:W}:ee)),await co.recordToolUsage("VIN_EXTRACTOR",e.id,!0,1,void 0,Date.now()-k,{vin:R,confidence:X})}else throw new Error("Could not extract VIN from image")}catch{m(R=>R.map(W=>W.id===q.id?{...W,status:"error",error:a("vinExtractor.extractionError","       ")}:W)),await co.recordToolUsage("VIN_EXTRACTOR",e.id,!1,0,"Extraction failed")}}b(!1),f([]),i(a("vinExtractor.processingComplete","  "),"success")},D=k=>{navigator.clipboard.writeText(k),i(a("vinExtractor.vinCopied","   "),"success")},L=()=>{if(S.length!==17){i(a("vinExtractor.invalidVinLength","     17 "),"error");return}const k=U4(S),I={id:`manual-${Date.now()}`,fileName:a("vinExtractor.manualEntry"," "),imageUrl:"",status:"completed",vin:S.toUpperCase(),confidence:100,vehicleInfo:k};m(V=>[I,...V]),_(""),i(a("vinExtractor.vinDecoded","    "),"success")},M=()=>{p.forEach(k=>{k.imageUrl&&URL.revokeObjectURL(k.imageUrl)}),m([])};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(io,{size:32})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:a("vinExtractor.title","   (VIN)")}),s.jsx("p",{className:"text-blue-100 mt-1",children:a("vinExtractor.subtitle","     ")})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4",children:[s.jsx("h3",{className:"font-bold text-slate-800 mb-3",children:a("vinExtractor.manualInput","   ")}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:S,onChange:k=>_(k.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,17)),placeholder:a("vinExtractor.enterVin","   (17 )"),className:"flex-1 px-4 py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent font-mono tracking-wider","data-testid":"input-manual-vin"}),s.jsxs("button",{onClick:L,disabled:S.length!==17,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 text-white font-bold rounded-xl transition-colors","data-testid":"button-lookup-vin",children:[s.jsx(Ur,{size:20}),a("vinExtractor.lookup","")]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[S.length,"/17 ",a("vinExtractor.characters","")]})]}),s.jsxs("div",{onDragOver:E,onDragLeave:O,onDrop:A,className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all ${x?"border-brand-500 bg-brand-50":"border-slate-300 hover:border-brand-400 hover:bg-slate-50"}`,children:[s.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:w,className:"hidden","data-testid":"input-image-upload"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx(bZ,{size:32,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold text-slate-700",children:a("vinExtractor.dragDrop","     ")}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a("vinExtractor.supportedFormats","       VIN")})]}),s.jsxs("button",{onClick:()=>{var k;return(k=c.current)==null?void 0:k.click()},className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold rounded-xl transition-colors","data-testid":"button-select-images",children:[s.jsx(x0,{size:20}),a("vinExtractor.selectImages"," ")]})]})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-bold text-slate-800",children:[a("vinExtractor.selectedImages"," ")," (",u.length,")"]}),s.jsx("button",{onClick:()=>f([]),className:"text-sm text-red-500 hover:text-red-600 font-medium","data-testid":"button-clear-images",children:a("vinExtractor.clearAll"," ")})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:u.map((k,I)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(k),alt:k.name,className:"w-full h-24 object-cover rounded-xl"}),s.jsx("button",{onClick:()=>T(I),className:"absolute top-1 right-1 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","data-testid":`button-remove-image-${I}`,children:s.jsx(ar,{size:12})}),s.jsx("p",{className:"text-xs text-slate-500 truncate mt-1",children:k.name})]},I))}),s.jsx("button",{onClick:N,disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 text-white font-bold rounded-xl transition-colors","data-testid":"button-extract-vin",children:y?s.jsxs(s.Fragment,{children:[s.jsx(oo,{size:20,className:"animate-spin"}),a("vinExtractor.processing"," ...")]}):s.jsxs(s.Fragment,{children:[s.jsx(io,{size:20}),a("vinExtractor.extractVin","  ")]})})]}),p.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-slate-800",children:a("vinExtractor.results","")}),s.jsx("button",{onClick:M,className:"text-sm text-slate-500 hover:text-slate-600 font-medium","data-testid":"button-clear-vin-results",children:a("vinExtractor.clearResults"," ")})]}),s.jsx("div",{className:"space-y-4",children:p.map(k=>s.jsx("div",{className:`p-4 rounded-xl border ${k.status==="completed"?"bg-green-50 border-green-200":k.status==="error"?"bg-red-50 border-red-200":"bg-slate-50 border-slate-200"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[k.imageUrl&&s.jsx("img",{src:k.imageUrl,alt:k.fileName,className:"w-16 h-16 object-cover rounded-lg shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.status==="completed"?s.jsx(dr,{size:18,className:"text-green-600"}):k.status==="error"?s.jsx(sa,{size:18,className:"text-red-600"}):s.jsx(oo,{size:18,className:"animate-spin text-brand-600"}),s.jsx("span",{className:"font-medium text-slate-700 truncate",children:k.fileName})]}),k.status==="completed"&&k.vin&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 bg-white px-3 py-1 rounded-lg border",children:k.vin}),s.jsx("button",{onClick:()=>D(k.vin),className:"p-2 text-slate-500 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors","data-testid":`button-copy-vin-${k.id}`,children:s.jsx(Lp,{size:16})})]}),k.vehicleInfo&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"bg-white rounded-lg p-2",children:[s.jsxs("span",{className:"text-slate-500",children:[a("vinExtractor.manufacturer"," "),":"]}),s.jsx("span",{className:"font-medium text-slate-800 ms-2",children:k.vehicleInfo.manufacturer})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2",children:[s.jsxs("span",{className:"text-slate-500",children:[a("vinExtractor.year"," "),":"]}),s.jsx("span",{className:"font-medium text-slate-800 ms-2",children:k.vehicleInfo.year})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2",children:[s.jsxs("span",{className:"text-slate-500",children:[a("vinExtractor.country"," "),":"]}),s.jsx("span",{className:"font-medium text-slate-800 ms-2",children:k.vehicleInfo.country})]}),s.jsxs("div",{className:"bg-white rounded-lg p-2",children:[s.jsxs("span",{className:"text-slate-500",children:[a("vinExtractor.confidence",""),":"]}),s.jsxs("span",{className:"font-medium text-green-600 ms-2",children:[k.confidence,"%"]})]})]})]}),k.status==="error"&&s.jsx("p",{className:"text-sm text-red-600",children:k.error})]})]})},k.id))})]}),s.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"font-bold text-slate-800 mb-3",children:a("vinExtractor.tips","    ")}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-2 list-disc list-inside",children:[s.jsx("li",{children:a("vinExtractor.tip1","     ")}),s.jsx("li",{children:a("vinExtractor.tip2","       ")}),s.jsx("li",{children:a("vinExtractor.tip3"," VIN       ")}),s.jsx("li",{children:a("vinExtractor.tip4","    17  ")})]})]})]})},wie=[{id:"sup1",name:"  ",rating:4.8},{id:"sup2",name:"  ",rating:4.5},{id:"sup3",name:" ",rating:4.2},{id:"sup4",name:" ",rating:4.6},{id:"sup5",name:" ",rating:4}],Nie=e=>{const t=[...wie].sort(()=>Math.random()-.5),r=3+Math.floor(Math.random()*3);return t.slice(0,r).map((a,n)=>{const i=.7+Math.random()*.6,l=Math.round(e*i),u=Math.random()>.6?Math.round(l*(1+Math.random()*.3)):void 0,f=u?Math.round((u-l)/u*100):void 0;return{supplierId:a.id,supplierName:a.name,price:l,originalPrice:u,discount:f,inStock:Math.random()>.2,stockQuantity:Math.floor(Math.random()*50)+1,deliveryDays:Math.floor(Math.random()*5)+1,rating:a.rating}}).sort((a,n)=>a.price-n.price).map((a,n)=>({...a,isBestPrice:n===0,isFastest:a.deliveryDays===Math.min(...t.slice(0,r).map(()=>Math.floor(Math.random()*5)+1)),isRecommended:n===0&&a.rating>=4.5}))},jie=({user:e,profile:t,onClose:r})=>{const{t:a,dir:n}=Ea(),{addToast:i}=qt(),l=n==="rtl",[c,u]=P.useState(""),[f,p]=P.useState(!1),[m,x]=P.useState(null),[v,y]=P.useState([]),[b,S]=P.useState("price");P.useEffect(()=>{const A=localStorage.getItem(`price_comparison_history_${e.id}`);if(A)try{y(JSON.parse(A))}catch(T){console.error("Failed to parse search history:",T)}},[e.id]);const _=A=>{const N=[{partNumber:A.partNumber,partName:A.partName,searchedAt:A.searchedAt,lowestPrice:A.lowestPrice,suppliersCount:A.suppliers.length},...v.filter(D=>D.partNumber!==A.partNumber)].slice(0,10);y(N),localStorage.setItem(`price_comparison_history_${e.id}`,JSON.stringify(N))},w=async(A,T)=>{A==null||A.preventDefault();const N=T||c.trim();if(!N)return;p(!0);const D=Date.now();try{await new Promise(X=>setTimeout(X,1e3+Math.random()*1e3));const M=(await de.searchProducts(N))[0];if(!M){i(a("priceComparison.noProductFound","      "),"info"),p(!1);return}const k=M.price||100+Math.random()*500,I=Nie(k),V=I.map(X=>X.price),q=Math.min(...V),z=Math.max(...V),R=Math.round(V.reduce((X,B)=>X+B,0)/V.length),W={partNumber:M.partNumber,partName:M.name,suppliers:I,searchedAt:new Date().toISOString(),averagePrice:R,lowestPrice:q,highestPrice:z,priceDifference:z-q};x(W),_(W),await co.recordToolUsage("PRICE_COMPARISON",e.id,!0,1,void 0,Date.now()-D,{partNumber:M.partNumber,suppliersCount:I.length}),i(a("priceComparison.searchComplete","  "),"success")}catch(L){console.error("Search failed:",L),i(a("priceComparison.searchError","   "),"error"),await co.recordToolUsage("PRICE_COMPARISON",e.id,!1,0,"Search failed")}finally{p(!1)}},E=()=>{if(!m)return[];const A=[...m.suppliers];switch(b){case"price":return A.sort((T,N)=>T.price-N.price);case"rating":return A.sort((T,N)=>N.rating-T.rating);case"delivery":return A.sort((T,N)=>T.deliveryDays-N.deliveryDays);default:return A}},O=()=>{y([]),localStorage.removeItem(`price_comparison_history_${e.id}`),i(a("priceComparison.historyCleared","   "),"success")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-violet-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(Cd,{size:32})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:a("priceComparison.title"," ")}),s.jsx("p",{className:"text-purple-100 mt-1",children:a("priceComparison.subtitle","        ")})]})]})}),s.jsx("form",{onSubmit:w,className:"bg-white rounded-2xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ur,{size:20,className:`absolute top-1/2 -translate-y-1/2 ${l?"right-4":"left-4"} text-slate-400`}),s.jsx("input",{type:"text",value:c,onChange:A=>u(A.target.value),placeholder:a("priceComparison.searchPlaceholder","   ..."),className:`w-full ${l?"pr-12 pl-4":"pl-12 pr-4"} py-3 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent`,"data-testid":"input-part-search"})]}),s.jsx("button",{type:"submit",disabled:f||!c.trim(),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-300 text-white font-bold rounded-xl transition-colors","data-testid":"button-compare-prices",children:f?s.jsxs(s.Fragment,{children:[s.jsx(oo,{size:20,className:"animate-spin"}),a("priceComparison.searching"," ...")]}):s.jsxs(s.Fragment,{children:[s.jsx(Cd,{size:20}),a("priceComparison.compare","")]})})]})}),m&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:m.partName}),s.jsx("p",{className:"text-slate-500 font-mono",children:m.partNumber})]}),s.jsx("button",{onClick:()=>x(null),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-close-results",children:s.jsx(ar,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[s.jsx($te,{size:24,className:"text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-green-600 font-medium",children:a("priceComparison.lowestPrice"," ")}),s.jsxs("p",{className:"text-xl font-bold text-green-700",children:[m.lowestPrice," ",a("common.sar",".")]})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[s.jsx(uc,{size:24,className:"text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-red-600 font-medium",children:a("priceComparison.highestPrice"," ")}),s.jsxs("p",{className:"text-xl font-bold text-red-700",children:[m.highestPrice," ",a("common.sar",".")]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[s.jsx(Qs,{size:24,className:"text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:a("priceComparison.avgPrice"," ")}),s.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[m.averagePrice," ",a("common.sar",".")]})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[s.jsx(Zx,{size:24,className:"text-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-purple-600 font-medium",children:a("priceComparison.savings"," ")}),s.jsxs("p",{className:"text-xl font-bold text-purple-700",children:[m.priceDifference," ",a("common.sar",".")]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-slate-600",children:[a("priceComparison.sortBy"," "),":"]}),s.jsx("div",{className:"flex gap-2",children:[{key:"price",label:a("priceComparison.sortPrice","")},{key:"rating",label:a("priceComparison.sortRating","")},{key:"delivery",label:a("priceComparison.sortDelivery","")}].map(A=>s.jsx("button",{onClick:()=>S(A.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b===A.key?"bg-purple-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"data-testid":`button-sort-${A.key}`,children:A.label},A.key))})]}),s.jsx("div",{className:"space-y-3",children:E().map((A,T)=>s.jsx("div",{className:`bg-white rounded-2xl border-2 p-4 transition-all ${A.isBestPrice?"border-green-400 bg-green-50/30":"border-slate-200 hover:border-slate-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-lg ${T===0?"bg-green-600 text-white":"bg-slate-100 text-slate-600"}`,children:T+1}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-bold text-slate-800",children:A.supplierName}),A.isRecommended&&s.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:a("priceComparison.recommended"," ")}),A.isBestPrice&&s.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full",children:a("priceComparison.bestPrice"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(tl,{size:14,className:"text-yellow-500 fill-yellow-500"}),A.rating]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xr,{size:14}),A.deliveryDays," ",a("priceComparison.days","")]}),s.jsxs("span",{className:`flex items-center gap-1 ${A.inStock?"text-green-600":"text-red-500"}`,children:[s.jsx(Na,{size:14}),A.inStock?`${A.stockQuantity} ${a("priceComparison.inStock","")}`:a("priceComparison.outOfStock"," ")]})]})]})]}),s.jsxs("div",{className:`text-${l?"left":"right"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold text-slate-800",children:A.price}),s.jsx("span",{className:"text-slate-500",children:a("common.sar",".")})]}),A.originalPrice&&A.discount&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"line-through text-slate-400",children:A.originalPrice}),s.jsxs("span",{className:"text-green-600 font-bold",children:["-",A.discount,"%"]})]})]})]})},A.supplierId))})]}),v.length>0&&!m&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-bold text-slate-800",children:a("priceComparison.recentSearches","  ")}),s.jsx("button",{onClick:O,className:"text-sm text-slate-500 hover:text-red-500 font-medium","data-testid":"button-clear-history",children:a("priceComparison.clearHistory"," ")})]}),s.jsx("div",{className:"space-y-2",children:v.map((A,T)=>s.jsxs("button",{onClick:()=>w(void 0,A.partNumber),className:"w-full flex items-center justify-between p-3 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors text-left","data-testid":`button-history-${T}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:A.partName}),s.jsx("p",{className:"text-sm text-slate-500 font-mono",children:A.partNumber})]}),s.jsxs("div",{className:`text-${l?"left":"right"}`,children:[s.jsxs("p",{className:"font-bold text-green-600",children:[A.lowestPrice," ",a("common.sar",".")]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[A.suppliersCount," ",a("priceComparison.suppliers","")]})]})]},T))})]}),!m&&v.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cd,{size:64,className:"text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-slate-600",children:a("priceComparison.emptyState","     ")}),s.jsx("p",{className:"text-slate-500 mt-2",children:a("priceComparison.emptyStateDesc","      ")})]}),s.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6",children:[s.jsx("h3",{className:"font-bold text-purple-800 mb-3",children:a("priceComparison.tips","    ")}),s.jsxs("ul",{className:"text-sm text-purple-700 space-y-2 list-disc list-inside",children:[s.jsx("li",{children:a("priceComparison.tip1","      ")}),s.jsx("li",{children:a("priceComparison.tip2","        ")}),s.jsx("li",{children:a("priceComparison.tip3","     ")}),s.jsx("li",{children:a("priceComparison.tip4","       ")})]})]})]})},my=({toolKey:e,icon:t,title:r,description:a,access:n,onSelect:i,isRTL:l})=>{const{t:c}=Ea(),u=n.hasAccess,f=n.isInMaintenanceMode,p=()=>f?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-amber-100 text-amber-700",children:[s.jsx(c8,{size:12}),c("traderTools.maintenance"," ")]}):u?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[s.jsx(dr,{size:12}),c("traderTools.available","")]}):s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-slate-100 text-slate-600",children:[s.jsx(Yr,{size:12}),c("traderTools.noAccess"," ")]}),m=()=>{if(!u||n.usageToday===void 0&&n.usageThisMonth===void 0)return null;const x=n.dailyLimit?`${n.usageToday||0}/${n.dailyLimit}`:null,v=n.monthlyLimit?`${n.usageThisMonth||0}/${n.monthlyLimit}`:null;return!x&&!v?null:s.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mt-2",children:[x&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xr,{size:12}),c("traderTools.dailyUsage",""),": ",x]}),v&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(um,{size:12}),c("traderTools.monthlyUsage",""),": ",v]})]})};return s.jsx("button",{onClick:i,disabled:!u,className:`group relative w-full text-${l?"right":"left"} p-6 rounded-2xl border-2 transition-all duration-200 ${u?"bg-white hover:bg-slate-50 border-slate-200 hover:border-brand-500 hover:shadow-lg cursor-pointer":f?"bg-amber-50/50 border-amber-200 cursor-not-allowed":"bg-slate-50 border-slate-200 cursor-not-allowed opacity-70"}`,"data-testid":`tool-card-${e.toLowerCase().replace("_","-")}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${u?"bg-gradient-to-br from-brand-500 to-brand-700 text-white shadow-lg shadow-brand-500/30":f?"bg-amber-200 text-amber-700":"bg-slate-200 text-slate-500"}`,children:t}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 truncate",children:r}),p()]}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:a}),m(),!u&&!f&&n.reason&&s.jsxs("p",{className:"text-xs text-red-500 mt-2 flex items-center gap-1",children:[s.jsx(sa,{size:12}),l?n.reasonAr:n.reason]})]}),u&&s.jsx(Zn,{size:20,className:`text-slate-400 group-hover:text-brand-600 transition-transform ${l?"rotate-180 group-hover:-translate-x-1":"group-hover:translate-x-1"}`})]})})},Eie=({user:e,profile:t})=>{const{t:r,dir:a}=Ea(),{addToast:n}=qt(),i=a==="rtl",[l,c]=P.useState(!0),[u,f]=P.useState({}),[p,m]=P.useState("NONE");P.useEffect(()=>{(async()=>{c(!0);try{const b=await co.getAllToolsAccess(e.id,t==null?void 0:t.customerType);f(b)}catch(b){console.error("Failed to load tools access:",b),n(r("traderTools.loadError","    "),"error")}finally{c(!1)}})()},[e.id,t==null?void 0:t.customerType]);const x=y=>{const b=u[y];b!=null&&b.hasAccess?m(y):b!=null&&b.isInMaintenanceMode&&n(r("traderTools.maintenanceMessage","    "),"info")},v=()=>{m("NONE")};if(l)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oo,{size:48,className:"animate-spin text-brand-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-medium",children:r("traderTools.loading","  ...")})]})});if(p!=="NONE"){const y={PDF_TO_EXCEL:vie,VIN_EXTRACTOR:Sie,PRICE_COMPARISON:jie}[p];return s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("button",{onClick:v,className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-brand-600 transition-colors font-medium","data-testid":"button-back-to-tools",children:[s.jsx(Zn,{size:20,className:i?"":"rotate-180"}),r("traderTools.backToTools","  ")]}),s.jsx(y,{user:e,profile:t,onClose:v})]})}return s.jsxs("div",{className:"animate-fade-in space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#081a33] to-[#102b57] rounded-3xl p-8 text-white",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:s.jsx(mm,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:r("traderTools.title"," ")}),s.jsx("p",{className:"text-slate-300 mt-1",children:r("traderTools.subtitle","    ")})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx(ll,{size:24,className:"text-green-400 mb-2"}),s.jsx("p",{className:"text-sm text-slate-300",children:r("traderTools.pdfConversion"," PDF")})]}),s.jsxs("div",{className:"bg-white/10 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx(io,{size:24,className:"text-blue-400 mb-2"}),s.jsx("p",{className:"text-sm text-slate-300",children:r("traderTools.vinExtraction"," VIN")})]}),s.jsxs("div",{className:"bg-white/10 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx(Cd,{size:24,className:"text-purple-400 mb-2"}),s.jsx("p",{className:"text-sm text-slate-300",children:r("traderTools.priceComparison"," ")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r("traderTools.availableTools"," ")}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsx(my,{toolKey:"PDF_TO_EXCEL",icon:s.jsx(ll,{size:24}),title:r("traderTools.pdfToExcel.title"," PDF  Excel"),description:r("traderTools.pdfToExcel.description","  PDF       Excel  "),access:u.PDF_TO_EXCEL||{hasAccess:!1},onSelect:()=>x("PDF_TO_EXCEL"),isRTL:i}),s.jsx(my,{toolKey:"VIN_EXTRACTOR",icon:s.jsx(io,{size:24}),title:r("traderTools.vinExtractor.title","   (VIN)"),description:r("traderTools.vinExtractor.description","       "),access:u.VIN_EXTRACTOR||{hasAccess:!1},onSelect:()=>x("VIN_EXTRACTOR"),isRTL:i}),s.jsx(my,{toolKey:"PRICE_COMPARISON",icon:s.jsx(Cd,{size:24}),title:r("traderTools.priceComparison.title"," "),description:r("traderTools.priceComparison.description","        "),access:u.PRICE_COMPARISON||{hasAccess:!1},onSelect:()=>x("PRICE_COMPARISON"),isRTL:i})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(el,{size:24,className:"text-blue-600 shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:r("traderTools.tips.title"," ")}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1.5 list-disc list-inside",children:[s.jsx("li",{children:r("traderTools.tips.tip1","         ")}),s.jsx("li",{children:r("traderTools.tips.tip2","      ")}),s.jsx("li",{children:r("traderTools.tips.tip3","     ")})]})]})]})})]})},Lo={owner:{ar:"",en:"Owner",color:"bg-amber-500"},manager:{ar:"",en:"Manager",color:"bg-blue-500"},staff:{ar:"",en:"Staff",color:"bg-green-500"},readonly:{ar:" ",en:"Read Only",color:"bg-gray-500"}},Uo={adv_view_campaigns:{ar:" ",en:"View Campaigns",category:"advertising"},adv_manage_campaigns:{ar:" ",en:"Manage Campaigns",category:"advertising"},adv_manage_slots:{ar:"  ",en:"Manage Ad Slots",category:"advertising"},adv_view_reports:{ar:" ",en:"View Reports",category:"advertising"},sup_view_forwarded_requests:{ar:"  ",en:"View Forwarded Requests",category:"supplier"},sup_submit_offers:{ar:" ",en:"Submit Offers",category:"supplier"},sup_view_team_activity:{ar:"  ",en:"View Team Activity",category:"supplier"},sup_manage_products:{ar:" ",en:"Manage Products",category:"supplier"},sup_view_analytics:{ar:" ",en:"View Analytics",category:"supplier"},cust_create_orders:{ar:" ",en:"Create Orders",category:"customer"},cust_view_orders:{ar:" ",en:"View Orders",category:"customer"},cust_create_installment_requests:{ar:"  ",en:"Create Installment Requests",category:"customer"},cust_manage_installment_requests:{ar:"  ",en:"Manage Installment Requests",category:"customer"},cust_use_trader_tools:{ar:"  ",en:"Use Trader Tools",category:"customer"},cust_view_team_activity:{ar:"  ",en:"View Team Activity",category:"customer"},cust_view_prices:{ar:" ",en:"View Prices",category:"customer"},cust_manage_cart:{ar:" ",en:"Manage Cart",category:"customer"},aff_view_links:{ar:" ",en:"View Links",category:"affiliate"},aff_manage_links:{ar:" ",en:"Manage Links",category:"affiliate"},aff_view_commissions:{ar:" ",en:"View Commissions",category:"affiliate"},aff_withdraw_commissions:{ar:" ",en:"Withdraw Commissions",category:"affiliate"},aff_view_analytics:{ar:" ",en:"View Analytics",category:"affiliate"},org_manage_team:{ar:" ",en:"Manage Team",category:"organization"},org_view_logs:{ar:" ",en:"View Logs",category:"organization"},org_view_settings:{ar:" ",en:"View Settings",category:"organization"},org_edit_profile:{ar:" ",en:"Edit Profile",category:"organization"}},Kh={customer:{ar:"",en:"Customer"},supplier:{ar:"",en:"Supplier"},advertising:{ar:"",en:"Advertising"},affiliate:{ar:"",en:"Affiliate"},organization:{ar:"",en:"Organization"}};function B4(e){switch(e){case"customer":return{ar:"",en:"Customer"};case"supplier":return{ar:"",en:"Supplier"};case"advertiser":return{ar:"",en:"Advertiser"};case"affiliate":return{ar:"",en:"Affiliate"};case"platform":return{ar:"",en:"Platform"};default:return{ar:e,en:e}}}function Aie(e){const t=["org_manage_team","org_view_logs","org_view_settings","org_edit_profile"];switch(e){case"customer":return[...t,"cust_create_orders","cust_view_orders","cust_create_installment_requests","cust_manage_installment_requests","cust_use_trader_tools","cust_view_team_activity","cust_view_prices","cust_manage_cart"];case"supplier":return[...t,"sup_view_forwarded_requests","sup_submit_offers","sup_view_team_activity","sup_manage_products","sup_view_analytics"];case"advertiser":return[...t,"adv_view_campaigns","adv_manage_campaigns","adv_manage_slots","adv_view_reports"];case"affiliate":return[...t,"aff_view_links","aff_manage_links","aff_view_commissions","aff_withdraw_commissions","aff_view_analytics"];default:return t}}function _ie(e){const t={};return e.forEach(r=>{const a=Uo[r],n=(a==null?void 0:a.category)||"other";t[n]||(t[n]=[]),t[n].push(r)}),t}function Cie({organizationType:e,entityId:t,entityName:r,currentUserId:a}){const{t:n,i18n:i}=na(),{addToast:l}=qt(),c=i.language==="ar",[u,f]=P.useState(null),[p,m]=P.useState([]),[x,v]=P.useState([]),[y,b]=P.useState(null),[S,_]=P.useState(!0),[w,E]=P.useState(""),[O,A]=P.useState("all"),[T,N]=P.useState("members"),[D,L]=P.useState(!1),[M,k]=P.useState(!1),[I,V]=P.useState(!1),[q,z]=P.useState(null),[R,W]=P.useState({email:"",name:"",role:"staff",permissions:[]}),[X,B]=P.useState({role:"staff",permissions:[],jobTitle:"",department:""}),ee=(u==null?void 0:u.ownerUserId)===a,Y=p.find(he=>he.userId===a),F=ee||((Y==null?void 0:Y.permissions.includes("org_manage_team"))??!1),K=P.useMemo(()=>Aie(e),[e]),J=P.useMemo(()=>_ie(K),[K]);P.useEffect(()=>{H()},[e,t]);async function H(){_(!0);try{let he=await de.getOrCreateOrganizationForEntity(e,t,r,a);if(f(he),he){const[Me,ye,$e]=await Promise.all([de.getOrganizationUsers(he.id),de.getTeamInvitations(he.id),de.getOrganizationStats(he.id)]);m(Me),v(ye),b($e)}}catch(he){console.error("Error loading team data:",he),l("     ","error")}finally{_(!1)}}const ce=P.useMemo(()=>p.filter(he=>{var $e,rt;const Me=w===""||(($e=he.jobTitle)==null?void 0:$e.toLowerCase().includes(w.toLowerCase()))||((rt=he.department)==null?void 0:rt.toLowerCase().includes(w.toLowerCase())),ye=O==="all"||he.role===O;return Me&&ye}),[p,w,O]);async function le(){if(!u||!R.email){l("   ","error");return}try{const he=await de.getOrganizationSettings(),Me=await de.getOrganizationUsers(u.id),ye=u.type==="customer"?he.maxCustomerEmployees:u.type==="supplier"?he.maxSupplierEmployees:u.type==="advertiser"?he.maxAdvertiserEmployees:he.maxAffiliateEmployees;if(Me.length>=ye){l("     ","error");return}const $e=await de.createTeamInvitation(u.id,a,{email:R.email,name:R.name,role:R.role,permissions:R.permissions});v(rt=>[...rt,$e]),L(!1),W({email:"",name:"",role:"staff",permissions:[]}),l("   ","success"),await H()}catch(he){console.error("Error inviting member:",he),l("    ","error")}}async function xe(){if(!(!u||!q))try{await de.updateOrganizationUser(q.id,{role:X.role,permissions:X.permissions,jobTitle:X.jobTitle,department:X.department}),k(!1),z(null),l("   ","success"),await H()}catch(he){console.error("Error updating member:",he),l("    ","error")}}async function se(){if(!(!u||!q))try{await de.removeOrganizationUser(q.id),V(!1),z(null),l("   ","success"),await H()}catch(he){console.error("Error removing member:",he),l("    ","error")}}async function fe(he){try{await de.cancelTeamInvitation(he),l("  ","success"),await H()}catch(Me){console.error("Error cancelling invitation:",Me),l("    ","error")}}async function we(he){if(u)try{await de.updateOrganizationUser(he.id,{isActive:!he.isActive}),l(he.isActive?"  ":"  ","success"),await H()}catch{l(" ","error")}}function G(he){z(he),B({role:he.role,permissions:[...he.permissions],jobTitle:he.jobTitle||"",department:he.department||""}),k(!0)}function He(he){z(he),V(!0)}function Ue(he,Me){Me==="invite"?W(ye=>({...ye,permissions:ye.permissions.includes(he)?ye.permissions.filter($e=>$e!==he):[...ye.permissions,he]})):B(ye=>({...ye,permissions:ye.permissions.includes(he)?ye.permissions.filter($e=>$e!==he):[...ye.permissions,he]}))}return S?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(ua,{className:"w-8 h-8 animate-spin text-amber-500"})}):s.jsxs("div",{className:`space-y-6 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[s.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl p-6 border border-slate-700",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-500/20 flex items-center justify-center",children:s.jsx(ka,{className:"w-7 h-7 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white","data-testid":"text-team-title",children:c?" ":"Team Management"}),s.jsxs("p",{className:"text-slate-400",children:[r," - ",c?B4(e).ar:B4(e).en]})]})]}),F&&s.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 text-slate-900 rounded-lg font-medium hover:bg-amber-400 transition-colors","data-testid":"button-invite-member",children:[s.jsx(fc,{className:"w-5 h-5"}),s.jsx("span",{children:c?" ":"Invite Member"})]})]}),y&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white","data-testid":"text-total-members",children:y.totalMembers}),s.jsx("div",{className:"text-sm text-slate-400",children:c?" ":"Total Members"})]}),s.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400","data-testid":"text-active-members",children:y.activeMembers}),s.jsx("div",{className:"text-sm text-slate-400",children:c?" ":"Active Members"})]}),s.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-400","data-testid":"text-pending-invites",children:y.pendingInvitations}),s.jsx("div",{className:"text-sm text-slate-400",children:c?" ":"Pending Invites"})]}),s.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400","data-testid":"text-recent-activities",children:y.recentActivities}),s.jsx("div",{className:"text-sm text-slate-400",children:c?" ":"Recent Activities"})]})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-700",children:[s.jsxs("button",{onClick:()=>N("members"),className:`px-4 py-3 font-medium transition-colors ${T==="members"?"text-amber-400 border-b-2 border-amber-400":"text-slate-400 hover:text-white"}`,"data-testid":"tab-members",children:[s.jsx(Xt,{className:"w-4 h-4 inline-block mr-2"}),c?"":"Members"," (",p.length,")"]}),s.jsxs("button",{onClick:()=>N("invitations"),className:`px-4 py-3 font-medium transition-colors ${T==="invitations"?"text-amber-400 border-b-2 border-amber-400":"text-slate-400 hover:text-white"}`,"data-testid":"tab-invitations",children:[s.jsx(Gf,{className:"w-4 h-4 inline-block mr-2"}),c?"":"Invitations"," (",x.filter(he=>he.status==="pending").length,")"]}),s.jsxs("button",{onClick:()=>N("activity"),className:`px-4 py-3 font-medium transition-colors ${T==="activity"?"text-amber-400 border-b-2 border-amber-400":"text-slate-400 hover:text-white"}`,"data-testid":"tab-activity",children:[s.jsx(Rn,{className:"w-4 h-4 inline-block mr-2"}),c?"":"Activity"]})]}),T==="members"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"text",value:w,onChange:he=>E(he.target.value),placeholder:c?"  ...":"Search members...",className:"w-full pl-10 pr-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"input-search-members"})]}),s.jsxs("select",{value:O,onChange:he=>A(he.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"select-role-filter",children:[s.jsx("option",{value:"all",children:c?" ":"All Roles"}),Object.entries(Lo).map(([he,Me])=>s.jsx("option",{value:he,children:c?Me.ar:Me.en},he))]})]}),s.jsx("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 overflow-hidden",children:ce.length===0?s.jsxs("div",{className:"p-8 text-center text-slate-400",children:[s.jsx(Xt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:c?"  ":"No members found"})]}):s.jsx("div",{className:"divide-y divide-slate-700",children:ce.map(he=>s.jsxs("div",{className:"p-4 hover:bg-slate-700/50 transition-colors","data-testid":`member-row-${he.userId}`,children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:he.userId.slice(0,2).toUpperCase()})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:he.jobTitle||`User ${he.userId}`}),(u==null?void 0:u.ownerUserId)===he.userId&&s.jsx("span",{className:"px-2 py-0.5 text-xs bg-amber-500/20 text-amber-400 rounded",children:c?"":"Owner"}),!he.isActive&&s.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-500/20 text-red-400 rounded",children:c?"":"Inactive"})]}),s.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs text-white ${Lo[he.role].color}`,children:c?Lo[he.role].ar:Lo[he.role].en}),he.department&&s.jsxs("span",{children:[" ",he.department]})]})]})]}),F&&he.role!=="owner"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>we(he),className:`p-2 rounded-lg transition-colors ${he.isActive?"text-green-400 hover:bg-green-500/20":"text-red-400 hover:bg-red-500/20"}`,title:he.isActive?"Deactivate":"Activate","data-testid":`button-toggle-status-${he.userId}`,children:he.isActive?s.jsx($d,{className:"w-5 h-5"}):s.jsx(Ho,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>G(he),className:"p-2 text-blue-400 hover:bg-blue-500/20 rounded-lg transition-colors",title:"Edit","data-testid":`button-edit-member-${he.userId}`,children:s.jsx(Nn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>He(he),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Remove","data-testid":`button-remove-member-${he.userId}`,children:s.jsx(Wt,{className:"w-5 h-5"})})]})]}),he.permissions.length>0&&he.role!=="owner"&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[he.permissions.slice(0,5).map(Me=>{var ye,$e;return s.jsx("span",{className:"px-2 py-0.5 text-xs bg-slate-600/50 text-slate-300 rounded",children:c?((ye=Uo[Me])==null?void 0:ye.ar)||Me:(($e=Uo[Me])==null?void 0:$e.en)||Me},Me)}),he.permissions.length>5&&s.jsxs("span",{className:"px-2 py-0.5 text-xs bg-slate-600/50 text-slate-300 rounded",children:["+",he.permissions.length-5]})]})]},he.id))})})]}),T==="invitations"&&s.jsx("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 overflow-hidden",children:x.length===0?s.jsxs("div",{className:"p-8 text-center text-slate-400",children:[s.jsx(Gf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:c?"  ":"No invitations"})]}):s.jsx("div",{className:"divide-y divide-slate-700",children:x.map(he=>s.jsxs("div",{className:"p-4 flex items-center justify-between","data-testid":`invitation-row-${he.id}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx(Gf,{className:"w-5 h-5 text-slate-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:he.email}),s.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs text-white ${Lo[he.role].color}`,children:c?Lo[he.role].ar:Lo[he.role].en}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${he.status==="pending"?"bg-amber-500/20 text-amber-400":he.status==="accepted"?"bg-green-500/20 text-green-400":he.status==="expired"?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:he.status==="pending"?c?"":"Pending":he.status==="accepted"?c?"":"Accepted":he.status==="expired"?c?"":"Expired":c?"":"Cancelled"})]})]})]}),F&&he.status==="pending"&&s.jsx("button",{onClick:()=>fe(he.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors","data-testid":`button-cancel-invitation-${he.id}`,children:s.jsx(ar,{className:"w-5 h-5"})})]},he.id))})}),T==="activity"&&s.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 p-8 text-center text-slate-400",children:[s.jsx(Rn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:c?"  ":"Activity log coming soon"})]}),s.jsx(gr,{isOpen:D,onClose:()=>L(!1),title:c?"  ":"Invite New Member",children:s.jsxs("div",{className:"space-y-4","data-testid":"modal-invite-member",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:c?" ":"Email Address"}),s.jsx("input",{type:"email",value:R.email,onChange:he=>W(Me=>({...Me,email:he.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"email@example.com","data-testid":"input-invite-email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:c?"":"Role"}),s.jsxs("select",{value:R.role,onChange:he=>W(Me=>({...Me,role:he.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"select-invite-role",children:[s.jsx("option",{value:"manager",children:c?"":"Manager"}),s.jsx("option",{value:"staff",children:c?"":"Staff"}),s.jsx("option",{value:"readonly",children:c?" ":"Read Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:c?"":"Permissions"}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 bg-slate-700/50 rounded-lg p-4",children:Object.entries(J).map(([he,Me])=>{var ye,$e;return s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-amber-400 mb-2",children:c?((ye=Kh[he])==null?void 0:ye.ar)||he:(($e=Kh[he])==null?void 0:$e.en)||he}),s.jsx("div",{className:"space-y-1",children:Me.map(rt=>{var it,ve;return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-600/50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:R.permissions.includes(rt),onChange:()=>Ue(rt,"invite"),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-amber-500 focus:ring-amber-500","data-testid":`checkbox-invite-perm-${rt}`}),s.jsx("span",{className:"text-sm text-slate-300",children:c?((it=Uo[rt])==null?void 0:it.ar)||rt:((ve=Uo[rt])==null?void 0:ve.en)||rt})]},rt)})})]},he)})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors","data-testid":"button-cancel-invite",children:c?"":"Cancel"}),s.jsxs("button",{onClick:le,className:"px-4 py-2 bg-amber-500 text-slate-900 rounded-lg font-medium hover:bg-amber-400 transition-colors","data-testid":"button-confirm-invite",children:[s.jsx(o8,{className:"w-4 h-4 inline-block mr-2"}),c?" ":"Send Invitation"]})]})]})}),s.jsx(gr,{isOpen:M,onClose:()=>k(!1),title:c?" ":"Edit Member",children:s.jsxs("div",{className:"space-y-4","data-testid":"modal-edit-member",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:c?" ":"Job Title"}),s.jsx("input",{type:"text",value:X.jobTitle,onChange:he=>B(Me=>({...Me,jobTitle:he.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"input-edit-job-title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:c?"":"Department"}),s.jsx("input",{type:"text",value:X.department,onChange:he=>B(Me=>({...Me,department:he.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"input-edit-department"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:c?"":"Role"}),s.jsxs("select",{value:X.role,onChange:he=>B(Me=>({...Me,role:he.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500","data-testid":"select-edit-role",children:[s.jsx("option",{value:"manager",children:c?"":"Manager"}),s.jsx("option",{value:"staff",children:c?"":"Staff"}),s.jsx("option",{value:"readonly",children:c?" ":"Read Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:c?"":"Permissions"}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-4 bg-slate-700/50 rounded-lg p-4",children:Object.entries(J).map(([he,Me])=>{var ye,$e;return s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-amber-400 mb-2",children:c?((ye=Kh[he])==null?void 0:ye.ar)||he:(($e=Kh[he])==null?void 0:$e.en)||he}),s.jsx("div",{className:"space-y-1",children:Me.map(rt=>{var it,ve;return s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-600/50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:X.permissions.includes(rt),onChange:()=>Ue(rt,"edit"),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-amber-500 focus:ring-amber-500","data-testid":`checkbox-edit-perm-${rt}`}),s.jsx("span",{className:"text-sm text-slate-300",children:c?((it=Uo[rt])==null?void 0:it.ar)||rt:((ve=Uo[rt])==null?void 0:ve.en)||rt})]},rt)})})]},he)})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors","data-testid":"button-cancel-edit",children:c?"":"Cancel"}),s.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-amber-500 text-slate-900 rounded-lg font-medium hover:bg-amber-400 transition-colors","data-testid":"button-confirm-edit",children:[s.jsx(Gr,{className:"w-4 h-4 inline-block mr-2"}),c?" ":"Save Changes"]})]})]})}),s.jsx(gr,{isOpen:I,onClose:()=>V(!1),title:c?" ":"Remove Member",children:s.jsxs("div",{className:"space-y-4","data-testid":"modal-remove-member",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Qn,{className:"w-8 h-8 text-red-400"})}),s.jsx("p",{className:"text-white",children:c?"        ":"Are you sure you want to remove this member from the team?"}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:c?"       .":"They will lose access to all organization resources."})]}),s.jsxs("div",{className:"flex justify-center gap-3 pt-4",children:[s.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors","data-testid":"button-cancel-remove",children:c?"":"Cancel"}),s.jsxs("button",{onClick:se,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-400 transition-colors","data-testid":"button-confirm-remove",children:[s.jsx(Wt,{className:"w-4 h-4 inline-block mr-2"}),c?" ":"Remove Member"]})]})]})})]})}const y8=P.createContext(void 0),Tie=({children:e})=>{const[t,r]=P.useState(null),[a,n]=P.useState(null),[i,l]=P.useState([]),[c,u]=P.useState(!1),[f,p]=P.useState(null),m=(t==null?void 0:t.ownerUserId)===f||(a==null?void 0:a.role)==="owner",x=m||((a==null?void 0:a.permissions.includes("org_manage_team"))??!1),v=P.useCallback(async(R,W)=>{u(!0),p(R);try{let X=null;if(W?X=(await de.getOrganizations()).find(ee=>ee.type===W&&ee.ownerUserId===R)||null:X=await de.getOrganizationByOwnerUserId(R),X){r(X);const B=await de.getOrganizationUser(X.id,R);n(B)}else r(null),n(null)}catch(X){console.error("Failed to load organization:",X)}finally{u(!1)}},[]),y=P.useCallback(async R=>{u(!0),p(R);try{const W=await de.getOrganizationsByUserId(R);if(l(W),W.length>0&&!t){r(W[0]);const X=await de.getOrganizationUser(W[0].id,R);n(X)}}catch(W){console.error("Failed to load organizations:",W)}finally{u(!1)}},[t]),b=P.useCallback(async R=>{if(f){u(!0);try{const W=await de.getOrganizationById(R);if(W){r(W);const X=await de.getOrganizationUser(R,f);n(X)}}catch(W){console.error("Failed to switch organization:",W)}finally{u(!1)}}},[f]),S=P.useCallback(async()=>{if(t!=null&&t.id)try{const R=await de.getOrganizationById(t.id);if(R&&r(R),f){const W=await de.getOrganizationUser(t.id,f);n(W)}}catch(R){console.error("Failed to refresh organization:",R)}},[t==null?void 0:t.id,f]),_=P.useCallback(R=>!t||!f?!1:t.ownerUserId===f||(a==null?void 0:a.role)==="owner"?!0:(a==null?void 0:a.permissions.includes(R))??!1,[t,a,f]),w=P.useCallback(()=>!t||!f?[]:t.ownerUserId===f||(a==null?void 0:a.role)==="owner"?de.getPermissionsByOrganizationType(t.type):(a==null?void 0:a.permissions)??[],[t,a,f]),E=P.useCallback(async()=>t!=null&&t.id?await de.getOrganizationUsers(t.id):[],[t==null?void 0:t.id]),O=P.useCallback(async R=>{if(!(t!=null&&t.id))return null;try{return await de.createOrganizationUser(t.id,R)}catch(W){return console.error("Failed to add team member:",W),null}},[t==null?void 0:t.id]),A=P.useCallback(async(R,W)=>{try{return await de.updateOrganizationUser(R,W)}catch(X){return console.error("Failed to update team member:",X),null}},[]),T=P.useCallback(async R=>{try{return await de.deactivateOrganizationUser(R)!==null}catch(W){return console.error("Failed to deactivate team member:",W),!1}},[]),N=P.useCallback(async R=>{try{return await de.reactivateOrganizationUser(R)!==null}catch(W){return console.error("Failed to reactivate team member:",W),!1}},[]),D=P.useCallback(async R=>{try{return await de.removeOrganizationUser(R)}catch(W){return console.error("Failed to remove team member:",W),!1}},[]),L=P.useCallback(async()=>t!=null&&t.id?await de.getTeamInvitations(t.id):[],[t==null?void 0:t.id]),M=P.useCallback(async R=>{if(!(t!=null&&t.id)||!f)return null;try{return await de.createTeamInvitation(t.id,f,R)}catch(W){return console.error("Failed to create invitation:",W),null}},[t==null?void 0:t.id,f]),k=P.useCallback(async R=>{try{return await de.cancelTeamInvitation(R)}catch(W){return console.error("Failed to cancel invitation:",W),!1}},[]),I=P.useCallback(async(R=100)=>t!=null&&t.id?await de.getOrganizationActivityLogs(t.id,R):[],[t==null?void 0:t.id]),V=P.useCallback(async(R,W,X)=>{if(!(!(t!=null&&t.id)||!f))try{await de.logOrganizationActivity(t.id,f,R,W,X)}catch(B){console.error("Failed to log activity:",B)}},[t==null?void 0:t.id,f]),q=P.useCallback(async()=>t!=null&&t.id?await de.getOrganizationStats(t.id):null,[t==null?void 0:t.id]),z=P.useCallback(async()=>t!=null&&t.id?await de.canAddTeamMember(t.id):{allowed:!1,reason:"   "},[t==null?void 0:t.id]);return s.jsx(y8.Provider,{value:{currentOrganization:t,currentOrgUser:a,organizations:i,isLoading:c,isOwner:m,canManageTeam:x,loadOrganization:v,loadOrganizations:y,switchOrganization:b,refreshCurrentOrganization:S,hasPermission:_,getPermissions:w,getTeamMembers:E,addTeamMember:O,updateTeamMember:A,deactivateTeamMember:T,reactivateTeamMember:N,removeTeamMember:D,getInvitations:L,createInvitation:M,cancelInvitation:k,getActivityLogs:I,logActivity:V,getStats:q,canAddMember:z},children:e})},Oie=()=>{const e=P.useContext(y8);if(!e)throw new Error("useOrganization must be used within an OrganizationProvider");return e};function kie(e=768){const[t,r]=P.useState(()=>typeof window<"u"?window.innerWidth<e:!1);return P.useEffect(()=>{if(typeof window>"u")return;const a=()=>{r(window.innerWidth<e)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),t}const Rie=P.memo(()=>{const[e,t]=P.useState(null);if(P.useEffect(()=>{de.getSettings().then(t)},[]),!e||!e.tickerEnabled)return null;const r=40-((e.tickerSpeed||5)-1)*3;return s.jsxs("div",{style:{backgroundColor:e.tickerBgColor||"#0f172a"},className:"w-full overflow-hidden py-3 relative z-50 shadow-sm border-b border-white/10",children:[s.jsx("style",{children:`
                @keyframes marquee {
                    0% { transform: translateX(100%); }
                    100% { transform: translateX(-100%); }
                }
                .ticker-content {
                    white-space: nowrap;
                    display: inline-block;
                    animation: marquee ${r}s linear infinite;
                    min-width: 100%;
                }
                .ticker-content:hover {
                    animation-play-state: paused;
                }
            `}),s.jsx("div",{className:"ticker-content px-4",children:s.jsx("span",{style:{color:e.tickerTextColor||"#f97316"},className:"font-bold text-sm md:text-base mx-4",children:e.tickerText})})]})});P.memo(({icon:e,label:t,active:r,onClick:a,badge:n})=>s.jsxs("button",{onClick:a,className:`w-full flex items-center justify-between px-4 py-3 rounded-xl mb-1.5 transition-all ${r?"bg-brand-800 text-white font-bold shadow-md":"text-brand-100 hover:bg-brand-800/50 hover:text-white font-medium"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e,s.jsx("span",{className:"text-sm md:text-[15px]",children:t})]}),n?s.jsx("span",{className:"bg-action-500 text-white text-xs font-bold px-2 py-0.5 rounded-full flex items-center justify-center min-w-[20px]",children:n===!0?"!":n}):null]}));const z4=P.memo(({icon:e,title:t,desc:r})=>s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-start gap-4 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"p-3 bg-slate-50 text-slate-700 rounded-xl border border-slate-100 shrink-0",children:e}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800 text-sm md:text-[15px] mb-1.5",children:t}),s.jsx("p",{className:"text-xs md:text-[13px] text-slate-500 leading-relaxed",children:r})]})]}));P.memo(({icon:e,title:t,desc:r,colorClass:a="bg-slate-50 text-brand-600",onClick:n})=>s.jsxs("div",{onClick:n,className:`bg-white p-5 sm:p-6 rounded-2xl border border-slate-200/80 shadow-sm flex flex-col gap-3 sm:gap-4 transition-all duration-300 group h-full ${n?"cursor-pointer hover:shadow-lg hover:border-brand-300 hover:-translate-y-1":"hover:shadow-md"}`,children:[s.jsx("div",{className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shrink-0 transition-transform duration-300 group-hover:scale-110 ${a}`,children:e}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold text-slate-800 text-base sm:text-lg mb-1.5 sm:mb-2 transition-colors ${n?"group-hover:text-brand-700":""}`,children:t}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed font-medium",children:r})]})]}));const Qh=P.memo(({icon:e,title:t,desc:r,colorClass:a,iconBgClass:n})=>s.jsxs("div",{className:"group relative bg-white rounded-2xl border border-slate-200/80 p-5 sm:p-6 transition-all duration-300 hover:shadow-xl hover:border-brand-200 hover:-translate-y-1 overflow-hidden",children:[s.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${n} opacity-10 rounded-full -mr-8 -mt-8 transition-transform duration-500 group-hover:scale-150`}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 sm:w-16 sm:h-16 rounded-2xl flex items-center justify-center mb-4 shadow-sm transition-all duration-300 group-hover:scale-105 ${a}`,children:e}),s.jsx("h4",{className:"font-bold text-slate-800 text-base sm:text-lg mb-2 group-hover:text-brand-700 transition-colors",children:t}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:r})]})]})),Pie=P.memo(({startX:e,startY:t,endX:r,endY:a,onComplete:n})=>{const[i,l]=P.useState({x:e,y:t,scale:1,opacity:1});return P.useEffect(()=>{requestAnimationFrame(()=>{l({x:r,y:a,scale:.3,opacity:.5})});const c=setTimeout(n,800);return()=>clearTimeout(c)},[r,a,n]),s.jsx("div",{className:"fixed z-[9999] pointer-events-none",style:{left:i.x,top:i.y,transform:`translate(-50%, -50%) scale(${i.scale})`,opacity:i.opacity,transition:"all 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:s.jsx("div",{className:"w-10 h-10 bg-brand-600 rounded-full flex items-center justify-center shadow-lg shadow-brand-600/50",children:s.jsx(Tn,{size:18,className:"text-white"})})})}),Die=P.memo(({cartCount:e,cartTotal:t,cart:r,onRemoveItem:a,onSubmitOrder:n,showDropdown:i,setShowDropdown:l,onCartIconMount:c,t:u,isRTL:f})=>{const p=P.useRef(null),m=P.useRef(null);return P.useEffect(()=>(c(p.current),()=>c(null)),[c]),P.useEffect(()=>{const x=v=>{m.current&&!m.current.contains(v.target)&&p.current&&!p.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[l]),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:p,onClick:()=>l(!i),className:`relative p-2.5 rounded-xl transition-all ${e>0?"bg-brand-600 text-white hover:bg-brand-700 shadow-md shadow-brand-600/30":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"data-testid":"button-cart","aria-label":"Shopping Cart",children:[s.jsx(Tn,{size:20}),e>0&&s.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center shadow-sm animate-pulse",children:e})]}),i&&s.jsxs("div",{ref:m,className:`absolute top-full mt-2 w-80 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50 ${f?"left-0":"right-0"}`,children:[s.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Tn,{size:18}),u("customerDashboard.cart"," "),s.jsx("span",{className:"bg-brand-600 text-white text-xs px-2 py-0.5 rounded-full",children:e})]})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.length===0?s.jsxs("div",{className:"p-8 text-center text-slate-400",children:[s.jsx(Tn,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:u("customerDashboard.emptyCart"," ")})]}):r.map(x=>s.jsx("div",{className:"p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:x.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:[x.quantity,"  ",x.price.toLocaleString()," ",u("customerDashboard.sar",".")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold text-brand-600",children:(x.quantity*x.price).toLocaleString()}),s.jsx("button",{onClick:()=>a(x.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","data-testid":`button-remove-item-${x.id}`,children:s.jsx(Wt,{size:14})})]})]})},x.id))}),r.length>0&&s.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm text-slate-600",children:[u("customerDashboard.total",""),":"]}),s.jsxs("span",{className:"text-lg font-black text-slate-900",children:[t.toLocaleString()," ",u("customerDashboard.sar",".")]})]}),s.jsx("button",{onClick:n,className:"w-full py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold rounded-xl transition-colors shadow-md shadow-brand-600/30","data-testid":"button-submit-order-dropdown",children:u("customerDashboard.confirmOrder"," ")})]})]})]})}),qi=P.memo(({icon:e,label:t,active:r,onClick:a,badge:n,collapsed:i})=>s.jsxs("button",{onClick:a,className:`w-full flex items-center ${i?"justify-center":"justify-between"} px-3 py-3.5 rounded-2xl mb-2 transition-all duration-300 group relative overflow-hidden ${r?"bg-gradient-to-l from-brand-600 to-brand-700 text-white font-bold shadow-lg shadow-brand-900/40 scale-[1.02]":"text-slate-300 hover:bg-white/10 hover:text-white font-medium hover:scale-[1.01]"}`,title:i?t:void 0,children:[r&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse opacity-50"}),s.jsxs("div",{className:`flex items-center relative z-10 ${i?"":"gap-3.5"}`,children:[s.jsx("span",{className:`shrink-0 transition-transform duration-300 ${r?"scale-110":"group-hover:scale-105"}`,children:e}),!i&&s.jsx("span",{className:"text-sm md:text-[15px] truncate tracking-wide",children:t})]}),n&&!i&&s.jsx("span",{className:"bg-gradient-to-r from-action-500 to-action-600 text-white text-[11px] font-bold px-2.5 py-1 rounded-full flex items-center justify-center min-w-[22px] shadow-md shadow-action-500/30 animate-bounce relative z-10",children:n===!0?"!":n}),n&&i&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-3.5 h-3.5 bg-gradient-to-r from-action-500 to-red-500 rounded-full animate-pulse shadow-lg shadow-action-500/50"}),i&&s.jsxs("div",{className:"absolute left-full ml-3 px-4 py-2.5 bg-slate-800/95 backdrop-blur-sm text-white text-sm font-bold rounded-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50 shadow-2xl border border-slate-700/50",children:[t,n&&s.jsxs("span",{className:"mr-2 text-action-400 font-black",children:["(",n===!0?"!":n,")"]})]})]})),Iie=P.memo(({user:e,profile:t,view:r,onViewChange:a,onLogout:n,sidebarOpen:i,setSidebarOpen:l,t:c,tDynamic:u,remainingCredits:f,isRTL:p,isGuest:m,guestSettings:x,onGuestPageClick:v,collapsed:y,setCollapsed:b,hasPermission:S,isOwner:_})=>{const w=N=>_||e.role==="CUSTOMER"&&!e.parentId?!0:S?S(N):!1,E=p?"right-0":"left-0",O=p?i?"translate-x-0":"translate-x-full lg:translate-x-0":i?"translate-x-0":"-translate-x-full lg:translate-x-0",A=y?"w-20":"w-72",T=i?"pointer-events-auto":"pointer-events-none lg:pointer-events-auto";return s.jsxs("aside",{className:`fixed lg:static inset-y-0 ${E} ${A} bg-gradient-to-b from-slate-900 via-slate-900 to-brand-950 text-white transform transition-all duration-300 z-50 flex flex-col shadow-2xl lg:shadow-xl ${O} ${T}`,children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-brand-600/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 left-0 w-32 h-32 bg-action-500/10 rounded-full blur-3xl"})]}),s.jsx("div",{className:`relative p-4 ${y?"px-3":"p-5"} border-b border-white/10 flex items-center ${y?"justify-center":"justify-between"}`,children:y?s.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-brand-500 to-brand-700 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-500/30 ring-2 ring-white/20",children:s.jsx(ec,{size:24,strokeWidth:2.5})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-brand-500 to-brand-700 rounded-xl flex items-center justify-center text-white shadow-lg shadow-brand-500/30 ring-2 ring-white/20",children:s.jsx(ec,{size:24,strokeWidth:2.5})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-display font-black text-xl tracking-wide text-white",children:c("siteName")}),s.jsx("p",{className:"text-[10px] text-slate-400 font-bold tracking-widest uppercase mt-0.5",children:"B2B Wholesale"})]})]}),s.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-slate-400 hover:text-white p-2.5 -m-2 rounded-xl hover:bg-white/10 transition-all duration-200","data-testid":"button-close-sidebar","aria-label":"Close sidebar",children:s.jsx(ar,{size:22})})]})}),s.jsxs("button",{onClick:()=>b(!y),className:`hidden lg:flex absolute ${p?"-left-4":"-right-4"} top-20 w-8 h-8 bg-gradient-to-br from-brand-400 via-brand-500 to-brand-600 text-white rounded-full items-center justify-center transition-all duration-500 shadow-xl shadow-brand-500/50 z-50 ring-2 ring-white/30 hover:ring-white/50 hover:shadow-2xl hover:shadow-brand-400/60 hover:scale-110 active:scale-95 group`,"data-testid":"button-toggle-sidebar",title:y?c("sidebar.expand",""):c("sidebar.collapse",""),children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 animate-pulse opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(bi,{size:18,className:`transition-transform duration-500 ease-in-out ${y?p?"rotate-180":"rotate-0":p?"rotate-0":"rotate-180"}`})]}),y?s.jsxs("div",{className:"p-3 flex flex-col items-center relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-brand-500/30 to-brand-600/20 flex items-center justify-center text-brand-300 border border-brand-400/30 mb-3 shadow-inner",children:s.jsx(y0,{size:20,strokeWidth:2})}),s.jsx("div",{className:"bg-gradient-to-r from-brand-600/20 to-brand-500/10 border border-brand-400/30 rounded-lg p-2 text-center w-full",children:s.jsx("p",{className:"text-lg font-black text-white tabular-nums",children:e.searchLimit===0?"":f})})]}):s.jsx("div",{className:"p-4 relative",children:s.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-4 border border-white/10 shadow-inner",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-brand-500/30 to-brand-600/20 flex items-center justify-center text-brand-300 border border-brand-400/30 shrink-0 shadow-inner",children:s.jsx(y0,{size:22,strokeWidth:2})}),s.jsxs("div",{className:"overflow-hidden flex-1",children:[s.jsx("p",{className:"font-bold text-[15px] truncate text-white",children:e.name}),s.jsx("p",{className:"text-[11px] text-slate-400 truncate font-mono mt-0.5 bg-slate-800/50 px-2 py-0.5 rounded-md w-fit",children:e.clientId})]})]}),t&&s.jsxs("div",{className:"text-xs text-slate-300 bg-slate-800/50 p-3 rounded-xl border border-white/5 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{size:14,className:"text-brand-400"}),s.jsx("p",{className:"truncate font-bold",children:t.companyName})]}),s.jsx("p",{className:"text-[10px] text-brand-400 mt-1 mr-5",children:t.city})]}),s.jsxs("div",{className:"bg-gradient-to-r from-brand-600/20 to-brand-500/10 border border-brand-400/30 rounded-xl p-3.5 text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),s.jsx("p",{className:"text-[10px] text-brand-200 uppercase font-bold mb-1.5 tracking-wider relative z-10",children:c("sidebar.searchCredits")}),s.jsxs("div",{className:"flex items-center justify-center gap-2 relative z-10",children:[s.jsx(wa,{size:18,className:"text-brand-300"}),s.jsx("p",{className:"text-2xl font-black text-white tabular-nums",children:e.searchLimit===0?c("sidebar.unlimitedSearch"):f})]})]})]})}),s.jsxs("nav",{className:`flex-1 overflow-y-auto ${y?"px-2":"px-4"} py-2 custom-scrollbar relative`,children:[!y&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:c("sidebar.mainMenu")}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),s.jsx(qi,{icon:s.jsx(a8,{size:20}),label:u("sidebar.home",""),active:r==="HOME",onClick:()=>a("HOME"),collapsed:y}),s.jsx(qi,{icon:s.jsx(Na,{size:20}),label:u("sidebar.orders"," "),active:r==="ORDERS",onClick:()=>m?v():a("ORDERS"),badge:e.hasUnreadOrders?!0:void 0,collapsed:y}),s.jsx(qi,{icon:s.jsx(Ur,{size:20}),label:u("sidebar.quotes"," "),active:r==="QUOTE_REQUEST",onClick:()=>m?v():a("QUOTE_REQUEST"),badge:e.hasUnreadQuotes?!0:void 0,collapsed:y}),s.jsx(qi,{icon:s.jsx(fs,{size:20}),label:u("sidebar.import","  "),active:r==="IMPORT_CHINA",onClick:()=>m?v():a("IMPORT_CHINA"),collapsed:y}),w("cust_use_trader_tools")&&s.jsx(qi,{icon:s.jsx(mm,{size:20}),label:u("sidebar.traderTools"," "),active:r==="TRADER_TOOLS",onClick:()=>m?v():a("TRADER_TOOLS"),collapsed:y}),s.jsx(qi,{icon:s.jsx(Fd,{size:20}),label:u("sidebar.history"," "),active:r==="HISTORY",onClick:()=>m?v():a("HISTORY"),collapsed:y}),!y&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mt-6 mb-2",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:c("sidebar.management")}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),s.jsx(qi,{icon:s.jsx(ka,{size:20}),label:u("sidebar.organization"," "),active:r==="ORGANIZATION",onClick:()=>m?v():a("ORGANIZATION"),collapsed:y}),w("org_manage_team")&&s.jsx(qi,{icon:s.jsx(Xt,{size:20}),label:u("sidebar.teamManagement"," "),active:r==="TEAM_MANAGEMENT",onClick:()=>m?v():a("TEAM_MANAGEMENT"),collapsed:y}),!y&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mt-6 mb-2",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:c("sidebar.supportSection")}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),s.jsx(qi,{icon:s.jsx(Fp,{size:20}),label:u("sidebar.support","  / "),active:r==="ABOUT",onClick:()=>m?v():a("ABOUT"),collapsed:y})]}),s.jsx("div",{className:`${y?"p-2":"p-4"} border-t border-white/10 relative`,children:s.jsxs("button",{onClick:n,className:`w-full flex items-center ${y?"justify-center":"gap-3"} px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-all duration-300 group relative border border-transparent hover:border-red-500/30`,title:y?c("logout"):void 0,children:[s.jsx(s8,{size:20,className:"transition-transform duration-300 group-hover:scale-110"}),!y&&s.jsx("span",{className:"text-sm font-bold tracking-wide",children:c("logout")}),y&&s.jsx("div",{className:"absolute left-full ml-3 px-4 py-2.5 bg-slate-800/95 backdrop-blur-sm text-red-300 text-sm font-bold rounded-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50 shadow-2xl border border-red-500/30",children:c("logout")})]})})]})}),Mie=P.memo(({view:e,setSidebarOpen:t,user:r,profile:a,tDynamic:n,t:i,isRTL:l,cart:c,cartTotal:u,onRemoveItem:f,onSubmitOrder:p,showCartDropdown:m,setShowCartDropdown:x,onCartIconMount:v})=>s.jsxs("header",{className:"h-16 md:h-20 bg-white border-b border-slate-200 flex items-center justify-between px-4 md:px-6 lg:px-8 flex-shrink-0 z-30 shadow-sm gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[s.jsx("button",{onClick:()=>t(!0),className:"lg:hidden text-slate-600 p-2 hover:bg-slate-100 rounded-lg shrink-0","data-testid":"button-open-sidebar","aria-label":"Open sidebar",children:s.jsx(Eee,{size:22})}),s.jsxs("h2",{className:"text-base md:text-xl lg:text-2xl font-bold md:font-black text-slate-800 tracking-tight truncate",children:[e==="HOME"&&n("sidebar.home",""),e==="ORDERS"&&n("sidebar.orders"," "),e==="QUOTE_REQUEST"&&n("sidebar.quotes"," "),e==="IMPORT_CHINA"&&n("sidebar.import","  "),e==="TRADER_TOOLS"&&n("sidebar.traderTools"," "),e==="ORGANIZATION"&&n("sidebar.organization"," "),e==="TEAM_MANAGEMENT"&&n("sidebar.teamManagement"," "),e==="HISTORY"&&n("sidebar.history"," "),e==="ABOUT"&&n("sidebar.support","  / ")]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[s.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-xl text-xs md:text-sm font-bold text-slate-700",children:[s.jsx(Xr,{size:16}),s.jsx("span",{children:Dr(new Date().toISOString())})]}),s.jsx(Die,{cartCount:(c==null?void 0:c.length)||0,cartTotal:u||0,cart:c||[],onRemoveItem:f,onSubmitOrder:p,showDropdown:m,setShowDropdown:x,onCartIconMount:v,t:i,isRTL:l}),s.jsx(cie,{user:r,customerType:a==null?void 0:a.customerType}),s.jsx(zne,{})]})]})),Lie=({user:e,profile:t,onLogout:r,onRefreshUser:a})=>{const{hasPermission:n,loadOrganization:i,currentOrganization:l,isOwner:c}=Oie(),[u,f]=P.useState("HOME"),[p,m]=P.useState([]),[x,v]=P.useState([]),[y,b]=P.useState([]),[S,_]=P.useState(null),[w,E]=P.useState([]),[O,A]=P.useState(""),[T,N]=P.useState(""),[D,L]=P.useState(!1),[M,k]=P.useState(new Set),[I,V]=P.useState(!1),[q,z]=P.useState(null),[R,W]=P.useState([]),[X,B]=P.useState(!1),ee=kie(768),[Y,F]=P.useState(()=>localStorage.getItem("sinicar_sidebar_collapsed")==="true"),K=P.useCallback(Pe=>{F(Pe),localStorage.setItem("sinicar_sidebar_collapsed",String(Pe))},[]),[J,H]=P.useState(null),[ce,le]=P.useState(!1),[xe,se]=P.useState(null),[fe,we]=P.useState(1),[G,He]=P.useState(!1),[Ue,he]=P.useState([]),[Me,ye]=P.useState(null),[$e,rt]=P.useState(!1),it=P.useRef(null),[ve,tt]=P.useState(null),wt=P.useCallback(Pe=>{ye(Pe)},[]),[Nt,bt]=P.useState(!1),ft=e.isGuest===!0,[kt,Yt]=P.useState(!e.isGuest),Xe=S==null?void 0:S.guestSettings,ct=()=>{if(!ft)return"";switch((Xe==null?void 0:Xe.blurIntensity)||"medium"){case"light":return"blur-sm";case"medium":return"blur-md";case"heavy":return"blur-lg";default:return"blur-md"}},$t=Pe=>ft?{businessTypes:Xe==null?void 0:Xe.showBusinessTypes,mainServices:Xe==null?void 0:Xe.showMainServices,howItWorks:Xe==null?void 0:Xe.showHowItWorks,whySiniCar:Xe==null?void 0:Xe.showWhySiniCar,cart:Xe==null?void 0:Xe.showCart,marketingCards:Xe==null?void 0:Xe.showMarketingCards}[Pe]!==!1:!0,Er=ft&&(Xe==null?void 0:Xe.showBlurOverlay)!==!1,{t:Se,tDynamic:ur,dir:ma}=Ea(),{addToast:Zt}=qt();P.useEffect(()=>{(async()=>{const[mt,Vt,$r,Q]=await Promise.all([de.getOrders(e.id),de.getAllQuoteRequests(),de.searchProducts(""),de.getSettings()]);v(mt),b(Vt.filter(ie=>ie.userId===e.id)),E($r),_(Q),W(de.getSearchHistoryForUser(e.id))})()},[e.id,u]),P.useEffect(()=>{const Pe=e.role==="CUSTOMER_STAFF"&&e.parentId?e.parentId:e.id;i(Pe,"customer")},[e.id,e.role,e.parentId,i]),P.useEffect(()=>{de.recordActivity({userId:e.id,userName:e.name,role:e.role,eventType:"PAGE_VIEW",page:u,description:`${Se("customerDashboard.pageView")} ${u}`})},[u,e.id,e.name,e.role]),P.useEffect(()=>{de.recordHeartbeat(e.id);const Pe=setInterval(()=>{de.recordHeartbeat(e.id)},6e4);return()=>clearInterval(Pe)},[e.id]),P.useEffect(()=>{const Pe=setTimeout(()=>{N(O)},300);return()=>clearTimeout(Pe)},[O]);const ps=P.useCallback(async Pe=>{if(f(Pe),Pe==="ORDERS"&&e.hasUnreadOrders)try{await de.markOrdersAsReadForUser(e.id),a()}catch(mt){console.error("Failed to mark orders as read",mt)}if(Pe==="QUOTE_REQUEST"&&e.hasUnreadQuotes)try{await de.markQuotesAsReadForUser(e.id),a()}catch(mt){console.error("Failed to mark quotes as read",mt)}},[e.hasUnreadOrders,e.hasUnreadQuotes,e.id,a]),[Oe,at]=P.useState(null),It=P.useMemo(()=>{if(T.trim().length<2)return[];const Pe=hie(w);return lie(T,Pe).slice(0,8)},[T,w]);P.useEffect(()=>{O.trim().length<2&&(z(null),at(null))},[O]),P.useEffect(()=>{T.trim().length>=2?L(!0):L(!1)},[T]),P.useEffect(()=>{if(D&&it.current&&!ee){const Pe=it.current.getBoundingClientRect();tt({top:Pe.bottom+8,left:Pe.left,width:Pe.width})}},[D,ee]);const nr=async Pe=>{if(Pe.preventDefault(),ft){bt(!0);return}const mt=O.trim();if(mt.length<2){Zt(Se("customerDashboard.enterValidPartNumber"),"warning");return}V(!0),z(null);try{const Vt=bie(e),$r=await pie(mt,Vt,"heroSearch");z($r),$r.type==="NOT_FOUND"?Zt($r.message,"info"):$r.type==="FOUND_OUT_OF_STOCK"&&Zt($r.message,"warning"),L(!0)}catch(Vt){console.error("Search error:",Vt),Zt(Se("customerDashboard.unexpectedError"),"error")}finally{V(!1)}},qr=async(Pe,mt)=>{if(Pe.stopPropagation(),ft){bt(!0);return}if(we(1),M.has(mt.id)||de.hasRecentPriceView(e.id,mt.id)){k(Vt=>new Set(Vt).add(mt.id)),se(mt);return}He(!0);try{await de.incrementSearchUsage(e.id),await de.logPriceView(e,mt),k(Vt=>new Set(Vt).add(mt.id)),se(mt),Zt(Se("toast.creditDeducted","     "),"info"),a()}catch(Vt){Vt.message==="NO_POINTS_LEFT"?Zt(Se("toast.noCreditsLeft","       .    ."),"error"):(console.error(Vt),Zt(Se("toast.priceRevealError","    "),"error"))}finally{He(!1)}},$a=P.useCallback((Pe,mt,Vt)=>{if(!Me)return;let $r=window.innerWidth/2,Q=window.innerHeight/2;if(Vt){const te=Vt.getBoundingClientRect();$r=te.left+te.width/2,Q=te.top+te.height/2}const ie=Math.min(mt,5),re=[];for(let te=0;te<ie;te++)re.push({id:`${Pe.id}-${Date.now()}-${te}`,startX:$r+(Math.random()-.5)*40,startY:Q+(Math.random()-.5)*40,productName:Pe.name});re.forEach((te,ne)=>{setTimeout(()=>{he(oe=>[...oe,te]),setTimeout(()=>{he(oe=>oe.filter(Ee=>Ee.id!==te.id))},800)},ne*100)})},[Me]),Mn=(Pe,mt,Vt)=>{if(ft){bt(!0);return}const $r=p.find(Q=>Q.id===Pe.id);$a(Pe,mt,Vt),$r?H({product:Pe,quantity:mt}):(m([...p,{...Pe,quantity:mt}]),Zt(Se("toast.addedToCart","  "),"success"))},Zs=()=>{xe&&(Mn(xe,fe),se(null))},bl=()=>{if(!J)return;const{product:Pe,quantity:mt}=J;m(p.map(Vt=>Vt.id===Pe.id?{...Vt,quantity:Vt.quantity+mt}:Vt)),Zt(Se("toast.quantityUpdated","    "),"success"),H(null),se(null)},ue=Pe=>{m(p.filter(mt=>mt.id!==Pe))},vt=async()=>{if(p.length!==0)try{const Pe=p.reduce((mt,Vt)=>mt+Vt.price*Vt.quantity,0)*1.15;await de.createOrder({userId:e.id,items:p,totalAmount:Pe,branchId:e.branchId}),m([]),le(!0),setTimeout(()=>{le(!1)},3e3),de.getOrders(e.id).then(v)}catch{Zt(Se("customerDashboard.orderSubmitError"),"error")}},Rt=e.searchLimit===0?"":(e.searchLimit||50)-(e.searchUsed||0),Ht=p.reduce((Pe,mt)=>Pe+mt.price*mt.quantity,0),Ar=P.useCallback(()=>{if(Me){const Pe=Me.getBoundingClientRect();return{x:Pe.left+Pe.width/2,y:Pe.top+Pe.height/2}}return{x:window.innerWidth-100,y:50}},[Me]);return s.jsxs("div",{className:"flex h-screen bg-slate-100 font-sans overflow-hidden text-slate-800",dir:ma,children:[Ue.map(Pe=>{const mt=Ar();return s.jsx(Pie,{startX:Pe.startX,startY:Pe.startY,endX:mt.x,endY:mt.y,onComplete:()=>he(Vt=>Vt.filter($r=>$r.id!==Pe.id))},Pe.id)}),s.jsx(oie,{}),s.jsx(gr,{isOpen:Nt,onClose:()=>bt(!1),maxWidth:"max-w-lg",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 md:p-8 w-full mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-500 to-brand-700 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-200",children:s.jsx(ka,{size:40,className:"text-white"})}),s.jsx("h3",{className:"text-xl md:text-2xl font-black text-slate-800",children:Se("guestMode.restrictedTitle")}),s.jsx("p",{className:"text-brand-600 font-bold text-sm mt-1",children:Se("guestMode.restrictedSubtitle")})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[s.jsx("p",{className:"text-slate-600 font-bold text-sm mb-3 text-center",children:Se("guestMode.restrictedMessage")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2.5 rounded-lg border border-slate-200",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Na,{size:16,className:"text-blue-600"})}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:Se("guestMode.targetAudience.partsStores")})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2.5 rounded-lg border border-slate-200",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ys,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:Se("guestMode.targetAudience.insuranceCompanies")})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2.5 rounded-lg border border-slate-200",children:[s.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:s.jsx(io,{size:16,className:"text-amber-600"})}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:Se("guestMode.targetAudience.rentalCompanies")})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2.5 rounded-lg border border-slate-200",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Xt,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:Se("guestMode.targetAudience.salesReps")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-slate-800 font-bold text-sm text-center",children:Se("guestMode.benefitsTitle")}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-700 text-xs font-bold rounded-full border border-green-200",children:[s.jsx(dr,{size:12})," ",Se("guestMode.benefits.prices")]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 text-xs font-bold rounded-full border border-blue-200",children:[s.jsx(dr,{size:12})," ",Se("guestMode.benefits.catalog")]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-amber-50 text-amber-700 text-xs font-bold rounded-full border border-amber-200",children:[s.jsx(dr,{size:12})," ",Se("guestMode.benefits.orders")]}),s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-purple-50 text-purple-700 text-xs font-bold rounded-full border border-purple-200",children:[s.jsx(dr,{size:12})," ",Se("guestMode.benefits.support")]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-brand-50 to-blue-50 rounded-xl p-4 border border-brand-100 text-center",children:s.jsx("p",{className:"text-slate-700 font-bold text-sm leading-relaxed",children:Se("guestMode.callToAction")})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>{bt(!1),r()},className:"py-3 px-4 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-brand-200","data-testid":"button-guest-login",children:[s.jsx(y0,{size:18}),Se("guestMode.loginButton")]}),s.jsxs("button",{onClick:()=>{bt(!1),r()},className:"py-3 px-4 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-green-200","data-testid":"button-guest-request-account",children:[s.jsx(lr,{size:18}),Se("guestMode.requestAccountButton")]})]}),s.jsx("button",{onClick:()=>bt(!1),className:"w-full py-2.5 px-6 bg-slate-100 text-slate-500 rounded-xl font-medium hover:bg-slate-200 transition-colors text-sm","data-testid":"button-guest-cancel",children:Se("guestMode.browseOnly")})]})]})}),s.jsx("div",{className:`fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm transition-opacity duration-300 ${X?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>B(!1),"aria-hidden":!X}),s.jsx(Iie,{user:e,profile:t,view:u,onViewChange:ps,onLogout:r,sidebarOpen:X,setSidebarOpen:B,t:Se,tDynamic:ur,remainingCredits:Rt,isRTL:ma==="rtl",isGuest:ft,guestSettings:S==null?void 0:S.guestSettings,onGuestPageClick:()=>bt(!0),collapsed:Y,setCollapsed:K,hasPermission:n,isOwner:c}),s.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative bg-slate-100",children:[s.jsx(Rie,{}),!ft&&s.jsx(die,{userId:e.id,customerType:t==null?void 0:t.businessType}),s.jsx(Mie,{view:u,setSidebarOpen:B,user:e,profile:t,tDynamic:ur,t:Se,isRTL:ma==="rtl",cart:p,cartTotal:Ht,onRemoveItem:ue,onSubmitOrder:vt,showCartDropdown:$e,setShowCartDropdown:rt,onCartIconMount:wt}),s.jsx("div",{className:"flex-1 overflow-y-auto scroll-smooth",children:s.jsxs("div",{className:"w-full max-w-[1600px] mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 h-full",children:[u==="HOME"&&s.jsxs("div",{className:"animate-fade-in flex flex-col gap-8",children:[s.jsxs("div",{className:"relative w-full rounded-3xl bg-gradient-to-r from-[#081a33] to-[#102b57] px-4 py-6 sm:px-6 sm:py-8 md:px-10 md:py-12 text-center text-white shadow-xl isolate",children:[s.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden rounded-3xl",children:[s.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[500px] h-[500px] bg-brand-600 rounded-full opacity-20 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[400px] h-[400px] bg-blue-500 rounded-full opacity-10 blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-4xl mx-auto space-y-6",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold leading-tight tracking-tight text-white font-display",children:Se("customerDashboard.heroTitle")}),s.jsx("p",{className:"text-slate-200 text-sm md:text-lg font-medium max-w-2xl mx-auto",children:Se("customerDashboard.heroSubtitle")}),s.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mt-4 sm:mt-6 md:mt-10 z-[200]",children:[s.jsx("div",{className:"flex justify-center md:justify-end mb-3",children:s.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-emerald-500/10 px-3 md:px-4 py-1 text-[10px] md:text-xs font-bold text-emerald-300 border border-emerald-500/40 backdrop-blur-sm shadow-sm",children:[s.jsx(dr,{size:10,className:"md:w-3 md:h-3"}),s.jsx("span",{className:"truncate max-w-[200px] md:max-w-none",children:Se("customerDashboard.searchTip")})]})}),ft&&(Xe==null?void 0:Xe.allowSearch)===!1?s.jsxs("button",{onClick:()=>bt(!0),className:"w-full h-12 md:h-16 px-4 md:px-6 bg-white/90 text-slate-500 rounded-full shadow-2xl shadow-slate-900/30 flex items-center justify-center gap-2 md:gap-3 cursor-pointer hover:bg-white transition-colors","data-testid":"button-guest-search-disabled",children:[s.jsx(Yr,{size:18,className:"text-brand-600 shrink-0"}),s.jsx("span",{className:"font-bold text-sm md:text-base truncate",children:Se("guestMode.searchDisabled")})]}):s.jsxs("form",{onSubmit:nr,className:"relative group w-full",children:[s.jsx("input",{ref:it,type:"text",className:"w-full h-12 md:h-16 pr-14 md:pr-16 pl-4 md:pl-6 bg-white text-slate-900 rounded-full shadow-2xl shadow-slate-900/30 focus:ring-4 focus:ring-brand-500/30 border-0 text-sm md:text-lg font-bold placeholder:text-slate-400 transition-all outline-none",placeholder:Se("customerDashboard.searchPlaceholder"),value:O,onChange:Pe=>A(Pe.target.value),"data-testid":"input-hero-search"}),s.jsx("button",{type:"submit",className:"absolute right-1.5 md:right-2 top-1.5 md:top-2 bottom-1.5 md:bottom-2 w-10 md:w-14 h-9 md:h-12 bg-brand-600 hover:bg-brand-700 text-white rounded-full flex items-center justify-center transition-colors shadow-lg","data-testid":"button-hero-search",children:s.jsx(Ur,{size:18,className:"md:w-[22px] md:h-[22px]"})})]}),D&&typeof document<"u"&&Wne.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 transition-opacity ${ee?"bg-black/60":"bg-black/20"}`,style:{zIndex:99998},onClick:()=>{L(!1),z(null)},"data-testid":"search-backdrop"}),s.jsxs("div",{className:`fixed bg-white shadow-2xl text-right overflow-hidden flex flex-col animate-slide-up ${ee?"inset-x-0 bottom-0 rounded-t-3xl border-t-2 border-slate-200 max-h-[80vh]":"rounded-2xl border border-slate-200 max-h-96"}`,style:{zIndex:99999,...!ee&&ve?{top:ve.top,left:ve.left,width:ve.width}:{}},"data-testid":"search-results-container",children:[ee?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-200 bg-gradient-to-b from-slate-100 to-white",children:[s.jsx("button",{onClick:()=>{L(!1),z(null)},className:"p-2.5 bg-slate-200 rounded-full text-slate-600 hover:bg-slate-300 active:scale-95 transition-all","data-testid":"button-close-search",children:s.jsx(ar,{size:20})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-slate-800 text-base",children:Se("customerDashboard.searchResults"," ")}),s.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center",children:s.jsx(Ur,{size:16,className:"text-brand-600"})})]})]}),s.jsx("div",{className:"flex justify-center py-1 bg-white",children:s.jsx("div",{className:"w-10 h-1 bg-slate-300 rounded-full"})})]}):s.jsx("div",{className:"absolute top-2 left-2 z-20",children:s.jsx("button",{onClick:()=>{L(!1),z(null)},className:"p-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-500 hover:text-slate-700 transition-all","data-testid":"button-close-search-desktop",children:s.jsx(ar,{size:16})})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:I?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(oo,{size:32,className:"animate-spin text-brand-600 mx-auto mb-3"}),s.jsx("p",{className:"text-sm font-bold text-slate-600",children:Se("customerDashboard.searching")})]}):(q==null?void 0:q.type)==="FOUND_OUT_OF_STOCK"&&q.product?s.jsxs("div",{className:"p-5",children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[s.jsx(Lee,{size:20}),s.jsx("span",{className:"font-bold",children:Se("customerDashboard.outOfStockMessage")})]})}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("div",{className:"p-3 bg-slate-200 rounded-xl text-slate-600",children:s.jsx(ec,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-slate-800 text-base",children:q.product.name}),s.jsx("p",{className:"text-sm text-slate-500 font-mono mt-1",children:s.jsx("span",{className:"bg-white px-2 py-0.5 rounded border border-slate-200 font-bold",children:q.product.partNumber})})]}),s.jsx("span",{className:"text-xs font-bold px-3 py-1.5 rounded-full bg-red-50 text-red-700 border border-red-200",children:Se("customerDashboard.outOfStock")})]})]}):(q==null?void 0:q.type)==="NOT_FOUND"?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-50 text-amber-500 rounded-full mb-4",children:s.jsx(sa,{size:32})}),s.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2",children:Se("customerDashboard.partNotAvailable")}),s.jsxs("p",{className:"text-sm text-slate-600",children:[Se("customerDashboard.noResultsFor")," ",s.jsxs("span",{className:"font-bold text-slate-800 bg-slate-100 px-2 py-0.5 rounded",children:['"',O,'"']})]})]}):It.length>0?s.jsxs("div",{className:"relative",children:[ft&&(Xe==null?void 0:Xe.showSearchResults)!==!1&&Er&&s.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm rounded-xl",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yr,{size:28,className:"text-brand-600"})}),s.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:Se("guestMode.restrictedTitle")}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:Se("guestMode.blurredResultsNote")}),s.jsxs("button",{onClick:()=>bt(!0),className:"px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 transition-colors flex items-center gap-2 mx-auto","data-testid":"button-guest-overlay-login",children:[s.jsx(y0,{size:16}),Se("guestMode.loginButton")]})]})}),s.jsx("div",{className:`divide-y divide-slate-100 ${ft&&(Xe==null?void 0:Xe.showSearchResults)!==!1?`${ct()} pointer-events-none select-none`:""}`,children:It.map(Pe=>{const mt=M.has(Pe.id)||de.hasRecentPriceView(e.id,Pe.id),Vt=Pe.qtyTotal??Pe.stock??0;de.getMinVisibleQty();const $r=Vt<=0;return s.jsxs("div",{className:"w-full text-right p-3 md:p-4 hover:bg-brand-50 flex flex-col md:flex-row md:items-center md:justify-between group transition-colors cursor-default gap-2 md:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"p-2 md:p-2.5 bg-slate-100 rounded-xl text-slate-600 group-hover:bg-white group-hover:text-brand-600 border border-slate-200 shrink-0",children:s.jsx(ec,{size:18,className:"md:w-5 md:h-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-bold text-slate-800 text-sm md:text-base group-hover:text-brand-700 truncate",children:Pe.name}),s.jsxs("p",{className:"text-xs md:text-sm text-slate-500 font-mono mt-0.5 flex flex-wrap items-center gap-1 md:gap-2",children:[s.jsx("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded border border-slate-200 font-bold",children:Pe.partNumber}),s.jsx("span",{className:"text-slate-400 hidden md:inline",children:"|"}),s.jsx("span",{className:"text-xs",children:Pe.brand})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-[10px] md:text-xs font-bold px-2.5 py-1 rounded-full border ${$r?"bg-red-50 text-red-700 border-red-200":"bg-green-50 text-green-700 border-green-200"}`,children:Se($r?"customerDashboard.outOfStock":"customerDashboard.available")}),$r?s.jsx("span",{className:"text-xs text-slate-400 font-bold",children:Se("customerDashboard.priceNotAvailable")}):mt?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex flex-col items-end px-2",children:s.jsxs("span",{className:"text-sm font-black text-slate-900",children:[Pe.priceWholesale||Pe.price," ",Se("customerDashboard.sar")]})}),s.jsx("button",{onClick:Q=>qr(Q,Pe),className:"bg-brand-600 text-white p-2 rounded-lg hover:bg-brand-700 shadow-sm",title:Se("customerDashboard.addToCart"),children:s.jsx(qp,{size:16})})]}):s.jsxs("button",{onClick:Q=>qr(Q,Pe),className:"text-xs font-bold bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded-lg hover:bg-amber-100 transition-colors flex items-center gap-1",title:Se("customerDashboard.showPrice"),children:[s.jsx(wa,{size:14})," ",s.jsx("span",{className:"hidden sm:inline",children:Se("customerDashboard.showPrice")})]})]})]},Pe.id)})})]}):T.trim().length>=2?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 text-slate-400 rounded-full mb-4",children:s.jsx(Ur,{size:32})}),s.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-2",children:Se("customerDashboard.noResults")}),s.jsxs("p",{className:"text-sm text-slate-600",children:[Se("customerDashboard.pressSearch")," ",s.jsxs("span",{className:"font-bold text-slate-800 bg-slate-100 px-2 py-0.5 rounded",children:['"',O,'"']})]})]}):null}),(It.length>0||(q==null?void 0:q.type)==="FOUND_AVAILABLE")&&s.jsx("div",{className:"bg-slate-50 p-2.5 text-center text-xs font-bold text-slate-500 border-t border-slate-100 shrink-0",children:Se("customerDashboard.addToCartTip")})]})]}),document.body)]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8 items-start",children:[s.jsxs("div",{className:"xl:col-span-3 space-y-12",children:[$t("businessTypes")&&s.jsxs("section",{className:"relative",children:[Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/70 backdrop-blur-sm rounded-3xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-4 p-8 bg-white rounded-2xl shadow-2xl border border-brand-100 hover:shadow-3xl transition-all transform hover:scale-105","data-testid":"button-guest-section-cta",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-700 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Yr,{size:28,className:"text-white"})}),s.jsx("span",{className:"font-bold text-slate-800 text-lg",children:Se("guestMode.restrictedTitle")}),s.jsx("span",{className:"text-sm text-slate-500",children:Se("guestMode.loginToAccess")})]})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 sm:mb-8",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-brand-500 to-brand-700 rounded-xl flex items-center justify-center shadow-lg shadow-brand-200",children:s.jsx(Xt,{className:"text-white",size:22})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:Se("customerDashboard.whoWeServe")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:Se("customerDashboard.whoWeServeSubtitle","    ")})]})]}),s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 ${ft?`${ct()} pointer-events-none select-none`:""}`,children:[s.jsx(Qh,{icon:s.jsx(ka,{size:26}),title:Se("customerDashboard.partsStores"),desc:Se("customerDashboard.partsStoresDesc"),colorClass:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",iconBgClass:"bg-blue-500"}),s.jsx(Qh,{icon:s.jsx(Ys,{size:26}),title:Se("customerDashboard.insuranceCompanies"),desc:Se("customerDashboard.insuranceDesc"),colorClass:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",iconBgClass:"bg-emerald-500"}),s.jsx(Qh,{icon:s.jsx(io,{size:26}),title:Se("customerDashboard.rentalCompanies"),desc:Se("customerDashboard.rentalDesc"),colorClass:"bg-gradient-to-br from-amber-500 to-orange-500 text-white",iconBgClass:"bg-amber-500"}),s.jsx(Qh,{icon:s.jsx(p0,{size:26}),title:Se("customerDashboard.salesReps"),desc:Se("customerDashboard.salesRepsDesc"),colorClass:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",iconBgClass:"bg-purple-500"})]})]}),$t("mainServices")&&s.jsxs("section",{className:"relative",children:[Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/70 backdrop-blur-sm rounded-3xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-4 p-8 bg-white rounded-2xl shadow-2xl border border-brand-100 hover:shadow-3xl transition-all transform hover:scale-105","data-testid":"button-guest-services-cta",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-700 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Yr,{size:28,className:"text-white"})}),s.jsx("span",{className:"font-bold text-slate-800 text-lg",children:Se("guestMode.restrictedTitle")}),s.jsx("span",{className:"text-sm text-slate-500",children:Se("guestMode.loginToAccess")})]})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 sm:mb-8",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-slate-700 to-slate-900 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(p0,{className:"text-white",size:22})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:Se("customerDashboard.mainServices")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:Se("customerDashboard.mainServicesSubtitle","   ")})]})]}),s.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5 ${ft?`${ct()} pointer-events-none select-none`:""}`,children:[s.jsxs("div",{onClick:()=>ft?bt(!0):ps("QUOTE_REQUEST"),className:"group relative bg-white rounded-2xl border border-slate-200/80 p-5 sm:p-6 cursor-pointer transition-all duration-300 hover:shadow-xl hover:border-blue-300 hover:-translate-y-1 overflow-hidden","data-testid":"card-quote-request",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-blue-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300",children:s.jsx(ll,{size:24,className:"sm:w-7 sm:h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-base sm:text-lg mb-1.5 group-hover:text-blue-700 transition-colors",children:Se("customerDashboard.quoteRequests")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:Se("customerDashboard.quoteRequestsDesc")})]})]})]}),s.jsxs("div",{onClick:()=>ft?bt(!0):ps("IMPORT_CHINA"),className:"group relative bg-white rounded-2xl border border-slate-200/80 p-5 sm:p-6 cursor-pointer transition-all duration-300 hover:shadow-xl hover:border-emerald-300 hover:-translate-y-1 overflow-hidden","data-testid":"card-import-china",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-emerald-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center shrink-0 group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300",children:s.jsx(fs,{size:24,className:"sm:w-7 sm:h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-base sm:text-lg mb-1.5 group-hover:text-emerald-700 transition-colors",children:Se("customerDashboard.importFromChina")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:Se("customerDashboard.importFromChinaDesc")})]})]})]}),s.jsxs("div",{onClick:()=>ft?bt(!0):ps("ORDERS"),className:"group relative bg-white rounded-2xl border border-slate-200/80 p-5 sm:p-6 cursor-pointer transition-all duration-300 hover:shadow-xl hover:border-amber-300 hover:-translate-y-1 overflow-hidden","data-testid":"card-orders",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-500 to-orange-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center shrink-0 group-hover:bg-amber-500 group-hover:text-white transition-colors duration-300",children:s.jsx(Na,{size:24,className:"sm:w-7 sm:h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-base sm:text-lg mb-1.5 group-hover:text-amber-700 transition-colors",children:Se("customerDashboard.wholesaleOrders")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:Se("customerDashboard.wholesaleOrdersDesc")})]})]})]}),s.jsxs("div",{onClick:()=>ft?bt(!0):ps("ORGANIZATION"),className:"group relative bg-white rounded-2xl border border-slate-200/80 p-5 sm:p-6 cursor-pointer transition-all duration-300 hover:shadow-xl hover:border-purple-300 hover:-translate-y-1 overflow-hidden","data-testid":"card-organization",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-purple-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center shrink-0 group-hover:bg-purple-600 group-hover:text-white transition-colors duration-300",children:s.jsx(Xt,{size:24,className:"sm:w-7 sm:h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-base sm:text-lg mb-1.5 group-hover:text-purple-700 transition-colors",children:Se("customerDashboard.staffBranches")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 leading-relaxed",children:Se("customerDashboard.staffBranchesDesc")})]})]})]})]})]}),$t("howItWorks")&&s.jsxs("section",{className:`bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl p-6 sm:p-8 lg:p-10 shadow-xl relative overflow-hidden ${ft?"select-none":""}`,children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-500 rounded-full -mr-48 -mt-48 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-blue-500 rounded-full -ml-36 -mb-36 blur-3xl"})]}),Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm rounded-3xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-4 p-8 bg-white rounded-2xl shadow-2xl border border-brand-100 hover:shadow-3xl transition-all transform hover:scale-105","data-testid":"button-guest-howitworks-cta",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-700 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Yr,{size:28,className:"text-white"})}),s.jsx("span",{className:"font-bold text-slate-800 text-lg",children:Se("guestMode.restrictedTitle")}),s.jsx("span",{className:"text-sm text-slate-500",children:Se("guestMode.loginToAccess")})]})}),s.jsxs("div",{className:"relative z-10 flex items-center gap-3 mb-8 sm:mb-10",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-brand-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-600/30",children:s.jsx(uc,{className:"text-white",size:22})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:Se("customerDashboard.howItWorks")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-400 font-medium",children:Se("customerDashboard.howItWorksSubtitle","   ")})]})]}),s.jsxs("div",{className:`relative z-10 grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 ${ft?ct():""}`,children:[s.jsx("div",{className:"hidden lg:block absolute top-16 left-[15%] right-[15%] h-0.5 bg-gradient-to-r from-brand-600/50 via-brand-500/50 to-brand-600/50"}),[{icon:s.jsx(Xt,{size:28}),step:1,title:Se("customerDashboard.step1Title"),desc:Se("customerDashboard.step1Desc"),color:"from-blue-500 to-blue-600"},{icon:s.jsx(Ys,{size:28}),step:2,title:Se("customerDashboard.step2Title"),desc:Se("customerDashboard.step2Desc"),color:"from-emerald-500 to-emerald-600"},{icon:s.jsx(Ur,{size:28}),step:3,title:Se("customerDashboard.step3Title"),desc:Se("customerDashboard.step3Desc"),color:"from-amber-500 to-orange-500"},{icon:s.jsx(rl,{size:28}),step:4,title:Se("customerDashboard.step4Title"),desc:Se("customerDashboard.step4Desc"),color:"from-purple-500 to-purple-600"}].map((Pe,mt)=>s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center group",children:[s.jsxs("div",{className:`w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br ${Pe.color} rounded-2xl flex items-center justify-center text-white mb-4 shadow-lg transform transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3`,children:[Pe.icon,s.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 sm:w-7 sm:h-7 bg-white text-slate-800 rounded-full flex items-center justify-center text-xs sm:text-sm font-black shadow-md",children:Pe.step})]}),s.jsx("h4",{className:"font-bold text-white text-sm sm:text-base mb-1.5 sm:mb-2",children:Pe.title}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-400 leading-relaxed",children:Pe.desc})]},mt))]})]}),$t("whySiniCar")&&s.jsxs("section",{className:`relative ${ft?`${ct()} select-none`:""}`,children:[Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/70 backdrop-blur-sm rounded-3xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-4 p-8 bg-white rounded-2xl shadow-2xl border border-brand-100 hover:shadow-3xl transition-all transform hover:scale-105","data-testid":"button-guest-whysinicar-cta",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-700 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Yr,{size:28,className:"text-white"})}),s.jsx("span",{className:"font-bold text-slate-800 text-lg",children:Se("guestMode.restrictedTitle")}),s.jsx("span",{className:"text-sm text-slate-500",children:Se("guestMode.loginToAccess")})]})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 sm:mb-8",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-brand-500 to-brand-700 rounded-xl flex items-center justify-center shadow-lg shadow-brand-200",children:s.jsx(dr,{className:"text-white",size:22})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:(S==null?void 0:S.whySiniCarTitle)||Se("customerDashboard.whySiniCar")}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:Se("customerDashboard.whySiniCarSubtitle","   ")})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5",children:((S==null?void 0:S.whySiniCarFeatures)||[{id:"1",title:Se("customerDashboard.expertiseTitle"),description:Se("customerDashboard.expertiseDesc"),icon:"box",iconColor:"text-cyan-400",bgColor:"from-cyan-500 to-cyan-600"},{id:"2",title:Se("customerDashboard.techTitle"),description:Se("customerDashboard.techDesc"),icon:"chart",iconColor:"text-emerald-400",bgColor:"from-emerald-500 to-emerald-600"},{id:"3",title:Se("customerDashboard.globalTitle"),description:Se("customerDashboard.globalDesc"),icon:"anchor",iconColor:"text-amber-400",bgColor:"from-amber-500 to-orange-500"},{id:"4",title:Se("customerDashboard.supportTitle"),description:Se("customerDashboard.supportDesc"),icon:"headphones",iconColor:"text-purple-400",bgColor:"from-purple-500 to-purple-600"}]).map((Pe,mt)=>s.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800 to-slate-900 text-white p-5 sm:p-6 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:-translate-y-1",children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${Pe.bgColor||"from-brand-500 to-brand-600"} opacity-20 rounded-full -mr-16 -mt-16 transition-transform duration-500 group-hover:scale-150`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:`w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br ${Pe.bgColor||"from-brand-500 to-brand-600"} rounded-xl flex items-center justify-center mb-4 shadow-lg transform transition-transform duration-300 group-hover:scale-110`,children:[Pe.icon==="box"&&s.jsx(ec,{size:24,className:"text-white"}),Pe.icon==="chart"&&s.jsx(um,{size:24,className:"text-white"}),Pe.icon==="anchor"&&s.jsx(ZM,{size:24,className:"text-white"}),Pe.icon==="headphones"&&s.jsx(Fp,{size:24,className:"text-white"}),Pe.icon==="truck"&&s.jsx(rl,{size:24,className:"text-white"}),Pe.icon==="shield"&&s.jsx(Ys,{size:24,className:"text-white"}),Pe.icon==="globe"&&s.jsx(fs,{size:24,className:"text-white"}),Pe.icon==="star"&&s.jsx(uc,{size:24,className:"text-white"}),Pe.icon==="clock"&&s.jsx(Xr,{size:24,className:"text-white"}),Pe.icon==="award"&&s.jsx(Gr,{size:24,className:"text-white"})]}),s.jsx("h4",{className:"font-bold text-base sm:text-lg mb-2 text-white",children:Pe.title}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-300 leading-relaxed",children:Pe.description})]})]},Pe.id))})]})]}),s.jsxs("div",{className:"xl:col-span-1 space-y-6 sticky top-6",children:[$t("cart")&&s.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col relative ${ft?`${ct()} select-none`:""}`,children:[Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/60 backdrop-blur-[2px] rounded-2xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-2 p-4 bg-white/90 rounded-xl shadow-lg border border-brand-100 hover:shadow-xl transition-all","data-testid":"button-guest-cart-cta",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center",children:s.jsx(Yr,{size:20,className:"text-brand-600"})}),s.jsx("span",{className:"font-bold text-slate-800 text-sm",children:Se("guestMode.restrictedTitle")})]})}),s.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-sm md:text-base flex items-center gap-2",children:[s.jsx(Tn,{className:"text-brand-600",size:20}),Se("customerDashboard.wholesaleCart")]}),s.jsx("span",{className:"bg-brand-600 text-white text-xs font-bold px-2.5 py-1 rounded-full",children:p.length})]}),s.jsx("div",{className:"max-h-[350px] overflow-y-auto p-3 space-y-3 custom-scrollbar min-h-[180px]",children:p.length>0?p.map(Pe=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-100 group hover:border-brand-200 transition-colors shadow-sm",children:[s.jsx("div",{className:"w-9 h-9 bg-slate-50 rounded-lg border border-slate-200 flex items-center justify-center text-slate-700 font-bold text-sm shrink-0",children:Pe.quantity}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-800 text-xs md:text-sm truncate",title:Pe.name,children:Pe.name}),s.jsx("p",{className:"text-[11px] text-slate-500 font-mono truncate font-semibold mt-0.5",children:Pe.partNumber})]}),s.jsx("button",{onClick:()=>ue(Pe.id),className:"text-slate-300 hover:text-red-500 p-1.5 rounded hover:bg-red-50 transition-colors",children:s.jsx(Wt,{size:16})})]},Pe.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10 text-slate-400",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-3",children:s.jsx(Tn,{size:32,className:"opacity-30"})}),s.jsx("p",{className:"text-sm font-bold text-slate-500",children:Se("customerDashboard.emptyCart")}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:Se("customerDashboard.useSearchToAdd")})]})}),p.length>0&&s.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-700",children:[s.jsx("span",{children:Se("customerDashboard.estimatedTotal")}),s.jsxs("span",{className:"font-black text-slate-900",children:[Ht.toLocaleString()," ",Se("customerDashboard.sar")]})]}),s.jsxs("button",{onClick:vt,className:"w-full py-3 bg-brand-600 text-white rounded-xl font-bold text-sm hover:bg-brand-700 shadow-md shadow-brand-200 transition-all flex justify-center items-center gap-2",children:[s.jsx(dr,{size:18}),Se("customerDashboard.submitOrder")]})]})]}),$t("marketingCards")&&s.jsxs("div",{className:`space-y-4 relative ${ft?`${ct()} select-none`:""}`,children:[Er&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/60 backdrop-blur-[2px] rounded-2xl",children:s.jsxs("button",{onClick:()=>bt(!0),className:"flex flex-col items-center gap-2 p-4 bg-white/90 rounded-xl shadow-lg border border-brand-100 hover:shadow-xl transition-all","data-testid":"button-guest-marketing-cta",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center",children:s.jsx(Yr,{size:20,className:"text-brand-600"})}),s.jsx("span",{className:"font-bold text-slate-800 text-sm",children:Se("guestMode.restrictedTitle")})]})}),s.jsx(z4,{icon:s.jsx(rl,{className:"text-blue-600",size:24}),title:Se("customerDashboard.fastShipping"),desc:Se("customerDashboard.fastShippingDesc")}),s.jsx(z4,{icon:s.jsx(Fp,{className:"text-purple-600",size:24}),title:Se("customerDashboard.techSupport"),desc:Se("customerDashboard.techSupportDesc")})]})]})]})]}),u==="ORDERS"&&s.jsx(Qne,{orders:x,quoteRequests:y}),u==="QUOTE_REQUEST"&&s.jsx(Jne,{user:e,onSuccess:()=>{}}),u==="IMPORT_CHINA"&&s.jsx(aie,{user:e,userProfile:t}),u==="TRADER_TOOLS"&&s.jsx(Eie,{user:e,profile:t}),u==="ORGANIZATION"&&s.jsx(eie,{user:e,mainProfileUserId:e.role==="CUSTOMER_STAFF"?e.parentId:e.id}),u==="TEAM_MANAGEMENT"&&t&&s.jsx(Cie,{organizationType:"customer",entityId:e.role==="CUSTOMER_STAFF"&&e.parentId?e.parentId:e.id,entityName:t.businessName||"",currentUserId:e.id}),u==="ABOUT"&&s.jsx(Zne,{}),u==="HISTORY"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Fd,{className:"text-brand-600"})," ",Se("customerDashboard.searchHistory")]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:R.length>0?s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-5",children:Se("customerDashboard.partNumber")}),s.jsx("th",{className:"p-5",children:Se("customerDashboard.productName")}),s.jsx("th",{className:"p-5",children:Se("customerDashboard.viewDate")}),s.jsx("th",{className:"p-5",children:Se("customerDashboard.recordedPrice")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(Pe=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-5 font-mono font-bold text-brand-600 text-base",children:Pe.partNumber}),s.jsx("td",{className:"p-5 font-bold text-slate-800",children:Pe.productName}),s.jsx("td",{className:"p-5 text-slate-600 font-medium",children:Dr(Pe.viewedAt)}),s.jsxs("td",{className:"p-5 font-black text-slate-900",children:[Pe.priceSnapshot," ",Se("customerDashboard.sar")]})]},Pe.id))})]}):s.jsxs("div",{className:"p-16 text-center text-slate-400",children:[s.jsx(Fd,{size:64,className:"mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"font-bold text-lg text-slate-500",children:Se("customerDashboard.noSearchHistory")})]})})]})]})})]}),s.jsx(gr,{isOpen:ce,onClose:()=>le(!1),title:Se("customerDashboard.orderSuccess.title"),maxWidth:"max-w-md",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600 shadow-sm animate-bounce",children:s.jsx(dr,{size:40,strokeWidth:3})}),s.jsx("p",{className:"text-slate-600 font-medium text-lg leading-relaxed mb-6",children:Se("customerDashboard.orderSuccess.message")}),s.jsx("button",{onClick:()=>le(!1),className:"w-full py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:Se("common.confirm")})]})}),xe&&s.jsx(gr,{isOpen:!!xe,onClose:()=>se(null),title:"",maxWidth:"max-w-sm",children:s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-50 via-white to-amber-50 opacity-60"}),s.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-brand-400/10 rounded-full blur-2xl -translate-x-1/2 -translate-y-1/2"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-amber-400/10 rounded-full blur-2xl translate-x-1/3 translate-y-1/3"}),s.jsxs("div",{className:"relative text-center p-4",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brand-100 to-brand-50 rounded-xl flex items-center justify-center text-brand-600 mx-auto mb-2 shadow-sm border border-brand-100/50 transform hover:scale-105 transition-transform",children:s.jsx(Na,{size:24})}),s.jsx("h3",{className:"text-base font-bold text-slate-800 leading-tight line-clamp-2",children:xe.name}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mt-1.5",children:[s.jsx("span",{className:"text-[11px] text-slate-500 font-mono font-bold bg-slate-100/80 px-1.5 py-0.5 rounded",children:xe.partNumber}),s.jsx("span",{className:"text-[11px] text-brand-700 font-bold uppercase px-1.5 py-0.5 rounded bg-brand-50 border border-brand-100/50",children:xe.brand})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-white to-slate-50/80 p-3 rounded-xl border border-slate-100 mb-3 shadow-sm backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-0.5",children:Se("customerDashboard.priceModal.wholesalePrice")}),s.jsxs("div",{className:"text-2xl font-black bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:[xe.price," ",s.jsx("span",{className:"text-sm text-slate-500 font-bold",children:Se("customerDashboard.sar")})]})]}),xe.stock>0?s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 border border-emerald-200/50",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("span",{className:"text-[10px] font-bold text-emerald-700",children:Se("customerDashboard.available")})]}):s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-red-50 border border-red-200/50",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),s.jsx("span",{className:"text-[10px] font-bold text-red-700",children:Se("customerDashboard.outOfStock")})]})]})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-xs text-slate-500 font-bold",children:[Se("customerDashboard.priceModal.quantity")||"",":"]}),s.jsxs("div",{className:"flex items-center border border-slate-200 rounded-lg h-9 bg-white shadow-sm overflow-hidden",children:[s.jsx("button",{onClick:()=>we(Math.max(1,fe-1)),"data-testid":"button-quantity-decrease",className:"w-9 h-full flex items-center justify-center text-slate-500 hover:text-brand-600 hover:bg-brand-50 border-l border-slate-100 transition-colors",children:s.jsx(n8,{size:14})}),s.jsx("div",{className:"w-10 flex items-center justify-center font-black text-sm text-slate-800","data-testid":"text-quantity-value",children:fe}),s.jsx("button",{onClick:()=>we(fe+1),"data-testid":"button-quantity-increase",className:"w-9 h-full flex items-center justify-center text-slate-500 hover:text-brand-600 hover:bg-brand-50 border-r border-slate-100 transition-colors",children:s.jsx(xr,{size:14})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>se(null),"data-testid":"button-modal-close",className:"flex-1 py-2.5 bg-white border border-slate-200 text-slate-600 rounded-lg font-bold text-sm hover:bg-slate-50 transition-colors",children:Se("customerDashboard.priceModal.close")}),s.jsxs("button",{onClick:Pe=>{Pe.stopPropagation(),Zs()},disabled:xe.stock===0,"data-testid":"button-modal-add-to-cart",className:`flex-1 py-2.5 text-white rounded-lg font-bold text-sm flex items-center justify-center gap-1.5 transition-all transform hover:scale-[1.02] active:scale-[0.98] ${xe.stock>0?"bg-gradient-to-r from-brand-600 to-brand-500 hover:from-brand-700 hover:to-brand-600 shadow-md shadow-brand-500/20":"bg-slate-300 cursor-not-allowed shadow-none"}`,children:[s.jsx(Tn,{size:15}),Se("customerDashboard.priceModal.addToCart")]})]})]})]})}),J&&s.jsx(gr,{isOpen:!!J,onClose:()=>H(null),title:Se("customerDashboard.duplicateConfirm.title"),maxWidth:"max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center text-amber-600 mb-6 animate-bounce",children:s.jsx(sa,{size:40})}),s.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-3",children:Se("customerDashboard.duplicateConfirm.title")}),s.jsxs("p",{className:"text-slate-600 mb-8 leading-relaxed font-medium",children:[Se("customerDashboard.duplicateConfirm.message"),s.jsx("span",{className:"font-black text-slate-900 mx-1 block my-2 bg-slate-100 p-2 rounded-lg border border-slate-200",children:J.product.name}),"(",s.jsx("span",{className:"font-bold text-brand-600 mx-1",children:J.quantity}),")"]}),s.jsxs("div",{className:"flex gap-4 w-full",children:[s.jsx("button",{onClick:()=>H(null),className:"flex-1 py-3.5 bg-white border border-slate-300 text-slate-700 rounded-xl font-bold hover:bg-slate-50 transition-colors",children:Se("customerDashboard.duplicateConfirm.cancel")}),s.jsx("button",{onClick:bl,className:"flex-1 py-3.5 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 shadow-lg shadow-brand-200 transition-colors",children:Se("customerDashboard.duplicateConfirm.confirm")})]})]})}),kt&&!ft&&s.jsx(uie,{userId:e.id,customerType:t==null?void 0:t.businessType,onClose:()=>Yt(!1)})]})},Fie=()=>{var L,M,k,I,V,q,z,R,W,X,B,ee,Y,F,K,J,H,ce,le,xe,se,fe,we,G,He,Ue,he,Me,ye,$e,rt,it,ve,tt,wt,Nt,bt,ft,kt,Yt,Xe,ct,$t,Er,Se,ur,ma,Zt,ps,Oe,at,It,nr,qr,$a,Mn,Zs,bl;const[e,t]=P.useState("GENERAL"),[r,a]=P.useState(null),[n,i]=P.useState([]),[l,c]=P.useState(!0),[u,f]=P.useState(!1),[p,m]=P.useState(!1),[x,v]=P.useState({title:"",subtitle:"",buttonText:" ",colorClass:"from-slate-700 to-slate-900",isActive:!0}),{addToast:y}=qt(),{t:b}=Ea();P.useEffect(()=>{_()},[]);const S=[{id:"1",title:" ",description:"         .",icon:"box",iconColor:"text-cyan-400"},{id:"2",title:" ",description:"       .",icon:"chart",iconColor:"text-green-400"},{id:"3",title:" ",description:"     3   .",icon:"anchor",iconColor:"text-amber-400"},{id:"4",title:"  B2B",description:"        .",icon:"headphones",iconColor:"text-purple-400"}],_=async()=>{c(!0);try{const[ue,vt]=await Promise.all([de.getSettings(),de.getBanners()]);(!ue.whySiniCarFeatures||ue.whySiniCarFeatures.length===0)&&(ue.whySiniCarFeatures=S),a(ue),i(vt)}catch{y("   ","error")}finally{c(!1)}},w=async()=>{if(r){f(!0);try{await de.updateSettings(r),y("   ","success")}catch{y("   ","error")}finally{f(!1)}}},E=async()=>{const ue=document.getElementById("test-conn-btn");ue&&(ue.innerText=" ..."),setTimeout(()=>{r!=null&&r.apiConfig.authToken?y("    (200 OK)","success"):y(" :   ","error"),ue&&(ue.innerText=" ")},1500)},O=async()=>{if(!x.title||!x.subtitle){y("   ","error");return}const ue={id:`b-${Date.now()}`,title:x.title||"",subtitle:x.subtitle||"",buttonText:x.buttonText||"",colorClass:x.colorClass||"from-slate-700 to-slate-900",imageUrl:x.imageUrl,isActive:!0},vt=[...n,ue];i(vt),await de.updateBanners(vt),m(!1),v({title:"",subtitle:"",buttonText:" ",colorClass:"from-slate-700 to-slate-900",isActive:!0}),y("  ","success")},A=async ue=>{if(confirm("      ")){const vt=n.filter(Rt=>Rt.id!==ue);i(vt),await de.updateBanners(vt),y("  ","info")}},T=async ue=>{const vt=n.map(Rt=>Rt.id===ue?{...Rt,isActive:!Rt.isActive}:Rt);i(vt),await de.updateBanners(vt)},N=(ue,vt)=>{r&&a({...r,uiTexts:{...r.uiTexts,[ue]:vt}})};if(l||!r)return s.jsx("div",{className:"p-10 text-center",children:b("adminSettings.loading")});const D=({id:ue,icon:vt,label:Rt})=>s.jsxs("button",{onClick:()=>t(ue),className:`flex items-center gap-3 w-full p-4 rounded-xl transition-all mb-2 font-bold ${e===ue?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-500 hover:bg-slate-50 border border-transparent hover:border-slate-200"}`,"data-testid":`tab-${ue.toLowerCase()}`,children:[vt,s.jsx("span",{children:Rt})]});return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 animate-fade-in max-w-7xl mx-auto",children:[s.jsx("div",{className:"w-full lg:w-72 flex-shrink-0",children:s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 mb-6 sticky top-6",children:[s.jsx("h3",{className:"font-black text-xl text-slate-800 mb-6 px-2",children:b("adminSettings.systemSettings")}),s.jsxs("nav",{children:[s.jsx(D,{id:"GENERAL",icon:s.jsx(ds,{size:20}),label:b("adminSettings.generalSettings")}),s.jsx(D,{id:"BANNERS",icon:s.jsx(x0,{size:20}),label:b("adminSettings.bannerManagement")}),s.jsx(D,{id:"FEATURES",icon:s.jsx(Gr,{size:20}),label:b("adminSettings.whySiniCar")}),s.jsx(D,{id:"GUEST_MODE",icon:s.jsx(Ho,{size:20}),label:b("adminSettings.guestMode")}),s.jsx(D,{id:"NOTIFICATIONS",icon:s.jsx(Wi,{size:20}),label:b("adminSettings.notifications"," ")}),s.jsx(D,{id:"PRINT_TEMPLATES",icon:s.jsx(qd,{size:20}),label:b("adminSettings.printTemplates"," ")}),s.jsx(D,{id:"TEXTS",icon:s.jsx(O4,{size:20}),label:b("adminSettings.textManagement")}),s.jsx(D,{id:"AUTH_TEXTS",icon:s.jsx(g0,{size:20}),label:"  "}),s.jsx(D,{id:"QUANTITY_MODAL",icon:s.jsx(_4,{size:20}),label:"  "}),s.jsx(D,{id:"DATA_MANAGEMENT",icon:s.jsx(Ld,{size:20}),label:" "}),s.jsx(D,{id:"STATUS_LABELS",icon:s.jsx(u8,{size:20}),label:b("adminSettings.statusLabels")}),s.jsx(D,{id:"API",icon:s.jsx(zp,{size:20}),label:b("adminSettings.apiIntegration")}),s.jsx(D,{id:"APPEARANCE",icon:s.jsx(Rw,{size:20}),label:b("adminSettings.appearanceIdentity")})]})]})}),s.jsxs("div",{className:"flex-1",children:[e==="GENERAL"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(ds,{className:"text-brand-600"})," ",b("adminSettings.siteSettings")]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",b(u?"adminSettings.saving":"adminSettings.saveChanges")]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.siteName")}),s.jsx("input",{type:"text",value:r.siteName,onChange:ue=>a({...r,siteName:ue.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.supportPhone")}),s.jsx("input",{type:"text",value:r.supportPhone,onChange:ue=>a({...r,supportPhone:ue.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.salesWhatsApp")}),s.jsx("input",{type:"text",value:r.supportWhatsapp||"",onChange:ue=>a({...r,supportWhatsapp:ue.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.supportEmail")}),s.jsx("input",{type:"email",value:r.supportEmail,onChange:ue=>a({...r,supportEmail:ue.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr"})]})]}),s.jsxs("div",{className:"mt-8 border-t border-slate-100 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:s.jsx(cs,{size:20})}),s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:b("adminSettings.newsTicker")})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-bold text-slate-700",children:b("adminSettings.enableTicker")}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.tickerEnabled,onChange:ue=>a({...r,tickerEnabled:ue.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.tickerText")}),s.jsx("textarea",{rows:2,className:"w-full p-3 bg-white border border-slate-300 rounded-lg text-sm",value:r.tickerText,onChange:ue=>a({...r,tickerText:ue.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.tickerSpeed")}),s.jsx("input",{type:"number",min:1,max:10,className:"w-full p-3 bg-white border border-slate-300 rounded-lg",value:r.tickerSpeed,onChange:ue=>a({...r,tickerSpeed:parseInt(ue.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.bgColor")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded border border-slate-300",style:{backgroundColor:r.tickerBgColor}}),s.jsx("input",{type:"text",className:"w-full p-3 bg-white border border-slate-300 rounded-lg font-mono text-sm",value:r.tickerBgColor,onChange:ue=>a({...r,tickerBgColor:ue.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.textColor")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded border border-slate-300",style:{backgroundColor:r.tickerTextColor}}),s.jsx("input",{type:"text",className:"w-full p-3 bg-white border border-slate-300 rounded-lg font-mono text-sm",value:r.tickerTextColor,onChange:ue=>a({...r,tickerTextColor:ue.target.value})})]})]})]})]})]}),s.jsxs("div",{className:"mt-8 border-t border-slate-100 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:s.jsx(wa,{size:20})}),s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:b("adminSettings.productDisplaySettings")})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.minVisibleQty")}),s.jsx("input",{type:"number",min:0,className:"w-full p-3 bg-white border border-slate-300 rounded-lg",value:r.minVisibleQty??1,onChange:ue=>a({...r,minVisibleQty:parseInt(ue.target.value)||0})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b("adminSettings.minVisibleQtyNote")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.stockThreshold")}),s.jsx("input",{type:"number",min:0,className:"w-full p-3 bg-white border border-slate-300 rounded-lg",value:r.stockThreshold??0,onChange:ue=>a({...r,stockThreshold:parseInt(ue.target.value)||0})}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b("adminSettings.stockThresholdNote")})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-sm text-blue-700",children:[s.jsxs("strong",{children:[b("common.note"),":"]})," ",b("adminSettings.settingsNote")]})]})]}),s.jsxs("div",{className:"mt-8 border-t border-slate-100 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg",children:s.jsx(d8,{size:20})}),s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"  "})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-700",children:"  "}),s.jsx("p",{className:"text-xs text-slate-500",children:"        "})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((L=r.orderStatusPointsConfig)==null?void 0:L.enabled)??!0,onChange:ue=>{var vt;return a({...r,orderStatusPointsConfig:{...r.orderStatusPointsConfig,enabled:ue.target.checked,pointsPerStatus:((vt=r.orderStatusPointsConfig)==null?void 0:vt.pointsPerStatus)??{}}})},className:"sr-only peer","data-testid":"toggle-auto-points"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{key:"DELIVERED",label:" ",color:"emerald"},{key:"APPROVED",label:" ",color:"blue"},{key:"SHIPPED",label:" ",color:"cyan"}].map(ue=>{var vt,Rt;return s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full bg-${ue.color}-500 mr-2`}),ue.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:0,className:"w-full p-2 bg-slate-50 border border-slate-300 rounded-lg text-center font-bold",value:((Rt=(vt=r.orderStatusPointsConfig)==null?void 0:vt.pointsPerStatus)==null?void 0:Rt[ue.key])??0,onChange:Ht=>{var Pe,mt;const Ar=parseInt(Ht.target.value)||0;a({...r,orderStatusPointsConfig:{enabled:((Pe=r.orderStatusPointsConfig)==null?void 0:Pe.enabled)??!0,pointsPerStatus:{...(mt=r.orderStatusPointsConfig)==null?void 0:mt.pointsPerStatus,[ue.key]:Ar}}})},"data-testid":`input-points-${ue.key.toLowerCase()}`}),s.jsx("span",{className:"text-slate-500 text-sm",children:""})]})]},ue.key)})}),s.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3 text-sm text-emerald-700",children:[s.jsx("strong",{children:":"}),"               "]})]})]}),s.jsx("div",{className:"bg-cyan-50 p-6 rounded-xl border border-cyan-100 mt-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-cyan-100 rounded-full text-cyan-600",children:s.jsx(Xt,{})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-cyan-900 text-lg",children:b("adminSettings.guestMode")}),s.jsx("p",{className:"text-cyan-700 text-sm",children:b("adminSettings.guestModeDesc")})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.guestModeEnabled??!1,onChange:ue=>a({...r,guestModeEnabled:ue.target.checked}),className:"sr-only peer","data-testid":"toggle-guest-mode"}),s.jsx("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] peer-checked:after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-cyan-600"})]})]})}),s.jsx("div",{className:"bg-red-50 p-6 rounded-xl border border-red-100 mt-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full text-red-600",children:s.jsx(v0,{})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-900 text-lg",children:b("adminSettings.maintenanceMode")}),s.jsx("p",{className:"text-red-700 text-sm",children:b("adminSettings.maintenanceModeDesc")})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.maintenanceMode,onChange:ue=>a({...r,maintenanceMode:ue.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] peer-checked:after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-red-600"})]})]})})]}),e==="BANNERS"&&s.jsxs("div",{className:"space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:b("adminSettings.bannerAds")}),s.jsx("p",{className:"text-slate-500 text-sm",children:b("adminSettings.bannerAdsDesc")})]}),s.jsxs("button",{onClick:()=>m(!0),className:"bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-slate-800",children:[s.jsx(xr,{size:16})," ",b("adminSettings.addNewBanner")]})]}),p&&s.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 animate-fade-in",children:[s.jsx("h4",{className:"font-bold mb-4",children:b("adminSettings.newBannerData")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx("input",{placeholder:b("adminSettings.mainTitle"),className:"p-3 rounded-lg border-slate-200",value:x.title,onChange:ue=>v({...x,title:ue.target.value})}),s.jsx("input",{placeholder:b("adminSettings.subtitle"),className:"p-3 rounded-lg border-slate-200",value:x.subtitle,onChange:ue=>v({...x,subtitle:ue.target.value})}),s.jsx("input",{placeholder:b("adminSettings.buttonText"),className:"p-3 rounded-lg border-slate-200",value:x.buttonText,onChange:ue=>v({...x,buttonText:ue.target.value})}),s.jsxs("select",{className:"p-3 rounded-lg border-slate-200",value:x.colorClass,onChange:ue=>v({...x,colorClass:ue.target.value}),children:[s.jsx("option",{value:"from-slate-700 to-slate-900",children:b("adminSettings.darkGray")}),s.jsx("option",{value:"from-primary-600 to-primary-900",children:b("adminSettings.royalBlue")}),s.jsx("option",{value:"from-secondary-500 to-secondary-700",children:b("adminSettings.vibrantOrange")}),s.jsx("option",{value:"from-green-600 to-green-800",children:b("adminSettings.darkGreen")})]}),s.jsx("input",{placeholder:b("adminSettings.imageUrl"),className:"p-3 rounded-lg border-slate-200 col-span-2",value:x.imageUrl,onChange:ue=>v({...x,imageUrl:ue.target.value})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:O,className:"bg-green-600 text-white px-6 py-2 rounded-lg font-bold",children:b("adminSettings.saveAndPublish")}),s.jsx("button",{onClick:()=>m(!1),className:"bg-white border border-slate-300 text-slate-600 px-6 py-2 rounded-lg font-bold",children:b("common.cancel")})]})]}),s.jsx("div",{className:"grid gap-4",children:n.map(ue=>s.jsxs("div",{className:`bg-white p-4 rounded-xl border shadow-sm flex flex-col md:flex-row items-center gap-6 ${ue.isActive?"border-slate-200":"border-red-100 bg-red-50 opacity-70"}`,children:[s.jsx("div",{className:`w-full md:w-32 h-20 rounded-lg bg-gradient-to-r ${ue.colorClass} flex items-center justify-center text-white shadow-inner flex-shrink-0`,children:ue.imageUrl?s.jsx("img",{src:ue.imageUrl,className:"w-full h-full object-cover rounded-lg",alt:""}):s.jsx(x0,{})}),s.jsxs("div",{className:"flex-1 text-center md:text-right",children:[s.jsx("h4",{className:"font-bold text-lg text-slate-800",children:ue.title}),s.jsx("p",{className:"text-sm text-slate-500",children:ue.subtitle})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>T(ue.id),className:`p-2 rounded-lg transition-colors ${ue.isActive?"text-green-600 hover:bg-green-50":"text-slate-400 hover:bg-slate-100"}`,title:ue.isActive?b("adminSettings.hide"):b("adminSettings.show"),children:ue.isActive?s.jsx(wa,{size:20}):s.jsx(lo,{size:20})}),s.jsx("button",{onClick:()=>A(ue.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Wt,{size:20})})]})]},ue.id))})]}),e==="TEXTS"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(O4,{className:"text-brand-600"})," ",b("adminSettings.uiTextManagement")]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b("adminSettings.uiTextManagementDesc")})]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",b(u?"adminSettings.saving":"adminSettings.saveTexts")]})]}),s.jsx("div",{className:"space-y-4",children:r.uiTexts&&Object.entries(r.uiTexts).map(([ue,vt])=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-brand-300 transition-colors",children:[s.jsx("div",{className:"text-sm font-mono text-slate-500 md:col-span-1 break-all",children:ue}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("input",{type:"text",className:"w-full p-3 bg-white border border-slate-300 rounded-lg text-slate-800 font-bold focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 transition-all",value:vt,onChange:Rt=>N(ue,Rt.target.value)})})]},ue))})]}),e==="API"&&s.jsxs("div",{className:"space-y-6 animate-slide-up",children:[s.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(zp,{className:"text-brand-600"})," ",b("adminSettings.erpIntegration")]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b("adminSettings.erpIntegrationDesc")})]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",b(u?"adminSettings.saving":"adminSettings.saveSettings")]})]})}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 mb-4",children:[s.jsx(xee,{size:20,className:"text-brand-600"}),b("adminSettings.connectionSettings")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.cloudErpUrl")}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:s.jsx(kee,{size:16})}),s.jsx("input",{type:"url",dir:"ltr",placeholder:"https://api.your-erp.com/v1",value:r.apiConfig.baseUrl,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,baseUrl:ue.target.value}}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-sm","data-testid":"input-api-url"})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.apiToken")}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400",children:s.jsx(v0,{size:16})}),s.jsx("input",{type:"password",dir:"ltr",value:r.apiConfig.authToken,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,authToken:ue.target.value}}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-sm",placeholder:"sk_live_xxxxxxxxxxxxxxxx","data-testid":"input-api-token"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.syncFrequency")}),s.jsxs("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",value:r.apiConfig.syncInterval,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,syncInterval:ue.target.value}}),"data-testid":"select-sync-interval",children:[s.jsx("option",{value:"REALTIME",children:b("adminSettings.realtime")}),s.jsx("option",{value:"15MIN",children:b("adminSettings.every15Min")}),s.jsx("option",{value:"HOURLY",children:b("adminSettings.hourly")}),s.jsx("option",{value:"DAILY",children:b("adminSettings.daily")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.environment")}),s.jsxs("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",value:r.apiConfig.environment,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,environment:ue.target.value}}),"data-testid":"select-environment",children:[s.jsx("option",{value:"PRODUCTION",children:b("adminSettings.production")}),s.jsx("option",{value:"SANDBOX",children:b("adminSettings.sandbox")})]})]})]}),s.jsx("div",{className:"border-t border-slate-100 pt-4 mt-6",children:s.jsxs("button",{id:"test-conn-btn",onClick:E,className:"w-full py-4 border-2 border-dashed border-slate-300 rounded-xl text-slate-600 font-bold hover:bg-slate-50 hover:border-slate-400 transition-all flex justify-center items-center gap-2","data-testid":"button-test-connection",children:[s.jsx(ore,{size:20})," ",b("adminSettings.testConnection")]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 mb-4",children:[s.jsx(Ld,{size:20,className:"text-green-600"}),b("adminSettings.sharedData")]}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:b("adminSettings.sharedDataDesc")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"products",label:b("adminSettings.productsAndItems"),icon:Na,desc:b("adminSettings.productsDesc")},{key:"orders",label:b("adminSettings.ordersLabel"),icon:Tn,desc:b("adminSettings.ordersDesc")},{key:"customers",label:b("adminSettings.customersLabel"),icon:Xt,desc:b("adminSettings.customersDesc")},{key:"quotes",label:b("adminSettings.quotesLabel"),icon:lr,desc:b("adminSettings.quotesDesc")},{key:"inventory",label:b("adminSettings.inventoryLabel"),icon:f8,desc:b("adminSettings.inventoryDesc")},{key:"prices",label:b("adminSettings.pricesLabel"),icon:Qs,desc:b("adminSettings.pricesDesc")}].map(ue=>{var vt,Rt;return s.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${(vt=r.apiConfig.sharedData)!=null&&vt.includes(ue.key)?"border-brand-500 bg-brand-50":"border-slate-200 hover:border-slate-300 bg-slate-50"}`,"data-testid":`checkbox-share-${ue.key}`,children:[s.jsx("input",{type:"checkbox",checked:((Rt=r.apiConfig.sharedData)==null?void 0:Rt.includes(ue.key))||!1,onChange:Ht=>{const Ar=r.apiConfig.sharedData||[],Pe=Ht.target.checked?[...Ar,ue.key]:Ar.filter(mt=>mt!==ue.key);a({...r,apiConfig:{...r.apiConfig,sharedData:Pe}})},className:"mt-1 w-4 h-4 text-brand-600 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue.icon,{size:16,className:"text-slate-600"}),s.jsx("span",{className:"font-bold text-slate-800",children:ue.label})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:ue.desc})]})]},ue.key)})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 mb-4",children:[s.jsx(ua,{size:20,className:"text-blue-600"}),b("adminSettings.syncDirection")]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{value:"PULL",label:b("adminSettings.pullOnly"),desc:b("adminSettings.pullOnlyDesc"),icon:t8},{value:"PUSH",label:b("adminSettings.pushOnly"),desc:b("adminSettings.pushOnlyDesc"),icon:Ow},{value:"BIDIRECTIONAL",label:b("adminSettings.bidirectional"),desc:b("adminSettings.bidirectionalDesc"),icon:rZ}].map(ue=>s.jsxs("label",{className:`flex flex-col items-center gap-3 p-6 rounded-xl border-2 cursor-pointer transition-all text-center ${r.apiConfig.syncDirection===ue.value?"border-brand-500 bg-brand-50":"border-slate-200 hover:border-slate-300 bg-slate-50"}`,"data-testid":`radio-sync-${ue.value.toLowerCase()}`,children:[s.jsx("input",{type:"radio",name:"syncDirection",value:ue.value,checked:r.apiConfig.syncDirection===ue.value,onChange:vt=>a({...r,apiConfig:{...r.apiConfig,syncDirection:vt.target.value}}),className:"sr-only"}),s.jsx(ue.icon,{size:32,className:r.apiConfig.syncDirection===ue.value?"text-brand-600":"text-slate-400"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-800 block",children:ue.label}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:ue.desc})]})]},ue.value))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 mb-4",children:[s.jsx(ire,{size:20,className:"text-purple-600"}),b("adminSettings.webhooks")]}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:b("adminSettings.webhooksDesc")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"url",dir:"ltr",placeholder:"https://your-webhook-url.com/endpoint",className:"flex-1 p-3 bg-slate-50 border border-slate-200 rounded-xl font-mono text-sm",id:"webhook-url-input","data-testid":"input-webhook-url"}),s.jsxs("button",{onClick:()=>{const ue=document.getElementById("webhook-url-input");if(ue!=null&&ue.value){const vt=r.apiConfig.webhooks||[];a({...r,apiConfig:{...r.apiConfig,webhooks:[...vt,{url:ue.value,events:["order.created"],active:!0}]}}),ue.value="",y("  Webhook ","success")}},className:"px-4 py-3 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 flex items-center gap-2","data-testid":"button-add-webhook",children:[s.jsx(xr,{size:18})," ",b("common.add")]})]}),((M=r.apiConfig.webhooks)==null?void 0:M.length)>0&&s.jsx("div",{className:"space-y-2",children:r.apiConfig.webhooks.map((ue,vt)=>{var Rt;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${ue.active?"bg-green-500":"bg-slate-300"}`}),s.jsx("code",{className:"flex-1 text-sm font-mono text-slate-600 truncate",children:ue.url}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded",children:[((Rt=ue.events)==null?void 0:Rt.length)||0," ",b("adminSettings.events")]}),s.jsx("button",{onClick:()=>{const Ht=[...r.apiConfig.webhooks||[]];Ht.splice(vt,1),a({...r,apiConfig:{...r.apiConfig,webhooks:Ht}})},className:"p-1 text-red-500 hover:bg-red-50 rounded","data-testid":`button-delete-webhook-${vt}`,children:s.jsx(Wt,{size:16})})]})]},vt)})})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 mb-4",children:[s.jsx(c8,{size:20,className:"text-slate-600"}),b("adminSettings.advancedSettings")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.rateLimit")}),s.jsxs("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",value:r.apiConfig.rateLimit||"100",onChange:ue=>a({...r,apiConfig:{...r.apiConfig,rateLimit:ue.target.value}}),"data-testid":"select-rate-limit",children:[s.jsx("option",{value:"50",children:b("adminSettings.reqPerMin",{count:50})}),s.jsx("option",{value:"100",children:b("adminSettings.reqPerMin",{count:100})}),s.jsx("option",{value:"500",children:b("adminSettings.reqPerMin",{count:500})}),s.jsx("option",{value:"1000",children:b("adminSettings.reqPerMin",{count:1e3})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.timeout")}),s.jsxs("select",{className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",value:r.apiConfig.timeout||"30",onChange:ue=>a({...r,apiConfig:{...r.apiConfig,timeout:ue.target.value}}),"data-testid":"select-timeout",children:[s.jsx("option",{value:"10",children:b("adminSettings.seconds",{count:10})}),s.jsx("option",{value:"30",children:b("adminSettings.seconds",{count:30})}),s.jsx("option",{value:"60",children:b("adminSettings.seconds",{count:60})}),s.jsx("option",{value:"120",children:b("adminSettings.seconds",{count:120})})]})]}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-100 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.apiConfig.debugMode||!1,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,debugMode:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-debug-mode"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-800",children:b("adminSettings.debugMode")}),s.jsx("p",{className:"text-xs text-slate-500",children:b("adminSettings.debugModeDesc")})]})]})}),s.jsx("div",{className:"col-span-2",children:s.jsxs("label",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-100 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.apiConfig.retryOnFail||!0,onChange:ue=>a({...r,apiConfig:{...r.apiConfig,retryOnFail:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-retry-on-fail"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-800",children:b("adminSettings.retryOnFail")}),s.jsx("p",{className:"text-xs text-slate-500",children:b("adminSettings.retryOnFailDesc")})]})]})})]})]})]}),e==="FEATURES"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 border-b border-slate-100 pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Gr,{className:"text-brand-600"})," ",b("adminSettings.whySiniCarSection")]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b("adminSettings.whySiniCarSectionDesc")})]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",b(u?"adminSettings.saving":"adminSettings.saveChanges")]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.sectionTitle")}),s.jsx("input",{type:"text",value:r.whySiniCarTitle||b("adminSettings.whySiniCar"),onChange:ue=>a({...r,whySiniCarTitle:ue.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",placeholder:b("adminSettings.whySiniCar"),"data-testid":"input-why-title"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-slate-800",children:b("adminSettings.featureCards")}),s.jsxs("button",{onClick:()=>{const ue=r.whySiniCarFeatures||[];a({...r,whySiniCarFeatures:[...ue,{id:`F-${Date.now()}`,title:b("adminSettings.newFeature"),description:b("adminSettings.featureDescPlaceholder"),icon:"star",iconColor:"text-amber-400"}]})},className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700","data-testid":"button-add-feature",children:[s.jsx(xr,{size:18})," ",b("adminSettings.addCard")]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(r.whySiniCarFeatures||[{id:"1",title:" ",description:"         .",icon:"box",iconColor:"text-cyan-400"},{id:"2",title:" ",description:"       .",icon:"chart",iconColor:"text-green-400"},{id:"3",title:" ",description:"     3   .",icon:"anchor",iconColor:"text-amber-400"},{id:"4",title:"  B2B",description:"        .",icon:"headphones",iconColor:"text-purple-400"}]).map((ue,vt)=>s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[b("adminSettings.card")," ",vt+1]}),s.jsx("button",{onClick:()=>{const Rt=r.whySiniCarFeatures||[];a({...r,whySiniCarFeatures:Rt.filter(Ht=>Ht.id!==ue.id)})},className:"p-1 text-red-500 hover:bg-red-50 rounded","data-testid":`button-delete-feature-${vt}`,children:s.jsx(Wt,{size:16})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:b("adminSettings.title")}),s.jsx("input",{type:"text",value:ue.title,onChange:Rt=>{const Ht=[...r.whySiniCarFeatures||[]],Ar=Ht.findIndex(Pe=>Pe.id===ue.id);Ar!==-1&&(Ht[Ar]={...Ht[Ar],title:Rt.target.value},a({...r,whySiniCarFeatures:Ht}))},className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm","data-testid":`input-feature-title-${vt}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:b("adminSettings.description")}),s.jsx("textarea",{value:ue.description,onChange:Rt=>{const Ht=[...r.whySiniCarFeatures||[]],Ar=Ht.findIndex(Pe=>Pe.id===ue.id);Ar!==-1&&(Ht[Ar]={...Ht[Ar],description:Rt.target.value},a({...r,whySiniCarFeatures:Ht}))},className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm resize-none",rows:2,"data-testid":`input-feature-desc-${vt}`})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:b("adminSettings.icon")}),s.jsxs("select",{value:ue.icon,onChange:Rt=>{const Ht=[...r.whySiniCarFeatures||[]],Ar=Ht.findIndex(Pe=>Pe.id===ue.id);Ar!==-1&&(Ht[Ar]={...Ht[Ar],icon:Rt.target.value},a({...r,whySiniCarFeatures:Ht}))},className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm","data-testid":`select-feature-icon-${vt}`,children:[s.jsx("option",{value:"box",children:b("adminSettings.iconBox")}),s.jsx("option",{value:"chart",children:b("adminSettings.iconChart")}),s.jsx("option",{value:"anchor",children:b("adminSettings.iconAnchor")}),s.jsx("option",{value:"headphones",children:b("adminSettings.iconHeadphones")}),s.jsx("option",{value:"truck",children:b("adminSettings.iconTruck")}),s.jsx("option",{value:"shield",children:b("adminSettings.iconShield")}),s.jsx("option",{value:"globe",children:b("adminSettings.iconGlobe")}),s.jsx("option",{value:"star",children:b("adminSettings.iconStar")}),s.jsx("option",{value:"clock",children:b("adminSettings.iconClock")}),s.jsx("option",{value:"award",children:b("adminSettings.iconAward")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:b("adminSettings.iconColor")}),s.jsxs("select",{value:ue.iconColor,onChange:Rt=>{const Ht=[...r.whySiniCarFeatures||[]],Ar=Ht.findIndex(Pe=>Pe.id===ue.id);Ar!==-1&&(Ht[Ar]={...Ht[Ar],iconColor:Rt.target.value},a({...r,whySiniCarFeatures:Ht}))},className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm","data-testid":`select-feature-color-${vt}`,children:[s.jsx("option",{value:"text-cyan-400",children:b("adminSettings.colorCyan")}),s.jsx("option",{value:"text-green-400",children:b("adminSettings.colorGreen")}),s.jsx("option",{value:"text-amber-400",children:b("adminSettings.colorGold")}),s.jsx("option",{value:"text-purple-400",children:b("adminSettings.colorPurple")}),s.jsx("option",{value:"text-red-400",children:b("adminSettings.colorRed")}),s.jsx("option",{value:"text-blue-400",children:b("adminSettings.colorBlue")}),s.jsx("option",{value:"text-pink-400",children:b("adminSettings.colorPink")}),s.jsx("option",{value:"text-orange-400",children:b("adminSettings.colorOrange")})]})]})]}),s.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-xl mt-2",children:[s.jsxs("div",{className:`mb-2 ${ue.iconColor}`,children:[ue.icon==="box"&&s.jsx(Na,{size:28}),ue.icon==="chart"&&s.jsx(Rn,{size:28}),ue.icon==="anchor"&&s.jsx(ZM,{size:28}),ue.icon==="headphones"&&s.jsx(Fp,{size:28}),ue.icon==="truck"&&s.jsx(rl,{size:28}),ue.icon==="shield"&&s.jsx(Ys,{size:28}),ue.icon==="globe"&&s.jsx(fs,{size:28}),ue.icon==="star"&&s.jsx(tl,{size:28}),ue.icon==="clock"&&s.jsx(Xr,{size:28}),ue.icon==="award"&&s.jsx(cZ,{size:28})]}),s.jsx("h4",{className:"font-bold text-sm",children:ue.title}),s.jsx("p",{className:"text-xs text-slate-300 mt-1",children:ue.description})]})]},ue.id))})]})]}),e==="GUEST_MODE"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 border-b border-slate-100 pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Ho,{className:"text-orange-500"})," ",b("adminSettings.guestModeSettings")]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b("adminSettings.guestModeSettingsDesc")})]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2","data-testid":"button-save-guest-settings",children:[s.jsx(Pr,{size:18})," ",b(u?"adminSettings.saving":"adminSettings.saveChanges")]})]}),s.jsx("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 text-orange-600 rounded-lg",children:s.jsx(Ho,{size:20})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-slate-800",children:b("adminSettings.guestBrowsingEnabled")}),s.jsx("p",{className:"text-sm text-slate-500",children:b("adminSettings.guestBrowsingEnabledDesc")})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.guestModeEnabled!==!1,onChange:ue=>a({...r,guestModeEnabled:ue.target.checked}),className:"sr-only peer","data-testid":"checkbox-guest-mode-enabled"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})}),s.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(wa,{size:18,className:"text-slate-600"})," ",b("adminSettings.visibleSections")]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b("adminSettings.visibleSectionsDesc")})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showBusinessTypes")}),s.jsx("input",{type:"checkbox",checked:((k=r.guestSettings)==null?void 0:k.showBusinessTypes)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showBusinessTypes:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-business-types"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showMainServices")}),s.jsx("input",{type:"checkbox",checked:((I=r.guestSettings)==null?void 0:I.showMainServices)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showMainServices:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-main-services"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showHowItWorks")}),s.jsx("input",{type:"checkbox",checked:((V=r.guestSettings)==null?void 0:V.showHowItWorks)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showHowItWorks:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-how-it-works"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showWhySiniCar")}),s.jsx("input",{type:"checkbox",checked:((q=r.guestSettings)==null?void 0:q.showWhySiniCar)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showWhySiniCar:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-why-sini-car"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showCart")}),s.jsx("input",{type:"checkbox",checked:((z=r.guestSettings)==null?void 0:z.showCart)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showCart:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-cart"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showMarketingCards")}),s.jsx("input",{type:"checkbox",checked:((R=r.guestSettings)==null?void 0:R.showMarketingCards)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showMarketingCards:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-marketing-cards"})]})]})]}),s.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(lo,{size:18,className:"text-slate-600"})," ",b("adminSettings.blurSettings")]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:b("adminSettings.blurIntensity")}),s.jsxs("select",{value:((W=r.guestSettings)==null?void 0:W.blurIntensity)||"medium",onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},blurIntensity:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"select-blur-intensity",children:[s.jsx("option",{value:"light",children:b("adminSettings.blurLight")}),s.jsx("option",{value:"medium",children:b("adminSettings.blurMedium")}),s.jsx("option",{value:"heavy",children:b("adminSettings.blurHeavy")})]})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showBlurOverlay")}),s.jsx("p",{className:"text-sm text-slate-500",children:b("adminSettings.showBlurOverlayDesc")})]}),s.jsx("input",{type:"checkbox",checked:((X=r.guestSettings)==null?void 0:X.showBlurOverlay)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showBlurOverlay:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-blur-overlay"})]})]})]}),s.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(ds,{size:18,className:"text-slate-600"})," ",b("adminSettings.searchSettings")]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.allowSearch")}),s.jsx("p",{className:"text-sm text-slate-500",children:b("adminSettings.allowSearchDesc")})]}),s.jsx("input",{type:"checkbox",checked:((B=r.guestSettings)==null?void 0:B.allowSearch)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},allowSearch:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-allow-search"})]}),s.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-slate-700",children:b("adminSettings.showSearchResults")}),s.jsx("p",{className:"text-sm text-slate-500",children:b("adminSettings.showSearchResultsDesc")})]}),s.jsx("input",{type:"checkbox",checked:((ee=r.guestSettings)==null?void 0:ee.showSearchResults)!==!1,onChange:ue=>a({...r,guestSettings:{...r.guestSettings||{},showSearchResults:ue.target.checked}}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"checkbox-show-search-results"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Ho,{size:24}),s.jsx("h4",{className:"font-bold text-lg",children:b("adminSettings.guestMode")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[s.jsx("p",{className:"opacity-75",children:b("adminSettings.visibleSections")}),s.jsxs("p",{className:"font-bold text-lg",children:[[((Y=r.guestSettings)==null?void 0:Y.showBusinessTypes)!==!1,((F=r.guestSettings)==null?void 0:F.showMainServices)!==!1,((K=r.guestSettings)==null?void 0:K.showHowItWorks)!==!1,((J=r.guestSettings)==null?void 0:J.showWhySiniCar)!==!1,((H=r.guestSettings)==null?void 0:H.showCart)!==!1,((ce=r.guestSettings)==null?void 0:ce.showMarketingCards)!==!1].filter(Boolean).length," / 6"]})]}),s.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[s.jsx("p",{className:"opacity-75",children:b("adminSettings.blurIntensity")}),s.jsx("p",{className:"font-bold text-lg capitalize",children:((le=r.guestSettings)==null?void 0:le.blurIntensity)||"medium"})]}),s.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[s.jsx("p",{className:"opacity-75",children:b("adminSettings.allowSearch")}),s.jsx("p",{className:"font-bold text-lg",children:((xe=r.guestSettings)==null?void 0:xe.allowSearch)!==!1?"":""})]}),s.jsxs("div",{className:"bg-white/20 p-3 rounded-lg",children:[s.jsx("p",{className:"opacity-75",children:b("adminSettings.showBlurOverlay")}),s.jsx("p",{className:"font-bold text-lg",children:((se=r.guestSettings)==null?void 0:se.showBlurOverlay)!==!1?"":""})]})]})]})]}),e==="APPEARANCE"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Rw,{className:"text-purple-500"})," ",b("adminSettings.appearanceCustomization")]}),s.jsx("button",{onClick:w,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50",children:b("adminSettings.saveChanges")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-4",children:b("adminSettings.primaryColor")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl shadow-md border-4 border-white ring-1 ring-slate-200",style:{backgroundColor:r.primaryColor}}),s.jsx("input",{type:"color",value:r.primaryColor,onChange:ue=>a({...r,primaryColor:ue.target.value}),className:"h-12 w-32 p-1 rounded-lg cursor-pointer"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:b("adminSettings.primaryColorDesc")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-4",children:b("adminSettings.siteLogo")}),s.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center hover:bg-slate-50 transition-colors",children:r.logoUrl?s.jsxs("div",{className:"relative w-fit mx-auto",children:[s.jsx("img",{src:r.logoUrl,alt:"Logo",className:"h-16 object-contain"}),s.jsx("button",{onClick:()=>a({...r,logoUrl:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:s.jsx(ar,{size:12})})]}):s.jsxs("div",{className:"text-slate-400 cursor-pointer",onClick:()=>y(b("adminSettings.uploadNotAvailable"),"info"),children:[s.jsx(jc,{className:"mx-auto mb-2"}),s.jsx("span",{className:"text-xs font-bold",children:b("adminSettings.clickToUploadLogo")})]})})]})]}),s.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:b("adminSettings.livePreview")}),s.jsx("p",{className:"text-sm opacity-70",children:b("adminSettings.livePreviewDesc")})]}),s.jsx("button",{style:{backgroundColor:r.primaryColor},className:"px-6 py-3 rounded-lg font-bold shadow-lg",children:b("adminSettings.primaryButtonExample")})]})]}),e==="STATUS_LABELS"&&s.jsx(Bie,{settings:r,onUpdate:ue=>a(ue),onSave:w,saving:u}),e==="NOTIFICATIONS"&&s.jsx(zie,{t:b}),e==="PRINT_TEMPLATES"&&s.jsx(qie,{t:b}),e==="AUTH_TEXTS"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(g0,{className:"text-brand-600"}),"    "]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"         "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{a({...r,authPageTexts:void 0}),y("   ","success")},className:"bg-slate-100 text-slate-600 px-4 py-2 rounded-lg font-bold hover:bg-slate-200 flex items-center gap-2",children:[s.jsx(b0,{size:16}),"  "]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",u?" ...":" "]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2 border-b pb-2",children:[s.jsx(Yr,{size:18,className:"text-blue-500"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"text",placeholder:" ",value:((fe=r.authPageTexts)==null?void 0:fe.loginTitle)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginTitle:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"text",placeholder:"  ",value:((we=r.authPageTexts)==null?void 0:we.loginSubtitle)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginSubtitle:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((G=r.authPageTexts)==null?void 0:G.loginClientIdLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginClientIdLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder  "}),s.jsx("input",{type:"text",placeholder:"  ",value:((He=r.authPageTexts)==null?void 0:He.loginClientIdPlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginClientIdPlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((Ue=r.authPageTexts)==null?void 0:Ue.loginPasswordLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginPasswordLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder  "}),s.jsx("input",{type:"text",placeholder:"  ",value:((he=r.authPageTexts)==null?void 0:he.loginPasswordPlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginPasswordPlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:"",value:((Me=r.authPageTexts)==null?void 0:Me.loginButtonText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginButtonText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:"  ",value:((ye=r.authPageTexts)==null?void 0:ye.loginForgotPasswordText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginForgotPasswordText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:"  ",value:(($e=r.authPageTexts)==null?void 0:$e.loginNoAccountText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginNoAccountText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:"  ",value:((rt=r.authPageTexts)==null?void 0:rt.loginRegisterLinkText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,loginRegisterLinkText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2 border-b pb-2",children:[s.jsx(Xt,{size:18,className:"text-green-500"}),"    "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"text",placeholder:"  ",value:((it=r.authPageTexts)==null?void 0:it.registerTitle)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerTitle:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"text",placeholder:"    ",value:((ve=r.authPageTexts)==null?void 0:ve.registerSubtitle)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerSubtitle:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((tt=r.authPageTexts)==null?void 0:tt.registerBusinessNameLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerBusinessNameLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder  "}),s.jsx("input",{type:"text",placeholder:":    ",value:((wt=r.authPageTexts)==null?void 0:wt.registerBusinessNamePlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerBusinessNamePlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((Nt=r.authPageTexts)==null?void 0:Nt.registerOwnerNameLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerOwnerNameLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder  "}),s.jsx("input",{type:"text",placeholder:" ",value:((bt=r.authPageTexts)==null?void 0:bt.registerOwnerNamePlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerOwnerNamePlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",value:((ft=r.authPageTexts)==null?void 0:ft.registerPhoneLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerPhoneLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder "}),s.jsx("input",{type:"text",placeholder:"05xxxxxxxx",value:((kt=r.authPageTexts)==null?void 0:kt.registerPhonePlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerPhonePlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",value:((Yt=r.authPageTexts)==null?void 0:Yt.registerEmailLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerEmailLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder "}),s.jsx("input",{type:"text",placeholder:"example@email.com",value:((Xe=r.authPageTexts)==null?void 0:Xe.registerEmailPlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerEmailPlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:"",value:((ct=r.authPageTexts)==null?void 0:ct.registerCityLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerCityLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder "}),s.jsx("input",{type:"text",placeholder:" ",value:(($t=r.authPageTexts)==null?void 0:$t.registerCityPlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerCityPlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((Er=r.authPageTexts)==null?void 0:Er.registerBusinessTypeLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerBusinessTypeLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",value:((Se=r.authPageTexts)==null?void 0:Se.registerNotesLabel)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerNotesLabel:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"placeholder "}),s.jsx("input",{type:"text",placeholder:"    ...",value:((ur=r.authPageTexts)==null?void 0:ur.registerNotesPlaceholder)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerNotesPlaceholder:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((ma=r.authPageTexts)==null?void 0:ma.registerButtonText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerButtonText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:"  ",value:((Zt=r.authPageTexts)==null?void 0:Zt.registerHaveAccountText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerHaveAccountText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"   "}),s.jsx("input",{type:"text",placeholder:" ",value:((ps=r.authPageTexts)==null?void 0:ps.registerLoginLinkText)||"",onChange:ue=>a({...r,authPageTexts:{...r.authPageTexts,registerLoginLinkText:ue.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]})]})]})]}),e==="QUANTITY_MODAL"&&s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(_4,{className:"text-brand-600"}),"    "]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"        "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{a({...r,quantityModalSettings:{mode:"hideSearch"}}),y("   ","success")},className:"bg-slate-100 text-slate-600 px-4 py-2 rounded-lg font-bold hover:bg-slate-200 flex items-center gap-2",children:[s.jsx(b0,{size:16}),"  "]}),s.jsxs("button",{onClick:w,disabled:u,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",u?" ...":" "]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsxs("h4",{className:"font-bold text-blue-800 mb-2 flex items-center gap-2",children:[s.jsx(el,{size:18}),"    "]}),s.jsx("p",{className:"text-sm text-blue-700",children:"          .     :"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{onClick:()=>a({...r,quantityModalSettings:{...r.quantityModalSettings,mode:"hideSearch"}}),className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${((Oe=r.quantityModalSettings)==null?void 0:Oe.mode)==="hideSearch"||!((at=r.quantityModalSettings)!=null&&at.mode)?"border-brand-500 bg-brand-50":"border-slate-200 hover:border-slate-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${((It=r.quantityModalSettings)==null?void 0:It.mode)==="hideSearch"||!((nr=r.quantityModalSettings)!=null&&nr.mode)?"border-brand-500 bg-brand-500":"border-slate-300"}`,children:(((qr=r.quantityModalSettings)==null?void 0:qr.mode)==="hideSearch"||!(($a=r.quantityModalSettings)!=null&&$a.mode))&&s.jsx(Gr,{size:12,className:"text-white"})}),s.jsx("h4",{className:"font-bold text-slate-800",children:"  "})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"               "})]}),s.jsxs("div",{onClick:()=>a({...r,quantityModalSettings:{...r.quantityModalSettings,mode:"draggable"}}),className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${((Mn=r.quantityModalSettings)==null?void 0:Mn.mode)==="draggable"?"border-brand-500 bg-brand-50":"border-slate-200 hover:border-slate-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${((Zs=r.quantityModalSettings)==null?void 0:Zs.mode)==="draggable"?"border-brand-500 bg-brand-500":"border-slate-300"}`,children:((bl=r.quantityModalSettings)==null?void 0:bl.mode)==="draggable"&&s.jsx(Gr,{size:12,className:"text-white"})}),s.jsx("h4",{className:"font-bold text-slate-800",children:"  "})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"                 "})]})]})]})]}),e==="DATA_MANAGEMENT"&&s.jsx($ie,{settings:r,onUpdate:ue=>a(ue),onSave:w,saving:u})]})]})},Uie=e=>[{key:"orderStatus",label:e("adminSettings.statusCategories.orderStatus"),icon:s.jsx(Tn,{size:16})},{key:"orderInternalStatus",label:e("adminSettings.statusCategories.orderInternalStatus"),icon:s.jsx(f8,{size:16})},{key:"accountRequestStatus",label:e("adminSettings.statusCategories.accountRequestStatus"),icon:s.jsx(Xt,{size:16})},{key:"quoteRequestStatus",label:e("adminSettings.statusCategories.quoteRequestStatus"),icon:s.jsx(Qs,{size:16})},{key:"quoteItemStatus",label:e("adminSettings.statusCategories.quoteItemStatus"),icon:s.jsx(lr,{size:16})},{key:"missingStatus",label:e("adminSettings.statusCategories.missingStatus"),icon:s.jsx(Na,{size:16})},{key:"importRequestStatus",label:e("adminSettings.statusCategories.importRequestStatus"),icon:s.jsx(rl,{size:16})},{key:"customerStatus",label:e("adminSettings.statusCategories.customerStatus"),icon:s.jsx(fs,{size:16})},{key:"staffStatus",label:e("adminSettings.statusCategories.staffStatus"),icon:s.jsx(Xt,{size:16})}],Bie=({settings:e,onUpdate:t,onSave:r,saving:a})=>{const[n,i]=P.useState("orderStatus"),[l,c]=P.useState(null),[u,f]=P.useState(""),[p,m]=P.useState("#000000"),[x,v]=P.useState("#ffffff"),[y,b]=P.useState(!1),[S,_]=P.useState(""),[w,E]=P.useState(""),[O,A]=P.useState("#6b7280"),[T,N]=P.useState("#f3f4f6"),[D,L]=P.useState(null),[M,k]=P.useState(!1),{addToast:I}=qt(),{t:V}=Ea(),q=Uie(V),z=e.statusLabels;if(!z)return null;const R=z[n],W=q.find(H=>H.key===n),X=Object.entries(R).sort((H,ce)=>{const le=H[1].sortOrder||999,xe=ce[1].sortOrder||999;return le-xe}),B=H=>{const ce=R[H];ce&&(c(H),f(ce.label),m(ce.color),v(ce.bgColor))},ee=async()=>{if(!l||!u.trim())return;const H=R[l],ce={...z,[n]:{...R,[l]:{...H,label:u.trim(),color:p,bgColor:x}}};t({...e,statusLabels:ce}),await de.updateStatusLabels(ce),c(null),I(V("adminSettings.statusUpdated"),"success")},Y=()=>{c(null)},F=async()=>{if(!S.trim()||!w.trim()){I(V("adminSettings.fillKeyAndName"),"error");return}const H=S.trim().toUpperCase().replace(/\s+/g,"_");if(R[H]){I(V("adminSettings.keyExists"),"error");return}const le=Object.values(R).reduce((se,fe)=>Math.max(se,fe.sortOrder||0),0),xe={...z,[n]:{...R,[H]:{label:w.trim(),color:O,bgColor:T,isSystem:!1,sortOrder:le+1}}};t({...e,statusLabels:xe}),await de.updateStatusLabels(xe),b(!1),_(""),E(""),A("#6b7280"),N("#f3f4f6"),I(V("adminSettings.statusAdded"),"success")},K=async H=>{if(R[H].isSystem){I(V("adminSettings.cannotDeleteSystem"),"error");return}k(!0);const le=await de.checkStatusUsage(n,H);if(k(!1),le>0){I(V("adminSettings.cannotDeleteInUse",{count:le}),"error"),L(null);return}const xe={...R};delete xe[H];const se={...z,[n]:xe};t({...e,statusLabels:se}),await de.updateStatusLabels(se),L(null),I(V("adminSettings.statusDeleted"),"success")},J=async H=>{const ce={...R};Object.keys(ce).forEach(xe=>{ce[xe]={...ce[xe],isDefault:xe===H}});const le={...z,[n]:ce};t({...e,statusLabels:le}),await de.updateStatusLabels(le),I(V("adminSettings.defaultStatusSet"),"success")};return s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(u8,{className:"text-orange-500"})," ",V("adminSettings.statusLabelsManagement")]}),s.jsxs("button",{onClick:r,disabled:a,className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2","data-testid":"button-save-status-labels",children:[s.jsx(Pr,{size:18})," ",V(a?"adminSettings.saving":"adminSettings.saveChanges")]})]}),s.jsx("p",{className:"text-sm text-slate-500 bg-slate-50 p-4 rounded-xl",children:V("adminSettings.statusLabelsDescription")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(H=>s.jsxs("button",{onClick:()=>{i(H.key),b(!1),c(null)},className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${n===H.key?"bg-slate-900 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"data-testid":`button-category-${H.key}`,children:[H.icon,H.label]},H.key))}),s.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-visible",children:[s.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[W==null?void 0:W.icon," ",W==null?void 0:W.label]}),s.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg text-sm font-bold hover:bg-brand-700 transition-colors","data-testid":"button-add-new-status",children:[s.jsx(xr,{size:16})," ",V("adminSettings.addNewStatus")]})]}),y&&s.jsxs("div",{className:"bg-brand-50 p-6 border-b border-brand-200 animate-slide-up",children:[s.jsxs("h4",{className:"font-bold text-brand-800 mb-4 flex items-center gap-2",children:[s.jsx(xr,{size:18})," ",V("adminSettings.addNewStatus")]}),s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-[150px]",children:[s.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:V("adminSettings.statusKey")}),s.jsx("input",{type:"text",value:S,onChange:H=>_(H.target.value.toUpperCase().replace(/\s+/g,"_")),className:"w-full p-2 border border-slate-300 rounded-lg text-sm font-mono",placeholder:"NEW_STATUS","data-testid":"input-new-status-key"})]}),s.jsxs("div",{className:"flex-1 min-w-[150px]",children:[s.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:V("adminSettings.statusLabel")}),s.jsx("input",{type:"text",value:w,onChange:H=>E(H.target.value),className:"w-full p-2 border border-slate-300 rounded-lg text-sm font-bold",placeholder:V("adminSettings.newStatus"),"data-testid":"input-new-status-label"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500",children:[V("adminSettings.textColor"),":"]}),s.jsx("input",{type:"color",value:O,onChange:H=>A(H.target.value),className:"w-8 h-8 rounded cursor-pointer border border-slate-200","data-testid":"input-new-status-color"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500",children:[V("adminSettings.backgroundColor"),":"]}),s.jsx("input",{type:"color",value:T,onChange:H=>N(H.target.value),className:"w-8 h-8 rounded cursor-pointer border border-slate-200","data-testid":"input-new-status-bgcolor"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:T,color:O},children:w||V("adminSettings.preview")}),s.jsx("button",{onClick:F,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition-colors","data-testid":"button-confirm-add-status",children:V("adminSettings.add")}),s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition-colors","data-testid":"button-cancel-add-status",children:V("common.cancel")})]})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:X.map(([H,ce])=>s.jsx("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 transition-colors","data-testid":`row-status-${H}`,children:l===H?s.jsxs("div",{className:"flex-1 flex items-center gap-4 flex-wrap",children:[s.jsx("input",{type:"text",value:u,onChange:le=>f(le.target.value),className:"flex-1 min-w-[150px] p-2 border border-slate-300 rounded-lg text-sm font-bold",placeholder:V("adminSettings.statusLabel"),"data-testid":"input-edit-status-label"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500",children:[V("adminSettings.textColor"),":"]}),s.jsx("input",{type:"color",value:p,onChange:le=>m(le.target.value),className:"w-8 h-8 rounded cursor-pointer border border-slate-200","data-testid":"input-edit-status-color"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500",children:[V("adminSettings.backgroundColor"),":"]}),s.jsx("input",{type:"color",value:x,onChange:le=>v(le.target.value),className:"w-8 h-8 rounded cursor-pointer border border-slate-200","data-testid":"input-edit-status-bgcolor"})]}),s.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:x,color:p},children:u||V("adminSettings.preview")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ee,className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors","data-testid":"button-confirm-edit-status",children:s.jsx(Gr,{size:16})}),s.jsx("button",{onClick:Y,className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors","data-testid":"button-cancel-edit-status",children:s.jsx(ar,{size:16})})]})]}):D===H?s.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[s.jsx("span",{className:"text-red-600 font-bold text-sm",children:V(M?"adminSettings.checkingUsage":"adminSettings.confirmDelete")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K(H),disabled:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-delete-status",children:V("adminSettings.yesDelete")}),s.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-300 transition-colors","data-testid":"button-cancel-delete-status",children:V("common.cancel")})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded font-mono text-slate-500",children:H}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold",style:{backgroundColor:ce.bgColor,color:ce.color},children:ce.label}),ce.isSystem&&s.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-[10px] font-bold flex items-center gap-1",children:[s.jsx(Ys,{size:10})," ",V("adminSettings.systemStatus")]}),ce.isDefault&&s.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded text-[10px] font-bold flex items-center gap-1",children:[s.jsx(tl,{size:10})," ",V("adminSettings.defaultStatus")]}),ce.sortOrder&&s.jsxs("span",{className:"text-[10px] text-slate-400",children:["#",ce.sortOrder]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!ce.isDefault&&s.jsx("button",{onClick:()=>J(H),className:"p-2 text-amber-500 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors",title:V("adminSettings.setAsDefault"),"data-testid":`button-set-default-${H}`,children:s.jsx(tl,{size:16})}),s.jsx("button",{onClick:()=>B(H),className:"p-2 text-slate-400 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:V("common.edit"),"data-testid":`button-edit-status-${H}`,children:s.jsx(g0,{size:16})}),!ce.isSystem&&s.jsx("button",{onClick:()=>L(H),className:"p-2 text-red-400 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:V("common.delete"),"data-testid":`button-delete-status-${H}`,children:s.jsx(Wt,{size:16})})]})]})},H))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-blue-800 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2",children:[s.jsx(Ys,{size:16})," ",V("adminSettings.systemStatuses")]}),V("adminSettings.systemStatusesDesc")]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-amber-800 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2",children:[s.jsx(tl,{size:16})," ",V("adminSettings.defaultStatusInfo")]}),V("adminSettings.defaultStatusInfoDesc")]})]})]})},zie=({t:e})=>{const[t,r]=P.useState([{id:"ORDER_CONFIRMED",name:" ",nameEn:"Order Confirmed",type:"success",icon:"CheckCircle2",channels:["toast","email"],enabled:!0,message:{ar:"   ",en:"Your order has been confirmed",hi:"     ",zh:""},style:{bgColor:"#10b981",textColor:"#ffffff",borderColor:"#059669"}},{id:"ORDER_SHIPPED",name:" ",nameEn:"Order Shipped",type:"info",icon:"Truck",channels:["toast","email","sms"],enabled:!0,message:{ar:"  ",en:"Your order has been shipped",hi:"     ",zh:""},style:{bgColor:"#3b82f6",textColor:"#ffffff",borderColor:"#2563eb"}},{id:"PAYMENT_SUCCESS",name:" ",nameEn:"Payment Success",type:"success",icon:"DollarSign",channels:["toast","email"],enabled:!0,message:{ar:"   ",en:"Payment received successfully",hi:"   ",zh:""},style:{bgColor:"#059669",textColor:"#ffffff",borderColor:"#047857"}},{id:"LOW_STOCK",name:" ",nameEn:"Low Stock Alert",type:"warning",icon:"AlertCircle",channels:["toast","modal"],enabled:!0,message:{ar:":   ",en:"Alert: Low stock for product",hi:":  ",zh:""},style:{bgColor:"#f59e0b",textColor:"#ffffff",borderColor:"#d97706"}},{id:"ACCOUNT_APPROVED",name:"  ",nameEn:"Account Approved",type:"success",icon:"UserCheck",channels:["toast","email","sms"],enabled:!0,message:{ar:"   ",en:"Your account has been approved",hi:"    ",zh:""},style:{bgColor:"#22c55e",textColor:"#ffffff",borderColor:"#16a34a"}},{id:"NEW_MESSAGE",name:" ",nameEn:"New Message",type:"info",icon:"MessageSquare",channels:["toast","banner"],enabled:!0,message:{ar:"  ",en:"You have a new message",hi:"     ",zh:""},style:{bgColor:"#6366f1",textColor:"#ffffff",borderColor:"#4f46e5"}},{id:"ERROR_GENERAL",name:" ",nameEn:"General Error",type:"error",icon:"XCircle",channels:["toast","modal"],enabled:!0,message:{ar:"     ",en:"An error occurred, please try again",hi:"  ,    ",zh:""},style:{bgColor:"#ef4444",textColor:"#ffffff",borderColor:"#dc2626"}}]),[a,n]=P.useState(null),[i,l]=P.useState(null),c=[{value:"success",label:e("adminSettings.notifSuccess",""),icon:s.jsx(pi,{size:16,className:"text-green-500"})},{value:"error",label:e("adminSettings.notifError",""),icon:s.jsx(_n,{size:16,className:"text-red-500"})},{value:"warning",label:e("adminSettings.notifWarning",""),icon:s.jsx(Qn,{size:16,className:"text-amber-500"})},{value:"info",label:e("adminSettings.notifInfo",""),icon:s.jsx(el,{size:16,className:"text-blue-500"})}],u=[{value:"toast",label:e("adminSettings.channelToast"," "),icon:s.jsx($j,{size:14})},{value:"modal",label:e("adminSettings.channelModal"," "),icon:s.jsx(Bp,{size:14})},{value:"banner",label:e("adminSettings.channelBanner"," "),icon:s.jsx(cs,{size:14})},{value:"email",label:e("adminSettings.channelEmail"," "),icon:s.jsx(Gf,{size:14})},{value:"sms",label:e("adminSettings.channelSMS"," "),icon:s.jsx(vte,{size:14})}],f=(m,x)=>{r(v=>v.map(y=>y.id===m?{...y,...x}:y))},p=(m,x)=>{const v=t.find(b=>b.id===m);if(!v)return;const y=v.channels.includes(x)?v.channels.filter(b=>b!==x):[...v.channels,x];f(m,{channels:y})};return s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Wi,{className:"text-brand-600"})," ",e("adminSettings.notificationManagement"," ")]}),s.jsxs("button",{className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 flex items-center gap-2",children:[s.jsx(xr,{size:18})," ",e("adminSettings.addNotification"," ")]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(d8,{className:"text-blue-500 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-blue-800",children:e("adminSettings.notifSystemDesc","  ")}),s.jsx("p",{className:"text-sm text-blue-600",children:e("adminSettings.notifSystemDescDetail","     :    ")})]})]})}),s.jsx("div",{className:"space-y-4",children:t.map(m=>s.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${a===m.id?"border-brand-500 bg-brand-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:a===m.id?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-bold text-slate-800",children:e("adminSettings.editNotification"," ")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>l(m),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200",children:s.jsx(wa,{size:16})}),s.jsx("button",{onClick:()=>n(null),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200",children:s.jsx(Gr,{size:16})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifNameAr"," ")}),s.jsx("input",{type:"text",value:m.name,onChange:x=>f(m.id,{name:x.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifNameEn"," ")}),s.jsx("input",{type:"text",value:m.nameEn,onChange:x=>f(m.id,{nameEn:x.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifType"," ")}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:c.map(x=>s.jsxs("button",{onClick:()=>f(m.id,{type:x.value}),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${m.type===x.value?"border-brand-500 bg-brand-50":"border-slate-200"}`,children:[x.icon," ",x.label]},x.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifChannels"," ")}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:u.map(x=>s.jsxs("button",{onClick:()=>p(m.id,x.value),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${m.channels.includes(x.value)?"border-green-500 bg-green-50":"border-slate-200"}`,children:[x.icon," ",x.label]},x.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifMsgAr"," ")}),s.jsx("input",{type:"text",value:m.message.ar,onChange:x=>f(m.id,{message:{...m.message,ar:x.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifMsgEn"," ")}),s.jsx("input",{type:"text",value:m.message.en,dir:"ltr",onChange:x=>f(m.id,{message:{...m.message,en:x.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifMsgHi"," ")}),s.jsx("input",{type:"text",value:m.message.hi,dir:"ltr",onChange:x=>f(m.id,{message:{...m.message,hi:x.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifMsgZh"," ")}),s.jsx("input",{type:"text",value:m.message.zh,dir:"ltr",onChange:x=>f(m.id,{message:{...m.message,zh:x.target.value}}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifBgColor"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:m.style.bgColor,onChange:x=>f(m.id,{style:{...m.style,bgColor:x.target.value}}),className:"w-12 h-12 rounded-lg cursor-pointer border border-slate-200"}),s.jsx("input",{type:"text",value:m.style.bgColor,onChange:x=>f(m.id,{style:{...m.style,bgColor:x.target.value}}),className:"flex-1 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-mono",dir:"ltr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifTextColor"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:m.style.textColor,onChange:x=>f(m.id,{style:{...m.style,textColor:x.target.value}}),className:"w-12 h-12 rounded-lg cursor-pointer border border-slate-200"}),s.jsx("input",{type:"text",value:m.style.textColor,onChange:x=>f(m.id,{style:{...m.style,textColor:x.target.value}}),className:"flex-1 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-mono",dir:"ltr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:e("adminSettings.notifBorderColor"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"color",value:m.style.borderColor,onChange:x=>f(m.id,{style:{...m.style,borderColor:x.target.value}}),className:"w-12 h-12 rounded-lg cursor-pointer border border-slate-200"}),s.jsx("input",{type:"text",value:m.style.borderColor,onChange:x=>f(m.id,{style:{...m.style,borderColor:x.target.value}}),className:"flex-1 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-mono",dir:"ltr"})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:e("adminSettings.notifPreview"," ")}),s.jsxs("div",{className:"p-4 rounded-xl flex items-center gap-3 shadow-lg",style:{backgroundColor:m.style.bgColor,color:m.style.textColor,borderLeft:`4px solid ${m.style.borderColor}`},children:[m.type==="success"&&s.jsx(pi,{size:24}),m.type==="error"&&s.jsx(_n,{size:24}),m.type==="warning"&&s.jsx(Qn,{size:24}),m.type==="info"&&s.jsx(el,{size:24}),s.jsx("span",{className:"font-bold",children:m.message.ar})]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:m.style.bgColor,color:m.style.textColor},children:[m.type==="success"&&s.jsx(pi,{size:20}),m.type==="error"&&s.jsx(_n,{size:20}),m.type==="warning"&&s.jsx(Qn,{size:20}),m.type==="info"&&s.jsx(el,{size:20})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800",children:m.name}),s.jsx("p",{className:"text-sm text-slate-500",children:m.nameEn})]}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:m.channels.map(x=>s.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-xs font-bold",children:x},x))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>f(m.id,{enabled:!m.enabled}),className:`p-2 rounded-lg transition-colors ${m.enabled?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:m.enabled?s.jsx(tre,{size:16}):s.jsx(lo,{size:16})}),s.jsx("button",{onClick:()=>n(m.id),className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200",children:s.jsx(g0,{size:16})}),s.jsx("button",{className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:s.jsx(Wt,{size:16})})]})]})},m.id))})]})},qie=({t:e})=>{const[t,r]=P.useState([{id:"INVOICE",name:"",nameEn:"Invoice",type:"invoice",isDefault:!0,pageSize:"A4",orientation:"portrait",margins:{top:20,right:20,bottom:20,left:20},header:{enabled:!0,height:80,showLogo:!0,logoPosition:"right",showCompanyInfo:!0},footer:{enabled:!0,height:40,showPageNumbers:!0,customText:"  "},columns:["productName","sku","quantity","unitPrice","total"],fonts:{heading:"Cairo",body:"Cairo",size:{heading:16,body:12}},colors:{primary:"#1e3a5f",secondary:"#f59e0b",text:"#1f2937",border:"#e5e7eb"}},{id:"QUOTE",name:" ",nameEn:"Quotation",type:"quote",isDefault:!1,pageSize:"A4",orientation:"portrait",margins:{top:25,right:25,bottom:25,left:25},header:{enabled:!0,height:100,showLogo:!0,logoPosition:"center",showCompanyInfo:!0},footer:{enabled:!0,height:50,showPageNumbers:!0,customText:"    7 "},columns:["productName","sku","quantity","unitPrice","discount","total"],fonts:{heading:"Cairo",body:"Cairo",size:{heading:18,body:11}},colors:{primary:"#059669",secondary:"#fbbf24",text:"#374151",border:"#d1d5db"}},{id:"PACKING_LIST",name:" ",nameEn:"Packing List",type:"packing",isDefault:!1,pageSize:"A4",orientation:"portrait",margins:{top:15,right:15,bottom:15,left:15},header:{enabled:!0,height:60,showLogo:!0,logoPosition:"left",showCompanyInfo:!1},footer:{enabled:!1,height:0,showPageNumbers:!1,customText:""},columns:["productName","sku","quantity","location","notes"],fonts:{heading:"Cairo",body:"Cairo",size:{heading:14,body:10}},colors:{primary:"#7c3aed",secondary:"#a78bfa",text:"#4b5563",border:"#e5e7eb"}},{id:"DELIVERY_NOTE",name:" ",nameEn:"Delivery Note",type:"delivery",isDefault:!1,pageSize:"A4",orientation:"portrait",margins:{top:20,right:20,bottom:20,left:20},header:{enabled:!0,height:70,showLogo:!0,logoPosition:"right",showCompanyInfo:!0},footer:{enabled:!0,height:60,showPageNumbers:!1,customText:" : ____________"},columns:["productName","quantity","notes"],fonts:{heading:"Cairo",body:"Cairo",size:{heading:15,body:11}},colors:{primary:"#0891b2",secondary:"#06b6d4",text:"#1f2937",border:"#cbd5e1"}}]),[a,n]=P.useState(null),[i,l]=P.useState(null),c=[{value:"A4",label:"A4 (210  297 mm)"},{value:"A5",label:"A5 (148  210 mm)"},{value:"Letter",label:"Letter (8.5  11 in)"},{value:"Legal",label:"Legal (8.5  14 in)"}],u=[{value:"productName",label:e("adminSettings.colProductName"," ")},{value:"sku",label:e("adminSettings.colSku"," ")},{value:"quantity",label:e("adminSettings.colQuantity","")},{value:"unitPrice",label:e("adminSettings.colUnitPrice"," ")},{value:"discount",label:e("adminSettings.colDiscount","")},{value:"total",label:e("adminSettings.colTotal","")},{value:"location",label:e("adminSettings.colLocation","")},{value:"notes",label:e("adminSettings.colNotes","")}],f=(m,x)=>{r(v=>v.map(y=>y.id===m?{...y,...x}:y))},p=(m,x)=>{const v=t.find(b=>b.id===m);if(!v)return;const y=v.columns.includes(x)?v.columns.filter(b=>b!==x):[...v.columns,x];f(m,{columns:y})};return s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(qd,{className:"text-brand-600"})," ",e("adminSettings.printTemplateDesigner","  ")]}),s.jsxs("button",{className:"bg-brand-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 flex items-center gap-2",children:[s.jsx(xr,{size:18})," ",e("adminSettings.addTemplate"," ")]})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border border-purple-100",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bp,{className:"text-purple-500 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-purple-800",children:e("adminSettings.templateDesignerDesc","  ")}),s.jsx("p",{className:"text-sm text-purple-600",children:e("adminSettings.templateDesignerDescDetail","          ")})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(m=>s.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${a===m.id?"border-brand-500 bg-brand-50 md:col-span-2":"border-slate-200 bg-white hover:border-slate-300"}`,children:a===m.id?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-bold text-slate-800 text-lg",children:[e("adminSettings.editTemplate"," "),": ",m.name]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>l(m),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 flex items-center gap-2",children:[s.jsx(wa,{size:16})," ",e("adminSettings.preview","")]}),s.jsx("button",{onClick:()=>n(null),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200",children:s.jsx(Gr,{size:16})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h5",{className:"font-bold text-slate-700 flex items-center gap-2",children:[s.jsx(ds,{size:16})," ",e("adminSettings.pageSettings"," ")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:e("adminSettings.pageSize"," ")}),s.jsx("select",{value:m.pageSize,onChange:x=>f(m.id,{pageSize:x.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",children:c.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:e("adminSettings.orientation","")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>f(m.id,{orientation:"portrait"}),className:`flex-1 p-3 rounded-lg border-2 transition-all ${m.orientation==="portrait"?"border-brand-500 bg-brand-50":"border-slate-200"}`,children:[s.jsx("div",{className:"w-6 h-8 border-2 border-current mx-auto mb-1"}),s.jsx("span",{className:"text-xs",children:e("adminSettings.portrait","")})]}),s.jsxs("button",{onClick:()=>f(m.id,{orientation:"landscape"}),className:`flex-1 p-3 rounded-lg border-2 transition-all ${m.orientation==="landscape"?"border-brand-500 bg-brand-50":"border-slate-200"}`,children:[s.jsx("div",{className:"w-8 h-6 border-2 border-current mx-auto mb-1"}),s.jsx("span",{className:"text-xs",children:e("adminSettings.landscape","")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-2",children:e("adminSettings.margins"," (mm)")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.top","")}),s.jsx("input",{type:"number",value:m.margins.top,onChange:x=>f(m.id,{margins:{...m.margins,top:Number(x.target.value)}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.bottom","")}),s.jsx("input",{type:"number",value:m.margins.bottom,onChange:x=>f(m.id,{margins:{...m.margins,bottom:Number(x.target.value)}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.right","")}),s.jsx("input",{type:"number",value:m.margins.right,onChange:x=>f(m.id,{margins:{...m.margins,right:Number(x.target.value)}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.left","")}),s.jsx("input",{type:"number",value:m.margins.left,onChange:x=>f(m.id,{margins:{...m.margins,left:Number(x.target.value)}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h5",{className:"font-bold text-slate-700 flex items-center gap-2",children:[s.jsx(Bp,{size:16})," ",e("adminSettings.headerFooter"," ")]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold text-sm",children:e("adminSettings.header","")}),s.jsx("button",{onClick:()=>f(m.id,{header:{...m.header,enabled:!m.header.enabled}}),className:`p-2 rounded-lg ${m.header.enabled?"bg-green-100 text-green-600":"bg-slate-200 text-slate-400"}`,children:m.header.enabled?s.jsx(Gr,{size:14}):s.jsx(ar,{size:14})})]}),m.header.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:m.header.showLogo,onChange:x=>f(m.id,{header:{...m.header,showLogo:x.target.checked}}),className:"rounded"}),s.jsx("span",{className:"text-sm",children:e("adminSettings.showLogo"," ")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.logoPosition"," ")}),s.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(x=>s.jsxs("button",{onClick:()=>f(m.id,{header:{...m.header,logoPosition:x}}),className:`flex-1 p-2 rounded border ${m.header.logoPosition===x?"border-brand-500 bg-brand-50":"border-slate-200"}`,children:[x==="left"&&s.jsx(Bte,{size:14,className:"mx-auto"}),x==="center"&&s.jsx(Mte,{size:14,className:"mx-auto"}),x==="right"&&s.jsx(Fte,{size:14,className:"mx-auto"})]},x))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:m.header.showCompanyInfo,onChange:x=>f(m.id,{header:{...m.header,showCompanyInfo:x.target.checked}}),className:"rounded"}),s.jsx("span",{className:"text-sm",children:e("adminSettings.showCompanyInfo"," ")})]})]})]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-bold text-sm",children:e("adminSettings.footer","")}),s.jsx("button",{onClick:()=>f(m.id,{footer:{...m.footer,enabled:!m.footer.enabled}}),className:`p-2 rounded-lg ${m.footer.enabled?"bg-green-100 text-green-600":"bg-slate-200 text-slate-400"}`,children:m.footer.enabled?s.jsx(Gr,{size:14}):s.jsx(ar,{size:14})})]}),m.footer.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:m.footer.showPageNumbers,onChange:x=>f(m.id,{footer:{...m.footer,showPageNumbers:x.target.checked}}),className:"rounded"}),s.jsx("span",{className:"text-sm",children:e("adminSettings.showPageNumbers"," ")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.customText"," ")}),s.jsx("input",{type:"text",value:m.footer.customText,onChange:x=>f(m.id,{footer:{...m.footer,customText:x.target.value}}),className:"w-full p-2 bg-white border border-slate-200 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h5",{className:"font-bold text-slate-700 flex items-center gap-2",children:[s.jsx(Rw,{size:16})," ",e("adminSettings.colorsAndFonts"," ")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.primaryColor"," ")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"color",value:m.colors.primary,onChange:x=>f(m.id,{colors:{...m.colors,primary:x.target.value}}),className:"w-8 h-8 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:m.colors.primary,onChange:x=>f(m.id,{colors:{...m.colors,primary:x.target.value}}),className:"flex-1 p-1 text-xs bg-slate-50 border border-slate-200 rounded font-mono",dir:"ltr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.secondaryColor"," ")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"color",value:m.colors.secondary,onChange:x=>f(m.id,{colors:{...m.colors,secondary:x.target.value}}),className:"w-8 h-8 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:m.colors.secondary,onChange:x=>f(m.id,{colors:{...m.colors,secondary:x.target.value}}),className:"flex-1 p-1 text-xs bg-slate-50 border border-slate-200 rounded font-mono",dir:"ltr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.textColor"," ")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"color",value:m.colors.text,onChange:x=>f(m.id,{colors:{...m.colors,text:x.target.value}}),className:"w-8 h-8 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:m.colors.text,onChange:x=>f(m.id,{colors:{...m.colors,text:x.target.value}}),className:"flex-1 p-1 text-xs bg-slate-50 border border-slate-200 rounded font-mono",dir:"ltr"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.borderColor"," ")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"color",value:m.colors.border,onChange:x=>f(m.id,{colors:{...m.colors,border:x.target.value}}),className:"w-8 h-8 rounded cursor-pointer"}),s.jsx("input",{type:"text",value:m.colors.border,onChange:x=>f(m.id,{colors:{...m.colors,border:x.target.value}}),className:"flex-1 p-1 text-xs bg-slate-50 border border-slate-200 rounded font-mono",dir:"ltr"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500",children:e("adminSettings.fontSizes"," ")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-[10px] text-slate-400",children:e("adminSettings.headings","")}),s.jsx("input",{type:"number",value:m.fonts.size.heading,onChange:x=>f(m.id,{fonts:{...m.fonts,size:{...m.fonts.size,heading:Number(x.target.value)}}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-[10px] text-slate-400",children:e("adminSettings.bodyText","")}),s.jsx("input",{type:"number",value:m.fonts.size.body,onChange:x=>f(m.id,{fonts:{...m.fonts,size:{...m.fonts.size,body:Number(x.target.value)}}}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h5",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2",children:[s.jsx(lr,{size:16})," ",e("adminSettings.tableColumns"," ")]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:u.map(x=>s.jsx("button",{onClick:()=>p(m.id,x.value),className:`px-3 py-2 rounded-lg border-2 transition-all ${m.columns.includes(x.value)?"border-brand-500 bg-brand-50":"border-slate-200"}`,children:x.label},x.value))})]}),s.jsxs("div",{className:"bg-slate-100 p-4 rounded-xl",children:[s.jsx("h5",{className:"font-bold text-slate-700 mb-3",children:e("adminSettings.templatePreview"," ")}),s.jsxs("div",{className:"bg-white border-2 rounded-lg mx-auto overflow-hidden",style:{width:m.orientation==="portrait"?"200px":"280px",height:m.orientation==="portrait"?"280px":"200px",borderColor:m.colors.border},children:[m.header.enabled&&s.jsx("div",{className:"p-2 border-b",style:{borderColor:m.colors.border,backgroundColor:m.colors.primary+"10"},children:s.jsx("div",{className:`flex items-center ${m.header.logoPosition==="center"?"justify-center":m.header.logoPosition==="right"?"justify-end":"justify-start"}`,children:m.header.showLogo&&s.jsx("div",{className:"w-6 h-6 bg-slate-300 rounded"})})}),s.jsxs("div",{className:"p-2 flex-1",children:[s.jsx("div",{className:"h-2 bg-slate-200 rounded w-3/4 mb-1"}),s.jsx("div",{className:"h-1.5 bg-slate-100 rounded w-1/2 mb-2"}),s.jsxs("div",{className:"border rounded",style:{borderColor:m.colors.border},children:[s.jsx("div",{className:"h-1.5 rounded-t",style:{backgroundColor:m.colors.primary}}),[1,2,3].map(x=>s.jsx("div",{className:"h-1.5 border-t flex gap-1 px-1",style:{borderColor:m.colors.border},children:m.columns.slice(0,4).map((v,y)=>s.jsx("div",{className:"flex-1 bg-slate-100 rounded-sm m-0.5"},y))},x))]})]}),m.footer.enabled&&s.jsx("div",{className:"p-1 border-t text-center",style:{borderColor:m.colors.border},children:s.jsx("div",{className:"h-1 bg-slate-200 rounded w-1/3 mx-auto"})})]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center",style:{backgroundColor:m.colors.primary+"15"},children:s.jsx(lr,{size:24,style:{color:m.colors.primary}})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800",children:m.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[m.nameEn,"  ",m.pageSize]})]}),m.isDefault&&s.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded text-xs font-bold",children:e("adminSettings.default","")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>n(m.id),className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200",children:s.jsx(g0,{size:16})}),s.jsx("button",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200",children:s.jsx(Lp,{size:16})}),!m.isDefault&&s.jsx("button",{className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:s.jsx(Wt,{size:16})})]})]})},m.id))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-purple-800 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2",children:[s.jsx(qd,{size:16})," ",e("adminSettings.printTip"," ")]}),e("adminSettings.printTipDesc","            ")]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-800 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold mb-2",children:[s.jsx(tg,{size:16})," ",e("adminSettings.pdfExport"," PDF")]}),e("adminSettings.pdfExportDesc","       PDF  ")]})]})]})},$ie=({settings:e,onUpdate:t,onSave:r,saving:a})=>{const[n,i]=P.useState(!1),[l,c]=P.useState(null),[u,f]=P.useState(!1),[p,m]=P.useState("initial"),[x,v]=P.useState(!1),{addToast:y}=qt(),{t:b}=Ea(),S=async E=>{var A;const O=(A=E.target.files)==null?void 0:A[0];if(O)try{const T=await O.text(),N=JSON.parse(T),L=["products","orders","customers","settings"].filter(k=>!(k in N));if(L.length>0){y(`    .  : ${L.join(", ")}`,"error");return}if(!(Array.isArray(N.products)&&N.products.length>0||Array.isArray(N.orders)&&N.orders.length>0||Array.isArray(N.customers)&&N.customers.length>0)){y("         ","error");return}if(!N.exportDate){y("     -       ","error");return}c(O),i(!0),y("       ","success")}catch{y("     -     JSON ","error")}},_=async()=>{try{const E=await de.exportAllData(),O=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),A=URL.createObjectURL(O),T=document.createElement("a");T.href=A,T.download=`sinicar_backup_${new Date().toISOString().split("T")[0]}.json`,T.click(),URL.revokeObjectURL(A),y("    ","success")}catch{y("     ","error")}},w=async()=>{if(!n){y("      ","error");return}v(!0);try{await de.resetAllData(),y("    ","success"),f(!1),m("initial"),i(!1),c(null),window.location.reload()}catch{y("    ","error")}finally{v(!1)}};return s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6 animate-slide-up",children:[s.jsx("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Ld,{className:"text-brand-600"}),"  "]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"    "})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(Ow,{size:20,className:"text-green-500"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:_,className:"p-6 bg-green-50 border border-green-200 rounded-xl hover:bg-green-100 transition-all text-right",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(t8,{size:24,className:"text-green-600"}),s.jsx("span",{className:"font-bold text-green-800",children:"  "})]}),s.jsx("p",{className:"text-sm text-green-600",children:"     JSON"})]}),s.jsxs("label",{className:"p-6 bg-blue-50 border border-blue-200 rounded-xl hover:bg-blue-100 transition-all cursor-pointer text-right block",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ow,{size:24,className:"text-blue-600"}),s.jsx("span",{className:"font-bold text-blue-800",children:"  "}),n&&s.jsx(pi,{size:20,className:"text-green-500"})]}),s.jsx("p",{className:"text-sm text-blue-600",children:l?` : ${l.name}`:"    JSON"}),s.jsx("input",{type:"file",accept:".json",onChange:S,className:"hidden"})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(sa,{size:20,className:"text-red-500"}),"    ()"]}),s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(v0,{size:24,className:"text-red-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-800",children:":      !"}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"     :      ."}),s.jsx("p",{className:"text-sm text-red-700 font-bold mt-2",children:"       ."})]})]})}),u?s.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[p==="initial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-slate-700 font-bold",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>m("confirm"),className:"flex-1 bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700",children:" "}),s.jsx("button",{onClick:()=>{f(!1),m("initial")},className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-lg font-bold hover:bg-slate-300",children:""})]})]}),p==="confirm"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-red-700 font-bold",children:"  :    !"}),s.jsx("p",{className:"text-sm text-slate-600",children:' "" :'}),s.jsx("input",{type:"text",className:"w-full p-3 border border-slate-300 rounded-lg text-center font-bold",placeholder:" ",onChange:E=>{E.target.value===""&&m("final")}}),s.jsx("button",{onClick:()=>{f(!1),m("initial")},className:"w-full bg-slate-200 text-slate-700 py-3 rounded-lg font-bold hover:bg-slate-300",children:""})]}),p==="final"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-100 border border-red-300 rounded-lg text-center",children:[s.jsx(sa,{size:48,className:"text-red-600 mx-auto mb-2"}),s.jsx("p",{className:"text-red-800 font-bold",children:"  !"})]}),s.jsx("button",{onClick:w,disabled:x,className:"w-full bg-red-700 text-white py-4 rounded-lg font-bold hover:bg-red-800 disabled:opacity-50 flex items-center justify-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx(b0,{size:20,className:"animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wt,{size:20}),"  "]})}),s.jsx("button",{onClick:()=>{f(!1),m("initial")},className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700",children:"  -  "})]})]}):s.jsxs("button",{onClick:()=>f(!0),disabled:!n,className:`w-full p-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all ${n?"bg-red-600 text-white hover:bg-red-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[s.jsx(Wt,{size:20}),n?"  ":"   "]})]})]})},S8=P.createContext(void 0),Hie=({children:e,initialAdminUser:t=null})=>{const[r,a]=P.useState(t),[n,i]=P.useState(null),[l,c]=P.useState(!0),u=P.useCallback(b=>{a(b)},[]),f=P.useCallback(async b=>{if(!(b!=null&&b.roleId)){i(null),c(!1);return}c(!0);try{const _=(await de.getRoles()).find(w=>w.id===b.roleId);i(_||null)}catch(S){console.error("Failed to load role:",S),i(null)}finally{c(!1)}},[]);P.useEffect(()=>{t&&a(t)},[t]),P.useEffect(()=>{f(r)},[r,f]);const p=P.useMemo(()=>n?n.isSystem&&n.name===" ":!1,[n]),m=P.useCallback((b,S)=>{if(!r||!r.isActive||!n)return!1;if(p)return!0;const _=n.permissions.find(w=>w.resource===b);return _?_.actions.includes(S):!1},[r,n,p]),x=P.useCallback(b=>m(b,"view"),[m]),v=P.useCallback(async()=>{await f(r)},[f,r]),y={adminUser:r,role:n,loading:l,hasPermission:m,canAccess:x,isSuperAdmin:p,refreshPermissions:v,setAdminUser:u};return s.jsx(S8.Provider,{value:y,children:e})},hm=()=>{const e=P.useContext(S8);if(!e)throw new Error("usePermission must be used within a PermissionProvider");return e},q4={[Je.PENDING]:"bg-yellow-100 text-yellow-800",[Je.APPROVED]:"bg-blue-100 text-blue-800",[Je.SHIPPED]:"bg-indigo-100 text-indigo-800",[Je.DELIVERED]:"bg-green-100 text-green-800",[Je.REJECTED]:"bg-red-100 text-red-800",[Je.CANCELLED]:"bg-gray-100 text-gray-800",NEW:"bg-slate-100 text-slate-600",SENT_TO_WAREHOUSE:"bg-orange-100 text-orange-700",WAITING_PAYMENT:"bg-amber-100 text-amber-700",PAYMENT_CONFIRMED:"bg-emerald-100 text-emerald-700",SALES_INVOICE_CREATED:"bg-cyan-100 text-cyan-700",READY_FOR_SHIPMENT:"bg-purple-100 text-purple-700",COMPLETED_INTERNAL:"bg-teal-100 text-teal-800",CANCELLED_INTERNAL:"bg-pink-100 text-pink-800"},Vie=({orders:e,users:t,onUpdate:r})=>{const{t:a}=na(),n={[Je.PENDING]:a("adminOrders.statusLabels.pending"),[Je.APPROVED]:a("adminOrders.statusLabels.approved"),[Je.SHIPPED]:a("adminOrders.statusLabels.shipped"),[Je.DELIVERED]:a("adminOrders.statusLabels.delivered"),[Je.REJECTED]:a("adminOrders.statusLabels.rejected"),[Je.CANCELLED]:a("adminOrders.statusLabels.cancelled")},i={NEW:a("adminOrders.internalStatusLabels.new"),SENT_TO_WAREHOUSE:a("adminOrders.internalStatusLabels.sentToWarehouse"),WAITING_PAYMENT:a("adminOrders.internalStatusLabels.waitingPayment"),PAYMENT_CONFIRMED:a("adminOrders.internalStatusLabels.paymentConfirmed"),SALES_INVOICE_CREATED:a("adminOrders.internalStatusLabels.salesInvoiceCreated"),READY_FOR_SHIPMENT:a("adminOrders.internalStatusLabels.readyForShipment"),COMPLETED_INTERNAL:a("adminOrders.internalStatusLabels.completedInternal"),CANCELLED_INTERNAL:a("adminOrders.internalStatusLabels.cancelledInternal")},{hasPermission:l}=hm(),c=l("orders","edit"),u=l("orders","approve"),[f,p]=P.useState(""),[m,x]=P.useState("ALL"),[v,y]=P.useState("ALL"),[b,S]=P.useState(1),_=20,[w,E]=P.useState(null),[O,A]=P.useState(""),[T,N]=P.useState(!1),{addToast:D}=qt(),L=P.useMemo(()=>({total:e.length,new:e.filter(R=>!R.internalStatus||R.internalStatus==="NEW").length,processing:e.filter(R=>R.status===Je.APPROVED&&R.internalStatus!=="COMPLETED_INTERNAL").length,ready:e.filter(R=>R.internalStatus==="READY_FOR_SHIPMENT").length}),[e]),M=P.useMemo(()=>{let R=[...e];if(f){const W=f.toLowerCase();R=R.filter(X=>{var B;return X.id.toLowerCase().includes(W)||((B=X.createdByName)==null?void 0:B.toLowerCase().includes(W))||X.totalAmount.toString().includes(W)})}return m!=="ALL"&&(R=R.filter(W=>W.status===m)),v!=="ALL"&&(R=R.filter(W=>(W.internalStatus||"NEW")===v)),R.sort((W,X)=>new Date(X.date).getTime()-new Date(W.date).getTime())},[e,f,m,v]),k=P.useMemo(()=>{const R=(b-1)*_;return M.slice(R,R+_)},[M,b]),I=Math.ceil(M.length/_),V=async R=>{if(w){N(!0);try{await de.adminUpdateOrderStatus(w.id,R,"Admin"),D(a("adminOrders.externalStatusUpdated"),"success"),r(),E(W=>W?{...W,status:R}:null)}catch{D(a("adminOrders.updateFailed"),"error")}finally{N(!1)}}},q=async R=>{if(w){N(!0);try{await de.updateOrderInternalStatus(w.id,R,"Admin",O),D(a("adminOrders.internalStatusUpdated"),"success"),r();const W=(await de.getAllOrders()).find(X=>X.id===w.id);W&&E(W)}catch{D(a("adminOrders.updateFailed"),"error")}finally{N(!1)}}},z=R=>{E(R),A(R.internalNotes||"")};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase",children:a("adminOrders.newOrders")}),s.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:L.new})]}),s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:s.jsx(lr,{size:20})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase",children:a("adminOrders.inProgress")}),s.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:L.processing})]}),s.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 rounded-lg",children:s.jsx(Xr,{size:20})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase",children:a("adminOrders.readyToShip")}),s.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:L.ready})]}),s.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg",children:s.jsx(rl,{size:20})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase",children:a("adminOrders.totalOrders")}),s.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:L.total})]}),s.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg",children:s.jsx(qp,{size:20})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col md:flex-row gap-4 items-center justify-between sticky top-20 z-10",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ur,{className:"absolute right-3 top-3 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:a("adminOrders.searchOrder"),className:"w-full pr-10 pl-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#C8A04F] focus:border-[#C8A04F] transition-all text-slate-800 dark:text-white",value:f,onChange:R=>p(R.target.value),"data-testid":"input-order-search"})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[s.jsxs("select",{className:"px-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm font-bold text-slate-700 dark:text-white focus:outline-none",value:m,onChange:R=>x(R.target.value),"data-testid":"select-status-filter",children:[s.jsx("option",{value:"ALL",children:a("adminOrders.allStatuses")}),Object.entries(n).map(([R,W])=>s.jsx("option",{value:R,children:W},R))]}),s.jsxs("select",{className:"px-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm font-bold text-slate-700 dark:text-white focus:outline-none",value:v,onChange:R=>y(R.target.value),"data-testid":"select-internal-status-filter",children:[s.jsx("option",{value:"ALL",children:a("adminOrders.allInternalStatuses")}),Object.entries(i).map(([R,W])=>s.jsx("option",{value:R,children:W},R))]})]})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm min-h-[400px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-[#0B1B3A] text-white font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:a("adminOrders.orderNumber")}),s.jsx("th",{className:"p-4",children:a("adminOrders.customer")}),s.jsx("th",{className:"p-4",children:a("adminOrders.date")}),s.jsx("th",{className:"p-4",children:a("adminOrders.total")}),s.jsx("th",{className:"p-4 text-center",children:a("adminOrders.status")}),s.jsx("th",{className:"p-4 text-center",children:a("adminOrders.internalStatus")}),s.jsx("th",{className:"p-4 text-center",children:a("adminOrders.actions")})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[k.map(R=>s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-[#C8A04F]",children:R.id}),s.jsx("td",{className:"p-4 font-bold text-slate-700 dark:text-slate-200",children:R.createdByName||R.userId}),s.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400 text-xs",dir:"ltr",children:Dr(R.date)}),s.jsxs("td",{className:"p-4 font-black text-slate-800 dark:text-white",children:[R.totalAmount.toLocaleString()," ",a("common.currency")]}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${q4[R.status]}`,children:n[R.status]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${q4[R.internalStatus||"NEW"]}`,children:i[R.internalStatus||"NEW"]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>z(R),className:"text-[#0B1B3A] dark:text-[#C8A04F] hover:bg-slate-100 dark:hover:bg-slate-700 p-2 rounded-lg transition-colors flex items-center justify-center gap-1 mx-auto font-bold text-xs","data-testid":`button-view-order-${R.id}`,children:[s.jsx(wa,{size:16})," ",a("adminOrders.details")]})})]},R.id)),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-10 text-center text-slate-400",children:a("adminOrders.noOrders")})})]})]})}),I>1&&s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsx("button",{disabled:b===1,onClick:()=>S(R=>R-1),className:"p-2 rounded-lg border bg-white dark:bg-slate-700 disabled:opacity-50 hover:bg-slate-50 dark:hover:bg-slate-600","data-testid":"button-prev-page",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:[a("common.page")," ",b," ",a("common.of")," ",I]}),s.jsx("button",{disabled:b===I,onClick:()=>S(R=>R+1),className:"p-2 rounded-lg border bg-white dark:bg-slate-700 disabled:opacity-50 hover:bg-slate-50 dark:hover:bg-slate-600","data-testid":"button-next-page",children:s.jsx(bi,{size:18})})]}),s.jsx(gr,{isOpen:!!w,onClose:()=>E(null),title:w?`${a("adminOrders.orderDetails")} #${w.id}`:"",maxWidth:"max-w-4xl",children:w&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-xl border border-slate-200 dark:border-slate-600",children:[s.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(lr,{size:16})," ",a("adminOrders.customerInfo")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase",children:a("adminOrders.name")}),s.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:w.createdByName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase",children:a("adminOrders.userId")}),s.jsx("p",{className:"font-mono text-slate-700 dark:text-slate-300",children:w.userId})]})]})]}),s.jsxs("div",{className:"border border-slate-200 dark:border-slate-600 rounded-xl overflow-hidden",children:[s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:a("adminOrders.product")}),s.jsx("th",{className:"p-3 text-center",children:a("adminOrders.quantity")}),s.jsx("th",{className:"p-3 text-center",children:a("adminOrders.price")}),s.jsx("th",{className:"p-3 text-center",children:a("adminOrders.itemTotal")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-600",children:w.items.map((R,W)=>s.jsxs("tr",{children:[s.jsxs("td",{className:"p-3",children:[s.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:R.name}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:R.partNumber})]}),s.jsx("td",{className:"p-3 text-center font-bold text-slate-700 dark:text-slate-200",children:R.quantity}),s.jsx("td",{className:"p-3 text-center text-slate-700 dark:text-slate-200",children:R.price}),s.jsx("td",{className:"p-3 text-center font-bold text-[#C8A04F]",children:(R.price*R.quantity).toLocaleString()})]},W))})]}),s.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 border-t border-slate-200 dark:border-slate-600 flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-slate-600 dark:text-slate-300",children:a("adminOrders.grandTotal")}),s.jsxs("span",{className:"font-black text-xl text-slate-900 dark:text-white",children:[w.totalAmount.toLocaleString()," ",a("common.currency")]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-600",children:[s.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(Fd,{size:16})," ",a("adminOrders.statusHistory")]}),s.jsxs("div",{className:"space-y-4 relative before:absolute before:right-2 before:top-2 before:bottom-2 before:w-0.5 before:bg-slate-100 dark:before:bg-slate-700",children:[(w.internalStatusHistory||[]).slice().reverse().map((R,W)=>s.jsxs("div",{className:"relative pr-6",children:[s.jsx("div",{className:"absolute right-0 top-1 w-4 h-4 bg-slate-200 dark:bg-slate-600 rounded-full border-2 border-white dark:border-slate-800"}),s.jsx("p",{className:"text-xs text-slate-400 font-mono mb-0.5",children:Dr(R.changedAt)}),s.jsxs("p",{className:"text-sm font-bold text-slate-800 dark:text-white",children:[R.changedBy,": ",a("adminOrders.changedStatusTo")," ",s.jsx("span",{className:"text-[#C8A04F]",children:i[R.status]})]})]},W)),(!w.internalStatusHistory||w.internalStatusHistory.length===0)&&s.jsx("p",{className:"text-center text-slate-400 text-sm",children:a("adminOrders.noHistory")})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-600 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(wa,{size:18,className:"text-blue-500"})," ",a("adminOrders.externalStatus")]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:a("adminOrders.externalStatusDesc")}),u?s.jsx("select",{className:"w-full p-3 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg font-bold text-slate-700 dark:text-white mb-3",value:w.status,onChange:R=>V(R.target.value),disabled:T,"data-testid":"select-external-status",children:Object.entries(n).map(([R,W])=>s.jsx("option",{value:R,children:W},R))}):s.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 flex items-center gap-2",children:[s.jsx(Yr,{size:16,className:"text-slate-400"}),s.jsx("span",{className:"text-sm font-bold text-slate-500 dark:text-slate-400",children:a("adminOrders.noStatusPermission")})]})]}),s.jsxs("div",{className:"bg-[#0B1B3A] p-5 rounded-xl border border-slate-700 shadow-lg text-white",children:[s.jsxs("h4",{className:"font-bold text-[#C8A04F] mb-3 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",a("adminOrders.internalStatusTitle")]}),s.jsx("p",{className:"text-xs text-slate-400 mb-3",children:a("adminOrders.internalStatusDesc")}),c?s.jsxs(s.Fragment,{children:[s.jsx("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg font-bold text-white mb-3 focus:ring-1 focus:ring-[#C8A04F]",value:w.internalStatus||"NEW",onChange:R=>q(R.target.value),disabled:T,"data-testid":"select-internal-status",children:Object.entries(i).map(([R,W])=>s.jsx("option",{value:R,children:W},R))}),s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2 mt-4",children:a("adminOrders.internalNotes")}),s.jsx("textarea",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-sm text-white focus:outline-none focus:border-[#C8A04F]",rows:3,placeholder:a("adminOrders.notesPlaceholder"),value:O,onChange:R=>A(R.target.value),"data-testid":"textarea-internal-notes"}),s.jsx("button",{onClick:()=>q(w.internalStatus||"NEW"),className:"w-full mt-3 bg-[#C8A04F] text-[#0B1B3A] py-2 rounded-lg font-bold text-sm hover:bg-[#b08d45] transition-colors",disabled:T,"data-testid":"button-save-notes",children:a("adminOrders.saveNotes")})]}):s.jsxs("div",{className:"p-3 bg-slate-700 rounded-lg border border-slate-600 flex items-center gap-2",children:[s.jsx(Yr,{size:16,className:"text-slate-400"}),s.jsx("span",{className:"text-sm font-bold text-slate-400",children:a("adminOrders.noInternalPermission")})]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-100 dark:border-red-800",children:[s.jsxs("h4",{className:"font-bold text-red-800 dark:text-red-400 mb-2 flex items-center gap-2",children:[s.jsx(Qn,{size:16})," ",a("adminOrders.dangerZone")]}),s.jsx("button",{className:`w-full py-2 rounded-lg font-bold text-sm transition-colors ${u?"bg-white dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50":"bg-slate-100 dark:bg-slate-700 text-slate-400 cursor-not-allowed"}`,disabled:!u,"data-testid":"button-cancel-order",children:a(u?"adminOrders.cancelOrder":"adminOrders.noPermission")})]})]})]})})]})},Gie=e=>({CR_CERTIFICATE:e("adminAccountRequests.docTypes.crCertificate",{defaultValue:" "}),VAT_CERTIFICATE:e("adminAccountRequests.docTypes.vatCertificate",{defaultValue:"  "}),NATIONAL_ID:e("adminAccountRequests.docTypes.nationalId",{defaultValue:" "}),AUTHORIZATION_LETTER:e("adminAccountRequests.docTypes.authLetter",{defaultValue:" "}),OTHER:e("adminAccountRequests.docTypes.other",{defaultValue:" "})}),Wie=e=>({NEW:e("adminAccountRequests.status.new",{defaultValue:" "}),UNDER_REVIEW:e("adminAccountRequests.status.underReview",{defaultValue:" "}),APPROVED:e("adminAccountRequests.status.approved",{defaultValue:" "}),REJECTED:e("adminAccountRequests.status.rejected",{defaultValue:""}),ON_HOLD:e("adminAccountRequests.status.onHold",{defaultValue:""})}),Xie={NEW:"bg-blue-100 text-blue-700 border-blue-200",UNDER_REVIEW:"bg-yellow-100 text-yellow-700 border-yellow-200",APPROVED:"bg-green-100 text-green-700 border-green-200",REJECTED:"bg-red-100 text-red-700 border-red-200",ON_HOLD:"bg-gray-100 text-gray-600 border-gray-200"},Yie=({requests:e,onUpdate:t})=>{const[r,a]=P.useState(""),[n,i]=P.useState("ALL"),[l,c]=P.useState(null),[u,f]=P.useState({status:"UNDER_REVIEW",priceLevel:"LEVEL_3",customerType:"OTHER",searchPointsInitial:50,searchPointsMonthly:50,portalAccessStart:new Date().toISOString().split("T")[0],portalAccessEnd:"",canCreateStaff:!1,maxStaffUsers:3,adminNotes:"",openEnded:!0}),{addToast:p}=qt(),{t:m}=na(),x=P.useMemo(()=>Wie(m),[m]),v=P.useMemo(()=>Gie(m),[m]),y=P.useMemo(()=>({new:e.filter(w=>w.status==="NEW").length,review:e.filter(w=>w.status==="UNDER_REVIEW").length,approved:e.filter(w=>w.status==="APPROVED").length,rejected:e.filter(w=>w.status==="REJECTED").length}),[e]),b=P.useMemo(()=>{let w=[...e];if(r){const E=r.toLowerCase();w=w.filter(O=>(O.businessName||O.fullName||"").toLowerCase().includes(E)||O.phone.includes(E))}return n!=="ALL"&&(w=w.filter(E=>E.status===n)),w.sort((E,O)=>new Date(O.createdAt).getTime()-new Date(E.createdAt).getTime())},[e,r,n]),S=w=>{c(w),f({status:w.status==="NEW"?"UNDER_REVIEW":w.status,priceLevel:w.assignedPriceLevel||"LEVEL_2",customerType:w.assignedCustomerType||"PARTS_SHOP",searchPointsInitial:w.searchPointsInitial||50,searchPointsMonthly:w.searchPointsMonthly||0,portalAccessStart:w.portalAccessStart||new Date().toISOString().split("T")[0],portalAccessEnd:w.portalAccessEnd||"",openEnded:!w.portalAccessEnd,canCreateStaff:w.canCreateStaff||!1,maxStaffUsers:w.maxStaffUsers||3,adminNotes:w.adminNotes||""})},_=async()=>{if(l)try{await de.reviewAccountRequest(l.id,{status:u.status,adminNotes:u.adminNotes,assignedPriceLevel:u.priceLevel,assignedCustomerType:u.customerType,searchPointsInitial:u.searchPointsInitial,searchPointsMonthly:u.searchPointsMonthly,portalAccessStart:u.portalAccessStart,portalAccessEnd:u.openEnded?null:u.portalAccessEnd,canCreateStaff:u.canCreateStaff,maxStaffUsers:u.maxStaffUsers,reviewedBy:"Admin"}),p(m("adminAccountRequests.toast.saveSuccess","   "),"success"),t(),c(null)}catch{p(m("adminAccountRequests.toast.saveError","   "),"error")}};return s.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:m("adminAccountRequests.stats.newRequests"," ")}),s.jsx("p",{className:"text-2xl font-black text-blue-600",children:y.new})]}),s.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(fc,{size:20})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:m("adminAccountRequests.stats.underReview"," ")}),s.jsx("p",{className:"text-2xl font-black text-yellow-600",children:y.review})]}),s.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-600 rounded-lg",children:s.jsx(Xr,{size:20})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:m("adminAccountRequests.stats.approved"," ")}),s.jsx("p",{className:"text-2xl font-black text-green-600",children:y.approved})]}),s.jsx("div",{className:"p-3 bg-green-50 text-green-600 rounded-lg",children:s.jsx(dr,{size:20})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:m("adminAccountRequests.stats.rejected","")}),s.jsx("p",{className:"text-2xl font-black text-red-600",children:y.rejected})]}),s.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg",children:s.jsx(_n,{size:20})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ur,{className:"absolute right-3 top-3 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:m("adminAccountRequests.searchPlaceholder","   ..."),className:"w-full pr-10 pl-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-300 transition-all",value:r,onChange:w=>a(w.target.value)})]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:s.jsxs("select",{className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 focus:outline-none w-full md:w-auto",value:n,onChange:w=>i(w.target.value),children:[s.jsx("option",{value:"ALL",children:m("adminAccountRequests.allStatuses"," ")}),Object.entries(x).map(([w,E])=>s.jsx("option",{value:w,children:E},w))]})})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm min-h-[400px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:m("adminAccountRequests.table.businessName","  / ")}),s.jsx("th",{className:"p-4",children:m("adminAccountRequests.table.activityType"," ")}),s.jsx("th",{className:"p-4",children:m("adminAccountRequests.table.city","")}),s.jsx("th",{className:"p-4",children:m("adminAccountRequests.table.date","")}),s.jsx("th",{className:"p-4 text-center",children:m("adminAccountRequests.table.status","")}),s.jsx("th",{className:"p-4 text-center",children:m("adminAccountRequests.table.actions","")})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[b.map(w=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsxs("td",{className:"p-4",children:[s.jsx("p",{className:"font-bold text-slate-800",children:w.businessName||w.fullName}),s.jsx("p",{className:"text-xs text-slate-500 font-mono mt-0.5",children:w.phone})]}),s.jsx("td",{className:"p-4 text-slate-600 font-medium",children:w.category==="SPARE_PARTS_SHOP"?m("adminAccountRequests.categories.spareParts","  "):w.category==="RENTAL_COMPANY"?m("adminAccountRequests.categories.rental"," "):w.category==="INSURANCE_COMPANY"?m("adminAccountRequests.categories.insurance"," "):m("adminAccountRequests.categories.agent","")}),s.jsx("td",{className:"p-4 text-slate-600",children:w.city||w.representativeRegion}),s.jsx("td",{className:"p-4 text-slate-500 text-xs",dir:"ltr",children:Dr(w.createdAt)}),s.jsxs("td",{className:"p-4 text-center",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${Xie[w.status]}`,children:x[w.status]}),w.status==="APPROVED"&&s.jsx("div",{className:"text-[10px] text-green-600 font-bold mt-1",children:m("adminAccountRequests.approvedAccount"," ")})]}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>S(w),className:"text-slate-600 hover:text-brand-600 bg-slate-100 hover:bg-slate-200 p-2 rounded-lg transition-colors flex items-center justify-center gap-1 mx-auto font-bold text-xs",children:[s.jsx(wa,{size:16})," ",m("adminAccountRequests.view","")]})})]},w.id)),b.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-10 text-center text-slate-400",children:m("adminAccountRequests.noMatchingRequests","   ")})})]})]})}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm transition-opacity",onClick:()=>c(null)}),s.jsxs("div",{className:"fixed inset-y-0 left-0 w-full md:w-[600px] bg-slate-50 z-50 shadow-2xl transform transition-transform duration-300 ease-in-out border-r border-slate-200 flex flex-col",children:[s.jsxs("div",{className:"p-6 bg-white border-b border-slate-200 flex justify-between items-center shadow-sm z-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-800",children:m("adminAccountRequests.panel.title","  ")}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono mt-1",children:["REF: ",l.id]})]}),s.jsx("button",{onClick:()=>c(null),className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200 text-slate-600",children:s.jsx(ar,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[s.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2 border-b border-slate-100 pb-2",children:[s.jsx(lr,{size:18,className:"text-blue-600"})," ",m("adminAccountRequests.panel.customerData"," ")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.businessName"," ")}),s.jsx("span",{className:"font-bold text-slate-800 text-base",children:l.businessName||l.fullName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.activity","")}),s.jsx("span",{className:"font-bold text-slate-800",children:l.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.city","")}),s.jsx("span",{className:"font-bold text-slate-800",children:l.city||l.representativeRegion})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.contactNumber"," ")}),s.jsx("span",{className:"font-mono font-bold text-slate-800",children:l.phone})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.crNumber"," ")}),s.jsx("span",{className:"font-mono text-slate-800",children:l.commercialRegNumber||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:m("adminAccountRequests.panel.vatNumber"," ")}),s.jsx("span",{className:"font-mono text-slate-800",children:l.vatNumber||"-"})]})]}),l.notes&&s.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 text-sm text-slate-600",children:[s.jsxs("span",{className:"block text-xs font-bold text-slate-400 mb-1",children:[m("adminAccountRequests.panel.customerNotes"," "),":"]}),l.notes]})]}),l.documents&&l.documents.length>0&&s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm space-y-4",children:[s.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2 border-b border-slate-100 pb-2",children:[s.jsx(kw,{size:18,className:"text-purple-600"})," ",m("adminAccountRequests.panel.attachedDocuments"," ")," (",l.documents.length,")"]}),s.jsx("div",{className:"grid gap-3",children:l.documents.map(w=>{const E=w.fileType.startsWith("image/"),O=w.fileSize<1024*1024?(w.fileSize/1024).toFixed(1)+" KB":(w.fileSize/(1024*1024)).toFixed(1)+" MB";return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200 hover:border-purple-300 transition-colors",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${E?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:E?s.jsx(x0,{size:20}):s.jsx(kw,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:v[w.type]||w.type}),s.jsxs("p",{className:"text-xs text-slate-500",children:[w.name,"  ",O]})]}),w.base64Data&&s.jsx("a",{href:w.base64Data,target:"_blank",rel:"noopener noreferrer",download:w.name,className:"p-2 bg-purple-100 rounded-lg text-purple-600 hover:bg-purple-200 transition-colors","data-testid":`view-doc-${w.id}`,children:s.jsx(Zl,{size:16})})]},w.id)})})]}),s.jsxs("div",{className:"bg-[#0B1B3A] p-6 rounded-2xl border border-slate-700 shadow-lg text-white space-y-6",children:[s.jsxs("h4",{className:"font-bold text-[#C8A04F] flex items-center gap-2 border-b border-slate-700 pb-2",children:[s.jsx(Ws,{size:18})," ",m("adminAccountRequests.panel.adminDecision","  ")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:m("adminAccountRequests.form.requestStatus"," ")}),s.jsxs("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white font-bold focus:ring-1 focus:ring-[#C8A04F]",value:u.status,onChange:w=>f({...u,status:w.target.value}),children:[s.jsx("option",{value:"NEW",children:m("adminAccountRequests.form.statusNew","")}),s.jsx("option",{value:"UNDER_REVIEW",children:m("adminAccountRequests.form.statusUnderReview"," ")}),s.jsx("option",{value:"APPROVED",children:m("adminAccountRequests.form.statusApproved"," ()")}),s.jsx("option",{value:"REJECTED",children:m("adminAccountRequests.form.statusRejected","")}),s.jsx("option",{value:"ON_HOLD",children:m("adminAccountRequests.form.statusOnHold","")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:m("adminAccountRequests.form.customerType"," ")}),s.jsxs("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",value:u.customerType,onChange:w=>f({...u,customerType:w.target.value}),children:[s.jsx("option",{value:"PARTS_SHOP",children:m("adminAccountRequests.form.typePartsShop","  ")}),s.jsx("option",{value:"RENTAL_COMPANY",children:m("adminAccountRequests.form.typeRentalCompany"," ")}),s.jsx("option",{value:"INSURANCE_COMPANY",children:m("adminAccountRequests.form.typeInsuranceCompany"," ")}),s.jsx("option",{value:"SALES_AGENT",children:m("adminAccountRequests.form.typeSalesAgent","")}),s.jsx("option",{value:"FLEET_CUSTOMER",children:m("adminAccountRequests.form.typeFleetCustomer"," ")}),s.jsx("option",{value:"OTHER",children:m("adminAccountRequests.form.typeOther","")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:m("adminAccountRequests.form.priceLevel"," ")}),s.jsxs("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",value:u.priceLevel,onChange:w=>f({...u,priceLevel:w.target.value}),children:[s.jsx("option",{value:"LEVEL_1",children:m("adminAccountRequests.form.level1","Level 1 (VIP - Best Price)")}),s.jsx("option",{value:"LEVEL_2",children:m("adminAccountRequests.form.level2","Level 2 (Wholesale)")}),s.jsx("option",{value:"LEVEL_3",children:m("adminAccountRequests.form.level3","Level 3 (Retail/Small)")}),s.jsx("option",{value:"SPECIAL",children:m("adminAccountRequests.form.levelSpecial","Special")})]})]})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-[#C8A04F] mb-2 flex items-center gap-2",children:[s.jsx(qj,{size:14})," ",m("adminAccountRequests.form.accessValidity"," ")]}),s.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[s.jsx("input",{type:"date",className:"bg-slate-900 border border-slate-600 rounded p-2 text-xs text-white w-full",value:u.portalAccessStart,onChange:w=>f({...u,portalAccessStart:w.target.value})}),s.jsx("span",{className:"text-slate-400 text-xs",children:m("adminAccountRequests.form.to","")}),s.jsx("input",{type:"date",disabled:u.openEnded,className:"bg-slate-900 border border-slate-600 rounded p-2 text-xs text-white w-full disabled:opacity-50",value:u.portalAccessEnd,onChange:w=>f({...u,portalAccessEnd:w.target.value})})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-300 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.openEnded,onChange:w=>f({...u,openEnded:w.target.checked}),className:"rounded bg-slate-700 border-slate-500"}),m("adminAccountRequests.form.openEnded","  (  )")]})]}),s.jsxs("div",{className:"pt-2 border-t border-slate-700",children:[s.jsx("label",{className:"block text-xs font-bold text-[#C8A04F] mb-2",children:m("adminAccountRequests.form.searchPoints","  ")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-xs text-slate-400 block mb-1",children:m("adminAccountRequests.form.initialBalance"," ")}),s.jsx("input",{type:"number",className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-sm text-white",value:u.searchPointsInitial,onChange:w=>f({...u,searchPointsInitial:parseInt(w.target.value)})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-xs text-slate-400 block mb-1",children:m("adminAccountRequests.form.monthlyRenewal"," ")}),s.jsx("input",{type:"number",className:"w-full bg-slate-900 border border-slate-600 rounded p-2 text-sm text-white",value:u.searchPointsMonthly,onChange:w=>f({...u,searchPointsMonthly:parseInt(w.target.value)})})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg border border-slate-600",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.canCreateStaff,onChange:w=>f({...u,canCreateStaff:w.target.checked}),className:"w-4 h-4 rounded bg-slate-700 border-slate-500 text-[#C8A04F] focus:ring-0"}),s.jsx("span",{className:"text-sm font-bold text-slate-200",children:m("adminAccountRequests.form.allowAddStaff","  ")})]}),u.canCreateStaff&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-slate-400",children:[m("adminAccountRequests.form.maxLimit"," "),":"]}),s.jsx("input",{type:"number",min:1,className:"w-16 bg-slate-900 border border-slate-600 rounded p-1 text-center text-sm text-white",value:u.maxStaffUsers,onChange:w=>f({...u,maxStaffUsers:parseInt(w.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:m("adminAccountRequests.form.adminNotes","  ( )")}),s.jsx("textarea",{rows:3,className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-sm text-white focus:border-[#C8A04F] focus:outline-none",placeholder:m("adminAccountRequests.form.notesPlaceholder","    ..."),value:u.adminNotes,onChange:w=>f({...u,adminNotes:w.target.value})})]})]})]}),s.jsxs("div",{className:"p-6 bg-white border-t border-slate-200 shadow-up z-10 flex gap-4",children:[s.jsxs("button",{onClick:_,className:"flex-1 bg-[#0B1B3A] text-white py-3 rounded-xl font-bold hover:bg-slate-900 transition-colors flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Pr,{size:18})," ",m("adminAccountRequests.form.saveDecision"," ")]}),s.jsx("button",{onClick:()=>c(null),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:m("adminAccountRequests.form.cancel","")})]})]})]})]})},$4={NEW:"new",UNDER_REVIEW:"underReview",PARTIALLY_APPROVED:"partiallyApproved",APPROVED:"approved",QUOTED:"quoted",PROCESSED:"processed",REJECTED:"rejected"},Kie={NEW:"bg-blue-100 text-blue-700",UNDER_REVIEW:"bg-yellow-100 text-yellow-700",PARTIALLY_APPROVED:"bg-purple-100 text-purple-700",APPROVED:"bg-green-100 text-green-700",QUOTED:"bg-green-100 text-green-700",PROCESSED:"bg-green-100 text-green-700",REJECTED:"bg-red-100 text-red-700"},Qie=({quotes:e,onUpdate:t})=>{const{t:r}=na(),[a,n]=P.useState(""),[i,l]=P.useState("ALL"),[c,u]=P.useState(null),[f,p]=P.useState(!1),[m,x]=P.useState([]),[v,y]=P.useState(new Set),[b,S]=P.useState(""),{addToast:_}=qt(),w=k=>{const I=$4[k];return I?r(`adminQuoteManager.status.${I}`):k},E=P.useMemo(()=>{let k=[...e];if(a){const I=a.toLowerCase();k=k.filter(V=>V.id.toLowerCase().includes(I)||V.companyName.toLowerCase().includes(I)||V.userName.toLowerCase().includes(I))}return i!=="ALL"&&(k=k.filter(I=>I.status===i)),k.sort((I,V)=>new Date(V.date).getTime()-new Date(I.date).getTime())},[e,a,i]),O=k=>{u(k),x(JSON.parse(JSON.stringify(k.items))),S(k.adminGeneralNote||""),y(new Set)},A=(k,I,V)=>{const q=[...m];q[k]={...q[k],[I]:V},x(q)},T=k=>{const I=new Set(v);I.has(k)?I.delete(k):I.add(k),y(I)},N=()=>{v.size===m.length?y(new Set):y(new Set(m.map((k,I)=>I)))},D=k=>{const I=[...m];v.forEach(V=>{I[V].approvalStatus=k,(k==="MISSING"||k==="REJECTED")&&(I[V].matchedPrice=void 0)}),x(I),_(r("adminQuoteManager.toast.itemsUpdated",{count:v.size}),"info")},L=async()=>{if(!(!c||m.some(I=>I.approvalStatus==="APPROVED"&&(!I.matchedPrice||I.matchedPrice<=0))&&!confirm(r("adminQuoteManager.toast.approvedWithoutPriceWarning")))){p(!0);try{const I={...c,items:m};await de.updateQuoteRequest(I),await de.finalizeQuoteRequest(c.id,"Admin",b),_(r("adminQuoteManager.toast.pricingSentSuccess"),"success"),t(),u(null)}catch{_(r("adminQuoteManager.toast.saveError"),"error")}finally{p(!1)}}};m.filter(k=>k.approvalStatus==="APPROVED").length,m.filter(k=>k.approvalStatus==="MISSING").length;const M=m.reduce((k,I)=>k+(I.matchedPrice||0)*I.requestedQty,0);return s.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col md:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ur,{className:"absolute right-3 top-3 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:r("adminQuoteManager.searchPlaceholder"),className:"w-full pr-10 pl-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-300 transition-all",value:a,onChange:k=>n(k.target.value)})]}),s.jsxs("select",{className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 focus:outline-none w-full md:w-auto",value:i,onChange:k=>l(k.target.value),children:[s.jsx("option",{value:"ALL",children:r("adminQuoteManager.allStatuses")}),Object.keys($4).map(k=>s.jsx("option",{value:k,children:w(k)},k))]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm min-h-[400px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-[#0B1B3A] text-white font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:r("adminQuoteManager.table.requestNumber")}),s.jsx("th",{className:"p-4",children:r("adminQuoteManager.table.businessCustomer")}),s.jsx("th",{className:"p-4",children:r("adminQuoteManager.table.uploadDate")}),s.jsx("th",{className:"p-4 text-center",children:r("adminQuoteManager.table.itemsCount")}),s.jsx("th",{className:"p-4 text-center",children:r("adminQuoteManager.table.priceType")}),s.jsx("th",{className:"p-4 text-center",children:r("adminQuoteManager.table.status")}),s.jsx("th",{className:"p-4 text-center",children:r("adminQuoteManager.table.actions")})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[E.map(k=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-[#C8A04F]",children:k.id}),s.jsxs("td",{className:"p-4",children:[s.jsx("p",{className:"font-bold text-slate-800",children:k.companyName}),s.jsx("p",{className:"text-xs text-slate-500",children:k.userName})]}),s.jsx("td",{className:"p-4 text-slate-500 text-xs",dir:"ltr",children:Dr(k.date)}),s.jsx("td",{className:"p-4 text-center font-bold",children:k.items.length}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:"text-xs font-bold bg-slate-100 px-2 py-1 rounded",children:k.priceType})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Kie[k.status]||"bg-gray-100 text-gray-600"}`,children:w(k.status)})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("button",{onClick:()=>O(k),className:"bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 px-3 py-1.5 rounded-lg text-xs font-bold shadow-sm transition-colors",children:r("adminQuoteManager.reviewDetails")})})]},k.id)),E.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-10 text-center text-slate-400",children:r("adminQuoteManager.noRequests")})})]})]})}),c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-slate-100",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:s.jsx(ar,{size:24})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[r("adminQuoteManager.panel.reviewRequest")," ",s.jsx("span",{className:"font-mono text-[#C8A04F] bg-[#0B1B3A] px-2 py-0.5 rounded text-base",children:c.id})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[c.companyName,"  ",c.priceType]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"text-center px-4 border-l border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400",children:r("adminQuoteManager.panel.proposedTotal")}),s.jsxs("p",{className:"text-lg font-black text-slate-800",children:[M.toLocaleString()," ",r("common.currency")]})]}),s.jsxs("button",{onClick:L,disabled:f,className:"bg-green-600 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-green-700 shadow-lg flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Pr,{size:18})," ",r(f?"adminQuoteManager.panel.approving":"adminQuoteManager.panel.approveAndSend")]})]})]}),s.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 px-6 py-3 flex gap-3 items-center overflow-x-auto shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2 border-l border-slate-300 ml-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300",checked:v.size===m.length&&m.length>0,onChange:N}),s.jsx("span",{className:"text-sm font-bold text-slate-600",children:r("adminQuoteManager.panel.selectAll")})]}),s.jsxs("span",{className:"text-xs font-bold text-slate-400 mx-2",children:[r("adminQuoteManager.panel.changeSelectedStatus")," (",v.size,"):"]}),s.jsx("button",{onClick:()=>D("APPROVED"),disabled:v.size===0,className:"px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-lg text-xs font-bold hover:bg-green-100 disabled:opacity-50",children:r("adminQuoteManager.panel.available")}),s.jsx("button",{onClick:()=>D("MISSING"),disabled:v.size===0,className:"px-3 py-1.5 bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-lg text-xs font-bold hover:bg-yellow-100 disabled:opacity-50",children:r("adminQuoteManager.panel.unavailable")}),s.jsx("button",{onClick:()=>D("REJECTED"),disabled:v.size===0,className:"px-3 py-1.5 bg-red-50 text-red-700 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 disabled:opacity-50",children:r("adminQuoteManager.panel.rejected")})]}),s.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-slate-100 text-slate-600 font-bold border-b border-slate-200 sticky top-0 z-10 shadow-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 w-10"}),s.jsx("th",{className:"p-3",children:r("adminQuoteManager.panel.customerPartNumber")}),s.jsx("th",{className:"p-3",children:r("adminQuoteManager.panel.customerPartName")}),s.jsx("th",{className:"p-3 w-20 text-center",children:r("adminQuoteManager.panel.quantity")}),s.jsx("th",{className:"p-3 w-40",children:r("adminQuoteManager.panel.matchedProduct")}),s.jsx("th",{className:"p-3 w-32 text-center",children:r("adminQuoteManager.panel.price")}),s.jsx("th",{className:"p-3 w-40 text-center",children:r("adminQuoteManager.panel.decision")}),s.jsx("th",{className:"p-3",children:r("adminQuoteManager.panel.notes")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:m.map((k,I)=>{const V=v.has(I);return s.jsxs("tr",{className:`${V?"bg-blue-50":"hover:bg-slate-50"} transition-colors`,children:[s.jsx("td",{className:"p-3 text-center",children:s.jsx("input",{type:"checkbox",checked:V,onChange:()=>T(I),className:"rounded border-gray-300 text-brand-600 focus:ring-0"})}),s.jsx("td",{className:"p-3 font-mono font-bold text-slate-700",children:k.partNumber}),s.jsx("td",{className:"p-3 text-slate-600",children:k.partName}),s.jsx("td",{className:"p-3 text-center font-bold",children:k.requestedQty}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"text",className:"w-full p-2 text-xs border border-slate-200 rounded bg-white",placeholder:" ...",value:k.matchedProductName||"",onChange:q=>A(I,"matchedProductName",q.target.value)})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"number",className:`w-full p-2 text-xs text-center border rounded font-bold ${k.approvalStatus==="APPROVED"&&!k.matchedPrice?"border-red-300 bg-red-50":"border-slate-200 bg-white"}`,placeholder:"0.00",value:k.matchedPrice||"",onChange:q=>A(I,"matchedPrice",parseFloat(q.target.value)),disabled:k.approvalStatus!=="APPROVED"})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("select",{className:`w-full p-1.5 text-xs font-bold rounded border ${k.approvalStatus==="APPROVED"?"bg-green-100 text-green-700 border-green-200":k.approvalStatus==="MISSING"?"bg-yellow-100 text-yellow-700 border-yellow-200":k.approvalStatus==="REJECTED"?"bg-red-100 text-red-700 border-red-200":"bg-slate-100 text-slate-600 border-slate-200"}`,value:k.approvalStatus||"PENDING",onChange:q=>A(I,"approvalStatus",q.target.value),children:[s.jsx("option",{value:"PENDING",children:r("adminQuoteManager.panel.itemStatus.pending")}),s.jsx("option",{value:"APPROVED",children:r("adminQuoteManager.panel.itemStatus.approved")}),s.jsx("option",{value:"MISSING",children:r("adminQuoteManager.panel.itemStatus.missing")}),s.jsx("option",{value:"REJECTED",children:r("adminQuoteManager.panel.itemStatus.rejected")})]})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"text",className:"w-full p-2 text-xs border border-slate-200 rounded bg-white text-slate-500",placeholder:"...",value:k.adminNote||"",onChange:q=>A(I,"adminNote",q.target.value)})})]},I)})})]})}),s.jsxs("div",{className:"mt-6 max-w-2xl",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:r("adminQuoteManager.panel.generalNotes")}),s.jsx("textarea",{className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500",rows:3,value:b,onChange:k=>S(k.target.value),placeholder:r("adminQuoteManager.panel.notesPlaceholder")})]})]})]})]})},hy={NEW:"new",UNDER_REVIEW:"underReview",ORDER_PLANNED:"orderPlanned",ORDERED:"ordered",ADDED_TO_STOCK:"addedToStock",IGNORED:"ignored"},Jie={NEW:"bg-blue-50 text-blue-700 border-blue-200",UNDER_REVIEW:"bg-yellow-50 text-yellow-700 border-yellow-200",ORDER_PLANNED:"bg-purple-50 text-purple-700 border-purple-200",ORDERED:"bg-orange-50 text-orange-700 border-orange-200",ADDED_TO_STOCK:"bg-green-50 text-green-700 border-green-200",IGNORED:"bg-gray-50 text-gray-500 border-gray-200"},Zie=({missingRequests:e})=>{const{t}=na(),[r,a]=P.useState("ALL"),[n,i]=P.useState(""),[l,c]=P.useState("ALL"),[u,f]=P.useState(null),[p,m]=P.useState({status:"NEW",adminNotes:""}),[x,v]=P.useState(!1),[y,b]=P.useState(1),S=15,{addToast:_}=qt(),w=M=>{const k=hy[M];return k?t(`adminMissingParts.status.${k}`):M},E=P.useMemo(()=>({total:e.length,new:e.filter(M=>M.status==="NEW"||!M.status).length,inReview:e.filter(M=>M.status==="UNDER_REVIEW").length,ordered:e.filter(M=>M.status==="ORDERED"||M.status==="ORDER_PLANNED").length,solved:e.filter(M=>M.status==="ADDED_TO_STOCK").length,fromQuote:e.filter(M=>M.source==="QUOTE").length,fromSearch:e.filter(M=>M.source==="SEARCH").length}),[e]),O=P.useMemo(()=>{let M=[...e];if(r!=="ALL"&&(M=M.filter(k=>(k.source||"SEARCH")===r)),n){const k=n.toLowerCase();M=M.filter(I=>I.query.toLowerCase().includes(k)||(I.partNumber||"").toLowerCase().includes(k)||(I.name||"").toLowerCase().includes(k))}return l!=="ALL"&&(M=M.filter(k=>(k.status||"NEW")===l)),M.sort((k,I)=>{const V=(I.totalRequestsCount||1)-(k.totalRequestsCount||1);return V!==0?V:new Date(I.createdAt).getTime()-new Date(k.createdAt).getTime()})},[e,r,n,l]),A=P.useMemo(()=>{const M=(y-1)*S;return O.slice(M,M+S)},[O,y]),T=Math.ceil(O.length/S),N=M=>{f(M),m({status:M.status||"NEW",adminNotes:M.adminNotes||""})},D=async()=>{if(u){v(!0);try{await de.updateMissingProductStatus(u.id,p.status,p.adminNotes),_(t("adminMissingParts.toast.statusUpdated"),"success"),u.status=p.status,u.adminNotes=p.adminNotes,f(null)}catch{_(t("adminMissingParts.toast.saveError"),"error")}finally{v(!1)}}},L=async()=>{try{const{utils:M,writeFile:k}=await Vi(async()=>{const{utils:z,writeFile:R}=await Promise.resolve().then(()=>Vf);return{utils:z,writeFile:R}},void 0),I=O.map(z=>({[t("adminMissingParts.export.partNumber")]:z.normalizedPartNumber||z.query,[t("adminMissingParts.export.itemName")]:z.name||z.query,[t("adminMissingParts.export.source")]:z.source==="QUOTE"?t("adminMissingParts.source.quote"):t("adminMissingParts.source.search"),[t("adminMissingParts.export.requestCount")]:z.totalRequestsCount||1,[t("adminMissingParts.export.customerCount")]:z.uniqueCustomersCount||1,[t("adminMissingParts.export.status")]:w(z.status||"NEW"),[t("adminMissingParts.export.lastRequest")]:Dr(z.lastRequestedAt||z.createdAt),[t("adminMissingParts.export.adminNotes")]:z.adminNotes||""})),V=M.json_to_sheet(I),q=M.book_new();M.book_append_sheet(q,V,"Missing Items"),k(q,"Missing_Parts_Report.xlsx"),_(t("adminMissingParts.toast.exportSuccess"),"success")}catch{_(t("adminMissingParts.toast.exportFailed"),"error")}};return s.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.stats.totalMissing")}),s.jsx("p",{className:"text-2xl font-black text-slate-800",children:E.total})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.stats.newMissing")}),s.jsx("p",{className:"text-2xl font-black text-blue-600",children:E.new})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.stats.underReview")}),s.jsx("p",{className:"text-2xl font-black text-yellow-600",children:E.inReview})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.stats.orderedImport")}),s.jsx("p",{className:"text-2xl font-black text-purple-600",children:E.ordered})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.stats.addedToStock")}),s.jsx("p",{className:"text-2xl font-black text-green-600",children:E.solved})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col xl:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg w-full xl:w-auto overflow-x-auto",children:[s.jsx("button",{onClick:()=>a("ALL"),className:`px-5 py-2 rounded-md text-sm font-bold transition-all whitespace-nowrap ${r==="ALL"?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:t("adminMissingParts.tabs.all")}),s.jsxs("button",{onClick:()=>a("QUOTE"),className:`px-5 py-2 rounded-md text-sm font-bold transition-all whitespace-nowrap flex items-center gap-2 ${r==="QUOTE"?"bg-white text-brand-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[s.jsx(lr,{size:16})," ",t("adminMissingParts.tabs.fromQuote")," (",E.fromQuote,")"]}),s.jsxs("button",{onClick:()=>a("SEARCH"),className:`px-5 py-2 rounded-md text-sm font-bold transition-all whitespace-nowrap flex items-center gap-2 ${r==="SEARCH"?"bg-white text-brand-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[s.jsx(Ur,{size:16})," ",t("adminMissingParts.tabs.fromSearch")," (",E.fromSearch,")"]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full xl:w-auto",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ur,{className:"absolute right-3 top-2.5 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:t("adminMissingParts.searchPlaceholder"),className:"w-full pr-10 pl-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-brand-500/20 transition-all",value:n,onChange:M=>i(M.target.value)})]}),s.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 focus:outline-none",value:l,onChange:M=>c(M.target.value),children:[s.jsx("option",{value:"ALL",children:t("adminMissingParts.allStatuses")}),Object.keys(hy).map(M=>s.jsx("option",{value:M,children:w(M)},M))]}),s.jsxs("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 flex items-center justify-center gap-2 transition-colors shadow-sm",children:[s.jsx(Cn,{size:16})," Excel"]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm min-h-[400px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-[#0B1B3A] text-white font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:t("adminMissingParts.table.partNumber")}),s.jsx("th",{className:"p-4 text-center",children:t("adminMissingParts.table.source")}),s.jsx("th",{className:"p-4 text-center",children:t("adminMissingParts.table.requestFrequency")}),s.jsx("th",{className:"p-4 text-center",children:t("adminMissingParts.table.interestedCustomers")}),s.jsx("th",{className:"p-4 text-center",children:t("adminMissingParts.table.status")}),s.jsx("th",{className:"p-4",children:t("adminMissingParts.table.lastRequest")}),s.jsx("th",{className:"p-4 text-center",children:t("adminMissingParts.table.actions")})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[A.map(M=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-mono font-bold text-brand-700 text-base",children:M.normalizedPartNumber||M.query}),M.name&&M.name!==M.query&&s.jsx("span",{className:"text-xs text-slate-500 mt-0.5",children:M.name})]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded border ${M.source==="QUOTE"?"bg-purple-50 text-purple-700 border-purple-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:M.source==="QUOTE"?t("adminMissingParts.source.quote"):t("adminMissingParts.source.search")})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:"font-black text-slate-800 text-lg",children:M.totalRequestsCount||1})}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1 text-slate-600 font-bold",children:[s.jsx($d,{size:14})," ",M.uniqueCustomersCount||1]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${Jie[M.status||"NEW"]}`,children:w(M.status||"NEW")})}),s.jsx("td",{className:"p-4 text-xs font-mono text-slate-500",dir:"ltr",children:Dr(M.lastRequestedAt||M.createdAt)}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>N(M),className:"text-slate-600 hover:text-brand-600 bg-slate-100 hover:bg-slate-200 p-2 rounded-lg transition-colors flex items-center justify-center gap-1 mx-auto font-bold text-xs",children:[s.jsx(wa,{size:16})," ",t("adminMissingParts.actions.details")]})})]},M.id)),A.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-16 text-center text-slate-400 font-bold",children:t("adminMissingParts.noMatchingMissing")})})]})]})}),T>1&&s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsx("button",{disabled:y===1,onClick:()=>b(M=>M-1),className:"p-2 rounded-lg border bg-white disabled:opacity-50 hover:bg-slate-50",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600",children:[t("adminMissingParts.pagination.page")," ",y," ",t("adminMissingParts.pagination.of")," ",T]}),s.jsx("button",{disabled:y===T,onClick:()=>b(M=>M+1),className:"p-2 rounded-lg border bg-white disabled:opacity-50 hover:bg-slate-50",children:s.jsx(bi,{size:18})})]}),u&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm transition-opacity",onClick:()=>f(null)}),s.jsxs("div",{className:"fixed inset-y-0 left-0 w-full md:w-[500px] bg-slate-50 z-50 shadow-2xl transform transition-transform duration-300 ease-in-out border-r border-slate-200 flex flex-col",children:[s.jsxs("div",{className:"p-6 bg-white border-b border-slate-200 flex justify-between items-center shadow-sm z-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-slate-800",children:t("adminMissingParts.panel.missingDetails")}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono mt-1",children:["ID: ",u.id]})]}),s.jsx("button",{onClick:()=>f(null),className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200 text-slate-600",children:s.jsx(ar,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.panel.requestedItem")}),s.jsx("span",{className:"block text-2xl font-black text-brand-700 font-mono bg-slate-50 p-2 rounded-lg border border-slate-100 text-center",children:u.normalizedPartNumber||u.query})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.panel.suggestedName")}),s.jsx("span",{className:"font-bold text-slate-800",children:u.name||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:t("adminMissingParts.panel.brand")}),s.jsx("span",{className:"font-bold text-slate-800",children:u.brand||"-"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-center",children:[s.jsx("p",{className:"text-2xl font-black text-blue-600",children:u.totalRequestsCount||1}),s.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase",children:t("adminMissingParts.panel.requestCount")})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100 text-center",children:[s.jsx("p",{className:"text-2xl font-black text-purple-600",children:u.uniqueCustomersCount||1}),s.jsx("p",{className:"text-xs font-bold text-purple-400 uppercase",children:t("adminMissingParts.panel.differentCustomers")})]})]}),s.jsxs("div",{className:"bg-[#0B1B3A] p-6 rounded-2xl border border-slate-700 shadow-lg text-white space-y-4",children:[s.jsxs("h4",{className:"font-bold text-[#C8A04F] flex items-center gap-2 border-b border-slate-700 pb-2",children:[s.jsx(Qn,{size:18})," ",t("adminMissingParts.panel.followUp")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:t("adminMissingParts.panel.updateStatus")}),s.jsx("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white font-bold focus:ring-1 focus:ring-[#C8A04F]",value:p.status,onChange:M=>m({...p,status:M.target.value}),children:Object.keys(hy).map(M=>s.jsx("option",{value:M,children:w(M)},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:t("adminMissingParts.panel.internalNotes")}),s.jsx("textarea",{rows:3,className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-sm text-white focus:border-[#C8A04F] focus:outline-none",placeholder:t("adminMissingParts.panel.notesPlaceholder"),value:p.adminNotes,onChange:M=>m({...p,adminNotes:M.target.value})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs("button",{className:"flex-1 bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-2 rounded-lg border border-white/10 flex items-center justify-center gap-2",onClick:()=>_(t("adminMissingParts.toast.linkImportSoon"),"info"),children:[s.jsx(Dee,{size:14})," ",t("adminMissingParts.actions.linkToImport")]}),s.jsxs("button",{className:"flex-1 bg-white/10 hover:bg-white/20 text-white text-xs font-bold py-2 rounded-lg border border-white/10 flex items-center justify-center gap-2",onClick:()=>_(t("adminMissingParts.toast.redirectToAddProduct"),"info"),children:[s.jsx(eZ,{size:14})," ",t("adminMissingParts.actions.addToStock")]})]})]}),u.source==="QUOTE"&&s.jsxs("div",{className:"bg-slate-100 p-4 rounded-xl border border-slate-200 text-xs text-slate-500",children:[s.jsx("p",{className:"font-bold mb-1",children:t("adminMissingParts.panel.sourceQuote")}),s.jsxs("p",{className:"font-mono",children:["Ref ID: ",u.quoteRequestId]})]})]}),s.jsxs("div",{className:"p-6 bg-white border-t border-slate-200 shadow-up z-10 flex gap-4",children:[s.jsxs("button",{onClick:D,disabled:x,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 shadow-lg disabled:opacity-50",children:[s.jsx(Pr,{size:18})," ",t(x?"adminMissingParts.actions.saving":"adminMissingParts.actions.saveChanges")]}),s.jsx("button",{onClick:()=>f(null),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:t("common.cancel")})]})]})]})]})},w8=({status:e,t})=>{const r={ACTIVE:"bg-green-100 text-green-700 border-green-200",SUSPENDED:"bg-yellow-100 text-yellow-700 border-yellow-200",BLOCKED:"bg-red-100 text-red-700 border-red-200",PENDING:"bg-blue-100 text-blue-700 border-blue-200",INACTIVE:"bg-gray-100 text-gray-500 border-gray-200"},a=n=>({ACTIVE:"adminCustomers.status.active",SUSPENDED:"adminCustomers.status.suspended",BLOCKED:"adminCustomers.status.blocked",PENDING:"adminCustomers.status.pending",INACTIVE:"adminCustomers.status.inactive"})[n]||n;return s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${r[e]||r.INACTIVE}`,children:t(a(e))})},ele=()=>{const[e,t]=P.useState([]),[r,a]=P.useState(!0),[n,i]=P.useState(""),[l,c]=P.useState("ALL"),[u,f]=P.useState({key:"totalOrdersCount",direction:"desc"}),[p,m]=P.useState(null),[x,v]=P.useState(1),y=15,{addToast:b}=qt(),{t:S}=na();P.useEffect(()=>{_()},[]);const _=async()=>{a(!0);try{const D=await de.getCustomersDatabase();t(D)}catch{b(S("adminCustomers.errors.loadFailed"),"error")}finally{a(!1)}},w=P.useMemo(()=>({total:e.length,active:e.filter(D=>D.status==="ACTIVE").length,suspended:e.filter(D=>D.status==="SUSPENDED"||D.status==="BLOCKED").length,topOrders:[...e].sort((D,L)=>(L.totalOrdersCount||0)-(D.totalOrdersCount||0)).slice(0,5)}),[e]),E=P.useMemo(()=>{let D=[...e];if(n){const L=n.toLowerCase();D=D.filter(M=>M.companyName.toLowerCase().includes(L)||M.phone.includes(L)||(M.city||"").toLowerCase().includes(L))}return l!=="ALL"&&(D=D.filter(L=>L.status===l)),D.sort((L,M)=>{const k=L[u.key]||0,I=M[u.key]||0;return k<I?u.direction==="asc"?-1:1:k>I?u.direction==="asc"?1:-1:0}),D},[e,n,l,u]),O=P.useMemo(()=>{const D=(x-1)*y;return E.slice(D,D+y)},[E,x]),A=Math.ceil(E.length/y),T=D=>{f(L=>({key:D,direction:L.key===D&&L.direction==="desc"?"asc":"desc"}))},N=D=>{m(D)};return s.jsxs("div",{className:"space-y-6 animate-fade-in relative min-h-screen",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:S("adminCustomers.stats.totalCustomers")}),s.jsx("p",{className:"text-2xl font-black text-slate-800",children:w.total})]}),s.jsx("div",{className:"p-3 bg-slate-100 rounded-lg text-slate-600",children:s.jsx(Xt,{size:20})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:S("adminCustomers.stats.activeCustomers")}),s.jsx("p",{className:"text-2xl font-black text-green-600",children:w.active})]}),s.jsx("div",{className:"p-3 bg-green-50 rounded-lg text-green-600",children:s.jsx($d,{size:20})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase",children:S("adminCustomers.stats.blockedSuspended")}),s.jsx("p",{className:"text-2xl font-black text-red-600",children:w.suspended})]}),s.jsx("div",{className:"p-3 bg-red-50 rounded-lg text-red-600",children:s.jsx(v0,{size:20})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[#0B1B3A] to-[#1a2e56] text-white p-4 rounded-xl shadow-md border border-slate-700",children:[s.jsxs("p",{className:"text-[#C8A04F] text-xs font-bold uppercase mb-1 flex items-center gap-1",children:[s.jsx(Rn,{size:12})," ",S("adminCustomers.stats.mostActiveCustomer")]}),w.topOrders[0]?s.jsxs("div",{children:[s.jsx("p",{className:"font-bold truncate",children:w.topOrders[0].companyName}),s.jsxs("p",{className:"text-xs text-slate-300",children:[w.topOrders[0].totalOrdersCount," ",S("common.order")]})]}):s.jsx("p",{className:"text-xs text-slate-400",children:S("common.noData")})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col xl:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex gap-4 w-full xl:w-auto",children:[s.jsxs("div",{className:"relative flex-1 xl:w-80",children:[s.jsx(Ur,{className:"absolute right-3 top-2.5 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:S("adminCustomers.filters.searchPlaceholder"),className:"w-full pr-10 pl-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-brand-500/20 transition-all",value:n,onChange:D=>i(D.target.value)})]}),s.jsxs("select",{className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 focus:outline-none",value:l,onChange:D=>c(D.target.value),children:[s.jsx("option",{value:"ALL",children:S("adminCustomers.filters.allStatuses")}),s.jsx("option",{value:"ACTIVE",children:S("adminCustomers.status.active")}),s.jsx("option",{value:"SUSPENDED",children:S("adminCustomers.status.suspended")}),s.jsx("option",{value:"BLOCKED",children:S("adminCustomers.status.blocked")}),s.jsx("option",{value:"PENDING",children:S("adminCustomers.status.pending")})]})]}),s.jsxs("div",{className:"flex gap-2 w-full xl:w-auto overflow-x-auto",children:[s.jsx("button",{onClick:()=>f({key:"totalOrdersCount",direction:"desc"}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-100 whitespace-nowrap",children:S("adminCustomers.filters.mostOrders")}),s.jsx("button",{onClick:()=>f({key:"totalSearchesCount",direction:"desc"}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-100 whitespace-nowrap",children:S("adminCustomers.filters.mostSearches")}),s.jsx("button",{onClick:()=>f({key:"lastLoginAt",direction:"desc"}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-100 whitespace-nowrap",children:S("adminCustomers.filters.lastActive")})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm min-h-[500px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-[#0B1B3A] text-white font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 cursor-pointer",onClick:()=>T("companyName"),children:S("adminCustomers.table.businessName")}),s.jsx("th",{className:"p-4 cursor-pointer hidden md:table-cell",onClick:()=>T("city"),children:S("adminCustomers.table.city")}),s.jsx("th",{className:"p-4 cursor-pointer hidden lg:table-cell",onClick:()=>T("customerType"),children:S("adminCustomers.table.activity")}),s.jsx("th",{className:"p-4 text-center cursor-pointer",onClick:()=>T("status"),children:S("adminCustomers.table.status")}),s.jsx("th",{className:"p-4 text-center cursor-pointer",onClick:()=>T("totalOrdersCount"),children:S("adminCustomers.table.orders")}),s.jsx("th",{className:"p-4 text-center cursor-pointer hidden md:table-cell",onClick:()=>T("totalSearchesCount"),children:S("adminCustomers.table.searches")}),s.jsx("th",{className:"p-4 text-center cursor-pointer hidden lg:table-cell",onClick:()=>T("lastLoginAt"),children:S("adminCustomers.table.lastLogin")}),s.jsx("th",{className:"p-4 text-center",children:S("adminCustomers.table.action")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-10 text-center",children:S("common.loading")})}):O.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-10 text-center text-slate-400",children:S("adminCustomers.table.noMatching")})}):O.map(D=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-slate-800 text-base",children:D.companyName}),D.riskyLoginFlag&&s.jsxs("span",{className:"text-[10px] text-red-500 font-bold flex items-center gap-1 mt-1",children:[s.jsx(sa,{size:10})," ",S("adminCustomers.table.suspiciousBehavior")]})]})}),s.jsx("td",{className:"p-4 text-slate-600 hidden md:table-cell",children:D.city}),s.jsx("td",{className:"p-4 text-slate-600 hidden lg:table-cell text-xs font-bold bg-slate-50 px-2 py-1 rounded w-fit h-fit",children:D.customerType||S("common.notSpecified")}),s.jsx("td",{className:"p-4 text-center",children:s.jsx(w8,{status:D.status||"ACTIVE",t:S})}),s.jsx("td",{className:"p-4 text-center font-bold text-brand-700",children:D.totalOrdersCount}),s.jsx("td",{className:"p-4 text-center hidden md:table-cell",children:D.totalSearchesCount}),s.jsx("td",{className:"p-4 text-center hidden lg:table-cell text-xs text-slate-500 font-mono",dir:"ltr",children:Dr(D.lastLoginAt)}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>N(D),className:"bg-slate-100 hover:bg-[#0B1B3A] hover:text-white text-slate-600 p-2 rounded-lg transition-colors text-xs font-bold flex items-center justify-center gap-1 mx-auto",children:[s.jsx(wa,{size:16})," ",s.jsx("span",{className:"hidden xl:inline",children:""})]})})]},D.userId))})]})}),A>1&&s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsx("button",{disabled:x===1,onClick:()=>v(D=>D-1),className:"p-2 rounded-lg border bg-white disabled:opacity-50 hover:bg-slate-50",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600",children:[" ",x,"  ",A]}),s.jsx("button",{disabled:x===A,onClick:()=>v(D=>D+1),className:"p-2 rounded-lg border bg-white disabled:opacity-50 hover:bg-slate-50",children:s.jsx(bi,{size:18})})]}),p&&s.jsx(ale,{customer:p,onClose:()=>m(null),onUpdate:()=>{_(),m(null)}})]})},tle=({status:e})=>{const t={PENDING:"bg-yellow-100 text-yellow-700 border-yellow-200",APPROVED:"bg-blue-100 text-blue-700 border-blue-200",SHIPPED:"bg-purple-100 text-purple-700 border-purple-200",DELIVERED:"bg-green-100 text-green-700 border-green-200",CANCELLED:"bg-red-100 text-red-700 border-red-200"},r={PENDING:" ",APPROVED:"",SHIPPED:" ",DELIVERED:" ",CANCELLED:""};return s.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${t[e]||"bg-gray-100 text-gray-600 border-gray-200"}`,children:r[e]||e})},rle=({status:e})=>{const t={NEW:"bg-blue-100 text-blue-700 border-blue-200",UNDER_REVIEW:"bg-yellow-100 text-yellow-700 border-yellow-200",APPROVED:"bg-green-100 text-green-700 border-green-200",PARTIALLY_APPROVED:"bg-orange-100 text-orange-700 border-orange-200",REJECTED:"bg-red-100 text-red-700 border-red-200"},r={NEW:"",UNDER_REVIEW:" ",APPROVED:"",PARTIALLY_APPROVED:" ",REJECTED:""};return s.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${t[e]||"bg-gray-100 text-gray-600 border-gray-200"}`,children:r[e]||e})},ale=({customer:e,onClose:t,onUpdate:r})=>{var V,q,z;const[a,n]=P.useState("OVERVIEW"),{addToast:i}=qt(),{t:l}=na(),[c,u]=P.useState(e.status||"ACTIVE"),[f,p]=P.useState(""),[m,x]=P.useState(!1),[v,y]=P.useState([]),[b,S]=P.useState([]),[_,w]=P.useState([]),[E,O]=P.useState([]),[A,T]=P.useState(!1),[N,D]=P.useState(!1);P.useEffect(()=>{(async()=>{const W=await de.getCustomerActivityLogs(e.userId);y(W);const X=await de.getEmployees(e.userId);S(X)})()},[e.userId]),P.useEffect(()=>{a==="ORDERS"&&_.length===0&&!A&&(T(!0),de.getAllOrders().then(R=>{const W=R.filter(X=>X.userId===e.userId||X.businessId===e.userId);w(W.sort((X,B)=>new Date(B.date).getTime()-new Date(X.date).getTime())),T(!1)}))},[a,e.userId,_.length,A]),P.useEffect(()=>{a==="QUOTES"&&E.length===0&&!N&&(D(!0),de.getAllQuoteRequests().then(R=>{const W=R.filter(X=>X.userId===e.userId);O(W.sort((X,B)=>new Date(B.date).getTime()-new Date(X.date).getTime())),D(!1)}))},[a,e.userId,E.length,N]);const L=async()=>{x(!0);try{await de.updateCustomerStatus(e.userId,c,f),i("   ","success"),r()}catch{i(" ","error")}finally{x(!1)}},M=async()=>{const R=prompt("   :","50");R&&parseInt(R)>0&&(await de.addCustomerSearchPoints(e.userId,parseInt(R)),i(`  ${R}  `,"success"),r())},k=async()=>{const R=e.searchPointsRemaining||0,W=prompt(` : ${R} 

   :`,"10");if(W&&parseInt(W)>0){const X=parseInt(W);if(X>R){i(`       (${R} )`,"error");return}await de.deductCustomerSearchPoints(e.userId,X)?(i(`  ${W}  `,"success"),r()):i("    ","error")}},I=async(R,W)=>{const X=W==="ACTIVE"?"SUSPENDED":"ACTIVE";await de.updateStaffStatus(R,X),i("   ","success");const B=await de.getEmployees(e.userId);S(B)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm transition-opacity",onClick:t}),s.jsxs("div",{className:"fixed inset-y-0 left-0 w-full md:w-[800px] bg-slate-50 z-50 shadow-2xl transform transition-transform duration-300 ease-in-out border-r border-slate-200 flex flex-col",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 flex flex-col shadow-sm z-10",children:[s.jsxs("div",{className:"p-6 flex justify-between items-start pb-4",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"w-16 h-16 bg-[#0B1B3A] rounded-xl flex items-center justify-center text-white text-2xl font-bold uppercase shadow-lg",children:e.companyName.substring(0,2)}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-slate-800",children:e.companyName}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-slate-500",children:[s.jsx(Up,{size:14})," ",e.city,s.jsx("span",{className:"mx-1",children:""}),s.jsx(fm,{size:14})," ",e.phone]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(w8,{status:e.status||"ACTIVE",t:l}),s.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-xs font-bold border border-slate-200",children:e.priceLevel})]})]})]}),s.jsx("button",{onClick:t,className:"p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-600 transition-colors",children:s.jsx(ar,{size:20})})]}),s.jsx("div",{className:"flex px-6 gap-6 overflow-x-auto",children:[{id:"OVERVIEW",label:l("adminCustomers.detail.tabs.overview"),icon:s.jsx(Rn,{size:16})},{id:"ORDERS",label:l("adminCustomers.detail.tabs.orders"),icon:s.jsx(lr,{size:16})},{id:"QUOTES",label:l("adminCustomers.detail.tabs.quotes"),icon:s.jsx(ll,{size:16})},{id:"STAFF",label:`${l("adminCustomers.detail.tabs.staff")} (${b.length})`,icon:s.jsx(Xt,{size:16})},{id:"SECURITY",label:l("adminCustomers.detail.tabs.security"),icon:s.jsx(uy,{size:16})},{id:"NOTES",label:l("adminCustomers.detail.tabs.notes"),icon:s.jsx($j,{size:16})}].map(R=>s.jsxs("button",{onClick:()=>n(R.id),className:`pb-3 text-sm font-bold flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${a===R.id?"border-brand-600 text-brand-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[R.icon," ",R.label]},R.id))})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a==="OVERVIEW"&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"bg-[#0B1B3A] p-6 rounded-2xl text-white shadow-lg",children:[s.jsxs("h3",{className:"font-bold text-[#C8A04F] mb-4 flex items-center gap-2",children:[s.jsx(v0,{size:18})," ",l("adminCustomers.detail.accountManagement")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:l("adminCustomers.detail.changeStatus")}),s.jsxs("select",{className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-2 text-sm text-white focus:border-[#C8A04F]",value:c,onChange:R=>u(R.target.value),children:[s.jsx("option",{value:"ACTIVE",children:l("adminCustomers.detail.statusActive")}),s.jsx("option",{value:"SUSPENDED",children:l("adminCustomers.detail.statusSuspended")}),s.jsx("option",{value:"BLOCKED",children:l("adminCustomers.detail.statusBlocked")})]})]}),c==="SUSPENDED"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:l("adminCustomers.detail.suspendUntil")}),s.jsx("input",{type:"date",className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-2 text-sm text-white",value:f,onChange:R=>p(R.target.value)})]})]}),s.jsx("button",{onClick:L,disabled:m,className:"mt-4 w-full bg-[#C8A04F] text-[#0B1B3A] font-bold py-2 rounded-lg hover:bg-[#b08d45] transition-colors",children:l(m?"adminCustomers.detail.saving":"adminCustomers.detail.saveChanges")})]}),s.jsx("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-3 rounded-xl ${e.priceVisibility==="VISIBLE"?"bg-emerald-100":"bg-amber-100"}`,children:e.priceVisibility==="VISIBLE"?s.jsx(wa,{size:20,className:"text-emerald-600"}):s.jsx(lo,{size:20,className:"text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:l("adminCustomers.detail.priceDisplayType")}),s.jsx("p",{className:"text-xs text-slate-500",children:e.priceVisibility==="VISIBLE"?l("adminCustomers.detail.pricesVisible"):l("adminCustomers.detail.pricesHidden")})]})]}),s.jsxs("select",{className:"bg-slate-50 border border-slate-200 rounded-lg px-4 py-2 text-sm font-bold",value:e.priceVisibility||"HIDDEN",onChange:async R=>{const W=R.target.value;await de.updateCustomerPriceVisibility(e.userId,W),i(`${l("adminCustomers.detail.priceDisplayChanged")} ${l(W==="VISIBLE"?"adminCustomers.detail.visible":"adminCustomers.detail.hidden")}`,"success"),r()},"data-testid":"select-price-visibility",children:[s.jsx("option",{value:"VISIBLE",children:l("adminCustomers.detail.visibleNoPoints")}),s.jsx("option",{value:"HIDDEN",children:l("adminCustomers.detail.hiddenWithPoints")})]})]})}),e.priceVisibility!=="VISIBLE"&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Ur,{size:18,className:"text-blue-500"})," ",l("adminCustomers.detail.searchWallet")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:M,className:"text-xs bg-green-50 text-green-600 px-3 py-1.5 rounded-lg font-bold hover:bg-green-100 transition-colors flex items-center gap-1","data-testid":"button-add-points",children:[s.jsx(xr,{size:14})," ",l("adminCustomers.detail.addBalance")]}),s.jsxs("button",{onClick:k,className:"text-xs bg-red-50 text-red-600 px-3 py-1.5 rounded-lg font-bold hover:bg-red-100 transition-colors flex items-center gap-1","data-testid":"button-deduct-points",children:[s.jsx(n8,{size:14})," ",l("adminCustomers.detail.deductBalance")]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:l("adminCustomers.detail.totalBalance")}),s.jsx("p",{className:"text-xl font-black text-slate-800",children:e.searchPointsTotal||0})]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase",children:l("adminCustomers.detail.used")}),s.jsx("p",{className:"text-xl font-black text-slate-800",children:(e.searchPointsTotal||0)-(e.searchPointsRemaining||0)})]}),s.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-blue-500 font-bold uppercase",children:l("adminCustomers.detail.remaining")}),s.jsx("p",{className:"text-2xl font-black text-blue-600",children:e.searchPointsRemaining||0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:l("adminCustomers.detail.joinDate")}),s.jsx("p",{className:"font-mono font-bold text-slate-700",children:"2023-01-15"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:l("adminCustomers.detail.lastLogin")}),s.jsx("p",{className:"font-mono font-bold text-slate-700",dir:"ltr",children:Dr(e.lastLoginAt)})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 mb-4",children:[s.jsx(lr,{size:18,className:"text-amber-500"})," ",l("adminCustomers.detail.customerDocs")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.crNumber?s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:s.jsx(lr,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800",children:l("adminCustomers.detail.docs.commercialReg")}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.crNumber})]}),(V=e.documents)!=null&&V.find(R=>R.type==="CR_CERTIFICATE")?s.jsx("button",{onClick:()=>{var W;const R=(W=e.documents)==null?void 0:W.find(X=>X.type==="CR_CERTIFICATE");R!=null&&R.base64Data&&window.open(R.base64Data,"_blank")},className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100","data-testid":"view-cr-doc",children:s.jsx(Zl,{size:16})}):s.jsx("span",{className:"text-xs text-slate-400",children:l("adminCustomers.detail.docs.notAttached")})]}):s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 text-center",children:[s.jsx("p",{className:"text-sm text-slate-400",children:l("adminCustomers.detail.docs.commercialReg")}),s.jsx("p",{className:"text-xs text-slate-300",children:l("adminCustomers.detail.docs.notAvailable")})]}),e.taxNumber?s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:s.jsx(lr,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800",children:l("adminCustomers.detail.docs.taxNumber")}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.taxNumber})]}),(q=e.documents)!=null&&q.find(R=>R.type==="VAT_CERTIFICATE")?s.jsx("button",{onClick:()=>{var W;const R=(W=e.documents)==null?void 0:W.find(X=>X.type==="VAT_CERTIFICATE");R!=null&&R.base64Data&&window.open(R.base64Data,"_blank")},className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100","data-testid":"view-vat-doc",children:s.jsx(Zl,{size:16})}):s.jsx("span",{className:"text-xs text-slate-400",children:l("adminCustomers.detail.docs.notAttached")})]}):s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 text-center",children:[s.jsx("p",{className:"text-sm text-slate-400",children:l("adminCustomers.detail.docs.taxNumber")}),s.jsx("p",{className:"text-xs text-slate-300",children:l("adminCustomers.detail.docs.notAvailable")})]}),e.nationalAddress?s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:s.jsx(Up,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800",children:l("adminCustomers.detail.docs.nationalAddress")}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.nationalAddress})]}),(z=e.documents)!=null&&z.find(R=>R.type==="NATIONAL_ADDRESS")?s.jsx("button",{onClick:()=>{var W;const R=(W=e.documents)==null?void 0:W.find(X=>X.type==="NATIONAL_ADDRESS");R!=null&&R.base64Data&&window.open(R.base64Data,"_blank")},className:"p-2 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100","data-testid":"view-address-doc",children:s.jsx(Zl,{size:16})}):s.jsx("span",{className:"text-xs text-slate-400",children:l("adminCustomers.detail.docs.notAttached")})]}):s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 text-center",children:[s.jsx("p",{className:"text-sm text-slate-400",children:l("adminCustomers.detail.docs.nationalAddress")}),s.jsx("p",{className:"text-xs text-slate-300",children:l("adminCustomers.detail.docs.notAvailable")})]})]})]})]}),a==="STAFF"&&s.jsxs("div",{className:"animate-fade-in space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"font-bold text-slate-800",children:[l("adminCustomers.detail.staff.staffMembers")," (",b.length,")"]}),s.jsxs("p",{className:"text-xs text-slate-500",children:[l("adminCustomers.detail.staff.maxLimit"),": ",e.staffLimit]})]}),b.map(R=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold",children:R.name[0]}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800 text-sm",children:[R.name," ",R.role==="CUSTOMER_OWNER"&&s.jsx("span",{className:"bg-amber-100 text-amber-700 text-[10px] px-1.5 rounded ml-1",children:l("adminCustomers.detail.staff.owner")})]}),s.jsx("p",{className:"text-xs text-slate-500 font-mono",children:R.phone||R.clientId})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded ${R.isActive?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:R.isActive?l("adminCustomers.detail.staff.active"):l("adminCustomers.detail.staff.suspended")}),s.jsx("button",{onClick:()=>I(R.id,R.status||"ACTIVE"),className:"text-xs border px-3 py-1.5 rounded hover:bg-slate-50",children:R.isActive?l("adminCustomers.detail.staff.suspendBtn"):l("adminCustomers.detail.staff.activateBtn")})]})]},R.id)),b.length===0&&s.jsx("p",{className:"text-center text-slate-400 py-8",children:l("adminCustomers.detail.noStaff")})]}),a==="SECURITY"&&s.jsxs("div",{className:"animate-fade-in space-y-4",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm mb-6",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Yr,{size:18})," ",l("adminCustomers.detail.security.securityIndicators")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{children:l("adminCustomers.detail.security.failedLoginAttempts")}),s.jsx("span",{className:`font-bold ${e.failedLoginAttempts>3?"text-red-600":"text-slate-800"}`,children:e.failedLoginAttempts||0})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{children:l("adminCustomers.detail.security.suspiciousBehavior")}),s.jsx("span",{className:`font-bold ${e.riskyLoginFlag?"text-red-600":"text-green-600"}`,children:e.riskyLoginFlag?l("adminCustomers.detail.security.yes"):l("adminCustomers.detail.security.no")})]})]}),s.jsx("button",{onClick:()=>de.resetFailedLogin(e.userId).then(()=>{i(l("adminCustomers.detail.security.counterReset"),"success"),r()}),className:"mt-4 w-full border border-slate-300 text-slate-600 py-2 rounded-lg text-sm hover:bg-slate-50",children:l("adminCustomers.detail.security.resetCounter")})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm mb-6",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(uy,{size:18})," ",l("adminCustomers.detail.security.passwordReset")]}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:l("adminCustomers.detail.security.passwordResetDesc")}),s.jsxs("button",{onClick:async()=>{const R=prompt(l("adminCustomers.detail.security.enterNewPassword"),"");if(R&&R.length>=4)try{const W=JSON.parse(localStorage.getItem("sini_car_current_user")||"{}");if(!W.id){i(l("adminCustomers.detail.security.adminNotFound"),"error");return}const X=await de.adminResetPassword(W.id,e.userId,R);X.success?i(X.message,"success"):i(X.message,"error")}catch{i(l("adminCustomers.detail.security.passwordResetError"),"error")}else R&&i(l("adminCustomers.detail.security.passwordMinLength"),"error")},className:"w-full bg-amber-500 text-white font-bold py-2 rounded-lg text-sm hover:bg-amber-600 flex items-center justify-center gap-2","data-testid":"button-admin-reset-password",children:[s.jsx(uy,{size:16}),l("adminCustomers.detail.security.resetPasswordBtn")]})]}),s.jsx("h3",{className:"font-bold text-slate-800 mb-2 text-sm",children:l("adminCustomers.detail.security.recentLoginHistory")}),s.jsxs("div",{className:"space-y-2",children:[v.filter(R=>R.eventType==="LOGIN"||R.eventType==="FAILED_LOGIN"||R.eventType==="PASSWORD_CHANGED"||R.eventType==="PASSWORD_RESET").slice(0,5).map(R=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-white border border-slate-100 rounded-lg text-xs",children:[s.jsx("span",{className:`font-bold ${R.eventType==="LOGIN"?"text-green-600":R.eventType==="FAILED_LOGIN"?"text-red-600":R.eventType==="PASSWORD_CHANGED"?"text-blue-600":R.eventType==="PASSWORD_RESET"?"text-amber-600":"text-slate-600"}`,children:R.eventType==="LOGIN"?l("adminCustomers.detail.security.successfulLogin"):R.eventType==="FAILED_LOGIN"?l("adminCustomers.detail.security.failedLogin"):R.eventType==="PASSWORD_CHANGED"?l("adminCustomers.detail.security.passwordChanged"):R.eventType==="PASSWORD_RESET"?l("adminCustomers.detail.security.passwordResetAdmin"):R.eventType}),s.jsx("span",{className:"text-slate-500 font-mono",dir:"ltr",children:Dr(R.createdAt)})]},R.id)),v.length===0&&s.jsx("p",{className:"text-center text-slate-400 text-xs",children:l("adminCustomers.detail.security.noLogsAvailable")})]})]}),a==="NOTES"&&s.jsxs("div",{className:"animate-fade-in h-full flex flex-col",children:[s.jsx("textarea",{className:"flex-1 w-full p-4 bg-yellow-50 border border-yellow-200 rounded-xl text-slate-700 focus:outline-none resize-none",placeholder:l("adminCustomers.detail.notes.placeholder"),defaultValue:e.internalNotes}),s.jsx("button",{className:"mt-4 bg-yellow-500 text-white font-bold py-2 rounded-xl hover:bg-yellow-600",children:l("adminCustomers.detail.notes.saveNote")})]}),a==="ORDERS"&&s.jsxs("div",{className:"animate-fade-in space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Na,{size:18,className:"text-blue-500"})," ",l("adminCustomers.detail.orders.customerOrders")," (",_.length,")"]}),s.jsxs("div",{className:"flex gap-2 text-xs",children:[s.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-lg font-bold",children:[l("adminCustomers.detail.orders.completed"),": ",_.filter(R=>R.status==="DELIVERED").length]}),s.jsxs("span",{className:"bg-yellow-50 text-yellow-700 px-2 py-1 rounded-lg font-bold",children:[l("adminCustomers.detail.orders.ongoing"),": ",_.filter(R=>["PENDING","APPROVED","SHIPPED"].includes(R.status)).length]})]})]}),A?s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx(b0,{size:24,className:"mx-auto mb-3 animate-spin opacity-50"}),s.jsx("p",{className:"text-sm",children:l("adminCustomers.detail.orders.loadingOrders")})]}):_.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx(Na,{size:40,className:"mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"text-sm",children:l("adminCustomers.detail.orders.noOrders")})]}):s.jsxs("div",{className:"space-y-3",children:[_.slice(0,10).map(R=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600",children:s.jsx(Na,{size:20})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800 text-sm",children:["#",R.id]}),s.jsx("p",{className:"text-xs text-slate-500",children:R.createdByName||l("adminCustomers.detail.orders.unspecified")})]})]}),s.jsx(tle,{status:R.status})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.orders.products")}),s.jsxs("p",{className:"font-bold text-slate-700",children:[R.items.length," ",l("adminCustomers.detail.orders.item")]})]}),s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.orders.total")}),s.jsxs("p",{className:"font-bold text-green-700",children:[R.totalAmount.toLocaleString()," ",l("adminCustomers.detail.orders.currency")]})]}),s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.orders.date")}),s.jsx("p",{className:"font-bold text-slate-700 font-mono",dir:"ltr",children:Hd(R.date)})]})]})]},R.id)),_.length>10&&s.jsx("p",{className:"text-center text-slate-400 text-xs py-2",children:l("adminCustomers.detail.orders.showingOf",{shown:10,total:_.length})})]})]}),a==="QUOTES"&&s.jsxs("div",{className:"animate-fade-in space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(dy,{size:18,className:"text-purple-500"})," ",l("adminCustomers.detail.quotes.pricingRequests")," (",E.length,")"]}),s.jsxs("div",{className:"flex gap-2 text-xs",children:[s.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-lg font-bold",children:[l("adminCustomers.detail.quotes.approved"),": ",E.filter(R=>R.status==="APPROVED").length]}),s.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-lg font-bold",children:[l("adminCustomers.detail.quotes.new"),": ",E.filter(R=>R.status==="NEW").length]})]})]}),N?s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx(b0,{size:24,className:"mx-auto mb-3 animate-spin opacity-50"}),s.jsx("p",{className:"text-sm",children:l("adminCustomers.detail.quotes.loadingQuotes")})]}):E.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx(dy,{size:40,className:"mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"text-sm",children:l("adminCustomers.detail.quotes.noQuotes")})]}):s.jsxs("div",{className:"space-y-3",children:[E.slice(0,10).map(R=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center text-purple-600",children:s.jsx(dy,{size:20})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800 text-sm",children:["#",R.id]}),s.jsx("p",{className:"text-xs text-slate-500",children:R.priceType||l("adminCustomers.detail.quotes.unspecified")})]})]}),s.jsx(rle,{status:R.status})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.quotes.items")}),s.jsxs("p",{className:"font-bold text-slate-700",children:[R.items.length," ",l("adminCustomers.detail.quotes.item")]})]}),s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.quotes.total")}),s.jsx("p",{className:"font-bold text-green-700",children:R.totalQuotedAmount?`${R.totalQuotedAmount.toLocaleString()} ${l("adminCustomers.detail.quotes.currency")}`:l("adminCustomers.detail.quotes.pendingPricing")})]}),s.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-slate-400 mb-0.5",children:l("adminCustomers.detail.quotes.date")}),s.jsx("p",{className:"font-bold text-slate-700 font-mono",dir:"ltr",children:Hd(R.date)})]})]}),R.resultReady&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100 flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2 text-[10px]",children:[s.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-0.5 rounded",children:[l("adminCustomers.detail.quotes.approved"),": ",R.approvedItemsCount||0]}),s.jsxs("span",{className:"bg-red-50 text-red-700 px-2 py-0.5 rounded",children:[l("adminCustomers.detail.quotes.missing"),": ",R.missingItemsCount||0]})]}),s.jsxs("span",{className:"text-[10px] text-slate-400",children:[l("adminCustomers.detail.quotes.reviewedBy"),": ",R.adminReviewedBy||l("adminCustomers.detail.quotes.unspecified")]})]})]},R.id)),E.length>10&&s.jsx("p",{className:"text-center text-slate-400 text-xs py-2",children:l("adminCustomers.detail.quotes.showingOf",{shown:10,total:E.length})})]})]})]})]})]})},H4={NEW:"new",UNDER_REVIEW:"underReview",WAITING_CUSTOMER_EXCEL:"waitingCustomerExcel",PRICING_IN_PROGRESS:"pricingInProgress",PRICING_SENT:"pricingSent",WAITING_CUSTOMER_APPROVAL:"waitingCustomerApproval",APPROVED_BY_CUSTOMER:"approvedByCustomer",IN_FACTORY:"inFactory",SHIPMENT_BOOKED:"shipmentBooked",ON_THE_SEA:"onTheSea",IN_PORT:"inPort",CUSTOMS_CLEARED:"customsCleared",ON_THE_WAY:"onTheWay",DELIVERED:"delivered",CANCELLED:"cancelled"},V4={NEW:"bg-blue-100 text-blue-700",UNDER_REVIEW:"bg-yellow-100 text-yellow-700",APPROVED_BY_CUSTOMER:"bg-green-100 text-green-700",ON_THE_SEA:"bg-cyan-100 text-cyan-700",DELIVERED:"bg-emerald-100 text-emerald-700",CANCELLED:"bg-red-100 text-red-700",PRICING_SENT:"bg-purple-100 text-purple-700"},sle=({requests:e,onUpdate:t})=>{const{t:r}=na(),[a,n]=P.useState(null),[i,l]=P.useState(!1),[c,u]=P.useState({totalAmount:0,note:""}),{addToast:f}=qt(),p=y=>{const b=H4[y];return b?r(`adminImport.status.${b}`):y},m=P.useMemo(()=>[...e].sort((y,b)=>new Date(b.createdAt).getTime()-new Date(y.createdAt).getTime()),[e]),x=async(y,b)=>{if(a){l(!0);try{await de.updateImportRequestStatus(a.id,y,{note:b||"",changedBy:"Admin",actorRole:"ADMIN"}),f(r("adminImport.toast.statusUpdated"),"success"),t(),n(null)}catch{f(r("adminImport.toast.updateFailed"),"error")}finally{l(!1)}}},v=async()=>{if(!a||c.totalAmount<=0){f(r("adminImport.toast.enterValidAmount"),"error");return}l(!0);try{await de.completeImportRequestPricing(a.id,{totalAmount:c.totalAmount,pricingFileName:"Price_Offer.pdf",adminName:"Admin"}),f(r("adminImport.toast.pricingSent"),"success"),t(),n(null)}catch{f(r("adminImport.toast.sendFailed"),"error")}finally{l(!1)}};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:r("adminImport.stats.newRequests")}),s.jsx("p",{className:"text-2xl font-black text-blue-600",children:e.filter(y=>y.status==="NEW").length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:r("adminImport.stats.inProgress")}),s.jsx("p",{className:"text-2xl font-black text-yellow-600",children:e.filter(y=>["IN_FACTORY","SHIPMENT_BOOKED","ON_THE_SEA"].includes(y.status)).length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:r("adminImport.stats.awaitingCustomer")}),s.jsx("p",{className:"text-2xl font-black text-purple-600",children:e.filter(y=>["WAITING_CUSTOMER_EXCEL","PRICING_SENT","WAITING_CUSTOMER_APPROVAL"].includes(y.status)).length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase",children:r("adminImport.stats.completed")}),s.jsx("p",{className:"text-2xl font-black text-green-600",children:e.filter(y=>y.status==="DELIVERED").length})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-[#0B1B3A] text-white font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:r("adminImport.table.requestNumber")}),s.jsx("th",{className:"p-4",children:r("adminImport.table.customer")}),s.jsx("th",{className:"p-4",children:r("adminImport.table.service")}),s.jsx("th",{className:"p-4",children:r("adminImport.table.requestDate")}),s.jsx("th",{className:"p-4 text-center",children:r("adminImport.table.status")}),s.jsx("th",{className:"p-4 text-center",children:r("adminImport.table.action")})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100",children:[m.map(y=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-brand-700",children:y.id}),s.jsx("td",{className:"p-4 font-bold text-slate-800",children:y.businessName}),s.jsx("td",{className:"p-4 text-slate-600",children:y.serviceMode==="FULL_SERVICE"?r("adminImport.serviceType.fullService"):r("adminImport.serviceType.processingOnly")}),s.jsx("td",{className:"p-4 text-slate-500 text-xs",dir:"ltr",children:Dr(y.createdAt)}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${V4[y.status]||"bg-gray-100 text-gray-600"}`,children:p(y.status)})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("button",{onClick:()=>n(y),className:"bg-slate-100 hover:bg-slate-200 text-slate-700 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors",children:r("adminImport.actions.manageRequest")})})]},y.id)),m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-10 text-center text-slate-400",children:r("adminImport.noRequests")})})]})]})}),s.jsx(gr,{isOpen:!!a,onClose:()=>n(null),title:`${r("adminImport.modal.manageRequest")} #${a==null?void 0:a.id}`,maxWidth:"max-w-5xl",children:a&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between ${V4[a.status]||"bg-slate-50 border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/50 rounded-lg",children:s.jsx(Xr,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold uppercase opacity-70",children:r("adminImport.modal.currentStatus")}),s.jsx("p",{className:"text-lg font-black",children:p(a.status)})]})]}),a.status==="NEW"&&s.jsx("button",{onClick:()=>x("UNDER_REVIEW"),className:"bg-white text-slate-800 px-4 py-2 rounded-lg text-xs font-bold shadow-sm hover:bg-slate-50",children:r("adminImport.actions.startReview")}),a.status==="UNDER_REVIEW"&&s.jsx("button",{onClick:()=>x("WAITING_CUSTOMER_EXCEL"),className:"bg-white text-slate-800 px-4 py-2 rounded-lg text-xs font-bold shadow-sm hover:bg-slate-50",children:r("adminImport.actions.requestItemsFile")})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200",children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(fs,{size:18})," ",r("adminImport.modal.timeline")]}),s.jsx("div",{className:"space-y-6 relative before:absolute before:right-[19px] before:top-2 before:bottom-2 before:w-0.5 before:bg-slate-100",children:(a.timeline||[]).slice().reverse().map((y,b)=>s.jsxs("div",{className:"relative pr-10",children:[s.jsx("div",{className:`absolute right-3 top-1 w-4 h-4 rounded-full border-2 border-white shadow-sm ${y.actorRole==="ADMIN"?"bg-blue-500":"bg-green-500"}`}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-slate-800",children:p(y.status)}),y.note&&s.jsx("p",{className:"text-xs text-slate-500 mt-1 bg-slate-50 p-2 rounded border border-slate-100 inline-block",children:y.note})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-[10px] text-slate-400 font-mono",children:Dr(y.changedAt)}),s.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase",children:y.changedBy})]})]})]},b))})]}),(a.status==="WAITING_CUSTOMER_EXCEL"||a.status==="PRICING_IN_PROGRESS")&&s.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[s.jsxs("h4",{className:"font-bold text-purple-900 mb-4 flex items-center gap-2",children:[s.jsx(Qs,{size:18})," ",r("adminImport.pricing.preparePricing")]}),a.customerExcelFileName?s.jsxs("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg border border-purple-200 mb-4",children:[s.jsx(lr,{className:"text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[r("adminImport.pricing.customerFile"),": ",a.customerExcelFileName]}),s.jsx("p",{className:"text-xs text-slate-400",children:Dr(a.customerExcelUploadedAt)})]}),s.jsx("button",{className:"text-xs bg-purple-100 text-purple-700 px-3 py-1.5 rounded font-bold",children:r("adminImport.pricing.download")})]}):s.jsx("p",{className:"text-sm text-purple-600 mb-4 italic",children:r("adminImport.pricing.waitingForFile")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-purple-700 mb-1",children:r("adminImport.pricing.totalOffer")}),s.jsx("input",{type:"number",className:"w-full p-2 rounded-lg border border-purple-200",value:c.totalAmount,onChange:y=>u({...c,totalAmount:parseFloat(y.target.value)})})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:v,disabled:i,className:"w-full bg-purple-600 text-white py-2 rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50",children:r("adminImport.pricing.sendToCustomer")})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-200",children:[s.jsx("h4",{className:"font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2",children:r("adminImport.details.title")}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 text-xs block uppercase",children:r("adminImport.details.requestedBrands")}),s.jsx("span",{className:"font-bold text-slate-700",children:a.targetCarBrands.join(", ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 text-xs block uppercase",children:r("adminImport.details.serviceType")}),s.jsx("span",{className:"font-bold text-brand-600",children:a.serviceMode==="FULL_SERVICE"?r("adminImport.serviceType.fullImport"):r("adminImport.serviceType.goodsPreparation")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 text-xs block uppercase",children:r("adminImport.details.branchesCount")}),s.jsx("span",{className:"font-bold text-slate-700",children:a.branchesCount})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400 text-xs block uppercase",children:r("adminImport.details.estimatedValue")}),s.jsx("span",{className:"font-bold text-slate-700",children:a.estimatedAnnualValue||"-"})]}),a.notes&&s.jsxs("div",{className:"bg-white p-3 rounded border border-slate-100 mt-2",children:[s.jsxs("span",{className:"text-xs text-slate-400 block mb-1",children:[r("adminImport.details.customerNotes"),":"]}),s.jsx("p",{className:"text-slate-600",children:a.notes})]})]})]}),s.jsxs("div",{className:"bg-[#0B1B3A] p-5 rounded-2xl text-white shadow-lg",children:[s.jsxs("h4",{className:"font-bold text-[#C8A04F] mb-4 flex items-center gap-2",children:[s.jsx(Pr,{size:18})," ",r("adminImport.statusControl.title")]}),s.jsx("select",{className:"w-full bg-slate-800 border border-slate-600 rounded-lg p-2 text-sm mb-4 text-white",value:a.status,onChange:y=>x(y.target.value),disabled:i,children:Object.keys(H4).map(y=>s.jsx("option",{value:y,children:p(y)},y))}),s.jsx("p",{className:"text-xs text-slate-400 mb-2",children:r("adminImport.statusControl.hint")})]}),s.jsx("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:s.jsx("button",{onClick:()=>x("CANCELLED"),className:"w-full text-red-600 font-bold text-sm py-2 hover:bg-red-100 rounded transition-colors",children:r("adminImport.actions.cancelRequest")})})]})]})})]})},nle=({onRefresh:e})=>{var ps;const{t}=na(),{addToast:r}=qt(),a=P.useRef(null),{hasPermission:n}=hm(),i=n("products","create"),l=n("products","edit"),c=n("products","delete"),[u,f]=P.useState([]),[p,m]=P.useState(!0),[x,v]=P.useState(""),[y,b]=P.useState(1),[S,_]=P.useState(!1),[w,E]=P.useState(!1),[O,A]=P.useState(null),[T,N]=P.useState(!1),[D,L]=P.useState(null),[M,k]=P.useState({}),[I,V]=P.useState(!1),[q,z]=P.useState([]),[R,W]=P.useState(null),[X,B]=P.useState({name:"",mappings:[]}),[ee,Y]=P.useState("list"),[F,K]=P.useState(new Set),[J,H]=P.useState(!1),[ce,le]=P.useState(1),xe=20;P.useEffect(()=>{ft(),fe(),se()},[]);const se=async()=>{const Oe=await de.getSettings();le(Oe.minVisibleQty??1)},fe=()=>{const Oe=de.getExcelColumnPresets();z(Oe)},we=()=>{const Oe=Lh.map(at=>({internalField:at.key,excelHeader:at.label,isEnabled:at.required,isRequired:at.required,defaultValue:void 0}));B({name:"",mappings:Oe}),W(null),Y("create")},G=Oe=>{W(Oe),B({name:Oe.name,mappings:[...Oe.mappings]}),Y("edit")},He=()=>{if(!X.name.trim()){r(t("adminProducts.columnPresets.enterPresetName","   "),"error");return}ee==="create"?(de.createExcelColumnPreset({name:X.name,isDefault:q.length===0,mappings:X.mappings}),r(t("adminProducts.columnPresets.created","   "),"success")):R&&(de.updateExcelColumnPreset(R.id,{name:X.name,mappings:X.mappings}),r(t("adminProducts.columnPresets.saved","  "),"success")),fe(),Y("list")},Ue=Oe=>{confirm(t("adminProducts.columnPresets.deleteConfirm","      "))&&(de.deleteExcelColumnPreset(Oe),r(t("adminProducts.columnPresets.deleted","  "),"info"),fe())},he=Oe=>{de.setDefaultExcelColumnPreset(Oe),r(t("adminProducts.columnPresets.setDefault","   "),"success"),fe()},Me=(Oe,at,It)=>{const nr=[...X.mappings];nr[Oe]={...nr[Oe],[at]:It},B({...X,mappings:nr})},ye=()=>{const Oe={internalField:`custom_${Date.now()}`,excelHeader:"",isEnabled:!0,isRequired:!1,defaultValue:void 0};B({...X,mappings:[...X.mappings,Oe]})},$e=Oe=>{const at=X.mappings.filter((It,nr)=>nr!==Oe);B({...X,mappings:at})},rt=Oe=>{K(at=>{const It=new Set(at);return It.has(Oe)?It.delete(Oe):It.add(Oe),It})},it=()=>{F.size===Yt.length?K(new Set):K(new Set(Yt.map(Oe=>Oe.id)))},ve=()=>{K(new Set(kt.map(Oe=>Oe.id))),r(t("adminProducts.selectedCount",`  ${kt.length} `,{count:kt.length}),"info")},tt=()=>{K(new Set)},wt=async()=>{if(F.size===0){r(t("adminProducts.selectProductsFirst","   "),"error");return}const Oe=await de.bulkUpdateProductVisibility(Array.from(F),!0);r(t("adminProducts.visibilityApplied",`      ${Oe} `,{count:Oe}),"success"),ft(),tt()},Nt=async()=>{if(F.size===0){r(t("adminProducts.selectProductsFirst","   "),"error");return}const Oe=await de.bulkUpdateProductVisibility(Array.from(F),!1);r(t("adminProducts.visibilityRemoved",`      ${Oe} `,{count:Oe}),"success"),ft(),tt()},bt=async()=>{const Oe=await de.getSettings();await de.updateSettings({...Oe,minVisibleQty:ce}),r(t("adminProducts.visibility.saved","     "),"success")},ft=async()=>{m(!0);try{const Oe=await de.getProducts();f(Oe)}catch{r(t("adminProducts.loadFailed","   "),"error")}finally{m(!1)}},kt=P.useMemo(()=>{if(!x.trim())return u;const Oe=x.toLowerCase();return u.filter(at=>at.partNumber.toLowerCase().includes(Oe)||at.name.toLowerCase().includes(Oe)||at.brand&&at.brand.toLowerCase().includes(Oe)||at.carName&&at.carName.toLowerCase().includes(Oe))},[u,x]),Yt=P.useMemo(()=>{const Oe=(y-1)*xe;return kt.slice(Oe,Oe+xe)},[kt,y]),Xe=Math.ceil(kt.length/xe),ct=async Oe=>{var It;const at=(It=Oe.target.files)==null?void 0:It[0];if(at){_(!0),A(null),E(!0);try{const nr=de.getDefaultExcelColumnPreset(),qr=await de.importProductsFromOnyxExcel(at,nr==null?void 0:nr.id);A(qr),r(t("adminProducts.importModal.importSuccess","  "),"success"),ft(),e==null||e()}catch(nr){r(nr.message||t("adminProducts.importFailed","  "),"error"),A({imported:0,updated:0,skipped:0,errors:[nr.message]})}finally{_(!1),a.current&&(a.current.value="")}}},$t=()=>{try{de.generateOnyxExcelTemplate(),r(t("adminProducts.templateDownloaded","   Excel"),"success")}catch{r(t("adminProducts.templateDownloadFailed","   "),"error")}},Er=Oe=>{L(Oe),k({...Oe}),N(!0)},Se=()=>{L(null),k({partNumber:"",name:"",price:0,stock:0}),N(!0)},ur=async()=>{if(!M.partNumber||!M.name){r(t("adminProducts.partAndNameRequired","   "),"error");return}try{D?(await de.updateProduct(D.id,M),r(t("adminProducts.productSaved","  "),"success")):(await de.addProduct(M),r(t("adminProducts.productCreated","  "),"success")),ft(),N(!1),e==null||e()}catch(Oe){r(Oe.message||t("common.error"," "),"error")}},ma=async Oe=>{if(confirm(t("adminProducts.deleteConfirm","      ")))try{await de.deleteProduct(Oe),r(t("adminProducts.productDeleted","  "),"success"),ft(),e==null||e()}catch{r(t("adminProducts.deleteFailed","   "),"error")}},Zt=Oe=>Oe==null?"-":`${Oe.toLocaleString()} .`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Na,{className:"text-[#C8A04F]",size:24})," "]}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[u.length,"    "]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>{V(!0),Y("list")},className:"flex items-center gap-2 px-4 py-2.5 bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-200 rounded-xl font-bold text-sm transition-colors","data-testid":"button-column-settings",children:[s.jsx(ds,{size:18})," "]}),s.jsxs("button",{onClick:$t,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold text-sm transition-colors",children:[s.jsx(Cn,{size:18}),"  Excel"]}),i&&s.jsxs("div",{className:"relative group",children:[s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm cursor-pointer transition-colors",children:[s.jsx(jc,{size:18}),"  ",s.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",className:"hidden",onChange:ct})]}),q.find(Oe=>Oe.isDefault)&&s.jsxs("div",{className:"absolute -bottom-6 right-0 text-xs text-slate-500 whitespace-nowrap",children:[": ",(ps=q.find(Oe=>Oe.isDefault))==null?void 0:ps.name]})]}),i?s.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2.5 bg-[#0B1B3A] hover:bg-[#1a2e56] text-white rounded-xl font-bold text-sm transition-colors",children:[s.jsx(xr,{size:18})," "]}):s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-400 rounded-xl font-bold text-sm cursor-not-allowed",children:[s.jsx(Yr,{size:18}),"  "]})]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-l from-purple-50 to-white border border-purple-200 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:s.jsx(Ws,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800",children:"   "}),s.jsx("p",{className:"text-xs text-slate-500",children:"       "})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-bold text-slate-700 whitespace-nowrap",children:" :"}),s.jsx("input",{type:"number",min:"0",value:ce,onChange:Oe=>le(parseInt(Oe.target.value)||0),className:"w-20 px-3 py-2 border border-purple-200 rounded-lg text-center focus:ring-2 focus:ring-purple-500 focus:border-transparent","data-testid":"input-visibility-threshold"})]}),s.jsx("button",{onClick:bt,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold text-sm transition-colors","data-testid":"button-save-threshold",children:""})]})]}),s.jsxs("p",{className:"text-xs text-purple-600 mt-2 bg-purple-100 px-3 py-1.5 rounded-lg inline-block",children:["     ",ce,'    " "    ']})]}),F.size>0&&s.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-l from-blue-50 to-white border border-blue-200 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fy,{className:"text-blue-600",size:20}),s.jsxs("span",{className:"font-bold text-slate-800",children:[F.size,"  "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:wt,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold text-sm transition-colors","data-testid":"button-apply-visibility",children:[s.jsx(lo,{size:16}),"  "]}),s.jsxs("button",{onClick:Nt,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-bold text-sm transition-colors","data-testid":"button-remove-visibility",children:[s.jsx(wa,{size:16}),"  "]}),s.jsxs("button",{onClick:ve,className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg font-bold text-sm transition-colors",children:["  (",kt.length,")"]}),s.jsx("button",{onClick:tt,className:"px-4 py-2 text-slate-500 hover:text-slate-700 rounded-lg font-bold text-sm transition-colors",children:s.jsx(ar,{size:16})})]})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Ur,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"      ...",value:x,onChange:Oe=>{v(Oe.target.value),b(1)},className:"w-full pr-12 pl-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent transition-all"})]}),p?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(ua,{className:"animate-spin text-[#C8A04F]",size:32})}):kt.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(Na,{size:48,className:"mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-500 font-bold",children:"  "}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"     Excel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 text-slate-600",children:[s.jsx("th",{className:"px-3 py-3 text-center font-bold rounded-tr-xl w-12",children:s.jsx("button",{onClick:it,className:"p-1.5 hover:bg-slate-200 rounded transition-colors",title:" ",children:F.size===Yt.length&&Yt.length>0?s.jsx(fy,{className:"text-blue-600",size:18}):s.jsx(T4,{className:"text-slate-400",size:18})})}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:" "}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:" "}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:" "}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:" "}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:""}),s.jsx("th",{className:"px-4 py-3 text-center font-bold",children:" "}),s.jsx("th",{className:"px-4 py-3 text-right font-bold",children:""}),s.jsx("th",{className:"px-4 py-3 text-center font-bold rounded-tl-xl",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:Yt.map(Oe=>{const at=Oe.qtyTotal??Oe.stock??0,It=Oe.useVisibilityRuleForQty===!0,nr=It&&at<ce;return s.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${F.has(Oe.id)?"bg-blue-50/50":""}`,children:[s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("button",{onClick:()=>rt(Oe.id),className:"p-1.5 hover:bg-slate-200 rounded transition-colors",children:F.has(Oe.id)?s.jsx(fy,{className:"text-blue-600",size:18}):s.jsx(T4,{className:"text-slate-300",size:18})})}),s.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:Oe.partNumber}),s.jsx("td",{className:"px-4 py-3 font-bold text-slate-800",children:Oe.name}),s.jsx("td",{className:"px-4 py-3 text-emerald-600 font-bold",children:Zt(Oe.priceWholesale||Oe.price)}),s.jsx("td",{className:"px-4 py-3 text-slate-600",children:Zt(Oe.priceRetail)}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${at>10?"bg-emerald-100 text-emerald-700":at>0?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:at}),nr&&s.jsx("span",{className:"mr-1 text-purple-500",title:"  ",children:s.jsx(lo,{size:14,className:"inline"})})]}),s.jsx("td",{className:"px-4 py-3 text-center",children:It?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-lg",children:[s.jsx(Ws,{size:12}),""]}):s.jsx("span",{className:"text-slate-400 text-xs",children:"-"})}),s.jsx("td",{className:"px-4 py-3 text-slate-500",children:Oe.brand||"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l?s.jsx("button",{onClick:()=>Er(Oe),className:"p-2 text-slate-400 hover:text-[#C8A04F] hover:bg-amber-50 rounded-lg transition-colors",title:"",children:s.jsx(Nn,{size:16})}):s.jsx("span",{className:"p-2 text-slate-300 cursor-not-allowed",title:"  ",children:s.jsx(Nn,{size:16})}),c?s.jsx("button",{onClick:()=>ma(Oe.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"",children:s.jsx(Wt,{size:16})}):s.jsx("span",{className:"p-2 text-slate-300 cursor-not-allowed",title:"  ",children:s.jsx(Wt,{size:16})})]})})]},Oe.id)})})]})}),Xe>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-slate-100",children:[s.jsxs("p",{className:"text-sm text-slate-500",children:[" ",(y-1)*xe+1," - ",Math.min(y*xe,kt.length),"  ",kt.length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>b(Oe=>Math.max(1,Oe-1)),disabled:y===1,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:s.jsx(Zn,{size:18})}),s.jsxs("span",{className:"px-4 py-2 font-bold text-slate-700",children:[y," / ",Xe]}),s.jsx("button",{onClick:()=>b(Oe=>Math.min(Xe,Oe+1)),disabled:y===Xe,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:s.jsx(bi,{size:18})})]})]})]})]}),w&&s.jsx(gr,{isOpen:w,onClose:()=>E(!1),title:" ",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`p-3 rounded-xl ${S?"bg-blue-100":O!=null&&O.imported||O!=null&&O.updated?"bg-emerald-100":"bg-red-100"}`,children:S?s.jsx(ua,{size:24,className:"animate-spin text-blue-600"}):O!=null&&O.imported||O!=null&&O.updated?s.jsx(dr,{size:24,className:"text-emerald-600"}):s.jsx(sa,{size:24,className:"text-red-600"})}),s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:S?" ...":" "})})]}),S?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-600",children:"  ..."})}):O&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-black text-emerald-600",children:O.imported}),s.jsx("p",{className:"text-xs font-bold text-emerald-700",children:""})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-black text-blue-600",children:O.updated}),s.jsx("p",{className:"text-xs font-bold text-blue-700",children:""})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-2xl font-black text-slate-600",children:O.skipped}),s.jsx("p",{className:"text-xs font-bold text-slate-700",children:" "})]})]}),O.errors.length>0&&s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsxs("p",{className:"font-bold text-red-700 mb-2 flex items-center gap-2",children:[s.jsx(sa,{size:16})," (",O.errors.length,")"]}),s.jsx("ul",{className:"text-sm text-red-600 space-y-1 max-h-32 overflow-y-auto",children:O.errors.slice(0,10).map((Oe,at)=>s.jsxs("li",{children:[" ",Oe]},at))})]}),s.jsx("button",{onClick:()=>E(!1),className:"w-full py-3 bg-[#0B1B3A] hover:bg-[#1a2e56] text-white rounded-xl font-bold transition-colors",children:""})]})]})}),T&&s.jsx(gr,{isOpen:T,onClose:()=>N(!1),title:D?" ":"  ",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  *"}),s.jsx("input",{type:"text",value:M.partNumber||"",onChange:Oe=>k(at=>({...at,partNumber:Oe.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:": ABC-123"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),s.jsx("input",{type:"text",value:M.brand||"",onChange:Oe=>k(at=>({...at,brand:Oe.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:": Changan"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  *"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Oe=>k(at=>({...at,name:Oe.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:" "})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"number",value:M.priceWholesale||M.price||"",onChange:Oe=>k(at=>({...at,priceWholesale:parseFloat(Oe.target.value)||0,price:parseFloat(Oe.target.value)||0})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"number",value:M.priceRetail||"",onChange:Oe=>k(at=>({...at,priceRetail:parseFloat(Oe.target.value)||null})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:" "}),s.jsx("input",{type:"number",value:M.qtyTotal??M.stock??"",onChange:Oe=>k(at=>({...at,qtyTotal:parseInt(Oe.target.value)||0,stock:parseInt(Oe.target.value)||0})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),s.jsx("input",{type:"text",value:M.carName||"",onChange:Oe=>k(at=>({...at,carName:Oe.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent",placeholder:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),s.jsx("textarea",{value:M.description||"",onChange:Oe=>k(at=>({...at,description:Oe.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-[#C8A04F] focus:border-transparent resize-none",rows:3,placeholder:" ..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 border border-slate-200 text-slate-700 rounded-xl font-bold hover:bg-slate-50 transition-colors",children:""}),s.jsx("button",{onClick:ur,className:"flex-1 py-3 bg-[#0B1B3A] hover:bg-[#1a2e56] text-white rounded-xl font-bold transition-colors",children:D?" ":" "})]})]})}),I&&s.jsx(gr,{isOpen:I,onClose:()=>{V(!1),Y("list")},maxWidth:"max-w-4xl",children:s.jsx("div",{className:"flex flex-col h-full",children:ee==="list"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-slate-100 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-xl text-slate-800 flex items-center gap-2",children:[s.jsx(ds,{className:"text-blue-600",size:24}),"  "]}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"    Excel "})]}),s.jsxs("button",{onClick:we,className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold text-sm transition-colors shadow-sm","data-testid":"button-add-preset",children:[s.jsx(xr,{size:18}),"  "]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4 min-h-[200px] max-h-[50vh]",children:q.length===0?s.jsxs("div",{className:"text-center py-16 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[s.jsx(ll,{size:56,className:"mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold text-lg",children:"   "}),s.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"      "}),s.jsxs("button",{onClick:we,className:"mt-4 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold text-sm transition-colors",children:[s.jsx(xr,{size:16,className:"inline ml-2"}),"  "]})]}):s.jsx("div",{className:"space-y-3",children:q.map(Oe=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${Oe.isDefault?"border-blue-300 bg-gradient-to-l from-blue-50 to-white shadow-sm":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[Oe.isDefault?s.jsx("span",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:s.jsx(tl,{size:20})}):s.jsx("span",{className:"p-2 bg-slate-100 text-slate-400 rounded-lg",children:s.jsx(ll,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800 text-base",children:Oe.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsxs("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded",children:[Oe.mappings.filter(at=>at.isEnabled).length,"  "]}),Oe.mappings.filter(at=>!Lh.find(It=>It.key===at.internalField)).length>0&&s.jsxs("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded",children:["+",Oe.mappings.filter(at=>!Lh.find(It=>It.key===at.internalField)).length,"  "]}),Oe.isDefault&&s.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded font-bold",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!Oe.isDefault&&s.jsx("button",{onClick:()=>he(Oe.id),className:"p-2.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:" ",children:s.jsx(Ate,{size:18})}),s.jsx("button",{onClick:()=>G(Oe),className:"p-2.5 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"","data-testid":`button-edit-preset-${Oe.id}`,children:s.jsx(Nn,{size:18})}),s.jsx("button",{onClick:()=>Ue(Oe.id),className:"p-2.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:s.jsx(Wt,{size:18})})]})]},Oe.id))})}),s.jsx("div",{className:"pt-4 border-t border-slate-100 flex-shrink-0",children:s.jsx("button",{onClick:()=>V(!1),className:"w-full py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition-colors",children:""})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"pb-4 border-b border-slate-100 flex-shrink-0",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"font-bold text-xl text-slate-800 flex items-center gap-2",children:ee==="create"?s.jsxs(s.Fragment,{children:[s.jsx(xr,{className:"text-green-600",size:24}),"  "]}):s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"text-amber-600",size:24}),": ",R==null?void 0:R.name]})})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"  *"}),s.jsx("input",{type:"text",value:X.name,onChange:Oe=>B({...X,name:Oe.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base",placeholder:": Onyx Export Format","data-testid":"input-preset-name"})]})]}),s.jsx("div",{className:"py-3 border-b border-slate-200 flex-shrink-0 bg-slate-50 -mx-6 px-6 mt-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-3 text-xs font-bold text-slate-600",children:[s.jsx("div",{className:"col-span-1 text-center",children:""}),s.jsx("div",{className:"col-span-3",children:" "}),s.jsx("div",{className:"col-span-3",children:"   Excel"}),s.jsx("div",{className:"col-span-3",children:" "}),s.jsx("div",{className:"col-span-2 text-center",children:""})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-2 min-h-[200px] max-h-[40vh]",children:[s.jsx("div",{className:"space-y-2",children:X.mappings.map((Oe,at)=>{const It=Lh.find(qr=>qr.key===Oe.internalField),nr=!It;return s.jsxs("div",{className:`grid grid-cols-12 gap-3 items-center p-3 rounded-lg transition-colors ${nr?"bg-green-50 border border-green-200":Oe.isRequired?"bg-blue-50 border border-blue-100":"hover:bg-slate-50 border border-transparent"}`,children:[s.jsx("div",{className:"col-span-1 text-center",children:s.jsx("input",{type:"checkbox",checked:Oe.isEnabled,onChange:qr=>Me(at,"isEnabled",qr.target.checked),disabled:Oe.isRequired,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 cursor-pointer disabled:cursor-not-allowed"})}),s.jsx("div",{className:"col-span-3",children:nr?s.jsx("input",{type:"text",value:Oe.internalField,onChange:qr=>Me(at,"internalField",qr.target.value),className:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white",placeholder:" "}):s.jsxs("span",{className:`text-sm flex items-center gap-1 ${Oe.isRequired?"font-bold text-slate-800":"text-slate-600"}`,children:[(It==null?void 0:It.label)||Oe.internalField,Oe.isRequired&&s.jsx("span",{className:"text-red-500 text-xs",children:"()"})]})}),s.jsx("div",{className:"col-span-3",children:s.jsx("input",{type:"text",value:Oe.excelHeader,onChange:qr=>Me(at,"excelHeader",qr.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"   Excel"})}),s.jsx("div",{className:"col-span-3",children:s.jsx("input",{type:"text",value:Oe.defaultValue||"",onChange:qr=>Me(at,"defaultValue",qr.target.value||void 0),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"  ()"})}),s.jsxs("div",{className:"col-span-2 flex items-center justify-center gap-1",children:[nr&&s.jsx("button",{onClick:()=>$e(at),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:" ","data-testid":`button-remove-column-${at}`,children:s.jsx(Wt,{size:16})}),!nr&&Oe.isRequired&&s.jsx("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:""})]})]},`${Oe.internalField}-${at}`)})}),s.jsxs("button",{onClick:ye,className:"w-full mt-4 py-3 border-2 border-dashed border-green-300 text-green-600 rounded-xl font-bold hover:bg-green-50 hover:border-green-400 transition-colors flex items-center justify-center gap-2","data-testid":"button-add-column",children:[s.jsx(xr,{size:20}),"   ()"]})]}),s.jsx("div",{className:"pt-4 border-t border-slate-100 flex-shrink-0",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>Y("list"),className:"flex-1 py-3 border border-slate-200 text-slate-700 rounded-xl font-bold hover:bg-slate-50 transition-colors",children:""}),s.jsxs("button",{onClick:He,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-colors flex items-center justify-center gap-2 shadow-sm","data-testid":"button-save-preset",children:[s.jsx(Pr,{size:18})," "]})]})})]})})})]})},ile=({onRefresh:e})=>{const{t}=na(),[r,a]=P.useState("users");return s.jsxs("div",{className:"p-6 lg:p-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[s.jsx(Xt,{className:"text-[#C8A04F]",size:28}),t("adminUsers.title","  ")]}),s.jsx("p",{className:"text-slate-500 mt-1",children:t("adminUsers.subtitle","     ")})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b border-slate-200",children:s.jsxs("div",{className:"flex",children:[s.jsxs("button",{onClick:()=>a("users"),className:`flex items-center gap-2 px-6 py-4 font-bold transition-colors ${r==="users"?"text-[#0B1B3A] border-b-2 border-[#C8A04F] bg-slate-50":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,"data-testid":"tab-users",children:[s.jsx(Xt,{size:20}),t("adminUsers.tabs.users","")]}),s.jsxs("button",{onClick:()=>a("roles"),className:`flex items-center gap-2 px-6 py-4 font-bold transition-colors ${r==="roles"?"text-[#0B1B3A] border-b-2 border-[#C8A04F] bg-slate-50":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,"data-testid":"tab-roles",children:[s.jsx(Ws,{size:20}),t("adminUsers.tabs.roles"," ")]})]})}),r==="users"?s.jsx(lle,{onRefresh:e}):s.jsx(ole,{onRefresh:e})]})]})},lle=({onRefresh:e})=>{const{t}=na(),[r,a]=P.useState([]),[n,i]=P.useState([]),[l,c]=P.useState(!0),[u,f]=P.useState(""),{hasPermission:p}=hm(),m=p("users","create"),x=p("users","edit"),v=p("users","delete"),[y,b]=P.useState("ALL"),[S,_]=P.useState("ALL"),[w,E]=P.useState(!1),[O,A]=P.useState(!1),[T,N]=P.useState(!1),[D,L]=P.useState(!1),[M,k]=P.useState(!1),[I,V]=P.useState(null),[q,z]=P.useState({fullName:"",username:"",phone:"",email:"",password:"",roleId:"",isActive:!0}),[R,W]=P.useState(""),[X,B]=P.useState(""),[ee,Y]=P.useState(!1),{addToast:F}=qt();P.useEffect(()=>{K()},[]);const K=async()=>{c(!0);try{const[ve,tt]=await Promise.all([de.getAdminUsers(),de.getRoles()]);a(ve),i(tt),tt.length>0&&!q.roleId&&z(wt=>({...wt,roleId:tt[0].id}))}catch(ve){console.error("Failed to load data",ve),F(t("adminUsers.toast.loadError","   "),"error")}finally{c(!1)}},J=ve=>{const tt=n.find(wt=>wt.id===ve);return(tt==null?void 0:tt.name)||t("common.unassigned"," ")},H=r.filter(ve=>{const tt=ve.fullName.toLowerCase().includes(u.toLowerCase())||ve.username.toLowerCase().includes(u.toLowerCase())||ve.phone.includes(u),wt=y==="ALL"||ve.roleId===y,Nt=S==="ALL"||S==="ACTIVE"&&ve.isActive||S==="INACTIVE"&&!ve.isActive;return tt&&wt&&Nt}),ce=()=>{z({fullName:"",username:"",phone:"",email:"",password:"",roleId:n.length>0?n[0].id:"",isActive:!0}),B("")},le=()=>{ce(),E(!0)},xe=ve=>{V(ve),z({fullName:ve.fullName,username:ve.username,phone:ve.phone,email:ve.email||"",password:"",roleId:ve.roleId,isActive:ve.isActive}),B(""),A(!0)},se=ve=>{V(ve),N(!0)},fe=ve=>{V(ve),k(!0)},we=ve=>{V(ve),W(""),B(""),L(!0)},G=(ve=!1)=>q.fullName.trim()?q.username.trim()?/^[a-zA-Z0-9_]+$/.test(q.username)?q.phone.trim()?q.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(q.email)?(B("   "),!1):!ve&&!q.password.trim()?(B("  "),!1):q.roleId?!0:(B(" "),!1):(B("  "),!1):(B("         "),!1):(B("  "),!1):(B("  "),!1),He=async()=>{if(G(!1)){Y(!0);try{await de.createAdminUser({fullName:q.fullName,username:q.username,phone:q.phone,email:q.email||void 0,password:q.password,roleId:q.roleId,isActive:q.isActive}),F("   ","success"),E(!1),K(),e==null||e()}catch(ve){B(ve.message||"   ")}finally{Y(!1)}}},Ue=async()=>{if(!(!I||!G(!0))){Y(!0);try{await de.updateAdminUser(I.id,{fullName:q.fullName,phone:q.phone,email:q.email||void 0,roleId:q.roleId,isActive:q.isActive}),F("    ","success"),A(!1),K(),e==null||e()}catch(ve){B(ve.message||"   ")}finally{Y(!1)}}},he=async()=>{if(I){Y(!0);try{await de.toggleAdminUserStatus(I.id);const ve=I.isActive?"":"";F(` ${ve}  `,"success"),k(!1),V(null),K(),e==null||e()}catch(ve){F(ve.message||"    ","error")}finally{Y(!1)}}},Me=async()=>{if(I){if(!R.trim()){B("   ");return}Y(!0);try{await de.resetAdminUserPassword(I.id,R),F("     ","success"),L(!1),V(null),W("")}catch(ve){B(ve.message||"     ")}finally{Y(!1)}}},ye=async()=>{if(I){Y(!0);try{await de.deleteAdminUser(I.id),F("   ","success"),N(!1),V(null),K(),e==null||e()}catch(ve){F(ve.message||"   ","error")}finally{Y(!1)}}},$e=()=>{const ve=[" "," "," "," ","","","  "],tt=r.map(kt=>[kt.fullName,kt.username,kt.phone,kt.email||"-",J(kt.roleId),kt.isActive?"":"",kt.lastLoginAt?Dr(kt.lastLoginAt):"-"]),wt=[ve.join(","),...tt.map(kt=>kt.join(","))].join(`
`),Nt=new Blob(["\uFEFF"+wt],{type:"text/csv;charset=utf-8;"}),bt=URL.createObjectURL(Nt),ft=document.createElement("a");ft.href=bt,ft.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,ft.click(),URL.revokeObjectURL(bt),F("   ","success")},rt=ve=>{const tt=n.find(bt=>bt.id===ve),wt=(tt==null?void 0:tt.name)||" ",Nt={" ":"bg-purple-100 text-purple-800 border-purple-200"," ":"bg-blue-100 text-blue-800 border-blue-200"," ":"bg-emerald-100 text-emerald-800 border-emerald-200"," ":"bg-amber-100 text-amber-800 border-amber-200"," ":"bg-slate-100 text-slate-800 border-slate-200"};return s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${Nt[wt]||"bg-slate-100 text-slate-800 border-slate-200"}`,children:wt})},it=ve=>ve?s.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800 border border-green-200 flex items-center gap-1",children:[s.jsx(Gr,{size:12})," "]}):s.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800 border border-red-200 flex items-center gap-1",children:[s.jsx(ar,{size:12})," "]});return l?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-500",children:"  ..."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ur,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"      ...",value:u,onChange:ve=>f(ve.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-testid":"input-search-users"})]}),s.jsxs("select",{value:y,onChange:ve=>b(ve.target.value),className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-role-filter",children:[s.jsx("option",{value:"ALL",children:" "}),n.map(ve=>s.jsx("option",{value:ve.id,children:ve.name},ve.id))]}),s.jsxs("select",{value:S,onChange:ve=>_(ve.target.value),className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-status-filter",children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"ACTIVE",children:""}),s.jsx("option",{value:"INACTIVE",children:""})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:$e,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-export-users",children:[s.jsx(Cn,{size:18}),""]}),m?s.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-4 py-2.5 bg-[#0B1B3A] text-white rounded-xl font-bold hover:bg-[#1a2e56] transition-colors","data-testid":"button-add-user",children:[s.jsx(xr,{size:18})," "]}):s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-400 rounded-xl font-bold cursor-not-allowed",children:[s.jsx(Yr,{size:18}),"  "]})]})]}),r.length===0?s.jsxs("div",{className:"py-16 text-center text-slate-400",children:[s.jsx(Xt,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-bold",children:"    "}),s.jsx("p",{className:"text-sm mt-2",children:"   "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-sm",children:[s.jsx("th",{className:"text-right py-4 px-6 font-bold",children:" "}),s.jsx("th",{className:"text-right py-4 px-4 font-bold",children:" "}),s.jsx("th",{className:"text-right py-4 px-4 font-bold",children:" "}),s.jsx("th",{className:"text-right py-4 px-4 font-bold",children:""}),s.jsx("th",{className:"text-center py-4 px-4 font-bold",children:""}),s.jsx("th",{className:"text-right py-4 px-4 font-bold",children:"  "}),s.jsx("th",{className:"text-center py-4 px-4 font-bold",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:H.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-12 text-center text-slate-400",children:"    "})}):H.map(ve=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors","data-testid":`row-user-${ve.id}`,children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#0B1B3A] flex items-center justify-center text-white font-bold",children:ve.fullName.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800",children:ve.fullName}),ve.email&&s.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(Gf,{size:12})," ",ve.email]})]})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:ve.username})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("span",{className:"flex items-center gap-1 text-slate-600",children:[s.jsx(fm,{size:14,className:"text-slate-400"})," ",ve.phone]})}),s.jsx("td",{className:"py-4 px-4",children:rt(ve.roleId)}),s.jsx("td",{className:"py-4 px-4 text-center",children:it(ve.isActive)}),s.jsx("td",{className:"py-4 px-4",children:ve.lastLoginAt?s.jsxs("span",{className:"flex items-center gap-1 text-slate-500 text-sm",children:[s.jsx(Xr,{size:14})," ",Dr(ve.lastLoginAt)]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"  "})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[x?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>xe(ve),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"","data-testid":`button-edit-user-${ve.id}`,children:s.jsx(Nn,{size:18})}),s.jsx("button",{onClick:()=>we(ve),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"   ","data-testid":`button-reset-password-${ve.id}`,children:s.jsx(pp,{size:18})}),s.jsx("button",{onClick:()=>fe(ve),className:`p-2 rounded-lg transition-colors ${ve.isActive?"text-amber-600 hover:bg-amber-50":"text-green-600 hover:bg-green-50"}`,title:ve.isActive?"":"","data-testid":`button-toggle-user-${ve.id}`,children:ve.isActive?s.jsx(Ho,{size:18}):s.jsx($d,{size:18})})]}):s.jsx("span",{className:"p-2 text-slate-300",title:"  ",children:s.jsx(Yr,{size:18})}),v?s.jsx("button",{onClick:()=>se(ve),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"","data-testid":`button-delete-user-${ve.id}`,children:s.jsx(Wt,{size:18})}):s.jsx("span",{className:"p-2 text-slate-300",title:"  ",children:s.jsx(Wt,{size:18})})]})})]},ve.id))})]})}),s.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-500",children:[" : ",s.jsx("span",{className:"font-bold text-slate-700",children:r.length}),H.length!==r.length&&s.jsxs("span",{className:"mr-2",children:["  : ",s.jsx("span",{className:"font-bold text-slate-700",children:H.length})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:[": ",r.filter(ve=>ve.isActive).length]}),s.jsxs("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded",children:[": ",r.filter(ve=>!ve.isActive).length]})]})]}),w&&s.jsx(gr,{isOpen:w,onClose:()=>E(!1),children:s.jsxs("div",{className:"p-6 max-w-lg w-full",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(xr,{className:"text-[#C8A04F]",size:24}),"  "]}),X&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[s.jsx(sa,{size:18})," ",X]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"text",value:q.fullName,onChange:ve=>z({...q,fullName:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"  ","data-testid":"input-user-fullname"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"tel",value:q.phone,onChange:ve=>z({...q,phone:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"05xxxxxxxx",dir:"ltr","data-testid":"input-user-phone"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsx("input",{type:"email",value:q.email,onChange:ve=>z({...q,email:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com",dir:"ltr","data-testid":"input-user-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"text",value:q.username,onChange:ve=>z({...q,username:ve.target.value.toLowerCase()}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"username",dir:"ltr","data-testid":"input-user-username"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"password",value:q.password,onChange:ve=>z({...q,password:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"  ",dir:"ltr","data-testid":"input-user-password"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsx("select",{value:q.roleId,onChange:ve=>z({...q,roleId:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-user-role",children:n.map(ve=>s.jsx("option",{value:ve.id,children:ve.name},ve.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsxs("select",{value:q.isActive?"active":"inactive",onChange:ve=>z({...q,isActive:ve.target.value==="active"}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-user-status",children:[s.jsx("option",{value:"active",children:""}),s.jsx("option",{value:"inactive",children:""})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-add",children:""}),s.jsx("button",{onClick:He,disabled:ee,className:"flex-1 px-4 py-2.5 bg-[#0B1B3A] text-white rounded-xl font-bold hover:bg-[#1a2e56] transition-colors disabled:opacity-50","data-testid":"button-confirm-add",children:ee?" ...":" "})]})]})}),O&&I&&s.jsx(gr,{isOpen:O,onClose:()=>A(!1),children:s.jsxs("div",{className:"p-6 max-w-lg w-full",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Nn,{className:"text-[#C8A04F]",size:24}),"  "]}),X&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[s.jsx(sa,{size:18})," ",X]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"text",value:q.fullName,onChange:ve=>z({...q,fullName:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"input-edit-user-fullname"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"tel",value:q.phone,onChange:ve=>z({...q,phone:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",dir:"ltr","data-testid":"input-edit-user-phone"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsx("input",{type:"email",value:q.email,onChange:ve=>z({...q,email:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",dir:"ltr","data-testid":"input-edit-user-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsx("select",{value:q.roleId,onChange:ve=>z({...q,roleId:ve.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-edit-user-role",children:n.map(ve=>s.jsx("option",{value:ve.id,children:ve.name},ve.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsxs("select",{value:q.isActive?"active":"inactive",onChange:ve=>z({...q,isActive:ve.target.value==="active"}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"select-edit-user-status",children:[s.jsx("option",{value:"active",children:""}),s.jsx("option",{value:"inactive",children:""})]})]})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{onClick:()=>{A(!1),we(I)},className:"flex items-center gap-2 text-purple-600 hover:text-purple-800 font-bold text-sm","data-testid":"button-reset-password-in-edit",children:[s.jsx(pp,{size:16}),"   "]})})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-edit",children:""}),s.jsx("button",{onClick:Ue,disabled:ee,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-edit",children:ee?" ...":" "})]})]})}),D&&I&&s.jsx(gr,{isOpen:D,onClose:()=>L(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(pp,{className:"text-purple-600",size:24}),"   "]}),s.jsxs("p",{className:"text-slate-600 mb-4",children:["    : ",s.jsx("span",{className:"font-bold",children:I.fullName})]}),X&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[s.jsx(sa,{size:18})," ",X]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"   *"}),s.jsx("input",{type:"password",value:R,onChange:ve=>W(ve.target.value),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500",placeholder:"   ",dir:"ltr","data-testid":"input-new-password"})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-reset-password",children:""}),s.jsx("button",{onClick:Me,disabled:ee,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-reset-password",children:ee?" ...":"  "})]})]})}),M&&I&&s.jsx(gr,{isOpen:M,onClose:()=>k(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${I.isActive?"bg-amber-100":"bg-green-100"}`,children:I.isActive?s.jsx(Ho,{className:"text-amber-600",size:32}):s.jsx($d,{className:"text-green-600",size:32})}),s.jsx("h2",{className:"text-xl font-black text-slate-800 mb-2",children:I.isActive?" ":" "}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["     ",s.jsx("br",{}),s.jsx("span",{className:"font-bold text-slate-800",children:I.fullName})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-toggle",children:""}),s.jsx("button",{onClick:he,disabled:ee,className:`flex-1 px-4 py-2.5 text-white rounded-xl font-bold transition-colors disabled:opacity-50 ${I.isActive?"bg-amber-600 hover:bg-amber-700":"bg-green-600 hover:bg-green-700"}`,"data-testid":"button-confirm-toggle",children:ee?" ...":I.isActive?"":""})]})]})}),T&&I&&s.jsx(gr,{isOpen:T,onClose:()=>N(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Wt,{className:"text-red-600",size:32})}),s.jsx("h2",{className:"text-xl font-black text-slate-800 mb-2",children:" "}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["       ",s.jsx("br",{}),s.jsx("span",{className:"font-bold text-slate-800",children:I.fullName}),s.jsx("br",{}),s.jsx("span",{className:"text-sm text-red-600",children:"     "})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-delete",children:""}),s.jsx("button",{onClick:ye,disabled:ee,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-delete",children:ee?" ...":" "})]})]})})]})},ole=({onRefresh:e})=>{const[t,r]=P.useState([]),[a,n]=P.useState({}),[i,l]=P.useState(!0),[c,u]=P.useState(null),[f,p]=P.useState(!1),[m,x]=P.useState(!1),[v,y]=P.useState(!1),[b,S]=P.useState(!1),[_,w]=P.useState({name:"",description:""}),[E,O]=P.useState([]),[A,T]=P.useState(""),[N,D]=P.useState(!1),{addToast:L}=qt(),{hasPermission:M}=hm(),k=M("roles","create"),I=M("roles","edit"),V=M("roles","delete");P.useEffect(()=>{q()},[]);const q=async()=>{l(!0);try{const le=await de.getRoles();r(le);const xe={};for(const se of le)xe[se.id]=await de.getUserCountByRole(se.id);n(xe)}catch(le){console.error("Failed to load roles",le),L("   ","error")}finally{l(!1)}},z=()=>{w({name:"",description:""}),T("")},R=()=>{z(),p(!0)},W=le=>{u(le),w({name:le.name,description:le.description||""}),T(""),x(!0)},X=le=>{u(le),O(JSON.parse(JSON.stringify(le.permissions))),S(!0)},B=le=>{u(le),y(!0)},ee=async()=>{if(!_.name.trim()){T("  ");return}D(!0);try{await de.createRole({name:_.name,description:_.description||void 0,permissions:[],isSystem:!1}),L("   ","success"),p(!1),q(),e==null||e()}catch(le){T(le.message||"   ")}finally{D(!1)}},Y=async()=>{if(c){if(!_.name.trim()){T("  ");return}D(!0);try{await de.updateRole(c.id,{name:_.name,description:_.description||void 0}),L("   ","success"),x(!1),q(),e==null||e()}catch(le){T(le.message||"   ")}finally{D(!1)}}},F=async()=>{if(c){D(!0);try{await de.updateRole(c.id,{permissions:E}),L("   ","success"),S(!1),q(),e==null||e()}catch(le){L(le.message||"   ","error")}finally{D(!1)}}},K=async()=>{if(c){D(!0);try{await de.deleteRole(c.id),L("   ","success"),y(!1),u(null),q(),e==null||e()}catch(le){L(le.message||"   ","error")}finally{D(!1)}}},J=(le,xe)=>{O(se=>{const fe=se.find(we=>we.resource===le);if(fe)if(fe.actions.includes(xe)){const we=fe.actions.filter(G=>G!==xe);return we.length===0?se.filter(G=>G.resource!==le):se.map(G=>G.resource===le?{...G,actions:we}:G)}else return se.map(we=>we.resource===le?{...we,actions:[...we.actions,xe]}:we);else return[...se,{resource:le,actions:[xe]}]})},H=(le,xe)=>{const se=E.find(fe=>fe.resource===le);return(se==null?void 0:se.actions.includes(xe))||!1},ce=le=>{const xe=fO[le],se=E.find(we=>we.resource===le),fe=(se==null?void 0:se.actions.length)===xe.length;O(we=>fe?we.filter(G=>G.resource!==le):[...we.filter(He=>He.resource!==le),{resource:le,actions:[...xe]}])};return i?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-500",children:"  ..."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[s.jsx("p",{className:"text-slate-600",children:"     "}),k?s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2.5 bg-[#0B1B3A] text-white rounded-xl font-bold hover:bg-[#1a2e56] transition-colors","data-testid":"button-add-role",children:[s.jsx(xr,{size:18}),"  "]}):s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-100 text-slate-400 rounded-xl font-bold cursor-not-allowed",children:[s.jsx(Yr,{size:18}),"  "]})]}),t.length===0?s.jsxs("div",{className:"py-16 text-center text-slate-400",children:[s.jsx(Ws,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-bold",children:"    "}),s.jsx("p",{className:"text-sm mt-2",children:"   "})]}):s.jsx("div",{className:"divide-y divide-slate-100",children:t.map(le=>s.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors","data-testid":`row-role-${le.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:le.name}),le.isSystem&&s.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:" "}),s.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs font-bold rounded-full",children:[a[le.id]||0," "]})]}),le.description&&s.jsx("p",{className:"text-sm text-slate-500",children:le.description}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[le.permissions.slice(0,5).map(xe=>s.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-0.5 rounded",children:Yv[xe.resource]},xe.resource)),le.permissions.length>5&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded",children:["+",le.permissions.length-5," "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[I?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>X(le),className:"flex items-center gap-1 px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors font-bold text-sm","data-testid":`button-permissions-role-${le.id}`,children:[s.jsx(ds,{size:16}),""]}),s.jsx("button",{onClick:()=>W(le),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"","data-testid":`button-edit-role-${le.id}`,children:s.jsx(Nn,{size:18})})]}):s.jsx("span",{className:"p-2 text-slate-300",title:"  ",children:s.jsx(Yr,{size:18})}),!le.isSystem&&V&&s.jsx("button",{onClick:()=>B(le),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"","data-testid":`button-delete-role-${le.id}`,children:s.jsx(Wt,{size:18})}),!le.isSystem&&!V&&s.jsx("span",{className:"p-2 text-slate-300",title:"  ",children:s.jsx(Wt,{size:18})})]})]})},le.id))}),s.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50",children:s.jsxs("p",{className:"text-sm text-slate-500",children:[" : ",s.jsx("span",{className:"font-bold text-slate-700",children:t.length}),s.jsxs("span",{className:"mr-2",children:["  : ",s.jsx("span",{className:"font-bold text-slate-700",children:t.filter(le=>le.isSystem).length})]})]})}),f&&s.jsx(gr,{isOpen:f,onClose:()=>p(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(xr,{className:"text-[#C8A04F]",size:24}),"  "]}),A&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[s.jsx(sa,{size:18})," ",A]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"text",value:_.name,onChange:le=>w({..._,name:le.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500",placeholder:"   ","data-testid":"input-role-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsx("textarea",{value:_.description,onChange:le=>w({..._,description:le.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"   ",rows:3,"data-testid":"input-role-description"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-add-role",children:""}),s.jsx("button",{onClick:ee,disabled:N,className:"flex-1 px-4 py-2.5 bg-[#0B1B3A] text-white rounded-xl font-bold hover:bg-[#1a2e56] transition-colors disabled:opacity-50","data-testid":"button-confirm-add-role",children:N?" ...":" "})]})]})}),m&&c&&s.jsx(gr,{isOpen:m,onClose:()=>x(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Nn,{className:"text-[#C8A04F]",size:24})," "]}),A&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[s.jsx(sa,{size:18})," ",A]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  *"}),s.jsx("input",{type:"text",value:_.name,onChange:le=>w({..._,name:le.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500","data-testid":"input-edit-role-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsx("textarea",{value:_.description,onChange:le=>w({..._,description:le.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:3,"data-testid":"input-edit-role-description"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-edit-role",children:""}),s.jsx("button",{onClick:Y,disabled:N,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-edit-role",children:N?" ...":" "})]})]})}),b&&c&&s.jsx(gr,{isOpen:b,onClose:()=>S(!1),children:s.jsxs("div",{className:"p-6 max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[s.jsx(Ws,{className:"text-[#C8A04F]",size:24}),": ",c.name]}),c.isSystem&&s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-sm font-bold rounded-full",children:" "})]}),s.jsx("div",{className:"flex-1 overflow-auto border border-slate-200 rounded-xl",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-right py-3 px-4 font-bold text-slate-600 border-b",children:""}),["view","create","edit","delete","approve","reject","export"].map(le=>s.jsx("th",{className:"text-center py-3 px-2 font-bold text-slate-600 border-b text-xs",children:uO[le]},le)),s.jsx("th",{className:"text-center py-3 px-2 font-bold text-slate-600 border-b text-xs",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:Object.keys(Yv).map(le=>{const xe=fO[le],se=E.find(we=>we.resource===le),fe=(se==null?void 0:se.actions.length)===xe.length;return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:fe,onChange:()=>ce(le),className:"w-4 h-4 rounded border-slate-300","data-testid":`checkbox-all-${le}`}),s.jsx("span",{className:"font-medium text-slate-700",children:Yv[le]})]})}),["view","create","edit","delete","approve","reject","export"].map(we=>s.jsx("td",{className:"text-center py-3 px-2",children:xe.includes(we)?s.jsx("input",{type:"checkbox",checked:H(le,we),onChange:()=>J(le,we),className:"w-4 h-4 rounded border-slate-300","data-testid":`checkbox-${le}-${we}`}):s.jsx("span",{className:"text-slate-300",children:"-"})},we)),s.jsx("td",{className:"text-center py-3 px-2",children:xe.filter(we=>!["view","create","edit","delete","approve","reject","export"].includes(we)).length>0?s.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:xe.filter(we=>!["view","create","edit","delete","approve","reject","export"].includes(we)).map(we=>s.jsxs("label",{className:"flex items-center gap-1 text-xs bg-slate-100 px-1.5 py-0.5 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:H(le,we),onChange:()=>J(le,we),className:"w-3 h-3 rounded border-slate-300"}),uO[we]]},we))}):s.jsx("span",{className:"text-slate-300",children:"-"})})]},le)})})]})}),s.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-permissions",children:""}),s.jsxs("button",{onClick:F,disabled:N,className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2","data-testid":"button-save-permissions",children:[s.jsx(Pr,{size:18}),N?" ...":" "]})]})]})}),v&&c&&s.jsx(gr,{isOpen:v,onClose:()=>y(!1),children:s.jsxs("div",{className:"p-6 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Wt,{className:"text-red-600",size:32})}),s.jsx("h2",{className:"text-xl font-black text-slate-800 mb-2",children:" "}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["       ",s.jsx("br",{}),s.jsx("span",{className:"font-bold text-slate-800",children:c.name}),s.jsx("br",{}),s.jsx("span",{className:"text-sm text-red-600",children:"     "})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-cancel-delete-role",children:""}),s.jsx("button",{onClick:K,disabled:N,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50","data-testid":"button-confirm-delete-role",children:N?" ...":" "})]})]})})]})},Ma=({resourceName:e,onGoBack:t,onGoHome:r})=>{const{t:a}=na();return s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(fte,{className:"text-red-500",size:48})}),s.jsx("h1",{className:"text-2xl font-black text-slate-800 mb-3",children:a("accessDenied.title")}),s.jsxs("p",{className:"text-slate-600 mb-6 leading-relaxed",children:[a("accessDenied.message"),s.jsx("br",{}),a("accessDenied.contactAdmin")]}),e&&s.jsxs("div",{className:"bg-slate-100 rounded-xl p-4 mb-6",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-1",children:[a("accessDenied.requestedPage"),":"]}),s.jsx("p",{className:"font-bold text-slate-700",children:e})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&s.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-6 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors","data-testid":"button-access-denied-back",children:[s.jsx(dc,{size:18}),a("accessDenied.goBack")]}),r&&s.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#0B1B3A] text-white rounded-xl font-bold hover:bg-[#1a2e56] transition-colors","data-testid":"button-access-denied-home",children:[s.jsx(lee,{size:18}),a("accessDenied.goHome")]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-400",children:[s.jsx(RZ,{size:16}),s.jsxs("span",{children:[a("accessDenied.errorCode"),": ACCESS_DENIED_403"]})]})})]})})},G4={POPUP:" ",BANNER:" ",BELL:" ",DASHBOARD_CARD:"  "},cle={TEXT:" ",IMAGE:"",VIDEO:"",HTML:" HTML"},py={DRAFT:{label:"",color:"text-slate-600",bg:"bg-slate-100"},ACTIVE:{label:"",color:"text-green-600",bg:"bg-green-100"},PAUSED:{label:"",color:"text-amber-600",bg:"bg-amber-100"},EXPIRED:{label:"",color:"text-red-600",bg:"bg-red-100"}},W4={ALL:" ",SPARE_PARTS_SHOP:"  ",RENTAL_COMPANY:" ",MAINTENANCE_CENTER:" ",INSURANCE_COMPANY:" ",SALES_REP:" "},dle=e=>{switch(e){case"POPUP":return s.jsx($j,{size:16});case"BANNER":return s.jsx(Bp,{size:16});case"BELL":return s.jsx(Wi,{size:16});case"DASHBOARD_CARD":return s.jsx(lr,{size:16})}},ule=({onClose:e})=>{const[t,r]=P.useState([]),[a,n]=P.useState(!0),[i,l]=P.useState(!1),[c,u]=P.useState(null),[f,p]=P.useState(null),{addToast:m}=qt(),[x,v]=P.useState({title:"",message:"",displayType:"POPUP",skippable:!0,contentType:"TEXT",mediaUrl:"",htmlContent:"",ctaLabel:"",ctaUrl:"",audienceType:"ALL",status:"ACTIVE",priority:1,startsAt:"",expiresAt:""}),[y,b]=P.useState({});P.useEffect(()=>{S()},[]);const S=async()=>{n(!0);try{const N=await de.getAllCampaigns();r(N.sort((D,L)=>new Date(L.createdAt).getTime()-new Date(D.createdAt).getTime()))}catch{m("    ","error")}finally{n(!1)}},_=()=>{v({title:"",message:"",displayType:"POPUP",skippable:!0,contentType:"TEXT",mediaUrl:"",htmlContent:"",ctaLabel:"",ctaUrl:"",audienceType:"ALL",status:"ACTIVE",priority:1,startsAt:"",expiresAt:""}),b({}),u(null)},w=()=>{var D,L,M,k;const N={};if((D=x.title)!=null&&D.trim()?x.title.length>100&&(N.title="   (  100 )"):N.title="  ",(L=x.message)!=null&&L.trim()?x.message.length>500&&(N.message="   (  500 )"):N.message="  ",(x.contentType==="IMAGE"||x.contentType==="VIDEO")&&!((M=x.mediaUrl)!=null&&M.trim())&&(N.mediaUrl="      "),(k=x.ctaUrl)!=null&&k.trim())try{new URL(x.ctaUrl)}catch{N.ctaUrl="   "}if(x.startsAt&&x.expiresAt){const I=new Date(x.startsAt);new Date(x.expiresAt)<=I&&(N.expiresAt="       ")}return(x.priority<1||x.priority>100)&&(N.priority="     1  100"),b(N),Object.keys(N).length===0},E=async()=>{if(w())try{c?(await de.updateCampaign(c.id,x),m("   ","success")):(await de.createCampaign(x),m("   ","success")),l(!1),_(),S()}catch{m("    ","error")}},O=async(N,D)=>{try{await de.updateCampaignStatus(N,D),m(` ${D==="ACTIVE"?"":D==="PAUSED"?"":""} `,"success"),S()}catch{m("     ","error")}},A=async N=>{try{await de.deleteCampaign(N),m("   ","success"),p(null),S()}catch{m("    ","error")}},T=N=>{u(N),v({title:N.title,message:N.message,displayType:N.displayType,skippable:N.skippable,contentType:N.contentType,mediaUrl:N.mediaUrl||"",htmlContent:N.htmlContent||"",ctaLabel:N.ctaLabel||"",ctaUrl:N.ctaUrl||"",audienceType:N.audienceType,status:N.status,priority:N.priority,startsAt:N.startsAt||"",expiresAt:N.expiresAt||""}),l(!0)};return s.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:s.jsx(cs,{size:28})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:" "}),s.jsx("p",{className:"text-purple-200 text-sm",children:"   "})]})]}),s.jsxs("button",{onClick:()=>{_(),l(!0)},className:"flex items-center gap-2 bg-white text-purple-600 px-5 py-2.5 rounded-xl font-bold hover:bg-purple-50 transition-colors","data-testid":"button-create-campaign",children:[s.jsx(xr,{size:20})," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:t.length}),s.jsx("div",{className:"text-purple-200 text-sm",children:" "})]}),s.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[s.jsx("div",{className:"text-3xl font-bold text-green-300",children:t.filter(N=>N.status==="ACTIVE").length}),s.jsx("div",{className:"text-purple-200 text-sm",children:" "})]}),s.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[s.jsx("div",{className:"text-3xl font-bold text-amber-300",children:t.filter(N=>N.status==="DRAFT").length}),s.jsx("div",{className:"text-purple-200 text-sm",children:""})]}),s.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[s.jsx("div",{className:"text-3xl font-bold text-slate-300",children:t.filter(N=>N.status==="PAUSED"||N.status==="EXPIRED").length}),s.jsx("div",{className:"text-purple-200 text-sm",children:"/"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-100",children:s.jsx("h2",{className:"font-bold text-lg text-slate-800",children:" "})}),a?s.jsxs("div",{className:"p-8 text-center text-slate-500",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-2"})," ..."]}):t.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(cs,{size:48,className:"text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-500",children:"    "}),s.jsx("button",{onClick:()=>{_(),l(!0)},className:"mt-4 text-purple-600 font-bold hover:underline",children:"  "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 text-right",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:" "}),s.jsx("th",{className:"px-4 py-3 text-sm font-bold text-slate-600",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(N=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors","data-testid":`row-campaign-${N.id}`,children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-slate-800",children:N.title}),s.jsx("div",{className:"text-sm text-slate-500 line-clamp-1",children:N.message})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"p-1.5 bg-slate-100 rounded",children:dle(N.displayType)}),s.jsx("span",{className:"text-sm text-slate-600",children:G4[N.displayType]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:"flex items-center gap-1 text-sm text-slate-600",children:[s.jsx(eg,{size:14}),W4[N.audienceType]]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold ${py[N.status].bg} ${py[N.status].color}`,children:[N.status==="ACTIVE"&&s.jsx(tg,{size:12}),py[N.status].label]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-mono bg-slate-100 px-2 py-1 rounded",children:N.priority})}),s.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:Dr(N.createdAt)}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[N.status==="ACTIVE"?s.jsx("button",{onClick:()=>O(N.id,"PAUSED"),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"","data-testid":`button-pause-${N.id}`,children:s.jsx(i8,{size:18})}):N.status!=="EXPIRED"?s.jsx("button",{onClick:()=>O(N.id,"ACTIVE"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"","data-testid":`button-activate-${N.id}`,children:s.jsx(l8,{size:18})}):null,s.jsx("button",{onClick:()=>T(N),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"","data-testid":`button-edit-${N.id}`,children:s.jsx(Nn,{size:18})}),s.jsx("button",{onClick:()=>p(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"","data-testid":`button-delete-${N.id}`,children:s.jsx(Wt,{size:18})})]})})]},N.id))})]})})]}),i&&s.jsx(gr,{isOpen:i,onClose:()=>{l(!1),_()},children:s.jsxs("div",{className:"p-6 max-h-[85vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(cs,{className:"text-purple-600"}),c?" ":"  "]}),s.jsx("button",{onClick:()=>{l(!1),_()},className:"p-2 hover:bg-slate-100 rounded-lg",children:s.jsx(ar,{size:20})})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:x.title,onChange:N=>v({...x,title:N.target.value}),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent ${y.title?"border-red-300":"border-slate-200"}`,placeholder:":   ","data-testid":"input-campaign-title"}),y.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.title})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:x.message,onChange:N=>v({...x,message:N.target.value}),rows:3,className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none ${y.message?"border-red-300":"border-slate-200"}`,placeholder:"    ...","data-testid":"input-campaign-message"}),y.message&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("select",{value:x.displayType,onChange:N=>v({...x,displayType:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500","data-testid":"select-display-type",children:Object.entries(G4).map(([N,D])=>s.jsx("option",{value:N,children:D},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("select",{value:x.contentType,onChange:N=>v({...x,contentType:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500","data-testid":"select-content-type",children:Object.entries(cle).map(([N,D])=>s.jsx("option",{value:N,children:D},N))})]})]}),(x.contentType==="IMAGE"||x.contentType==="VIDEO")&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"url",value:x.mediaUrl,onChange:N=>v({...x,mediaUrl:N.target.value}),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 ${y.mediaUrl?"border-red-300":"border-slate-200"}`,placeholder:"https://example.com/image.jpg","data-testid":"input-media-url"}),y.mediaUrl&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:y.mediaUrl}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:x.contentType==="IMAGE"?"   (jpg, png, gif)":"   (mp4, webm)"})]}),x.contentType==="HTML"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" HTML"}),s.jsx("textarea",{value:x.htmlContent,onChange:N=>v({...x,htmlContent:N.target.value}),rows:4,className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 font-mono text-sm resize-none",placeholder:"<div>...</div>","data-testid":"input-html-content"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[s.jsx("input",{type:"checkbox",id:"skippable",checked:x.skippable,onChange:N=>v({...x,skippable:N.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-purple-600 focus:ring-purple-500","data-testid":"checkbox-skippable"}),s.jsxs("label",{htmlFor:"skippable",className:"text-sm",children:[s.jsx("span",{className:"font-bold text-slate-700",children:"  "}),s.jsx("p",{className:"text-slate-500 text-xs",children:"   "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"   ()"}),s.jsx("input",{type:"text",value:x.ctaLabel,onChange:N=>v({...x,ctaLabel:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500",placeholder:":  ","data-testid":"input-cta-label"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  ()"}),s.jsx("input",{type:"url",value:x.ctaUrl,onChange:N=>v({...x,ctaUrl:N.target.value}),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 ${y.ctaUrl?"border-red-300":"border-slate-200"}`,placeholder:"https://...","data-testid":"input-cta-url"}),y.ctaUrl&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.ctaUrl})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:" "}),s.jsx("select",{value:x.audienceType,onChange:N=>v({...x,audienceType:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500","data-testid":"select-audience",children:Object.entries(W4).map(([N,D])=>s.jsx("option",{value:N,children:D},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:""}),s.jsx("input",{type:"number",min:"1",max:"100",value:x.priority,onChange:N=>v({...x,priority:parseInt(N.target.value)||1}),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 ${y.priority?"border-red-300":"border-slate-200"}`,"data-testid":"input-priority"}),y.priority&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.priority})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  ()"}),s.jsx("input",{type:"datetime-local",value:x.startsAt,onChange:N=>v({...x,startsAt:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500","data-testid":"input-starts-at"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:"  ()"}),s.jsx("input",{type:"datetime-local",value:x.expiresAt,onChange:N=>v({...x,expiresAt:N.target.value}),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-purple-500 ${y.expiresAt?"border-red-300":"border-slate-200"}`,"data-testid":"input-expires-at"}),y.expiresAt&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.expiresAt})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5",children:""}),s.jsxs("select",{value:x.status,onChange:N=>v({...x,status:N.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500","data-testid":"select-status",children:[s.jsx("option",{value:"DRAFT",children:""}),s.jsx("option",{value:"ACTIVE",children:""}),s.jsx("option",{value:"PAUSED",children:""})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[s.jsx("button",{onClick:()=>{l(!1),_()},className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-xl font-bold transition-colors",children:""}),s.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-5 py-2.5 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 transition-colors","data-testid":"button-save-campaign",children:[s.jsx(Pr,{size:18}),c?" ":" "]})]})]})]})}),f&&s.jsx(gr,{isOpen:!!f,onClose:()=>p(null),children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Qn,{size:32,className:"text-red-600"})}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:" "}),s.jsx("p",{className:"text-slate-600 mb-6",children:"            ."}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:()=>p(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-xl font-bold transition-colors",children:""}),s.jsxs("button",{onClick:()=>A(f),className:"flex items-center gap-2 px-5 py-2.5 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors","data-testid":"button-confirm-delete",children:[s.jsx(Wt,{size:18})," "]})]})]})})]})};let gp=null,bp=null,vp=null,Pw=0;const fle=3e4,jn=()=>{gp=null,bp=null,vp=null,Pw=0},mle=async()=>{const e=Date.now();if(gp&&bp&&vp&&e-Pw<fle)return{settings:gp,levels:bp,matrix:vp};const[t,r,a]=await Promise.all([de.getGlobalPricingSettings(),de.getPriceLevels(),de.getProductPriceMatrix()]);return gp=t,bp=r,vp=a,Pw=e,{settings:t,levels:r,matrix:a}},hle=(e,t)=>{const{roundingMode:r,roundingDecimals:a}=t,n=Math.pow(10,a);switch(r){case"ROUND":return Math.round(e*n)/n;case"CEIL":return Math.ceil(e*n)/n;case"FLOOR":return Math.floor(e*n)/n;case"NONE":default:return e}},Hp=(e,t,r)=>{const a=r.find(n=>n.productId===e&&n.priceLevelId===t);return a?a.price:null},Wj=(e,t,r,a,n=new Set)=>{if(n.has(t.id))return null;if(n.add(t.id),t.isBaseLevel)return Hp(e,t.id,a);if(!t.baseLevelId||!t.adjustmentType||t.adjustmentValue===void 0)return null;const i=r.find(c=>c.id===t.baseLevelId);if(!i)return null;let l=Hp(e,i.id,a);return l===null&&(l=Wj(e,i,r,a,n)),l===null?null:t.adjustmentType==="PERCENT"?l*(1+t.adjustmentValue/100):t.adjustmentType==="FIXED"?l+t.adjustmentValue:l},N8=(e,t,r,a)=>{const n=r.find(l=>l.id===t);if(!n||!n.isActive)return null;const i=Hp(e,t,a);return i!==null?i:Wj(e,n,r,a)},ple=(e,t,r,a)=>{if(e.productId&&e.productId!==t)return null;const n=new Date;if(e.validFrom&&new Date(e.validFrom)>n||e.validTo&&new Date(e.validTo)<n)return null;if(e.useFixedPrice&&e.fixedPrice!==void 0)return e.fixedPrice;if(e.usePercentOfLevel&&e.percentOfLevel!==void 0&&e.priceLevelIdForPercent){const i=N8(t,e.priceLevelIdForPercent,r,a);if(i!==null)return i*(e.percentOfLevel/100)}return null},xle=async(e,t,r=1)=>{var n,i,l,c,u;const a={finalPrice:null,basePrice:null,sourcePrecedence:null,sourceLevelId:null,roundingApplied:!1,calculationSteps:[]};try{const{settings:f,levels:p,matrix:m}=await mle();a.calculationSteps.push("   ");let x=null;t&&(x=await de.getCustomerPricingProfile(t),x&&a.calculationSteps.push(`     : ${t}`));let v=null;x!=null&&x.defaultPriceLevelId?(v=x.defaultPriceLevelId,a.calculationSteps.push(`  : ${v}`)):f.defaultPriceLevelId&&(v=f.defaultPriceLevelId,a.calculationSteps.push(`  : ${v}`));const y=p.find(_=>_.id===v);y&&(a.sourceLevelName=y.name);let b=null;for(const _ of f.pricePrecedenceOrder){if(b!==null)break;switch(_){case"CUSTOM_RULE":if(x!=null&&x.allowCustomRules&&((n=x.customRules)!=null&&n.length))for(const w of x.customRules){const E=ple(w,e,p,m);if(E!==null){b=E,a.sourcePrecedence="CUSTOM_RULE",a.calculationSteps.push(`   - : ${E}`);break}}break;case"LEVEL_EXPLICIT":if(v){const w=Hp(e,v,m);w!==null&&(b=w,a.sourcePrecedence="LEVEL_EXPLICIT",a.sourceLevelId=v,a.calculationSteps.push(`    ${v}: ${w}`))}break;case"LEVEL_DERIVED":if(v){const w=p.find(E=>E.id===v);if(w&&!w.isBaseLevel){const E=Wj(e,w,p,m);E!==null&&(b=E,a.sourcePrecedence="LEVEL_DERIVED",a.sourceLevelId=v,a.calculationSteps.push(`    ${w.baseLevelId}: ${E}`))}}break}}if(b===null&&f.allowFallbackToOtherLevels){const _=f.fallbackLevelId||((i=p.find(w=>w.isBaseLevel&&w.isActive))==null?void 0:i.id);_&&_!==v&&(b=N8(e,_,p,m),b!==null&&(a.sourceLevelId=_,a.calculationSteps.push(`   ${_}: ${b}`)))}if(b===null)return a.calculationSteps.push("    "),a;a.basePrice=b;let S=b;if(x){const _=x.extraMarkupPercent||0,w=x.extraDiscountPercent||0;!f.allowNegativeDiscounts&&w>_&&a.calculationSteps.push("    -   ");const E=f.allowNegativeDiscounts?w:Math.min(w,_),O=_-E;O!==0&&(S=S*(1+O/100),a.appliedMarkup=_,a.appliedDiscount=E,a.calculationSteps.push(`  ${_}%  ${E}%`)),x.priceFloor&&S<x.priceFloor&&(S=x.priceFloor,a.calculationSteps.push(`   : ${x.priceFloor}`)),x.priceCeiling&&S>x.priceCeiling&&(S=x.priceCeiling,a.calculationSteps.push(`   : ${x.priceCeiling}`))}if(f.minPriceFloor&&S<f.minPriceFloor&&(S=f.minPriceFloor,a.calculationSteps.push(`   : ${f.minPriceFloor}`)),f.maxPriceCeiling&&S>f.maxPriceCeiling&&(S=f.maxPriceCeiling,a.calculationSteps.push(`   : ${f.maxPriceCeiling}`)),f.enableVolumeDiscounts&&((l=f.volumeDiscountRules)!=null&&l.length)){for(const _ of f.volumeDiscountRules)if(_.isActive&&!(r<_.minQty)&&!(_.maxQty&&r>_.maxQty)&&!(!_.appliesToAllProducts&&_.productIds&&!_.productIds.includes(e))){if(_.discountType==="PERCENT"){const w=S*(_.discountValue/100);S-=w,a.appliedVolumeDiscount=_.discountValue,a.calculationSteps.push(`  ${_.discountValue}%`)}else _.discountType==="FIXED"&&(S-=_.discountValue,a.appliedVolumeDiscount=_.discountValue,a.calculationSteps.push(`  : ${_.discountValue}`));break}}if(f.enableTimePromotions&&((c=f.timePromotions)!=null&&c.length)){const _=new Date;for(const w of f.timePromotions)if(w.isActive&&!(new Date(w.startsAt)>_||new Date(w.endsAt)<_)&&!(!w.appliesToAllProducts&&w.productIds&&!w.productIds.includes(e))&&!((u=w.priceLevelIds)!=null&&u.length&&a.sourceLevelId&&!w.priceLevelIds.includes(a.sourceLevelId))){w.discountType==="PERCENT"?(S-=S*(w.discountValue/100),a.appliedPromotion=w.name,a.calculationSteps.push(` ${w.name}:  ${w.discountValue}%`)):w.discountType==="FIXED"&&(S-=w.discountValue,a.appliedPromotion=w.name,a.calculationSteps.push(` ${w.name}:  ${w.discountValue}`));break}}if(f.roundingMode!=="NONE"){const _=hle(S,f);_!==S&&(a.roundingApplied=!0,a.calculationSteps.push(`  ${S}  ${_}`)),S=_}S<0&&(S=0,a.calculationSteps.push("    ")),a.finalPrice=S,a.calculationSteps.push(` : ${S}`)}catch(f){console.error("Error calculating price:",f),a.errors=[`   : ${f}`]}return a},gle=async(e,t,r)=>xle(e,t,r),ble=({onRefresh:e})=>{const{t,i18n:r}=na(),{addToast:a}=qt(),n=r.dir()==="rtl",[i,l]=P.useState("LEVELS"),[c,u]=P.useState(!0),[f,p]=P.useState([]),[m,x]=P.useState([]),[v,y]=P.useState([]),[b,S]=P.useState(null),[_,w]=P.useState([]),[E,O]=P.useState([]),A=P.useCallback(async()=>{u(!0);try{const[D,L,M,k,I,V]=await Promise.all([de.getPriceLevels(),de.getProductPriceMatrix(),de.getAllCustomerPricingProfiles(),de.getGlobalPricingSettings(),de.searchProducts(""),de.getAllUsers()]);p(D),x(L),y(M),S(k),w(I),O(V)}catch(D){console.error("Error loading pricing data:",D),a("error","    ")}finally{u(!1)}},[a]);P.useEffect(()=>{A()},[A]);const T=()=>{jn(),A(),e==null||e()},N=[{id:"LEVELS",label:" ",icon:s.jsx(Ud,{size:18})},{id:"MATRIX",label:" ",icon:s.jsx(Qs,{size:18})},{id:"CUSTOMERS",label:" ",icon:s.jsx(Xt,{size:18})},{id:"SETTINGS",label:" ",icon:s.jsx(ds,{size:18})}];return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#C8A04F] border-t-transparent"})}):s.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-slate-800",children:" "}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"      "})]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-xl text-sm font-bold text-slate-700 transition-colors","data-testid":"button-refresh-pricing",children:[s.jsx(ua,{size:16}),""]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Jh,{label:" ",value:f.filter(D=>D.isActive).length,total:f.length,icon:s.jsx(Ud,{}),color:"blue"}),s.jsx(Jh,{label:" ",value:m.length,icon:s.jsx(Qs,{}),color:"green"}),s.jsx(Jh,{label:" ",value:v.length,icon:s.jsx(Xt,{}),color:"amber"}),s.jsx(Jh,{label:" ",value:v.reduce((D,L)=>{var M;return D+(((M=L.customRules)==null?void 0:M.length)||0)},0),icon:s.jsx(Rte,{}),color:"purple"})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-slate-200",children:N.map(D=>s.jsxs("button",{onClick:()=>l(D.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-4 text-sm font-bold transition-colors ${i===D.id?"bg-[#0B1B3A] text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,"data-testid":`tab-${D.id.toLowerCase()}`,children:[D.icon,D.label]},D.id))}),s.jsxs("div",{className:"p-6",children:[i==="LEVELS"&&s.jsx(vle,{levels:f,onUpdate:A,addToast:a}),i==="MATRIX"&&s.jsx(yle,{matrix:m,levels:f,products:_,onUpdate:A,addToast:a}),i==="CUSTOMERS"&&s.jsx(Sle,{profiles:v,levels:f,customers:E,products:_,onUpdate:A,addToast:a}),i==="SETTINGS"&&b&&s.jsx(wle,{settings:b,levels:f,products:_,customers:E,onUpdate:A,addToast:a})]})]})]})},Jh=({label:e,value:t,total:r,icon:a,color:n})=>{const i={blue:"bg-blue-100 text-blue-600",green:"bg-emerald-100 text-emerald-600",amber:"bg-amber-100 text-amber-600",purple:"bg-purple-100 text-purple-600"};return s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:e}),s.jsxs("p",{className:"text-2xl font-black text-slate-800 mt-1",children:[t,r!==void 0&&s.jsxs("span",{className:"text-sm text-slate-400 font-normal",children:["/",r]})]})]}),s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i[n]}`,children:a})]})})},vle=({levels:e,onUpdate:t,addToast:r})=>{const[a,n]=P.useState(null),[i,l]=P.useState(!1),[c,u]=P.useState({code:"",name:"",description:"",isBaseLevel:!0,isActive:!0,sortOrder:e.length+1}),f=async()=>{if(!c.code||!c.name){r("error","  ");return}try{await de.addPriceLevel(c),r("success","   "),l(!1),u({code:"",name:"",description:"",isBaseLevel:!0,isActive:!0,sortOrder:e.length+2}),jn(),t()}catch{r("error","   ")}},p=async()=>{if(a)try{await de.updatePriceLevel(a.id,a),r("success","   "),n(null),jn(),t()}catch{r("error","   ")}},m=async y=>{if(confirm("      "))try{await de.deletePriceLevel(y),r("success","   "),jn(),t()}catch{r("error","   ")}},x=async y=>{try{await de.updatePriceLevel(y.id,{isActive:!y.isActive}),jn(),t()}catch{r("error","   ")}},v=e.filter(y=>y.isBaseLevel);return s.jsxs("div",{className:"space-y-6",children:[i?s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[s.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsx("input",{type:"text",value:c.code||"",onChange:y=>u({...c,code:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:": L2","data-testid":"input-level-code"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsx("input",{type:"text",value:c.name||"",onChange:y=>u({...c,name:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:":  ","data-testid":"input-level-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"text",value:c.description||"",onChange:y=>u({...c,description:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:" "})]})]}),s.jsx("div",{className:"mt-4 flex items-center gap-4",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:c.isBaseLevel,onChange:y=>u({...c,isBaseLevel:y.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-slate-600",children:" "})]})}),!c.isBaseLevel&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 bg-amber-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsxs("select",{value:c.baseLevelId||"",onChange:y=>u({...c,baseLevelId:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),v.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsxs("select",{value:c.adjustmentType||"",onChange:y=>u({...c,adjustmentType:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"PERCENT",children:"  %"}),s.jsx("option",{value:"FIXED",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"number",value:c.adjustmentValue||"",onChange:y=>u({...c,adjustmentValue:parseFloat(y.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:": 10"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs("button",{onClick:f,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700 flex items-center gap-2","data-testid":"button-save-level",children:[s.jsx(Pr,{size:16})," "]}),s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-300",children:""})]})]}):s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#0B1B3A] text-white rounded-xl text-sm font-bold hover:bg-[#1a2e56] transition-colors","data-testid":"button-add-level",children:[s.jsx(xr,{size:16}),"   "]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100",children:[s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-center px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-center px-4 py-3 text-sm font-bold text-slate-600",children:""})]})}),s.jsx("tbody",{children:e.sort((y,b)=>y.sortOrder-b.sortOrder).map((y,b)=>{var S;return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-slate-400 text-sm",children:b+1})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-2 py-1 bg-slate-200 rounded text-sm font-mono",children:y.code})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("span",{className:"font-bold text-slate-800",children:y.name}),y.description&&s.jsx("p",{className:"text-xs text-slate-500",children:y.description})]}),s.jsx("td",{className:"px-4 py-3",children:y.isBaseLevel?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:""}):s.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-bold",children:""})}),s.jsx("td",{className:"px-4 py-3",children:!y.isBaseLevel&&y.adjustmentType&&s.jsxs("span",{className:"text-sm text-slate-600",children:[y.adjustmentType==="PERCENT"?`${y.adjustmentValue}%`:`${y.adjustmentValue} .`," ",""," ",s.jsx("span",{className:"font-bold",children:((S=e.find(_=>_.id===y.baseLevelId))==null?void 0:S.name)||"-"})]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("button",{onClick:()=>x(y),className:`px-3 py-1 rounded-full text-xs font-bold ${y.isActive?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:y.isActive?"":""})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>n(y),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600",title:"",children:s.jsx(Nn,{size:16})}),s.jsx("button",{onClick:()=>m(y.id),className:"p-2 hover:bg-red-100 rounded-lg text-red-600",title:"",children:s.jsx(Wt,{size:16})})]})})]},y.id)})})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:" "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"text",value:a.code,onChange:y=>n({...a,code:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"text",value:a.name,onChange:y=>n({...a,name:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"text",value:a.description||"",onChange:y=>n({...a,description:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700",children:" "}),s.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-300",children:""})]})]})})]})},yle=({matrix:e,levels:t,products:r,onUpdate:a,addToast:n})=>{const[i,l]=P.useState(""),[c,u]=P.useState(""),[f,p]=P.useState(!1),[m,x]=P.useState({productId:"",priceLevelId:"",price:0}),[v,y]=P.useState(null),b=P.useMemo(()=>e.filter(A=>{var L,M;const T=r.find(k=>k.id===A.productId),N=!i||((L=T==null?void 0:T.partNumber)==null?void 0:L.toLowerCase().includes(i.toLowerCase()))||((M=T==null?void 0:T.name)==null?void 0:M.toLowerCase().includes(i.toLowerCase())),D=!c||A.priceLevelId===c;return N&&D}),[e,r,i,c]),S=async()=>{if(!m.productId||!m.priceLevelId||!m.price){n("error","  ");return}try{await de.addProductPriceEntry(m),n("success","   "),p(!1),x({productId:"",priceLevelId:"",price:0}),jn(),a()}catch{n("error","   ")}},_=async()=>{if(v)try{await de.updateProductPriceEntry(v.id,v),n("success","   "),y(null),jn(),a()}catch{n("error","   ")}},w=async A=>{if(confirm("      "))try{await de.deleteProductPriceEntry(A),n("success","   "),jn(),a()}catch{n("error","   ")}},E=()=>{const A=e.map(D=>{const L=r.find(k=>k.id===D.productId),M=t.find(k=>k.id===D.priceLevelId);return{" ":(L==null?void 0:L.partNumber)||""," ":(L==null?void 0:L.name)||"",:(M==null?void 0:M.name)||"",:D.price}}),T=wn.json_to_sheet(A),N=wn.book_new();wn.book_append_sheet(N,T,"Price Matrix"),Ip(N,"price_matrix.xlsx"),n("success","   ")},O=async A=>{var N;const T=(N=A.target.files)==null?void 0:N[0];if(T){try{const D=new FileReader;D.onload=async L=>{var R;const M=new Uint8Array((R=L.target)==null?void 0:R.result),k=m0(M,{type:"array"}),I=k.SheetNames[0],V=k.Sheets[I],q=wn.sheet_to_json(V),z=[];for(const W of q){const X=W[" "]||W.partNumber,B=W.||W.level,ee=parseFloat(W.||W.price),Y=r.find(K=>K.partNumber===X),F=t.find(K=>K.name===B||K.code===B);Y&&F&&!isNaN(ee)&&z.push({productId:Y.id,priceLevelId:F.id,price:ee})}if(z.length>0){const W=await de.bulkImportPriceMatrix(z);n("success",`  ${W.imported}    ${W.updated} `),W.errors.length>0&&console.error("Import errors:",W.errors),jn(),a()}else n("warning","      ")},D.readAsArrayBuffer(T)}catch{n("error","   ")}A.target.value=""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-xs",children:[s.jsx(Ur,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",value:i,onChange:A=>l(A.target.value),placeholder:"    ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"input-search-matrix"})]}),s.jsxs("select",{value:c,onChange:A=>u(A.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),t.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#0B1B3A] text-white rounded-lg text-sm font-bold hover:bg-[#1a2e56]","data-testid":"button-add-price",children:[s.jsx(xr,{size:16}),"  "]}),s.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700",children:[s.jsx(Cn,{size:16})," "]}),s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg text-sm font-bold hover:bg-amber-700 cursor-pointer",children:[s.jsx(jc,{size:16})," ",s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:O,className:"hidden"})]})]})]}),f&&s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[s.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsxs("select",{value:m.productId||"",onChange:A=>x({...m,productId:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-product",children:[s.jsx("option",{value:"",children:" "}),r.slice(0,100).map(A=>s.jsxs("option",{value:A.id,children:[A.partNumber," - ",A.name]},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsxs("select",{value:m.priceLevelId||"",onChange:A=>x({...m,priceLevelId:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-level",children:[s.jsx("option",{value:"",children:" "}),t.filter(A=>A.isActive).map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsx("input",{type:"number",value:m.price||"",onChange:A=>x({...m,price:parseFloat(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"0.00","data-testid":"input-price"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs("button",{onClick:S,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700 flex items-center gap-2","data-testid":"button-save-price",children:[s.jsx(Pr,{size:16})," "]}),s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-300",children:""})]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100",children:[s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:" "}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:" "}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-right px-4 py-3 text-sm font-bold text-slate-600",children:""}),s.jsx("th",{className:"text-center px-4 py-3 text-sm font-bold text-slate-600",children:""})]})}),s.jsx("tbody",{children:b.slice(0,50).map(A=>{const T=r.find(D=>D.id===A.productId),N=t.find(D=>D.id===A.priceLevelId);return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-mono text-sm",children:(T==null?void 0:T.partNumber)||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-700",children:(T==null?void 0:T.name)||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"px-2 py-1 bg-slate-200 rounded text-sm",children:(N==null?void 0:N.name)||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"font-bold text-emerald-600",children:[A.price.toFixed(2)," ."]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>y(A),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600",children:s.jsx(Nn,{size:16})}),s.jsx("button",{onClick:()=>w(A.id),className:"p-2 hover:bg-red-100 rounded-lg text-red-600",children:s.jsx(Wt,{size:16})})]})})]},A.id)})})]}),b.length>50&&s.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:[" 50  ",b.length," "]})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:" "}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"number",value:v.price,onChange:A=>y({...v,price:parseFloat(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700",children:" "}),s.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-300",children:""})]})]})})]})},Sle=({profiles:e,levels:t,customers:r,products:a,onUpdate:n,addToast:i})=>{var O,A;const[l,c]=P.useState(""),[u,f]=P.useState(null),[p,m]=P.useState(null),x=P.useMemo(()=>l?r.filter(T=>{var N,D,L;return((N=T.user.name)==null?void 0:N.toLowerCase().includes(l.toLowerCase()))||((D=T.user.clientId)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))||((L=T.profile.companyName)==null?void 0:L.toLowerCase().includes(l.toLowerCase()))}):r,[r,l]),v=T=>e.find(N=>N.customerId===T)||null,y=T=>{var D;f(T);const N=v(T);m(N||{customerId:T,defaultPriceLevelId:((D=t[0])==null?void 0:D.id)||"",allowCustomRules:!1,customRules:[]})},b=async()=>{if(p)try{await de.upsertCustomerPricingProfile(p),i("success","    "),jn(),n()}catch{i("error","    ")}},S=async()=>{if(u&&confirm("        "))try{await de.deleteCustomerPricingProfile(u),i("success","   "),f(null),m(null),jn(),n()}catch{i("error","    ")}},_=()=>{if(!p)return;const T={id:`CR${Date.now()}`,useFixedPrice:!1,usePercentOfLevel:!1};m({...p,customRules:[...p.customRules||[],T]})},w=(T,N)=>{p&&m({...p,customRules:(p.customRules||[]).map(D=>D.id===T?{...D,...N}:D)})},E=T=>{p&&m({...p,customRules:(p.customRules||[]).filter(N=>N.id!==T)})};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 bg-slate-50 rounded-xl p-4 max-h-[600px] overflow-y-auto",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ur,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"    ...",className:"w-full pr-10 pl-4 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"input-search-customers"})]})}),s.jsx("div",{className:"space-y-2",children:x.map(({user:T,profile:N})=>{const D=v(T.id)!==null;return s.jsx("button",{onClick:()=>y(T.id),className:`w-full text-right p-3 rounded-lg transition-colors ${u===T.id?"bg-[#0B1B3A] text-white":"bg-white hover:bg-slate-100"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm",children:N.companyName||T.name}),s.jsx("p",{className:`text-xs ${u===T.id?"text-slate-300":"text-slate-500"}`,children:T.clientId})]}),D&&s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${u===T.id?"bg-white/20 text-white":"bg-emerald-100 text-emerald-700"}`,children:""})]})},T.id)})})]}),s.jsx("div",{className:"lg:col-span-2",children:p?s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-lg font-bold text-slate-800",children:"  "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-bold hover:bg-emerald-700","data-testid":"button-save-profile",children:[s.jsx(Pr,{size:16})," "]}),v(p.customerId)&&s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700",children:[s.jsx(Wt,{size:16})," "]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsx("select",{value:p.defaultPriceLevelId,onChange:T=>m({...p,defaultPriceLevelId:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-default-level",children:t.filter(T=>T.isActive).map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  %"}),s.jsx("input",{type:"number",value:p.extraMarkupPercent||"",onChange:T=>m({...p,extraMarkupPercent:parseFloat(T.target.value)||0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  %"}),s.jsx("input",{type:"number",value:p.extraDiscountPercent||"",onChange:T=>m({...p,extraDiscountPercent:parseFloat(T.target.value)||0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p.allowCustomRules,onChange:T=>m({...p,allowCustomRules:T.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm font-bold text-slate-700",children:"  "})]}),p.allowCustomRules&&s.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-sm font-bold hover:bg-slate-200",children:[s.jsx(xr,{size:14}),"  "]})]}),p.allowCustomRules&&(((O=p.customRules)==null?void 0:O.length)||0)>0&&s.jsx("div",{className:"space-y-4",children:(A=p.customRules)==null?void 0:A.map(T=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-slate-700",children:" "}),s.jsx("button",{onClick:()=>E(T.id),className:"p-1 hover:bg-red-100 rounded text-red-600",children:s.jsx(ar,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:" ()"}),s.jsxs("select",{value:T.productId||"",onChange:N=>w(T.id,{productId:N.target.value||void 0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),a.slice(0,50).map(N=>s.jsx("option",{value:N.id,children:N.partNumber},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsxs("select",{value:T.useFixedPrice?"FIXED":T.usePercentOfLevel?"PERCENT":"",onChange:N=>{const D=N.target.value;w(T.id,{useFixedPrice:D==="FIXED",usePercentOfLevel:D==="PERCENT"})},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"FIXED",children:" "}),s.jsx("option",{value:"PERCENT",children:"  "})]})]}),T.useFixedPrice&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsx("input",{type:"number",value:T.fixedPrice||"",onChange:N=>w(T.id,{fixedPrice:parseFloat(N.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),T.usePercentOfLevel&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:" %"}),s.jsx("input",{type:"number",value:T.percentOfLevel||"",onChange:N=>w(T.id,{percentOfLevel:parseFloat(N.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:" "}),s.jsxs("select",{value:T.priceLevelIdForPercent||"",onChange:N=>w(T.id,{priceLevelIdForPercent:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" "}),t.filter(N=>N.isActive).map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]})]})]})]},T.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("textarea",{value:p.notes||"",onChange:T=>m({...p,notes:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",rows:3,placeholder:" ..."})]})]}):s.jsxs("div",{className:"bg-slate-50 rounded-xl p-8 text-center",children:[s.jsx(Xt,{size:48,className:"mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-500",children:"      "})]})})]})},wle=({settings:e,levels:t,products:r,customers:a,onUpdate:n,addToast:i})=>{const[l,c]=P.useState(e),[u,f]=P.useState(""),[p,m]=P.useState(""),[x,v]=P.useState(null),[y,b]=P.useState(!1),S=async()=>{try{await de.saveGlobalPricingSettings(l),i("success","   "),jn(),n()}catch{i("error","   ")}},_=async()=>{if(!u){i("error","  ");return}b(!0);try{const O=await gle(u,p||null);v(O)}catch{i("error","  ")}finally{b(!1)}},w=(O,A)=>{const T=[...l.pricePrecedenceOrder],N=A==="up"?O-1:O+1;N<0||N>=T.length||([T[O],T[N]]=[T[N],T[O]],c({...l,pricePrecedenceOrder:T}))},E={CUSTOM_RULE:" ",LEVEL_EXPLICIT:" ",LEVEL_DERIVED:" "};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-4",children:" "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsxs("select",{value:l.defaultPriceLevelId||"",onChange:O=>c({...l,defaultPriceLevelId:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-default-global-level",children:[s.jsx("option",{value:"",children:""}),t.filter(O=>O.isActive).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:""}),s.jsx("input",{type:"text",value:l.currency,onChange:O=>c({...l,currency:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsxs("select",{value:l.roundingMode,onChange:O=>c({...l,roundingMode:O.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"NONE",children:" "}),s.jsx("option",{value:"ROUND",children:" "}),s.jsx("option",{value:"CEIL",children:" "}),s.jsx("option",{value:"FLOOR",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:"  "}),s.jsx("input",{type:"number",min:"0",max:"4",value:l.roundingDecimals,onChange:O=>c({...l,roundingDecimals:parseInt(O.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.allowNegativeDiscounts,onChange:O=>c({...l,allowNegativeDiscounts:O.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-slate-700",children:"  "})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:l.allowFallbackToOtherLevels,onChange:O=>c({...l,allowFallbackToOtherLevels:O.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-slate-700",children:"   "})]})]}),l.allowFallbackToOtherLevels&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" "}),s.jsxs("select",{value:l.fallbackLevelId||"",onChange:O=>c({...l,fallbackLevelId:O.target.value||null}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",children:[s.jsx("option",{value:"",children:" (  )"}),t.filter(O=>O.isActive).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[s.jsx("h5",{className:"font-bold text-slate-700 mb-3",children:" "}),s.jsx("div",{className:"space-y-2",children:l.pricePrecedenceOrder.map((O,A)=>s.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-3 rounded-lg",children:[s.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-[#0B1B3A] text-white rounded-full text-xs font-bold",children:A+1}),s.jsx("span",{className:"flex-1 text-sm font-bold text-slate-700",children:E[O]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>w(A,"up"),disabled:A===0,className:"p-1 hover:bg-slate-200 rounded disabled:opacity-30",children:s.jsx(Kl,{size:16})}),s.jsx("button",{onClick:()=>w(A,"down"),disabled:A===l.pricePrecedenceOrder.length-1,className:"p-1 hover:bg-slate-200 rounded disabled:opacity-30",children:s.jsx(ui,{size:16})})]})]},O))})]}),s.jsxs("button",{onClick:S,className:"mt-6 w-full flex items-center justify-center gap-2 px-4 py-3 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700","data-testid":"button-save-settings",children:[s.jsx(Pr,{size:18}),"  "]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsxs("h4",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(A4,{size:20}),"  "]}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"       "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" *"}),s.jsxs("select",{value:u,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-simulation-product",children:[s.jsx("option",{value:"",children:" "}),r.slice(0,100).map(O=>s.jsxs("option",{value:O.id,children:[O.partNumber," - ",O.name]},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-600 mb-1",children:" ()"}),s.jsxs("select",{value:p,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm","data-testid":"select-simulation-customer",children:[s.jsx("option",{value:"",children:" ( )"}),a.map(({user:O,profile:A})=>s.jsxs("option",{value:O.id,children:[A.companyName||O.name," (",O.clientId,")"]},O.id))]})]}),s.jsx("button",{onClick:_,disabled:y,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-[#0B1B3A] text-white rounded-xl text-sm font-bold hover:bg-[#1a2e56] disabled:opacity-50","data-testid":"button-simulate",children:y?s.jsxs(s.Fragment,{children:[s.jsx(ua,{size:18,className:"animate-spin"}),"  ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(A4,{size:18}),"  "]})})]}),x&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[s.jsx("h5",{className:"font-bold text-slate-700 mb-3",children:" "}),s.jsx("div",{className:`p-4 rounded-xl mb-4 ${x.finalPrice!==null?"bg-emerald-50 border border-emerald-200":"bg-red-50 border border-red-200"}`,children:x.finalPrice!==null?s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-slate-600",children:" "}),s.jsxs("p",{className:"text-3xl font-black text-emerald-600","data-testid":"text-final-price",children:[x.finalPrice.toFixed(2)," ."]}),x.sourceLevelName&&s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[": ",x.sourceLevelName]})]}):s.jsxs("div",{className:"text-center",children:[s.jsx(Qn,{size:32,className:"mx-auto text-red-500 mb-2"}),s.jsx("p",{className:"text-red-600 font-bold",children:"    "})]})}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[s.jsxs("h6",{className:"text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(lr,{size:16}),"  "]}),s.jsx("div",{className:"space-y-1",children:x.calculationSteps.map((O,A)=>s.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[s.jsx(dc,{size:12,className:"mt-0.5 text-slate-400"}),s.jsx("span",{children:O})]},A))})]}),x.errors&&x.errors.length>0&&s.jsxs("div",{className:"mt-4 bg-red-50 rounded-xl p-4",children:[s.jsx("h6",{className:"text-sm font-bold text-red-700 mb-2",children:""}),x.errors.map((O,A)=>s.jsx("p",{className:"text-xs text-red-600",children:O},A))]})]})]})})]})},X4={PDF_TO_EXCEL:s.jsx(ll,{size:24}),VIN_EXTRACTOR:s.jsx(io,{size:24}),PRICE_COMPARISON:s.jsx(Cd,{size:24})},Nle=[{value:"PARTS_SHOP",labelAr:"  ",labelEn:"Parts Shop"},{value:"RENTAL_COMPANY",labelAr:" ",labelEn:"Rental Company"},{value:"INSURANCE_COMPANY",labelAr:" ",labelEn:"Insurance Company"},{value:"SALES_AGENT",labelAr:" ",labelEn:"Sales Agent"},{value:"FLEET_CUSTOMER",labelAr:" ",labelEn:"Fleet Customer"},{value:"MAINTENANCE_CENTER",labelAr:" ",labelEn:"Maintenance Center"},{value:"TRADING_COMPANY",labelAr:" ",labelEn:"Trading Company"}],jle=()=>{const[e,t]=P.useState("TOOLS"),[r,a]=P.useState([]),[n,i]=P.useState(null),[l,c]=P.useState(!0),[u,f]=P.useState(!1),[p,m]=P.useState({}),{addToast:x}=qt(),{t:v,language:y}=Ea();P.useEffect(()=>{b()},[]);const b=async()=>{c(!0);try{const M=await de.getToolConfigs();a(M);const k={};for(const I of M)k[I.toolKey]=await co.getToolUsageStats(I.toolKey,void 0,"month");m(k)}catch{x("    ","error")}finally{c(!1)}},S=async()=>{f(!0);try{await de.saveToolConfigs(r),x(y==="ar"?"   ":"Settings saved successfully","success")}catch{x(y==="ar"?"   ":"Error saving settings","error")}finally{f(!1)}},_=M=>{a(k=>k.map(I=>I.toolKey===M?{...I,enabled:!I.enabled}:I))},w=M=>{a(k=>k.map(I=>I.toolKey===M?{...I,maintenanceMode:!I.maintenanceMode}:I))},E=M=>{a(k=>k.map(I=>I.toolKey===M?{...I,showInDashboardShortcuts:!I.showInDashboardShortcuts}:I))},O=M=>{a(k=>k.map(I=>I.toolKey===M?{...I,logUsageForAnalytics:!I.logUsageForAnalytics}:I))},A=(M,k,I)=>{a(V=>V.map(q=>q.toolKey===M?{...q,[k]:I}:q))},T=(M,k)=>{a(I=>I.map(V=>{if(V.toolKey!==M)return V;const q=[...V.allowedCustomerTypes],z=q.indexOf(k);return z===-1?q.push(k):q.splice(z,1),{...V,allowedCustomerTypes:q}}))},N=M=>y==="ar"?M.toolNameAr:M.toolNameEn,D=M=>y==="ar"?M.descriptionAr:M.descriptionEn;if(l)return s.jsxs("div",{className:"p-10 text-center",children:[s.jsx(ua,{className:"animate-spin mx-auto mb-4",size:32}),s.jsx("span",{className:"text-slate-500",children:y==="ar"?" ...":"Loading..."})]});const L=({id:M,icon:k,label:I})=>s.jsxs("button",{onClick:()=>t(M),className:`flex items-center gap-3 px-6 py-3 rounded-xl transition-all font-bold ${e===M?"bg-brand-600 text-white shadow-lg":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-200"}`,"data-testid":`tab-${M.toLowerCase()}`,children:[k,s.jsx("span",{children:I})]});return s.jsxs("div",{className:"animate-fade-in max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[s.jsx(mm,{className:"text-brand-600"}),y==="ar"?"  ":"Trader Tools Management"]}),s.jsx("p",{className:"text-slate-500 mt-1",children:y==="ar"?"/       ":"Enable/disable tools and configure access permissions per customer type"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(L,{id:"TOOLS",icon:s.jsx(ds,{size:18}),label:y==="ar"?"":"Settings"}),s.jsx(L,{id:"ANALYTICS",icon:s.jsx(um,{size:18}),label:y==="ar"?"":"Analytics"})]})]}),e==="TOOLS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:S,disabled:u,className:"bg-brand-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2 transition-all","data-testid":"btn-save-tools",children:[s.jsx(Pr,{size:18}),u?y==="ar"?" ...":"Saving...":y==="ar"?" ":"Save Settings"]})}),r.map(M=>s.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border transition-all ${M.enabled?"border-slate-100":"border-slate-200 opacity-75"}`,children:[s.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer hover:bg-slate-50 rounded-t-2xl transition-colors",onClick:()=>i(n===M.toolKey?null:M.toolKey),"data-testid":`tool-header-${M.toolKey}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${M.enabled?M.maintenanceMode?"bg-amber-50 text-amber-600":"bg-brand-50 text-brand-600":"bg-slate-100 text-slate-400"}`,children:X4[M.toolKey]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800",children:N(M)}),s.jsx("p",{className:"text-sm text-slate-500",children:D(M)})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[M.maintenanceMode&&s.jsxs("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-bold flex items-center gap-1",children:[s.jsx(sa,{size:12}),y==="ar"?"":"Maintenance"]}),s.jsx("button",{onClick:k=>{k.stopPropagation(),_(M.toolKey)},className:`p-2 rounded-lg transition-colors ${M.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,"data-testid":`toggle-tool-${M.toolKey}`,children:M.enabled?s.jsx(zd,{size:20}):s.jsx(Bd,{size:20})}),n===M.toolKey?s.jsx(Kl,{size:20}):s.jsx(ui,{size:20})]})]}),n===M.toolKey&&s.jsxs("div",{className:"border-t border-slate-100 p-6 space-y-6 animate-slide-up",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[M.showInDashboardShortcuts?s.jsx(wa,{size:18,className:"text-brand-600"}):s.jsx(lo,{size:18,className:"text-slate-400"}),s.jsx("span",{className:"font-medium",children:y==="ar"?"  ":"Show in Shortcuts"})]}),s.jsx("button",{onClick:()=>E(M.toolKey),className:`w-12 h-6 rounded-full transition-colors relative ${M.showInDashboardShortcuts?"bg-brand-600":"bg-slate-300"}`,"data-testid":`toggle-show-${M.toolKey}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${M.showInDashboardShortcuts?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rn,{size:18,className:M.logUsageForAnalytics?"text-brand-600":"text-slate-400"}),s.jsx("span",{className:"font-medium",children:y==="ar"?" ":"Log Usage"})]}),s.jsx("button",{onClick:()=>O(M.toolKey),className:`w-12 h-6 rounded-full transition-colors relative ${M.logUsageForAnalytics?"bg-brand-600":"bg-slate-300"}`,"data-testid":`toggle-log-${M.toolKey}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${M.logUsageForAnalytics?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sa,{size:18,className:M.maintenanceMode?"text-amber-600":"text-slate-400"}),s.jsx("span",{className:"font-medium",children:y==="ar"?" ":"Maintenance Mode"})]}),s.jsx("button",{onClick:()=>w(M.toolKey),className:`w-12 h-6 rounded-full transition-colors relative ${M.maintenanceMode?"bg-amber-500":"bg-slate-300"}`,"data-testid":`toggle-maintenance-${M.toolKey}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${M.maintenanceMode?"right-1":"left-1"}`})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[s.jsx(Xr,{size:14,className:"inline ml-1"}),y==="ar"?"  ()":"Daily Limit (files)"]}),s.jsx("input",{type:"number",value:M.maxFilesPerDay||"",onChange:k=>A(M.toolKey,"maxFilesPerDay",parseInt(k.target.value)||void 0),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:y==="ar"?" ":"No limit","data-testid":`input-daily-limit-${M.toolKey}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[s.jsx(Xr,{size:14,className:"inline ml-1"}),y==="ar"?"  ()":"Monthly Limit (files)"]}),s.jsx("input",{type:"number",value:M.maxFilesPerMonth||"",onChange:k=>A(M.toolKey,"maxFilesPerMonth",parseInt(k.target.value)||void 0),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:y==="ar"?" ":"No limit","data-testid":`input-monthly-limit-${M.toolKey}`})]})]}),M.maintenanceMode&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:y==="ar"?" ":"Maintenance Message"}),s.jsx("input",{type:"text",value:M.maintenanceMessage||"",onChange:k=>A(M.toolKey,"maintenanceMessage",k.target.value),className:"w-full p-3 bg-amber-50 border border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500",placeholder:y==="ar"?"   ...":"Tool is currently under maintenance...","data-testid":`input-maintenance-msg-${M.toolKey}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16}),y==="ar"?"   ":"Allowed Customer Types"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Nle.map(k=>{const I=M.allowedCustomerTypes.includes(k.value);return s.jsxs("button",{onClick:()=>T(M.toolKey,k.value),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${I?"bg-brand-100 text-brand-700 border-2 border-brand-300":"bg-slate-100 text-slate-500 border-2 border-transparent hover:border-slate-200"}`,"data-testid":`customer-type-${M.toolKey}-${k.value}`,children:[I?s.jsx(dr,{size:16}):s.jsx(_n,{size:16}),y==="ar"?k.labelAr:k.labelEn]},k.value)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:y==="ar"?"  ()":"Tool Name (Arabic)"}),s.jsx("input",{type:"text",value:M.toolNameAr,onChange:k=>A(M.toolKey,"toolNameAr",k.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",dir:"rtl","data-testid":`input-name-ar-${M.toolKey}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:y==="ar"?"  ()":"Tool Name (English)"}),s.jsx("input",{type:"text",value:M.toolNameEn,onChange:k=>A(M.toolKey,"toolNameEn",k.target.value),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",dir:"ltr","data-testid":`input-name-en-${M.toolKey}`})]})]})]})]},M.toolKey))]}),e==="ANALYTICS"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(uc,{className:"text-brand-600"}),y==="ar"?"  ":"Monthly Usage Statistics"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(M=>{const k=p[M.toolKey];return k?s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-brand-100 text-brand-600 rounded-lg",children:X4[M.toolKey]}),s.jsx("h3",{className:"font-bold text-slate-800",children:N(M)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-500",children:y==="ar"?" ":"Total Usage"}),s.jsx("span",{className:"font-bold text-slate-800",children:k.totalUsage})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-500",children:y==="ar"?"":"Successful"}),s.jsx("span",{className:"font-bold text-green-600",children:k.successfulUsage})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-500",children:y==="ar"?"":"Failed"}),s.jsx("span",{className:"font-bold text-red-600",children:k.failedUsage})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-500",children:y==="ar"?" ":"Unique Customers"}),s.jsx("span",{className:"font-bold text-slate-800",children:k.uniqueCustomers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-500",children:y==="ar"?" ":"Avg Time"}),s.jsxs("span",{className:"font-bold text-slate-800",children:[k.avgProcessingTime,"ms"]})]})]}),k.byDay.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-2",children:y==="ar"?" 7 ":"Last 7 days"}),s.jsx("div",{className:"flex items-end gap-1 h-16",children:k.byDay.slice(-7).map((I,V)=>{const q=Math.max(...k.byDay.slice(-7).map(R=>R.count),1),z=I.count/q*100;return s.jsx("div",{className:"flex-1 bg-brand-500 rounded-t",style:{height:`${Math.max(z,4)}%`},title:`${I.date}: ${I.count}`},V)})})]})]},M.toolKey):null})})]}),s.jsx("div",{className:"text-center text-slate-500 text-sm",children:s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors","data-testid":"btn-refresh-analytics",children:[s.jsx(ua,{size:16}),y==="ar"?" ":"Refresh Data"]})})]})]})},Ele=[{value:"SINI_FIRST_THEN_SUPPLIERS",labelAr:"   ",labelEn:"Sini First, Then Suppliers",descAr:"            ",descEn:"Search Sini inventory first, then supplier catalogs if not available"},{value:"SUPPLIERS_ONLY_WHEN_OUT_OF_STOCK",labelAr:"    ",labelEn:"Suppliers Only When Out of Stock",descAr:"           ",descEn:"Show supplier products only when item is out of stock at Sini"},{value:"RANDOM_SUPPLIER_WHEN_OUT_OF_STOCK",labelAr:"    ",labelEn:"Random Supplier When Out of Stock",descAr:"         ",descEn:"Pick a random supplier from available ones when product is not available"},{value:"LOWEST_PRICE_FIRST",labelAr:"  ",labelEn:"Lowest Price First",descAr:"          ",descEn:"Show product from supplier with lowest price regardless of stock"},{value:"HIGHEST_PRIORITY_FIRST",labelAr:"  ",labelEn:"Highest Priority First",descAr:"        ",descEn:"Show product from supplier with highest priority in ranking"}],Ale=()=>{const[e,t]=P.useState(null),[r,a]=P.useState([]),[n,i]=P.useState(!0),[l,c]=P.useState(!1),[u,f]=P.useState("GENERAL"),{addToast:p}=qt(),{language:m}=Ea();P.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const[A,T]=await Promise.all([de.getSupplierMarketplaceSettings(),de.getSupplierProfiles()]);t(A),a(T)}catch{p(m==="ar"?"   ":"Failed to load settings","error")}finally{i(!1)}},v=async()=>{if(e){c(!0);try{await de.saveSupplierMarketplaceSettings(e),p(m==="ar"?"   ":"Settings saved successfully","success")}catch{p(m==="ar"?"   ":"Error saving settings","error")}finally{c(!1)}}},y=()=>{e&&t({...e,enabled:!e.enabled})},b=(A,T)=>{e&&t({...e,[A]:T})},S=()=>{if(!e)return;const A={supplierId:`SUP${Date.now()}`,supplierName:m==="ar"?" ":"New Supplier",priority:e.supplierPriorities.length+1,enabled:!0};t({...e,supplierPriorities:[...e.supplierPriorities,A]})},_=A=>{e&&t({...e,supplierPriorities:e.supplierPriorities.filter(T=>T.supplierId!==A)})},w=(A,T)=>{e&&t({...e,supplierPriorities:e.supplierPriorities.map(N=>N.supplierId===A?{...N,...T}:N)})},E=(A,T)=>{if(!e)return;const N=[...e.supplierPriorities],D=N.findIndex(M=>M.supplierId===A);if(D===-1)return;const L=T==="up"?D-1:D+1;L<0||L>=N.length||([N[D],N[L]]=[N[L],N[D]],N.forEach((M,k)=>M.priority=k+1),t({...e,supplierPriorities:N}))};if(n||!e)return s.jsxs("div",{className:"p-10 text-center",children:[s.jsx(ua,{className:"animate-spin mx-auto mb-4",size:32}),s.jsx("span",{className:"text-slate-500",children:m==="ar"?" ...":"Loading..."})]});const O=({id:A,icon:T,label:N})=>s.jsxs("button",{onClick:()=>f(A),className:`flex items-center gap-3 px-5 py-3 rounded-xl transition-all font-bold ${u===A?"bg-brand-600 text-white shadow-lg":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-200"}`,"data-testid":`section-${A.toLowerCase()}`,children:[T,s.jsx("span",{children:N})]});return s.jsxs("div",{className:"animate-fade-in max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[s.jsx($p,{className:"text-brand-600"}),m==="ar"?"  ":"Supplier Marketplace Settings"]}),s.jsx("p",{className:"text-slate-500 mt-1",children:m==="ar"?"      ":"Manage external supplier catalog and product integration"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all ${e.enabled?"bg-green-100 text-green-700 border-2 border-green-300":"bg-red-100 text-red-700 border-2 border-red-300"}`,"data-testid":"toggle-marketplace",children:[e.enabled?s.jsx(zd,{size:18}):s.jsx(Bd,{size:18}),e.enabled?m==="ar"?"":"Enabled":m==="ar"?"":"Disabled"]}),s.jsxs("button",{onClick:v,disabled:l,className:"bg-brand-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-brand-700 shadow-lg shadow-brand-100 disabled:opacity-50 flex items-center gap-2 transition-all","data-testid":"btn-save-settings",children:[s.jsx(Pr,{size:18}),l?m==="ar"?" ...":"Saving...":m==="ar"?" ":"Save Settings"]})]})]}),!e.enabled&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Qn,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-amber-800",children:m==="ar"?"   ":"Supplier Marketplace is Currently Disabled"}),s.jsx("p",{className:"text-sm text-amber-700",children:m==="ar"?"      ":"Enable the marketplace to show supplier products to customers"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(O,{id:"GENERAL",icon:s.jsx(ds,{size:18}),label:m==="ar"?" ":"General Settings"}),s.jsx(O,{id:"PRIORITIES",icon:s.jsx(lZ,{size:18}),label:m==="ar"?" ":"Supplier Priorities"}),s.jsx(O,{id:"SUPPLIERS",icon:s.jsx(ka,{size:18}),label:m==="ar"?"":"Suppliers"})]}),u==="GENERAL"&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:m==="ar"?"  ":"Supplier Selection Mode"}),s.jsx("div",{className:"space-y-3",children:Ele.map(A=>s.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${e.selectionMode===A.value?"border-brand-500 bg-brand-50":"border-slate-200 hover:border-slate-300"}`,children:[s.jsx("input",{type:"radio",name:"selectionMode",value:A.value,checked:e.selectionMode===A.value,onChange:()=>b("selectionMode",A.value),className:"mt-1","data-testid":`radio-mode-${A.value}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800",children:m==="ar"?A.labelAr:A.labelEn}),s.jsx("p",{className:"text-sm text-slate-500",children:m==="ar"?A.descAr:A.descEn})]})]},A.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lo,{size:18,className:"text-slate-600"}),s.jsx("span",{className:"font-bold text-slate-700",children:m==="ar"?"  ":"Hide Supplier Identity"})]}),s.jsx("button",{onClick:()=>b("hideRealSupplierFromCustomer",!e.hideRealSupplierFromCustomer),className:`w-12 h-6 rounded-full transition-colors relative ${e.hideRealSupplierFromCustomer?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-hide-supplier",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${e.hideRealSupplierFromCustomer?"right-1":"left-1"}`})})]}),s.jsx("p",{className:"text-xs text-slate-500",children:m==="ar"?"     ":"Do not show real supplier name to customers"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Na,{size:18,className:"text-slate-600"}),s.jsx("span",{className:"font-bold text-slate-700",children:m==="ar"?"  ":"Show Stock Level"})]}),s.jsx("button",{onClick:()=>b("showSupplierStockLevel",!e.showSupplierStockLevel),className:`w-12 h-6 rounded-full transition-colors relative ${e.showSupplierStockLevel?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-show-stock",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${e.showSupplierStockLevel?"right-1":"left-1"}`})})]}),s.jsx("p",{className:"text-xs text-slate-500",children:m==="ar"?"     ":"Display available stock quantity from supplier"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tl,{size:18,className:"text-slate-600"}),s.jsx("span",{className:"font-bold text-slate-700",children:m==="ar"?" ":"Supplier Rating"})]}),s.jsx("button",{onClick:()=>b("enableSupplierRating",!e.enableSupplierRating),className:`w-12 h-6 rounded-full transition-colors relative ${e.enableSupplierRating?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-rating",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${e.enableSupplierRating?"right-1":"left-1"}`})})]}),s.jsx("p",{className:"text-xs text-slate-500",children:m==="ar"?"     ":"Allow rating suppliers based on performance"})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wi,{size:18,className:"text-slate-600"}),s.jsx("span",{className:"font-bold text-slate-700",children:m==="ar"?"  ":"New Product Notification"})]}),s.jsx("button",{onClick:()=>b("notifyAdminOnNewSupplierItem",!e.notifyAdminOnNewSupplierItem),className:`w-12 h-6 rounded-full transition-colors relative ${e.notifyAdminOnNewSupplierItem?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-notify",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${e.notifyAdminOnNewSupplierItem?"right-1":"left-1"}`})})]}),s.jsx("p",{className:"text-xs text-slate-500",children:m==="ar"?"       ":"Notify admin when new product is added by supplier"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Zx,{size:14}),m==="ar"?"  ":"Default Markup %"]}),s.jsx("input",{type:"number",value:e.defaultMarkupPercent||"",onChange:A=>b("defaultMarkupPercent",parseFloat(A.target.value)||void 0),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500",placeholder:"15","data-testid":"input-markup"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Qs,{size:14}),m==="ar"?"   %":"Min Profit Margin %"]}),s.jsx("input",{type:"number",value:e.minProfitMargin||"",onChange:A=>b("minProfitMargin",parseFloat(A.target.value)||void 0),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500",placeholder:"5","data-testid":"input-min-margin"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Xr,{size:14}),m==="ar"?"   ()":"Max Lead Time (days)"]}),s.jsx("input",{type:"number",value:e.maxLeadTimeDays||"",onChange:A=>b("maxLeadTimeDays",parseInt(A.target.value)||void 0),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500",placeholder:"14","data-testid":"input-lead-time"})]})]})]}),u==="PRIORITIES"&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:m==="ar"?"  ":"Supplier Priority Order"}),s.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 transition-colors","data-testid":"btn-add-priority",children:[s.jsx(xr,{size:16}),m==="ar"?" ":"Add Supplier"]})]}),e.supplierPriorities.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(ka,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:m==="ar"?"   ":"No suppliers added yet"})]}):s.jsx("div",{className:"space-y-3",children:e.supplierPriorities.sort((A,T)=>A.priority-T.priority).map((A,T)=>s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${A.enabled?"border-slate-200 bg-white":"border-slate-100 bg-slate-50 opacity-60"}`,"data-testid":`priority-${A.supplierId}`,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>E(A.supplierId,"up"),disabled:T===0,className:"p-1 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(Kl,{size:16})}),s.jsx("button",{onClick:()=>E(A.supplierId,"down"),disabled:T===e.supplierPriorities.length-1,className:"p-1 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(ui,{size:16})})]}),s.jsx("div",{className:"w-8 h-8 bg-brand-100 text-brand-600 rounded-lg flex items-center justify-center font-bold",children:A.priority}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",value:A.supplierName||"",onChange:N=>w(A.supplierId,{supplierName:N.target.value}),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg font-bold",placeholder:m==="ar"?" ":"Supplier Name"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>w(A.supplierId,{enabled:!A.enabled}),className:`p-2 rounded-lg transition-colors ${A.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:A.enabled?s.jsx(zd,{size:18}):s.jsx(Bd,{size:18})}),s.jsx("button",{onClick:()=>_(A.supplierId),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:s.jsx(Wt,{size:18})})]})]},A.supplierId))})]}),u==="SUPPLIERS"&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:m==="ar"?" ":"Registered Suppliers"}),r.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(ka,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:m==="ar"?"   ":"No registered suppliers"}),s.jsx("p",{className:"text-sm mt-2",children:m==="ar"?'    " "  ':'Suppliers with "Can Act as Supplier" permission will appear here'})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(A=>s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200","data-testid":`supplier-${A.supplierId}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:A.companyName}),s.jsx("p",{className:"text-sm text-slate-500",children:A.contactName})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${A.status==="ACTIVE"?"bg-green-100 text-green-700":A.status==="PENDING"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:A.status})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Na,{size:14}),A.totalItemsListed||0," ",m==="ar"?"":"items"]}),A.avgRating&&s.jsxs("p",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(tl,{size:14,className:"text-amber-500"}),A.avgRating.toFixed(1)]})]})]},A.supplierId))})]})]})},_le=()=>{const[e,t]=P.useState("MARKETERS"),[r,a]=P.useState([]),[n,i]=P.useState([]),[l,c]=P.useState(null),[u,f]=P.useState(!0),[p,m]=P.useState(!1),[x,v]=P.useState(!1),[y,b]=P.useState(null),[S,_]=P.useState(""),[w,E]=P.useState(null),[O,A]=P.useState({name:"",phone:"",email:"",commissionType:"PERCENT",commissionValue:0,notes:""}),{addToast:T}=qt(),{language:N}=Ea();P.useEffect(()=>{D()},[]);const D=async()=>{f(!0);try{const[B,ee,Y]=await Promise.all([de.getMarketers(),de.getMarketerCommissions(),de.getMarketerSettings()]);a(B),i(ee),c(Y)}catch{T(N==="ar"?"   ":"Failed to load data","error")}finally{f(!1)}},L=async()=>{if(l){m(!0);try{await de.saveMarketerSettings(l),T(N==="ar"?"   ":"Settings saved successfully","success")}catch{T(N==="ar"?"   ":"Error saving settings","error")}finally{m(!1)}}},M=async()=>{if(!O.name||!O.phone){T(N==="ar"?"    ":"Please enter name and phone","error");return}try{await de.addMarketer({name:O.name,phone:O.phone,email:O.email,commissionType:O.commissionType,commissionValue:O.commissionValue||(l==null?void 0:l.defaultCommissionValue)||2,active:!0,notes:O.notes}),T(N==="ar"?"   ":"Marketer added successfully","success"),v(!1),A({name:"",phone:"",email:"",commissionType:"PERCENT",commissionValue:0,notes:""}),D()}catch{T(N==="ar"?"   ":"Error adding marketer","error")}},k=async B=>{const ee=r.find(Y=>Y.id===B);ee&&(await de.updateMarketer(B,{active:!ee.active}),a(Y=>Y.map(F=>F.id===B?{...F,active:!F.active}:F)),T(ee.active?N==="ar"?"  ":"Marketer disabled":N==="ar"?"  ":"Marketer enabled","info"))},I=async B=>{confirm(N==="ar"?"      ":"Are you sure you want to delete this marketer?")&&(await de.deleteMarketer(B),a(ee=>ee.filter(Y=>Y.id!==B)),T(N==="ar"?"  ":"Marketer deleted","info"))},V=B=>{navigator.clipboard.writeText(B),E(B),setTimeout(()=>E(null),2e3)},q=B=>{navigator.clipboard.writeText(B),T(N==="ar"?"  ":"Link copied","success")},z=async(B,ee)=>{await de.updateMarketerCommissionStatus(B,ee,"admin"),i(Y=>Y.map(F=>F.id===B?{...F,status:ee,approvedAt:ee==="APPROVED"?new Date().toISOString():F.approvedAt}:F)),T(N==="ar"?`    ${ee==="APPROVED"?"":ee==="PAID"?"":ee}`:`Status updated to ${ee}`,"success")},R=r.filter(B=>B.name.toLowerCase().includes(S.toLowerCase())||B.phone.includes(S)||B.referralCode.toLowerCase().includes(S.toLowerCase()));if(u||!l)return s.jsxs("div",{className:"p-10 text-center",children:[s.jsx(ua,{className:"animate-spin mx-auto mb-4",size:32}),s.jsx("span",{className:"text-slate-500",children:N==="ar"?" ...":"Loading..."})]});const W=({id:B,icon:ee,label:Y,count:F})=>s.jsxs("button",{onClick:()=>t(B),className:`flex items-center gap-3 px-5 py-3 rounded-xl transition-all font-bold relative ${e===B?"bg-brand-600 text-white shadow-lg":"bg-white text-slate-500 hover:bg-slate-50 border border-slate-200"}`,"data-testid":`tab-${B.toLowerCase()}`,children:[ee,s.jsx("span",{children:Y}),F!==void 0&&F>0&&s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===B?"bg-white/20 text-white":"bg-brand-100 text-brand-600"}`,children:F})]}),X=B=>{const ee={PENDING:"bg-amber-100 text-amber-700",APPROVED:"bg-blue-100 text-blue-700",PAID:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700"},Y={PENDING:N==="ar"?" ":"Pending",APPROVED:N==="ar"?"":"Approved",PAID:N==="ar"?"":"Paid",CANCELLED:N==="ar"?"":"Cancelled"};return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ee[B]}`,children:Y[B]})};return s.jsxs("div",{className:"animate-fade-in max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-slate-800 flex items-center gap-3",children:[s.jsx(Xt,{className:"text-brand-600"}),N==="ar"?" ":"Marketer Management"]}),s.jsx("p",{className:"text-slate-500 mt-1",children:N==="ar"?"     ":"Manage affiliate marketing program and track referrals"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("button",{onClick:()=>l&&c({...l,enabled:!l.enabled}),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all ${l.enabled?"bg-green-100 text-green-700 border-2 border-green-300":"bg-red-100 text-red-700 border-2 border-red-300"}`,"data-testid":"toggle-system",children:[l.enabled?s.jsx(zd,{size:18}):s.jsx(Bd,{size:18}),l.enabled?N==="ar"?"":"Enabled":N==="ar"?"":"Disabled"]})})]}),!l.enabled&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Qn,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-amber-800",children:N==="ar"?"   ":"Marketer System is Currently Disabled"}),s.jsx("p",{className:"text-sm text-amber-700",children:N==="ar"?"      ":"Enable the system to track referrals and calculate commissions"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(W,{id:"MARKETERS",icon:s.jsx(Xt,{size:18}),label:N==="ar"?"":"Marketers",count:r.length}),s.jsx(W,{id:"COMMISSIONS",icon:s.jsx(Qs,{size:18}),label:N==="ar"?"":"Commissions",count:n.filter(B=>B.status==="PENDING").length}),s.jsx(W,{id:"SETTINGS",icon:s.jsx(ds,{size:18}),label:N==="ar"?"":"Settings"})]}),e==="MARKETERS"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ur,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",value:S,onChange:B=>_(B.target.value),placeholder:N==="ar"?"     ...":"Search by name, phone or code...",className:"w-full pr-10 pl-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500",dir:"rtl","data-testid":"search-marketers"})]}),s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-5 py-3 bg-brand-600 text-white rounded-xl font-bold hover:bg-brand-700 transition-colors","data-testid":"btn-add-marketer",children:[s.jsx(fc,{size:18}),N==="ar"?" ":"Add Marketer"]})]}),x&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 space-y-4",children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[s.jsx(fc,{className:"text-brand-600"}),N==="ar"?"  ":"Add New Marketer"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?" *":"Name *"}),s.jsx("input",{type:"text",value:O.name,onChange:B=>A({...O,name:B.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"input-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?"  *":"Phone *"}),s.jsx("input",{type:"tel",value:O.phone,onChange:B=>A({...O,phone:B.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr","data-testid":"input-phone"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?" ":"Email"}),s.jsx("input",{type:"email",value:O.email,onChange:B=>A({...O,email:B.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",dir:"ltr","data-testid":"input-email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?" ":"Commission Type"}),s.jsxs("select",{value:O.commissionType,onChange:B=>A({...O,commissionType:B.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"select-commission-type",children:[s.jsx("option",{value:"PERCENT",children:N==="ar"?" ":"Percentage"}),s.jsx("option",{value:"FIXED",children:N==="ar"?" ":"Fixed Amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?" ":"Commission Value"}),s.jsx("input",{type:"number",value:O.commissionValue||"",onChange:B=>A({...O,commissionValue:parseFloat(B.target.value)||0}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",placeholder:`${l.defaultCommissionValue}${O.commissionType==="PERCENT"?"%":" SAR"}`,"data-testid":"input-commission-value"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:N==="ar"?"":"Notes"}),s.jsx("textarea",{value:O.notes,onChange:B=>A({...O,notes:B.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl resize-none",rows:2,"data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>v(!1),className:"px-5 py-2 bg-slate-100 text-slate-600 rounded-lg font-bold hover:bg-slate-200 transition-colors",children:N==="ar"?"":"Cancel"}),s.jsxs("button",{onClick:M,className:"px-5 py-2 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 transition-colors flex items-center gap-2","data-testid":"btn-save-marketer",children:[s.jsx(xr,{size:16}),N==="ar"?"":"Add"]})]})]}),R.length===0?s.jsxs("div",{className:"bg-white p-12 rounded-2xl shadow-sm border border-slate-100 text-center",children:[s.jsx(Xt,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{className:"text-slate-500",children:N==="ar"?"  ":"No marketers found"})]}):s.jsx("div",{className:"space-y-3",children:R.map(B=>s.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border transition-all ${B.active?"border-slate-100":"border-slate-200 opacity-75"}`,"data-testid":`marketer-${B.id}`,children:[s.jsxs("div",{className:"p-5 flex items-center justify-between cursor-pointer hover:bg-slate-50 rounded-t-2xl transition-colors",onClick:()=>b(y===B.id?null:B.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${B.active?"bg-brand-100 text-brand-600":"bg-slate-100 text-slate-400"}`,children:B.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:B.name}),s.jsx("p",{className:"text-sm text-slate-500",children:B.phone})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-left hidden md:block",children:[s.jsx("p",{className:"text-sm text-slate-500",children:N==="ar"?" ":"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"font-mono font-bold text-brand-600",children:B.referralCode}),s.jsx("button",{onClick:ee=>{ee.stopPropagation(),V(B.referralCode)},className:"p-1 hover:bg-slate-100 rounded",children:w===B.referralCode?s.jsx(Gr,{size:14,className:"text-green-600"}):s.jsx(Lp,{size:14})})]})]}),s.jsxs("div",{className:"text-left hidden md:block",children:[s.jsx("p",{className:"text-sm text-slate-500",children:N==="ar"?"":"Commission"}),s.jsxs("p",{className:"font-bold text-slate-800",children:[B.commissionValue,B.commissionType==="PERCENT"?"%":" SAR"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:ee=>{ee.stopPropagation(),k(B.id)},className:`p-2 rounded-lg transition-colors ${B.active?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:B.active?s.jsx(zd,{size:18}):s.jsx(Bd,{size:18})}),y===B.id?s.jsx(Kl,{size:20}):s.jsx(ui,{size:20})]})]})]}),y===B.id&&s.jsxs("div",{className:"border-t border-slate-100 p-5 space-y-4 animate-slide-up",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:N==="ar"?"":"Referrals"}),s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:B.totalReferrals||0})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-sm text-green-600 mb-1",children:N==="ar"?" ":"Total Earnings"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[(B.totalEarnings||0).toFixed(2)," SAR"]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-sm text-amber-600 mb-1",children:N==="ar"?" ":"Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:[(B.pendingEarnings||0).toFixed(2)," SAR"]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-sm text-blue-600 mb-1",children:N==="ar"?"":"Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[(B.paidEarnings||0).toFixed(2)," SAR"]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-sm font-bold text-slate-700 mb-2",children:N==="ar"?" ":"Referral Link"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:B.referralUrl,readOnly:!0,className:"flex-1 p-2 bg-white border border-slate-200 rounded-lg font-mono text-sm",dir:"ltr"}),s.jsx("button",{onClick:()=>q(B.referralUrl),className:"p-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:s.jsx(Lp,{size:18})})]})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:()=>I(B.id),className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg font-bold hover:bg-red-100 transition-colors",children:[s.jsx(Wt,{size:16}),N==="ar"?"":"Delete"]})})]})]},B.id))})]}),e==="COMMISSIONS"&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-slate-100",children:s.jsx("h2",{className:"font-bold text-lg text-slate-800",children:N==="ar"?" ":"Commission History"})}),n.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Qs,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{className:"text-slate-500",children:N==="ar"?"  ":"No commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Marketer"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Order"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?" ":"Order Value"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Commission"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Date"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold text-slate-600",children:N==="ar"?"":"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map(B=>{const ee=r.find(Y=>Y.id===B.marketerId);return s.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`commission-${B.id}`,children:[s.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:(ee==null?void 0:ee.name)||"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600",children:B.orderId}),s.jsxs("td",{className:"px-4 py-3 font-medium text-slate-800",children:[B.orderTotal.toFixed(2)," SAR"]}),s.jsxs("td",{className:"px-4 py-3 font-bold text-green-600",children:[B.commissionAmount.toFixed(2)," SAR"]}),s.jsx("td",{className:"px-4 py-3",children:X(B.status)}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:new Date(B.calculatedAt).toLocaleDateString("ar-SA")}),s.jsxs("td",{className:"px-4 py-3",children:[B.status==="PENDING"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>z(B.id,"APPROVED"),className:"p-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200",title:N==="ar"?"":"Approve",children:s.jsx(Gr,{size:14})}),s.jsx("button",{onClick:()=>z(B.id,"CANCELLED"),className:"p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",title:N==="ar"?"":"Cancel",children:s.jsx(ar,{size:14})})]}),B.status==="APPROVED"&&s.jsxs("button",{onClick:()=>z(B.id,"PAID"),className:"flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 text-sm font-bold",children:[s.jsx(r8,{size:14}),N==="ar"?"":"Pay"]})]})]},B.id)})})]})})]}),e==="SETTINGS"&&s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:N==="ar"?"  ":"Marketing Program Settings"}),s.jsxs("button",{onClick:L,disabled:p,className:"flex items-center gap-2 px-5 py-2 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 transition-colors disabled:opacity-50","data-testid":"btn-save-settings",children:[s.jsx(Pr,{size:16}),p?N==="ar"?" ...":"Saving...":N==="ar"?"":"Save"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(qj,{size:14}),N==="ar"?"  ()":"Attribution Window (days)"]}),s.jsx("input",{type:"number",value:l.attributionWindowDays,onChange:B=>c({...l,attributionWindowDays:parseInt(B.target.value)||90}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"input-attribution-days"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N==="ar"?"      ":"Period during which referral is counted after registration"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Zx,{size:14}),N==="ar"?" ":"Default Commission"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:l.defaultCommissionType,onChange:B=>c({...l,defaultCommissionType:B.target.value}),className:"p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"select-default-type",children:[s.jsx("option",{value:"PERCENT",children:N==="ar"?"":"%"}),s.jsx("option",{value:"FIXED",children:N==="ar"?"":"Fixed"})]}),s.jsx("input",{type:"number",value:l.defaultCommissionValue,onChange:B=>c({...l,defaultCommissionValue:parseFloat(B.target.value)||0}),className:"flex-1 p-3 bg-slate-50 border border-slate-200 rounded-xl","data-testid":"input-default-value"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(are,{size:14}),N==="ar"?"  ":"Min Payout Amount"]}),s.jsx("input",{type:"number",value:l.minPayoutAmount||"",onChange:B=>c({...l,minPayoutAmount:parseFloat(B.target.value)||void 0}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",placeholder:"500 SAR","data-testid":"input-min-payout"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(Xr,{size:14}),N==="ar"?"  ()":"Payment Cycle (days)"]}),s.jsx("input",{type:"number",value:l.paymentCycleDays||"",onChange:B=>c({...l,paymentCycleDays:parseInt(B.target.value)||void 0}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl",placeholder:"30","data-testid":"input-payment-cycle"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-700",children:N==="ar"?" ":"Auto-Approve Commissions"}),s.jsx("p",{className:"text-xs text-slate-500",children:N==="ar"?"  ":"Automatically approve commissions"})]}),s.jsx("button",{onClick:()=>c({...l,autoApproveCommissions:!l.autoApproveCommissions}),className:`w-12 h-6 rounded-full transition-colors relative ${l.autoApproveCommissions?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-auto-approve",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.autoApproveCommissions?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-700",children:N==="ar"?"  ":"Show Customer Names"}),s.jsx("p",{className:"text-xs text-slate-500",children:N==="ar"?"    ":"Allow marketer to see customer names"})]}),s.jsx("button",{onClick:()=>c({...l,marketerCanViewCustomerNames:!l.marketerCanViewCustomerNames}),className:`w-12 h-6 rounded-full transition-colors relative ${l.marketerCanViewCustomerNames?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-show-names",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.marketerCanViewCustomerNames?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-700",children:N==="ar"?"  ":"Show Order Totals"}),s.jsx("p",{className:"text-xs text-slate-500",children:N==="ar"?"    ":"Allow marketer to see order totals"})]}),s.jsx("button",{onClick:()=>c({...l,marketerCanViewOrderTotals:!l.marketerCanViewOrderTotals}),className:`w-12 h-6 rounded-full transition-colors relative ${l.marketerCanViewOrderTotals?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-show-totals",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.marketerCanViewOrderTotals?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-700",children:N==="ar"?"  ":"Notify on Referral"}),s.jsx("p",{className:"text-xs text-slate-500",children:N==="ar"?"     ":"Notify marketer when new customer registers"})]}),s.jsx("button",{onClick:()=>c({...l,notifyMarketerOnReferral:!l.notifyMarketerOnReferral}),className:`w-12 h-6 rounded-full transition-colors relative ${l.notifyMarketerOnReferral?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-notify-referral",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.notifyMarketerOnReferral?"right-1":"left-1"}`})})]})]})]})]})},Cle={PENDING_SINICAR_REVIEW:{labelAr:" ",labelEn:"Pending Review",color:"bg-amber-100 text-amber-700",icon:s.jsx(Xr,{size:16})},WAITING_FOR_CUSTOMER_DECISION_ON_PARTIAL_SINICAR:{labelAr:"  ",labelEn:"Awaiting Customer Decision",color:"bg-blue-100 text-blue-700",icon:s.jsx(sa,{size:16})},REJECTED_BY_SINICAR:{labelAr:"   ",labelEn:"Rejected by SINI CAR",color:"bg-red-100 text-red-700",icon:s.jsx(_n,{size:16})},FORWARDED_TO_SUPPLIERS:{labelAr:" ",labelEn:"Forwarded to Suppliers",color:"bg-purple-100 text-purple-700",icon:s.jsx(rl,{size:16})},WAITING_FOR_SUPPLIER_OFFERS:{labelAr:"  ",labelEn:"Waiting for Supplier Offers",color:"bg-indigo-100 text-indigo-700",icon:s.jsx(Xr,{size:16})},WAITING_FOR_CUSTOMER_DECISION_ON_SUPPLIER_OFFER:{labelAr:"     ",labelEn:"Awaiting Customer Decision on Supplier Offer",color:"bg-blue-100 text-blue-700",icon:s.jsx(sa,{size:16})},ACTIVE_CONTRACT:{labelAr:" ",labelEn:"Active Contract",color:"bg-green-100 text-green-700",icon:s.jsx(dr,{size:16})},CLOSED:{labelAr:"",labelEn:"Closed",color:"bg-slate-100 text-slate-600",icon:s.jsx(e8,{size:16})},CANCELLED:{labelAr:"",labelEn:"Cancelled",color:"bg-slate-100 text-slate-600",icon:s.jsx(_n,{size:16})}},Tle=[{key:"pending",labelAr:" ",labelEn:"New Requests",icon:s.jsx(Xr,{size:18})},{key:"customer-decisions",labelAr:" ",labelEn:"Customer Decisions",icon:s.jsx(Xt,{size:18})},{key:"forwarded",labelAr:" ",labelEn:"Forwarded",icon:s.jsx(rl,{size:18})},{key:"active",labelAr:" ",labelEn:"Active Contracts",icon:s.jsx(dr,{size:18})},{key:"settings",labelAr:"",labelEn:"Settings",icon:s.jsx(ds,{size:18})},{key:"credit-profiles",labelAr:" ",labelEn:"Credit Profiles",icon:s.jsx(tl,{size:18})}],Ole=()=>{const[e,t]=P.useState(!0),[r,a]=P.useState("pending"),[n,i]=P.useState([]),[l,c]=P.useState([]),[u,f]=P.useState(null),[p,m]=P.useState([]),[x,v]=P.useState(null),[y,b]=P.useState(null),[S,_]=P.useState(!1),{addToast:w}=qt(),{t:E,language:O}=Ea(),A=O==="ar";P.useEffect(()=>{T()},[]);const T=async()=>{t(!0);try{const[q,z,R,W,X]=await Promise.all([de.getInstallmentRequests(),de.getInstallmentOffers(),de.getInstallmentSettings(),de.getCustomerCreditProfiles(),de.getInstallmentStats()]);i(q),c(z),f(R),m(W),v(X)}catch{w(E("installment.loadError","    "),"error")}finally{t(!1)}},N=q=>new Date(q).toLocaleDateString(A?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"}),D=q=>new Intl.NumberFormat(A?"ar-SA":"en-US",{style:"currency",currency:"SAR",minimumFractionDigits:0}).format(q),L=()=>{switch(r){case"pending":return n.filter(q=>q.status==="PENDING_SINICAR_REVIEW");case"customer-decisions":return n.filter(q=>["WAITING_FOR_CUSTOMER_DECISION_ON_PARTIAL_SINICAR","WAITING_FOR_CUSTOMER_DECISION_ON_SUPPLIER_OFFER"].includes(q.status));case"forwarded":return n.filter(q=>["FORWARDED_TO_SUPPLIERS","WAITING_FOR_SUPPLIER_OFFERS"].includes(q.status));case"active":return n.filter(q=>q.status==="ACTIVE_CONTRACT");default:return[]}},M=n.filter(q=>q.status==="PENDING_SINICAR_REVIEW").length,k=n.filter(q=>["WAITING_FOR_CUSTOMER_DECISION_ON_PARTIAL_SINICAR","WAITING_FOR_CUSTOMER_DECISION_ON_SUPPLIER_OFFER"].includes(q.status)).length,I=n.filter(q=>["FORWARDED_TO_SUPPLIERS","WAITING_FOR_SUPPLIER_OFFERS"].includes(q.status)).length,V=n.filter(q=>q.status==="ACTIVE_CONTRACT").length;return e?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(ua,{className:"animate-spin text-brand-600",size:48})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[s.jsx(r8,{className:"text-brand-600",size:28}),E("installment.adminTitle","  ")]}),s.jsx("p",{className:"text-slate-500 mt-1",children:E("installment.adminSubtitle","    ")})]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-refresh",children:[s.jsx(ua,{size:18}),E("common.refresh","")]})]}),x&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-brand-100 rounded-lg",children:s.jsx(lr,{className:"text-brand-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.totalRequests"," ")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.totalRequests})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(Xr,{className:"text-amber-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.pendingRequests"," ")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.pendingRequests})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(dr,{className:"text-green-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.activeContracts"," ")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:x.activeContracts})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Qs,{className:"text-blue-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.approvedValue","  ")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:D(x.totalApprovedValue)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:s.jsx(uc,{className:"text-emerald-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.totalPaid"," ")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:D(x.totalPaidAmount)})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(sa,{className:"text-red-600",size:20})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-500",children:E("installment.overdueAmount","")}),s.jsx("div",{className:"text-xl font-bold text-slate-800",children:D(x.totalOverdueAmount)})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-slate-200 overflow-x-auto",children:Tle.map(q=>{let z=0;return q.key==="pending"?z=M:q.key==="customer-decisions"?z=k:q.key==="forwarded"?z=I:q.key==="active"?z=V:q.key==="credit-profiles"&&(z=p.length),s.jsxs("button",{onClick:()=>a(q.key),className:`flex items-center gap-2 px-4 py-3 font-medium whitespace-nowrap transition-colors ${r===q.key?"text-brand-600 border-b-2 border-brand-600 bg-brand-50":"text-slate-600 hover:text-brand-600 hover:bg-slate-50"}`,"data-testid":`tab-${q.key}`,children:[q.icon,A?q.labelAr:q.labelEn,z>0&&s.jsx("span",{className:"bg-brand-100 text-brand-700 px-2 py-0.5 rounded-full text-xs",children:z})]},q.key)})}),s.jsxs("div",{className:"p-4",children:[(r==="pending"||r==="customer-decisions"||r==="forwarded"||r==="active")&&s.jsx(kle,{requests:L(),offers:l,settings:u,onSelectRequest:b,selectedRequest:y,onRefresh:T,t:E,isRTL:A,formatDate:N,formatCurrency:D,showActions:r==="pending"}),r==="settings"&&u&&s.jsx(Ple,{settings:u,onSave:async q=>{try{await de.updateInstallmentSettings(q),await T(),w(E("installment.settingsSaved","  "),"success")}catch{w(E("installment.settingsError","    "),"error")}},t:E,isRTL:A}),r==="credit-profiles"&&s.jsx(Dle,{profiles:p,t:E,isRTL:A,formatCurrency:D})]})]}),y&&r==="pending"&&s.jsx(Rle,{request:y,settings:u,onClose:()=>b(null),onAction:async(q,z)=>{_(!0);try{q==="approve_full"||q==="approve_partial"?(await de.recordSinicarDecision(y.id,{decisionType:q,offer:z==null?void 0:z.offer,adminNotes:z==null?void 0:z.notes}),w(E("installment.decisionRecorded","  "),"success")):q==="reject"?(await de.recordSinicarDecision(y.id,{decisionType:"reject",adminNotes:z==null?void 0:z.notes,forwardToSuppliers:z==null?void 0:z.forwardToSuppliers,supplierIds:z==null?void 0:z.supplierIds}),w(E("installment.requestRejected","  "),"success")):q==="forward"&&(await de.forwardRequestToSuppliers(y.id,(z==null?void 0:z.supplierIds)||[]),w(E("installment.forwarded","   "),"success")),await T(),b(null)}catch(R){w(R.message||E("installment.actionError"," "),"error")}finally{_(!1)}},processing:S,t:E,isRTL:A,formatCurrency:D})]})},kle=({requests:e,offers:t,settings:r,onSelectRequest:a,selectedRequest:n,onRefresh:i,t:l,isRTL:c,formatDate:u,formatCurrency:f,showActions:p})=>e.length===0?s.jsxs("div",{className:"py-12 text-center text-slate-500",children:[s.jsx(lr,{className:"mx-auto mb-4 text-slate-300",size:48}),s.jsx("p",{children:l("installment.noRequestsInTab","     ")})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.requestId"," ")}),s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.customer","")}),s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.amount","")}),s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.duration","")}),s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.date","")}),s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.status","")}),p&&s.jsx("th",{className:`px-4 py-3 text-${c?"right":"left"} text-sm font-medium text-slate-600`,children:l("installment.actions","")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(m=>{const x=Cle[m.status];return t.filter(v=>v.requestId===m.id),s.jsxs("tr",{className:`hover:bg-slate-50 ${(n==null?void 0:n.id)===m.id?"bg-brand-50":""}`,children:[s.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:["#",m.id.slice(-8)]}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:m.customerName||m.customerId}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:f(m.totalRequestedValue||0)}),s.jsxs("td",{className:"px-4 py-3 text-sm text-slate-600",children:[m.requestedDurationMonths," ",l("installment.months","")]}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:u(m.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium w-fit ${x==null?void 0:x.color}`,children:[x==null?void 0:x.icon,c?x==null?void 0:x.labelAr:x==null?void 0:x.labelEn]})}),p&&s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>a(m),className:"flex items-center gap-1 px-3 py-1.5 bg-brand-600 hover:bg-brand-700 text-white text-sm rounded-lg transition-colors","data-testid":`button-review-${m.id}`,children:[s.jsx(wa,{size:14}),l("installment.review","")]})})]},m.id)})})]})}),Rle=({request:e,settings:t,onClose:r,onAction:a,processing:n,t:i,isRTL:l,formatCurrency:c})=>{const[u,f]=P.useState(null),[p,m]=P.useState(""),[x,v]=P.useState(t.autoForwardToSuppliersOnSinicarReject),[y,b]=P.useState(e.totalRequestedValue||0);return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:i("installment.reviewRequest","  ")}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg","data-testid":"button-close-modal",children:s.jsx(ar,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1",children:i("installment.customer","")}),s.jsx("div",{className:"font-medium text-slate-800",children:e.customerName||e.customerId})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1",children:i("installment.requestedValue"," ")}),s.jsx("div",{className:"font-bold text-slate-800",children:c(e.totalRequestedValue||0)})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1",children:i("installment.duration","")}),s.jsxs("div",{className:"font-medium text-slate-800",children:[e.requestedDurationMonths," ",i("installment.months","")]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1",children:i("installment.frequency","")}),s.jsx("div",{className:"font-medium text-slate-800",children:e.paymentFrequency==="monthly"?i("installment.monthly",""):i("installment.weekly","")})]})]}),e.items.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:i("installment.requestedItems"," ")}),s.jsx("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:e.items.map(S=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:S.productName||S.productId}),s.jsxs("span",{children:[S.quantityRequested,"  ",c(S.unitPriceRequested||0)]})]},S.id))})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:i("installment.customerNotes"," ")}),s.jsx("p",{className:"text-slate-600 bg-slate-50 p-4 rounded-xl",children:e.notes})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:i("installment.yourDecision","")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[s.jsxs("button",{onClick:()=>f("approve_full"),className:`p-4 rounded-xl border-2 transition-colors ${u==="approve_full"?"border-green-500 bg-green-50":"border-slate-200 hover:border-green-300"}`,"data-testid":"button-action-approve-full",children:[s.jsx(dr,{className:`mx-auto mb-2 ${u==="approve_full"?"text-green-600":"text-slate-400"}`,size:32}),s.jsx("div",{className:"font-medium text-slate-800",children:i("installment.approveFullAction"," ")}),s.jsx("div",{className:"text-xs text-slate-500",children:i("installment.approveFullDesc","   ")})]}),t.allowPartialApprovalBySinicar&&s.jsxs("button",{onClick:()=>f("approve_partial"),className:`p-4 rounded-xl border-2 transition-colors ${u==="approve_partial"?"border-amber-500 bg-amber-50":"border-slate-200 hover:border-amber-300"}`,"data-testid":"button-action-approve-partial",children:[s.jsx(sa,{className:`mx-auto mb-2 ${u==="approve_partial"?"text-amber-600":"text-slate-400"}`,size:32}),s.jsx("div",{className:"font-medium text-slate-800",children:i("installment.approvePartialAction"," ")}),s.jsx("div",{className:"text-xs text-slate-500",children:i("installment.approvePartialDesc","    ")})]}),s.jsxs("button",{onClick:()=>f("reject"),className:`p-4 rounded-xl border-2 transition-colors ${u==="reject"?"border-red-500 bg-red-50":"border-slate-200 hover:border-red-300"}`,"data-testid":"button-action-reject",children:[s.jsx(_n,{className:`mx-auto mb-2 ${u==="reject"?"text-red-600":"text-slate-400"}`,size:32}),s.jsx("div",{className:"font-medium text-slate-800",children:i("installment.rejectAction","")}),s.jsx("div",{className:"text-xs text-slate-500",children:i("installment.rejectDesc"," ")})]})]}),u==="approve_partial"&&s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-2",children:i("installment.approvedAmount","  ")}),s.jsx("input",{type:"number",min:1,max:e.totalRequestedValue,value:y,onChange:S=>b(parseFloat(S.target.value)||0),className:"w-full border border-amber-200 rounded-lg py-2 px-4 focus:ring-2 focus:ring-amber-500","data-testid":"input-partial-amount"})]}),u==="reject"&&s.jsx("div",{className:"bg-red-50 p-4 rounded-xl mb-4",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:x,onChange:S=>v(S.target.checked),className:"w-4 h-4 text-brand-600 rounded","data-testid":"checkbox-forward-on-reject"}),s.jsx("span",{className:"text-sm font-medium text-red-800",children:i("installment.forwardOnReject","    ")})]})}),u&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:i("installment.adminNotes"," ")}),s.jsx("textarea",{value:p,onChange:S=>m(S.target.value),rows:3,className:"w-full border border-slate-200 rounded-lg py-3 px-4 focus:ring-2 focus:ring-brand-500",placeholder:i("installment.notesPlaceholder","  ..."),"data-testid":"textarea-admin-notes"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-cancel-action",children:i("common.cancel","")}),u&&s.jsxs("button",{onClick:()=>a(u,{notes:p,forwardToSuppliers:u==="reject"?x:void 0,offer:u==="approve_partial"?{totalApprovedValue:y,itemsApproved:[]}:u==="approve_full"?{totalApprovedValue:e.totalRequestedValue,itemsApproved:[]}:void 0}),disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded-lg transition-colors disabled:opacity-50 ${u==="approve_full"?"bg-green-600 hover:bg-green-700 text-white":u==="approve_partial"?"bg-amber-600 hover:bg-amber-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,"data-testid":"button-confirm-action",children:[n?s.jsx(ua,{className:"animate-spin",size:18}):s.jsx(Gr,{size:18}),i("installment.confirmDecision"," ")]})]})]})]})})},Ple=({settings:e,onSave:t,t:r,isRTL:a})=>{const[n,i]=P.useState({...e}),[l,c]=P.useState(!1),u=async()=>{c(!0);try{await t(n)}finally{c(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(ds,{size:18,className:"text-brand-600"}),r("installment.generalSettings"," ")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.enableSystem","  ")}),s.jsx("input",{type:"checkbox",checked:n.enabled,onChange:f=>i({...n,enabled:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-enabled"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.sinicarPriority","   ")}),s.jsx("input",{type:"checkbox",checked:n.sinicarHasFirstPriority,onChange:f=>i({...n,sinicarHasFirstPriority:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-sinicar-priority"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.allowPartialSinicar","     ")}),s.jsx("input",{type:"checkbox",checked:n.allowPartialApprovalBySinicar,onChange:f=>i({...n,allowPartialApprovalBySinicar:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-partial-sinicar"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.allowPartialSuppliers","    ")}),s.jsx("input",{type:"checkbox",checked:n.allowPartialApprovalBySuppliers,onChange:f=>i({...n,allowPartialApprovalBySuppliers:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-partial-suppliers"})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(JZ,{size:18,className:"text-brand-600"}),r("installment.forwardingSettings"," ")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.autoForwardOnReject","    ")}),s.jsx("input",{type:"checkbox",checked:n.autoForwardToSuppliersOnSinicarReject,onChange:f=>i({...n,autoForwardToSuppliersOnSinicarReject:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-auto-forward-reject"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.autoForwardOnPartial","     ")}),s.jsx("input",{type:"checkbox",checked:n.autoForwardToSuppliersOnSinicarPartialRemainder,onChange:f=>i({...n,autoForwardToSuppliersOnSinicarPartialRemainder:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-auto-forward-partial"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-2",children:r("installment.onCustomerRejectsSinicar","     ")}),s.jsxs("select",{value:n.onCustomerRejectsSinicarPartial,onChange:f=>i({...n,onCustomerRejectsSinicarPartial:f.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"select-on-customer-rejects-sinicar",children:[s.jsx("option",{value:"forward_to_suppliers",children:r("installment.forwardToSuppliers"," ")}),s.jsx("option",{value:"close_request",children:r("installment.closeRequest"," ")})]})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Qs,{size:18,className:"text-brand-600"}),r("installment.financialLimits"," ")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.minAmount"," ")}),s.jsx("input",{type:"number",value:n.minRequestAmount,onChange:f=>i({...n,minRequestAmount:parseFloat(f.target.value)||0}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-min-amount"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.maxAmount"," ")}),s.jsx("input",{type:"number",value:n.maxRequestAmount,onChange:f=>i({...n,maxRequestAmount:parseFloat(f.target.value)||0}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-max-amount"})]})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700",children:r("installment.requireDownPayment","  ")}),s.jsx("input",{type:"checkbox",checked:n.requireDownPayment,onChange:f=>i({...n,requireDownPayment:f.target.checked}),className:"w-5 h-5 text-brand-600 rounded","data-testid":"toggle-require-down-payment"})]}),n.requireDownPayment&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.minDownPercent","  %")}),s.jsx("input",{type:"number",min:0,max:100,value:n.minDownPaymentPercent,onChange:f=>i({...n,minDownPaymentPercent:parseFloat(f.target.value)||0}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-min-down-percent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.maxDownPercent","  %")}),s.jsx("input",{type:"number",min:0,max:100,value:n.maxDownPaymentPercent,onChange:f=>i({...n,maxDownPaymentPercent:parseFloat(f.target.value)||0}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-max-down-percent"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(qj,{size:18,className:"text-brand-600"}),r("installment.durationSettings"," ")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.minMonths","  ()")}),s.jsx("input",{type:"number",min:1,value:n.minDurationMonths,onChange:f=>i({...n,minDurationMonths:parseInt(f.target.value)||1}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-min-months"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.maxMonths","  ()")}),s.jsx("input",{type:"number",min:1,value:n.maxDurationMonths,onChange:f=>i({...n,maxDurationMonths:parseInt(f.target.value)||12}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"input-max-months"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:r("installment.defaultFrequency"," ")}),s.jsxs("select",{value:n.defaultPaymentFrequency,onChange:f=>i({...n,defaultPaymentFrequency:f.target.value}),className:"w-full border border-slate-200 rounded-lg py-2 px-4","data-testid":"select-default-frequency",children:[s.jsx("option",{value:"monthly",children:r("installment.monthly","")}),s.jsx("option",{value:"weekly",children:r("installment.weekly","")})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:u,disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition-colors disabled:opacity-50","data-testid":"button-save-settings",children:[l?s.jsx(ua,{className:"animate-spin",size:18}):s.jsx(Pr,{size:18}),r("common.save"," ")]})})]})},Dle=({profiles:e,t,isRTL:r,formatCurrency:a})=>{const n={excellent:"bg-green-100 text-green-700",good:"bg-blue-100 text-blue-700",medium:"bg-amber-100 text-amber-700",low:"bg-orange-100 text-orange-700",blocked:"bg-red-100 text-red-700"},i={excellent:{ar:"",en:"Excellent"},good:{ar:"",en:"Good"},medium:{ar:"",en:"Medium"},low:{ar:"",en:"Low"},blocked:{ar:"",en:"Blocked"}};return e.length===0?s.jsxs("div",{className:"py-12 text-center text-slate-500",children:[s.jsx(Xt,{className:"mx-auto mb-4 text-slate-300",size:48}),s.jsx("p",{children:t("installment.noCreditProfiles","   ")})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.customer","")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.creditScore"," ")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.totalRequests"," ")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.activeContracts"," ")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.totalPaid","")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.remaining","")}),s.jsx("th",{className:`px-4 py-3 text-${r?"right":"left"} text-sm font-medium text-slate-600`,children:t("installment.overdue","")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(l=>{var c,u;return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-800",children:l.customerName||l.customerId}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n[l.scoreLevel]||"bg-slate-100 text-slate-600"}`,children:r?(c=i[l.scoreLevel])==null?void 0:c.ar:(u=i[l.scoreLevel])==null?void 0:u.en})}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:l.totalInstallmentRequests}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:l.totalActiveContracts}),s.jsx("td",{className:"px-4 py-3 text-sm text-green-600 font-medium",children:a(l.totalPaidAmount||0)}),s.jsx("td",{className:"px-4 py-3 text-sm text-amber-600 font-medium",children:a(l.totalRemainingAmount||0)}),s.jsx("td",{className:"px-4 py-3 text-sm text-red-600 font-medium",children:l.totalOverdueInstallments>0?l.totalOverdueInstallments:"-"})]},l.customerId)})})]})})},Dw=[{value:"supplier",labelAr:"",labelEn:"Supplier"},{value:"shipping",labelAr:" ",labelEn:"Shipping Company"},{value:"workshop",labelAr:"",labelEn:"Workshop"},{value:"other",labelAr:"",labelEn:"Other"}],Iw=[{value:"active",labelAr:"",labelEn:"Active",color:"bg-green-100 text-green-700"},{value:"pending_verification",labelAr:" ",labelEn:"Pending Verification",color:"bg-amber-100 text-amber-700"},{value:"suspended",labelAr:"",labelEn:"Suspended",color:"bg-red-100 text-red-700"},{value:"blacklisted",labelAr:"",labelEn:"Blacklisted",color:"bg-slate-100 text-slate-700"}],Mw=[{value:"banner_top",labelAr:" ",labelEn:"Top Banner"},{value:"banner_sidebar",labelAr:" ",labelEn:"Sidebar Banner"},{value:"card_in_tools",labelAr:"  ",labelEn:"Card in Tools"},{value:"card_in_products",labelAr:"  ",labelEn:"Card in Products"},{value:"popup",labelAr:" ",labelEn:"Popup"}],Lw=[{value:"draft",labelAr:"",labelEn:"Draft",color:"bg-slate-100 text-slate-700"},{value:"pending_approval",labelAr:" ",labelEn:"Pending Approval",color:"bg-amber-100 text-amber-700"},{value:"running",labelAr:"",labelEn:"Running",color:"bg-green-100 text-green-700"},{value:"paused",labelAr:"",labelEn:"Paused",color:"bg-blue-100 text-blue-700"},{value:"rejected",labelAr:"",labelEn:"Rejected",color:"bg-red-100 text-red-700"},{value:"ended",labelAr:"",labelEn:"Ended",color:"bg-slate-200 text-slate-600"}],Ile=[{value:"home",labelAr:" ",labelEn:"Home"},{value:"dashboard",labelAr:" ",labelEn:"Dashboard"},{value:"products",labelAr:"",labelEn:"Products"},{value:"tools",labelAr:"",labelEn:"Tools"},{value:"orders",labelAr:"",labelEn:"Orders"},{value:"quotes",labelAr:" ",labelEn:"Quotes"}],j8=[{value:"by_priority",labelAr:" ",labelEn:"By Priority"},{value:"rotate",labelAr:"",labelEn:"Rotate"},{value:"random",labelAr:"",labelEn:"Random"}],Mle=()=>{const[e,t]=P.useState("ADVERTISERS"),[r,a]=P.useState(!0),[n,i]=P.useState([]),[l,c]=P.useState([]),[u,f]=P.useState([]),[p,m]=P.useState({totalAdvertisers:0,activeAdvertisers:0,totalCampaigns:0,runningCampaigns:0,totalViews:0,totalClicks:0}),[x,v]=P.useState(!1),[y,b]=P.useState(!1),[S,_]=P.useState(!1),[w,E]=P.useState(null),[O,A]=P.useState(null),[T,N]=P.useState(null),[D,L]=P.useState(""),[M,k]=P.useState(""),[I,V]=P.useState(""),[q,z]=P.useState(""),[R,W]=P.useState(""),[X,B]=P.useState(""),[ee,Y]=P.useState(""),{addToast:F}=qt(),{t:K,language:J}=Ea(),H=J==="ar";P.useEffect(()=>{ce()},[]);const ce=async()=>{a(!0);try{const[G,He,Ue,he]=await Promise.all([de.getAdvertisers(),de.getAdCampaigns(),de.getAdSlots(),de.getAdvertisingStats()]);i(G),c(He),f(Ue),m(he)}catch{F(K("advertising.loadError","    "),"error")}finally{a(!1)}},le=G=>new Date(G).toLocaleDateString(H?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"}),xe=n.filter(G=>{var He,Ue;if(D){const he=D.toLowerCase();if(!G.name.toLowerCase().includes(he)&&!((He=G.phone)!=null&&He.toLowerCase().includes(he))&&!((Ue=G.email)!=null&&Ue.toLowerCase().includes(he)))return!1}return!(M&&G.status!==M||I&&G.companyType!==I)}),se=l.filter(G=>!(q&&!G.name.toLowerCase().includes(q.toLowerCase())||R&&G.status!==R||X&&G.advertiserId!==X||ee&&G.type!==ee)),fe=G=>{const He=n.find(Ue=>Ue.id===G);return(He==null?void 0:He.name)||K("advertising.unknownAdvertiser","  ")},we=[{key:"ADVERTISERS",label:K("advertising.advertisers",""),icon:s.jsx(ka,{size:18})},{key:"CAMPAIGNS",label:K("advertising.campaigns",""),icon:s.jsx(cs,{size:18})},{key:"SLOTS",label:K("advertising.slots"," "),icon:s.jsx(hee,{size:18})},{key:"REPORTS",label:K("advertising.reports",""),icon:s.jsx(um,{size:18})}];return r?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(ua,{className:"animate-spin text-brand-600",size:48})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[s.jsx(cs,{className:"text-brand-600",size:28}),K("advertising.title","  ")]}),s.jsx("p",{className:"text-slate-500 mt-1",children:K("advertising.subtitle","     ")})]}),s.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-refresh-advertising",children:[s.jsx(ua,{size:18}),K("common.refresh","")]})]}),s.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto",children:we.map(G=>s.jsxs("button",{onClick:()=>t(G.key),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors whitespace-nowrap ${e===G.key?"border-brand-600 text-brand-600 font-semibold":"border-transparent text-slate-500 hover:text-slate-700"}`,"data-testid":`tab-${G.key.toLowerCase()}`,children:[G.icon,G.label]},G.key))}),e==="ADVERTISERS"&&s.jsx(Lle,{advertisers:xe,search:D,setSearch:L,statusFilter:M,setStatusFilter:k,typeFilter:I,setTypeFilter:V,onAdd:()=>{E(null),v(!0)},onEdit:G=>{E(G),v(!0)},onDelete:async G=>{confirm(K("advertising.confirmDelete","    "))&&(await de.deleteAdvertiser(G),ce(),F(K("advertising.deleted","  "),"success"))},t:K,isRTL:H,formatDate:le}),e==="CAMPAIGNS"&&s.jsx(Fle,{campaigns:se,advertisers:n,search:q,setSearch:z,statusFilter:R,setStatusFilter:W,advertiserFilter:X,setAdvertiserFilter:B,typeFilter:ee,setTypeFilter:Y,onAdd:()=>{A(null),b(!0)},onEdit:G=>{A(G),b(!0)},onDelete:async G=>{confirm(K("advertising.confirmDelete","    "))&&(await de.deleteAdCampaign(G),ce(),F(K("advertising.deleted","  "),"success"))},onStatusChange:async(G,He)=>{await de.updateAdCampaign(G,{status:He}),ce(),F(K("advertising.statusUpdated","  "),"success")},getAdvertiserName:fe,t:K,isRTL:H,formatDate:le}),e==="SLOTS"&&s.jsx(Ule,{slots:u,onEdit:G=>{N(G),_(!0)},onToggle:async(G,He)=>{await de.updateAdSlot(G,{isEnabled:He}),ce(),F(K("advertising.slotUpdated","  "),"success")},t:K,isRTL:H}),e==="REPORTS"&&s.jsx(Ble,{stats:p,t:K,isRTL:H}),x&&s.jsx(zle,{advertiser:w,onClose:()=>v(!1),onSave:async G=>{w?await de.updateAdvertiser(w.id,G):await de.createAdvertiser(G),v(!1),ce(),F(K("advertising.saved","  "),"success")},t:K,isRTL:H}),y&&s.jsx(qle,{campaign:O,advertisers:n,onClose:()=>b(!1),onSave:async G=>{O?await de.updateAdCampaign(O.id,G):await de.createAdCampaign(G),b(!1),ce(),F(K("advertising.saved","  "),"success")},t:K,isRTL:H}),S&&T&&s.jsx($le,{slot:T,onClose:()=>_(!1),onSave:async G=>{await de.updateAdSlot(T.id,G),_(!1),ce(),F(K("advertising.slotUpdated","  "),"success")},t:K,isRTL:H})]})},Lle=({advertisers:e,search:t,setSearch:r,statusFilter:a,setStatusFilter:n,typeFilter:i,setTypeFilter:l,onAdd:c,onEdit:u,onDelete:f,t:p,isRTL:m,formatDate:x})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ur,{size:18,className:"absolute top-1/2 -translate-y-1/2 text-slate-400",style:{[m?"right":"left"]:"12px"}}),s.jsx("input",{type:"text",placeholder:p("advertising.searchAdvertiser","   ..."),value:t,onChange:v=>r(v.target.value),className:`border border-slate-200 rounded-lg py-2 ${m?"pr-10 pl-4":"pl-10 pr-4"} w-64 focus:ring-2 focus:ring-brand-500 focus:border-transparent`,"data-testid":"input-search-advertisers"})]}),s.jsxs("select",{value:a,onChange:v=>n(v.target.value),className:"border border-slate-200 rounded-lg px-3 py-2","data-testid":"select-status-filter",children:[s.jsx("option",{value:"",children:p("advertising.allStatuses"," ")}),Iw.map(v=>s.jsx("option",{value:v.value,children:m?v.labelAr:v.labelEn},v.value))]}),s.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"border border-slate-200 rounded-lg px-3 py-2","data-testid":"select-type-filter",children:[s.jsx("option",{value:"",children:p("advertising.allTypes"," ")}),Dw.map(v=>s.jsx("option",{value:v.value,children:m?v.labelAr:v.labelEn},v.value))]})]}),s.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-brand-600 hover:bg-brand-700 text-white px-4 py-2 rounded-lg transition-colors","data-testid":"button-add-advertiser",children:[s.jsx(xr,{size:18}),p("advertising.addAdvertiser"," ")]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.name","")}),s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.companyType"," ")}),s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.contact","")}),s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.status","")}),s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.createdAt"," ")}),s.jsx("th",{className:`px-4 py-3 text-${m?"right":"left"} text-sm font-semibold text-slate-600`,children:p("advertising.actions","")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-12 text-slate-500",children:p("advertising.noAdvertisers","  ")})}):e.map(v=>{const y=Iw.find(S=>S.value===v.status),b=Dw.find(S=>S.value===v.companyType);return s.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`row-advertiser-${v.id}`,children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium text-slate-800",children:v.name}),v.contactName&&s.jsx("div",{className:"text-sm text-slate-500",children:v.contactName})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:b?m?b.labelAr:b.labelEn:"-"}),s.jsxs("td",{className:"px-4 py-3 text-sm",children:[v.phone&&s.jsx("div",{children:v.phone}),v.email&&s.jsx("div",{className:"text-slate-500",children:v.email})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y==null?void 0:y.color}`,children:y?m?y.labelAr:y.labelEn:v.status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:x(v.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u(v),className:"p-2 text-slate-500 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":`button-edit-${v.id}`,children:s.jsx(Hj,{size:16})}),s.jsx("button",{onClick:()=>f(v.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","data-testid":`button-delete-${v.id}`,children:s.jsx(Wt,{size:16})})]})})]},v.id)})})]})})]}),Fle=({campaigns:e,advertisers:t,search:r,setSearch:a,statusFilter:n,setStatusFilter:i,advertiserFilter:l,setAdvertiserFilter:c,typeFilter:u,setTypeFilter:f,onAdd:p,onEdit:m,onDelete:x,onStatusChange:v,getAdvertiserName:y,t:b,isRTL:S,formatDate:_})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ur,{size:18,className:"absolute top-1/2 -translate-y-1/2 text-slate-400",style:{[S?"right":"left"]:"12px"}}),s.jsx("input",{type:"text",placeholder:b("advertising.searchCampaign"," ..."),value:r,onChange:w=>a(w.target.value),className:`border border-slate-200 rounded-lg py-2 ${S?"pr-10 pl-4":"pl-10 pr-4"} w-48 focus:ring-2 focus:ring-brand-500`,"data-testid":"input-search-campaigns"})]}),s.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"border border-slate-200 rounded-lg px-3 py-2","data-testid":"select-advertiser-filter",children:[s.jsx("option",{value:"",children:b("advertising.allAdvertisers"," ")}),t.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]}),s.jsxs("select",{value:u,onChange:w=>f(w.target.value),className:"border border-slate-200 rounded-lg px-3 py-2","data-testid":"select-campaign-type-filter",children:[s.jsx("option",{value:"",children:b("advertising.allCampaignTypes"," ")}),Mw.map(w=>s.jsx("option",{value:w.value,children:S?w.labelAr:w.labelEn},w.value))]}),s.jsxs("select",{value:n,onChange:w=>i(w.target.value),className:"border border-slate-200 rounded-lg px-3 py-2","data-testid":"select-campaign-status-filter",children:[s.jsx("option",{value:"",children:b("advertising.allStatuses"," ")}),Lw.map(w=>s.jsx("option",{value:w.value,children:S?w.labelAr:w.labelEn},w.value))]})]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-brand-600 hover:bg-brand-700 text-white px-4 py-2 rounded-lg transition-colors","data-testid":"button-add-campaign",children:[s.jsx(xr,{size:18}),b("advertising.addCampaign"," ")]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.campaignName"," ")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.advertiser","")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.type","")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.dates","")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.performance","")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.status","")}),s.jsx("th",{className:`px-4 py-3 text-${S?"right":"left"} text-sm font-semibold text-slate-600`,children:b("advertising.actions","")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"text-center py-12 text-slate-500",children:b("advertising.noCampaigns","  ")})}):e.map(w=>{const E=Lw.find(A=>A.value===w.status),O=Mw.find(A=>A.value===w.type);return s.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`row-campaign-${w.id}`,children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium text-slate-800",children:w.name}),s.jsxs("div",{className:"text-xs text-slate-500",children:[b("advertising.priority",""),": ",w.priority]})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:y(w.advertiserId)}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:O?S?O.labelAr:O.labelEn:w.type}),s.jsxs("td",{className:"px-4 py-3 text-sm",children:[s.jsx("div",{children:_(w.startDate)}),w.endDate&&s.jsx("div",{className:"text-slate-500",children:_(w.endDate)})]}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wa,{size:14,className:"text-slate-400"}),w.currentViews||0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(eg,{size:14,className:"text-slate-400"}),w.currentClicks||0]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E==null?void 0:E.color}`,children:E?S?E.labelAr:E.labelEn:w.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[w.status==="running"&&s.jsx("button",{onClick:()=>v(w.id,"paused"),className:"p-2 text-amber-500 hover:bg-amber-50 rounded-lg transition-colors",title:b("advertising.pause"," "),"data-testid":`button-pause-${w.id}`,children:s.jsx(i8,{size:16})}),w.status==="paused"&&s.jsx("button",{onClick:()=>v(w.id,"running"),className:"p-2 text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:b("advertising.resume",""),"data-testid":`button-resume-${w.id}`,children:s.jsx(l8,{size:16})}),(w.status==="running"||w.status==="paused")&&s.jsx("button",{onClick:()=>v(w.id,"ended"),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:b("advertising.end",""),"data-testid":`button-end-${w.id}`,children:s.jsx(DZ,{size:16})}),s.jsx("button",{onClick:()=>m(w),className:"p-2 text-slate-500 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":`button-edit-campaign-${w.id}`,children:s.jsx(Hj,{size:16})}),s.jsx("button",{onClick:()=>x(w.id),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","data-testid":`button-delete-campaign-${w.id}`,children:s.jsx(Wt,{size:16})})]})})]},w.id)})})]})})]}),Ule=({slots:e,onEdit:t,onToggle:r,t:a,isRTL:n})=>s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.slotName"," ")}),s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.slotKey","")}),s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.enabled","")}),s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.maxAds"," ")}),s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.selectionMode"," ")}),s.jsx("th",{className:`px-4 py-3 text-${n?"right":"left"} text-sm font-semibold text-slate-600`,children:a("advertising.actions","")})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(i=>{const l=j8.find(c=>c.value===i.selectionMode);return s.jsxs("tr",{className:"hover:bg-slate-50","data-testid":`row-slot-${i.id}`,children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium text-slate-800",children:n?i.nameAr:i.nameEn}),i.descriptionAr&&s.jsx("div",{className:"text-sm text-slate-500",children:n?i.descriptionAr:i.descriptionEn})]}),s.jsx("td",{className:"px-4 py-3 font-mono text-sm text-slate-600",children:i.slotKey}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>r(i.id,!i.isEnabled),className:`p-2 rounded-lg transition-colors ${i.isEnabled?"text-green-600 bg-green-50":"text-slate-400 bg-slate-100"}`,"data-testid":`button-toggle-slot-${i.id}`,children:i.isEnabled?s.jsx(zd,{size:18}):s.jsx(Bd,{size:18})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:i.maxAds}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:l?n?l.labelAr:l.labelEn:i.selectionMode}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>t(i),className:"p-2 text-slate-500 hover:text-brand-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":`button-edit-slot-${i.id}`,children:s.jsx(Hj,{size:16})})})]},i.id)})})]})})}),Ble=({stats:e,t,isRTL:r})=>{const a=e.totalViews>0?(e.totalClicks/e.totalViews*100).toFixed(2):"0.00";return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(ka,{className:"text-blue-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-slate-500",children:t("advertising.totalAdvertisers"," ")}),s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.totalAdvertisers})]})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[t("advertising.activeCount",""),": ",s.jsx("span",{className:"font-semibold text-green-600",children:e.activeAdvertisers})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:s.jsx(cs,{className:"text-purple-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-slate-500",children:t("advertising.totalCampaigns"," ")}),s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.totalCampaigns})]})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[t("advertising.runningCount",""),": ",s.jsx("span",{className:"font-semibold text-green-600",children:e.runningCampaigns})]})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:s.jsx(wa,{className:"text-amber-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-slate-500",children:t("advertising.totalViews"," ")}),s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.totalViews.toLocaleString()})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:s.jsx(eg,{className:"text-green-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-slate-500",children:t("advertising.totalClicks"," ")}),s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.totalClicks.toLocaleString()})]})]})}),s.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-rose-100 rounded-xl",children:s.jsx(uc,{className:"text-rose-600",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-slate-500",children:t("advertising.ctr"," ")}),s.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[a,"%"]})]})]}),s.jsxs("div",{className:"text-sm text-slate-500",children:["CTR = ",t("advertising.ctrFormula"," / ")]})]})]})},zle=({advertiser:e,onClose:t,onSave:r,t:a,isRTL:n})=>{const[i,l]=P.useState({name:(e==null?void 0:e.name)||"",contactName:(e==null?void 0:e.contactName)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",whatsapp:(e==null?void 0:e.whatsapp)||"",companyType:(e==null?void 0:e.companyType)||"other",source:(e==null?void 0:e.source)||"",status:(e==null?void 0:e.status)||"pending_verification",notes:(e==null?void 0:e.notes)||""}),c=u=>{u.preventDefault(),r(i)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:e?a("advertising.editAdvertiser"," "):a("advertising.addAdvertiser"," ")}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg","data-testid":"button-close-modal",children:s.jsx(ar,{size:20})})]}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[a("advertising.name","")," *"]}),s.jsx("input",{type:"text",value:i.name,onChange:u=>l({...i,name:u.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-advertiser-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.contactName","  ")}),s.jsx("input",{type:"text",value:i.contactName,onChange:u=>l({...i,contactName:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-contact-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.phone","")}),s.jsx("input",{type:"text",value:i.phone,onChange:u=>l({...i,phone:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-phone"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.email"," ")}),s.jsx("input",{type:"email",value:i.email,onChange:u=>l({...i,email:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.whatsapp","")}),s.jsx("input",{type:"text",value:i.whatsapp,onChange:u=>l({...i,whatsapp:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-whatsapp"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.companyType"," ")}),s.jsx("select",{value:i.companyType,onChange:u=>l({...i,companyType:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-company-type",children:Dw.map(u=>s.jsx("option",{value:u.value,children:n?u.labelAr:u.labelEn},u.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.source","")}),s.jsx("input",{type:"text",value:i.source,onChange:u=>l({...i,source:u.target.value}),placeholder:a("advertising.sourcePlaceholder",":  ..."),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-source"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.status","")}),s.jsx("select",{value:i.status,onChange:u=>l({...i,status:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-status",children:Iw.map(u=>s.jsx("option",{value:u.value,children:n?u.labelAr:u.labelEn},u.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.notes","")}),s.jsx("textarea",{value:i.notes,onChange:u=>l({...i,notes:u.target.value}),rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"textarea-notes"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-cancel",children:a("common.cancel","")}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition-colors flex items-center gap-2","data-testid":"button-save-advertiser",children:[s.jsx(Gr,{size:18}),a("common.save","")]})]})]})]})})},qle=({campaign:e,advertisers:t,onClose:r,onSave:a,t:n,isRTL:i})=>{var p;const[l,c]=P.useState({advertiserId:(e==null?void 0:e.advertiserId)||((p=t[0])==null?void 0:p.id)||"",name:(e==null?void 0:e.name)||"",type:(e==null?void 0:e.type)||"banner_top",targetPages:(e==null?void 0:e.targetPages)||[],priority:(e==null?void 0:e.priority)||1,startDate:(e==null?void 0:e.startDate)||new Date().toISOString().split("T")[0],endDate:(e==null?void 0:e.endDate)||"",budgetType:(e==null?void 0:e.budgetType)||"fixed",maxViews:(e==null?void 0:e.maxViews)||void 0,maxClicks:(e==null?void 0:e.maxClicks)||void 0,landingUrl:(e==null?void 0:e.landingUrl)||"",imageUrl:(e==null?void 0:e.imageUrl)||"",status:(e==null?void 0:e.status)||"draft"}),u=m=>{c(x=>({...x,targetPages:x.targetPages.includes(m)?x.targetPages.filter(v=>v!==m):[...x.targetPages,m]}))},f=m=>{m.preventDefault(),a(l)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:e?n("advertising.editCampaign"," "):n("advertising.addCampaign"," ")}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg","data-testid":"button-close-campaign-modal",children:s.jsx(ar,{size:20})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[n("advertising.advertiser","")," *"]}),s.jsx("select",{value:l.advertiserId,onChange:m=>c({...l,advertiserId:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-campaign-advertiser",children:t.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[n("advertising.campaignName"," ")," *"]}),s.jsx("input",{type:"text",value:l.name,onChange:m=>c({...l,name:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-campaign-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.type","")}),s.jsx("select",{value:l.type,onChange:m=>c({...l,type:m.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-campaign-type",children:Mw.map(m=>s.jsx("option",{value:m.value,children:i?m.labelAr:m.labelEn},m.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.priority","")}),s.jsx("input",{type:"number",min:"1",max:"100",value:l.priority,onChange:m=>c({...l,priority:parseInt(m.target.value)||1}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-priority"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[n("advertising.startDate"," ")," *"]}),s.jsx("input",{type:"date",value:l.startDate,onChange:m=>c({...l,startDate:m.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-start-date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.endDate"," ")}),s.jsx("input",{type:"date",value:l.endDate,onChange:m=>c({...l,endDate:m.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-end-date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.maxViews","  ")}),s.jsx("input",{type:"number",min:"0",value:l.maxViews||"",onChange:m=>c({...l,maxViews:m.target.value?parseInt(m.target.value):void 0}),placeholder:n("advertising.unlimited"," "),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-max-views"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.maxClicks","  ")}),s.jsx("input",{type:"number",min:"0",value:l.maxClicks||"",onChange:m=>c({...l,maxClicks:m.target.value?parseInt(m.target.value):void 0}),placeholder:n("advertising.unlimited"," "),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-max-clicks"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.landingUrl"," ")}),s.jsx("input",{type:"url",value:l.landingUrl,onChange:m=>c({...l,landingUrl:m.target.value}),placeholder:"https://example.com",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-landing-url"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.imageUrl"," ")}),s.jsx("input",{type:"url",value:l.imageUrl,onChange:m=>c({...l,imageUrl:m.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-image-url"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:n("advertising.targetPages"," ")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Ile.map(m=>s.jsx("button",{type:"button",onClick:()=>u(m.value),className:`px-3 py-1 rounded-full text-sm border transition-colors ${l.targetPages.includes(m.value)?"bg-brand-600 text-white border-brand-600":"bg-white text-slate-600 border-slate-200 hover:border-brand-500"}`,"data-testid":`button-target-${m.value}`,children:i?m.labelAr:m.labelEn},m.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:n("advertising.status","")}),s.jsx("select",{value:l.status,onChange:m=>c({...l,status:m.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-campaign-status",children:Lw.map(m=>s.jsx("option",{value:m.value,children:i?m.labelAr:m.labelEn},m.value))})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-cancel-campaign",children:n("common.cancel","")}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition-colors flex items-center gap-2","data-testid":"button-save-campaign",children:[s.jsx(Gr,{size:18}),n("common.save","")]})]})]})]})})},$le=({slot:e,onClose:t,onSave:r,t:a,isRTL:n})=>{const[i,l]=P.useState({nameAr:e.nameAr,nameEn:e.nameEn,descriptionAr:e.descriptionAr||"",descriptionEn:e.descriptionEn||"",isEnabled:e.isEnabled,maxAds:e.maxAds,selectionMode:e.selectionMode}),c=u=>{u.preventDefault(),r(i)};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:a("advertising.editSlot","  ")}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg","data-testid":"button-close-slot-modal",children:s.jsx(ar,{size:20})})]}),s.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.nameAr"," ")}),s.jsx("input",{type:"text",value:i.nameAr,onChange:u=>l({...i,nameAr:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-slot-name-ar"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.nameEn"," ")}),s.jsx("input",{type:"text",value:i.nameEn,onChange:u=>l({...i,nameEn:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-slot-name-en"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.descriptionAr"," ")}),s.jsx("textarea",{value:i.descriptionAr,onChange:u=>l({...i,descriptionAr:u.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"textarea-desc-ar"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.descriptionEn"," ")}),s.jsx("textarea",{value:i.descriptionEn,onChange:u=>l({...i,descriptionEn:u.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"textarea-desc-en"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:a("advertising.enabled","")}),s.jsx("button",{type:"button",onClick:()=>l({...i,isEnabled:!i.isEnabled}),className:`relative w-12 h-6 rounded-full transition-colors ${i.isEnabled?"bg-brand-600":"bg-slate-300"}`,"data-testid":"toggle-slot-enabled",children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${i.isEnabled?"translate-x-7":"translate-x-1"}`})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.maxAds","  ")}),s.jsx("input",{type:"number",min:"1",max:"10",value:i.maxAds,onChange:u=>l({...i,maxAds:parseInt(u.target.value)||1}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"input-slot-max-ads"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a("advertising.selectionMode"," ")}),s.jsx("select",{value:i.selectionMode,onChange:u=>l({...i,selectionMode:u.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-brand-500","data-testid":"select-selection-mode",children:j8.map(u=>s.jsx("option",{value:u.value,children:n?u.labelAr:u.labelEn},u.value))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"button-cancel-slot",children:a("common.cancel","")}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition-colors flex items-center gap-2","data-testid":"button-save-slot",children:[s.jsx(Gr,{size:18}),a("common.save","")]})]})]})]})})},Hle=()=>{const{t:e}=na(),{addToast:t}=qt(),[r,a]=P.useState(null),[n,i]=P.useState([]),[l,c]=P.useState(!0),[u,f]=P.useState(!1),[p,m]=P.useState({general:!0,limits:!1,permissions:!1,activity:!1}),[x,v]=P.useState(""),[y,b]=P.useState("all"),S=P.useCallback(async()=>{c(!0);try{const[z,R]=await Promise.all([de.getOrganizationSettings(),de.getOrganizations()]);a(z),i(R)}catch(z){console.error("Failed to load organization settings:",z),t("   ","error")}finally{c(!1)}},[t]);P.useEffect(()=>{S()},[S]);const _=async()=>{if(r){f(!0);try{await de.updateOrganizationSettings(r),t("   ","success")}catch(z){console.error("Failed to save settings:",z),t("   ","error")}finally{f(!1)}}},w=z=>{m(R=>({...R,[z]:!R[z]}))},E=(z,R)=>{r&&a({...r,[z]:R})},O={adv_view_campaigns:"  ",adv_manage_campaigns:"  ",adv_manage_slots:"  ",adv_view_reports:"  ",sup_view_forwarded_requests:"  ",sup_submit_offers:" ",sup_view_team_activity:"  ",sup_manage_products:" ",sup_view_analytics:" ",cust_create_orders:" ",cust_view_orders:" ",cust_create_installment_requests:"  ",cust_manage_installment_requests:"  ",cust_use_trader_tools:"  ",cust_view_team_activity:"  ",cust_view_prices:" ",cust_manage_cart:" ",aff_view_links:"  ",aff_manage_links:"  ",aff_view_commissions:" ",aff_withdraw_commissions:" ",aff_view_analytics:" ",org_manage_team:" ",org_view_logs:"  ",org_view_settings:" ",org_edit_profile:"  "},A=(z,R,W)=>s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:W}),s.jsx("button",{type:"button",onClick:()=>R(!z),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${z?"bg-amber-500":"bg-slate-600"}`,"data-testid":`toggle-${W.replace(/\s+/g,"-")}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${z?"translate-x-6":"translate-x-1"}`})})]}),T=(z,R,W,X=1,B=100)=>s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-slate-300 text-sm",children:W}),s.jsx("input",{type:"number",value:z,onChange:ee=>R(Math.max(X,Math.min(B,parseInt(ee.target.value)||X))),className:"w-20 px-2 py-1 bg-slate-700 border border-slate-600 rounded text-slate-100 text-center text-sm",min:X,max:B,"data-testid":`input-${W.replace(/\s+/g,"-")}`})]}),N=(z,R,W)=>s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:W.map(X=>s.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400 cursor-pointer hover:text-slate-300",children:[s.jsx("input",{type:"checkbox",checked:z.includes(X),onChange:B=>{B.target.checked?R([...z,X]):R(z.filter(ee=>ee!==X))},className:"rounded border-slate-600 bg-slate-700 text-amber-500"}),O[X]]},X))}),D=n.filter(z=>{const R=z.name.toLowerCase().includes(x.toLowerCase()),W=y==="all"||z.type===y;return R&&W}),L={customer:"",supplier:"",advertiser:"",affiliate:""},M={customer:s.jsx(ka,{size:16}),supplier:s.jsx($p,{size:16}),advertiser:s.jsx(cs,{size:16}),affiliate:s.jsx(fc,{size:16})};if(l)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ua,{className:"animate-spin text-amber-500",size:32})});if(!r)return s.jsxs("div",{className:"text-center text-red-500 py-8",children:[s.jsx(sa,{size:48,className:"mx-auto mb-4"}),s.jsx("p",{children:"   "})]});const k=["cust_create_orders","cust_view_orders","cust_create_installment_requests","cust_manage_installment_requests","cust_use_trader_tools","cust_view_team_activity","cust_view_prices","cust_manage_cart","org_manage_team","org_view_logs","org_view_settings","org_edit_profile"],I=["sup_view_forwarded_requests","sup_submit_offers","sup_view_team_activity","sup_manage_products","sup_view_analytics","org_manage_team","org_view_logs","org_view_settings","org_edit_profile"],V=["adv_view_campaigns","adv_manage_campaigns","adv_manage_slots","adv_view_reports","org_manage_team","org_view_logs","org_view_settings","org_edit_profile"],q=["aff_view_links","aff_manage_links","aff_view_commissions","aff_withdraw_commissions","aff_view_analytics","org_manage_team","org_view_logs","org_view_settings","org_edit_profile"];return s.jsx("div",{className:"p-6 bg-slate-900 min-h-screen",dir:"rtl",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ka,{className:"text-amber-500",size:28}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"  "}),s.jsx("p",{className:"text-sm text-slate-400",children:"      "})]})]}),s.jsxs("button",{onClick:_,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg transition-colors disabled:opacity-50","data-testid":"button-save-org-settings",children:[u?s.jsx(ua,{className:"animate-spin",size:18}):s.jsx(Pr,{size:18})," "]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:[s.jsxs("button",{onClick:()=>w("general"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-750 transition-colors","data-testid":"section-general-toggle",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ds,{className:"text-amber-500",size:20}),s.jsx("span",{className:"font-semibold text-slate-100",children:" "})]}),p.general?s.jsx(Kl,{size:20,className:"text-slate-400"}):s.jsx(ui,{size:20,className:"text-slate-400"})]}),p.general&&s.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"   "}),A(r.enableTeamsForCustomers,z=>E("enableTeamsForCustomers",z)," "),A(r.enableTeamsForSuppliers,z=>E("enableTeamsForSuppliers",z)," "),A(r.enableTeamsForAdvertisers,z=>E("enableTeamsForAdvertisers",z)," "),A(r.enableTeamsForAffiliates,z=>E("enableTeamsForAffiliates",z)," ")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"  "}),A(r.allowCustomPermissionsForCustomers,z=>E("allowCustomPermissionsForCustomers",z),""),A(r.allowCustomPermissionsForSuppliers,z=>E("allowCustomPermissionsForSuppliers",z),""),A(r.allowCustomPermissionsForAdvertisers,z=>E("allowCustomPermissionsForAdvertisers",z),""),A(r.allowCustomPermissionsForAffiliates,z=>E("allowCustomPermissionsForAffiliates",z),"")]})]}),s.jsxs("div",{className:"border-t border-slate-600 pt-4 mt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A(r.requireEmailVerification,z=>E("requireEmailVerification",z),"   "),T(r.invitationExpiryHours,z=>E("invitationExpiryHours",z),"   ()",1,168)]})]})]})]}),s.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:[s.jsxs("button",{onClick:()=>w("limits"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-750 transition-colors","data-testid":"section-limits-toggle",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xt,{className:"text-amber-500",size:20}),s.jsx("span",{className:"font-semibold text-slate-100",children:"  "})]}),p.limits?s.jsx(Kl,{size:20,className:"text-slate-400"}):s.jsx(ui,{size:20,className:"text-slate-400"})]}),p.limits&&s.jsx("div",{className:"p-4 border-t border-slate-700",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[T(r.maxCustomerEmployees,z=>E("maxCustomerEmployees",z),"   ",1,50),T(r.maxSupplierEmployees,z=>E("maxSupplierEmployees",z),"   ",1,50)]}),s.jsxs("div",{className:"space-y-2",children:[T(r.maxAdvertiserEmployees,z=>E("maxAdvertiserEmployees",z),"   ",1,50),T(r.maxAffiliateEmployees,z=>E("maxAffiliateEmployees",z),"   ",1,50)]})]})})]}),s.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:[s.jsxs("button",{onClick:()=>w("permissions"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-750 transition-colors","data-testid":"section-permissions-toggle",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ws,{className:"text-amber-500",size:20}),s.jsx("span",{className:"font-semibold text-slate-100",children:" "})]}),p.permissions?s.jsx(Kl,{size:20,className:"text-slate-400"}):s.jsx(ui,{size:20,className:"text-slate-400"})]}),p.permissions&&s.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-6",children:[s.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-semibold text-amber-400 flex items-center gap-2 mb-3",children:[s.jsx(ka,{size:16}),"  "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultCustomerManagerPermissions,z=>E("defaultCustomerManagerPermissions",z),k)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultCustomerStaffPermissions,z=>E("defaultCustomerStaffPermissions",z),k)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:" :"}),N(r.defaultCustomerReadonlyPermissions,z=>E("defaultCustomerReadonlyPermissions",z),k)]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-semibold text-amber-400 flex items-center gap-2 mb-3",children:[s.jsx($p,{size:16}),"  "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultSupplierManagerPermissions,z=>E("defaultSupplierManagerPermissions",z),I)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultSupplierStaffPermissions,z=>E("defaultSupplierStaffPermissions",z),I)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:" :"}),N(r.defaultSupplierReadonlyPermissions,z=>E("defaultSupplierReadonlyPermissions",z),I)]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-semibold text-amber-400 flex items-center gap-2 mb-3",children:[s.jsx(cs,{size:16}),"  "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultAdvertiserManagerPermissions,z=>E("defaultAdvertiserManagerPermissions",z),V)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultAdvertiserStaffPermissions,z=>E("defaultAdvertiserStaffPermissions",z),V)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:" :"}),N(r.defaultAdvertiserReadonlyPermissions,z=>E("defaultAdvertiserReadonlyPermissions",z),V)]})]})]}),s.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-semibold text-amber-400 flex items-center gap-2 mb-3",children:[s.jsx(fc,{size:16}),"  "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultAffiliateManagerPermissions,z=>E("defaultAffiliateManagerPermissions",z),q)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:":"}),N(r.defaultAffiliateStaffPermissions,z=>E("defaultAffiliateStaffPermissions",z),q)]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:" :"}),N(r.defaultAffiliateReadonlyPermissions,z=>E("defaultAffiliateReadonlyPermissions",z),q)]})]})]})]})]}),s.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:[s.jsxs("button",{onClick:()=>w("activity"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-750 transition-colors","data-testid":"section-activity-toggle",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rn,{className:"text-amber-500",size:20}),s.jsx("span",{className:"font-semibold text-slate-100",children:" "})]}),p.activity?s.jsx(Kl,{size:20,className:"text-slate-400"}):s.jsx(ui,{size:20,className:"text-slate-400"})]}),p.activity&&s.jsxs("div",{className:"p-4 border-t border-slate-700 space-y-4",children:[A(r.trackTeamActivityPerOrganization,z=>E("trackTeamActivityPerOrganization",z),"    "),T(r.activityLogRetentionDays,z=>E("activityLogRetentionDays",z),"   ()",7,365)]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-100 flex items-center gap-2",children:[s.jsx(ka,{size:20,className:"text-amber-500"}),"  (",n.length,")"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ur,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:x,onChange:z=>v(z.target.value),placeholder:"...",className:"pr-9 pl-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-sm text-slate-100 placeholder-slate-400 w-48","data-testid":"input-search-orgs"})]}),s.jsxs("select",{value:y,onChange:z=>b(z.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-sm text-slate-100","data-testid":"select-org-type",children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"customer",children:""}),s.jsx("option",{value:"supplier",children:""}),s.jsx("option",{value:"advertiser",children:""}),s.jsx("option",{value:"affiliate",children:""})]})]})]}),D.length===0?s.jsxs("div",{className:"bg-slate-800 rounded-lg p-8 text-center border border-slate-700",children:[s.jsx(el,{size:48,className:"mx-auto mb-4 text-slate-500"}),s.jsx("p",{className:"text-slate-400",children:"    "})]}):s.jsx("div",{className:"bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-750",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400",children:""}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400",children:""}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400",children:""}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400",children:" "})]})}),s.jsx("tbody",{className:"divide-y divide-slate-700",children:D.map(z=>s.jsxs("tr",{className:"hover:bg-slate-750/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-slate-100 font-medium",children:z.name})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-slate-700 rounded text-xs text-slate-300",children:[M[z.type],L[z.type]]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs ${z.isActive?"bg-emerald-900/50 text-emerald-400":"bg-red-900/50 text-red-400"}`,children:[z.isActive?s.jsx(Gr,{size:12}):s.jsx(ar,{size:12}),z.isActive?"":""]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:new Date(z.createdAt).toLocaleDateString("ar-SA")})]},z.id))})]})})]})]})})},E8=P.createContext(null);function Vle({children:e}){const[t,r]=P.useState({orders:0,accounts:0,quotes:0,imports:0,missing:0}),a=P.useCallback(()=>{const f=de.getNewItemCounts();r(f)},[]),n=P.useCallback(()=>{de.markOrdersAsSeen(),r(f=>({...f,orders:0}))},[]),i=P.useCallback(()=>{de.markAccountRequestsAsSeen(),r(f=>({...f,accounts:0}))},[]),l=P.useCallback(()=>{de.markQuoteRequestsAsSeen(),r(f=>({...f,quotes:0}))},[]),c=P.useCallback(()=>{de.markImportRequestsAsSeen(),r(f=>({...f,imports:0}))},[]),u=P.useCallback(()=>{de.markMissingRequestsAsSeen(),r(f=>({...f,missing:0}))},[]);return P.useEffect(()=>{a();const f=setInterval(a,3e4);return()=>clearInterval(f)},[a]),s.jsx(E8.Provider,{value:{badges:t,refreshBadges:a,markOrdersAsSeen:n,markAccountsAsSeen:i,markQuotesAsSeen:l,markImportsAsSeen:c,markMissingAsSeen:u},children:e})}function Gle(){const e=P.useContext(E8);if(!e)throw new Error("useAdminBadges must be used within an AdminBadgesProvider");return e}function A8(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=A8(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Qt(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=A8(e))&&(a&&(a+=" "),a+=t);return a}var xy,Y4;function Rs(){if(Y4)return xy;Y4=1;var e=Array.isArray;return xy=e,xy}var gy,K4;function _8(){if(K4)return gy;K4=1;var e=typeof Ih=="object"&&Ih&&Ih.Object===Object&&Ih;return gy=e,gy}var by,Q4;function wi(){if(Q4)return by;Q4=1;var e=_8(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return by=r,by}var vy,J4;function pm(){if(J4)return vy;J4=1;var e=wi(),t=e.Symbol;return vy=t,vy}var yy,Z4;function Wle(){if(Z4)return yy;Z4=1;var e=pm(),t=Object.prototype,r=t.hasOwnProperty,a=t.toString,n=e?e.toStringTag:void 0;function i(l){var c=r.call(l,n),u=l[n];try{l[n]=void 0;var f=!0}catch{}var p=a.call(l);return f&&(c?l[n]=u:delete l[n]),p}return yy=i,yy}var Sy,ek;function Xle(){if(ek)return Sy;ek=1;var e=Object.prototype,t=e.toString;function r(a){return t.call(a)}return Sy=r,Sy}var wy,tk;function pl(){if(tk)return wy;tk=1;var e=pm(),t=Wle(),r=Xle(),a="[object Null]",n="[object Undefined]",i=e?e.toStringTag:void 0;function l(c){return c==null?c===void 0?n:a:i&&i in Object(c)?t(c):r(c)}return wy=l,wy}var Ny,rk;function xl(){if(rk)return Ny;rk=1;function e(t){return t!=null&&typeof t=="object"}return Ny=e,Ny}var jy,ak;function gu(){if(ak)return jy;ak=1;var e=pl(),t=xl(),r="[object Symbol]";function a(n){return typeof n=="symbol"||t(n)&&e(n)==r}return jy=a,jy}var Ey,sk;function Xj(){if(sk)return Ey;sk=1;var e=Rs(),t=gu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:a.test(i)||!r.test(i)||l!=null&&i in Object(l)}return Ey=n,Ey}var Ay,nk;function ho(){if(nk)return Ay;nk=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Ay=e,Ay}var _y,ik;function Yj(){if(ik)return _y;ik=1;var e=pl(),t=ho(),r="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function l(c){if(!t(c))return!1;var u=e(c);return u==a||u==n||u==r||u==i}return _y=l,_y}var Cy,lk;function Yle(){if(lk)return Cy;lk=1;var e=wi(),t=e["__core-js_shared__"];return Cy=t,Cy}var Ty,ok;function Kle(){if(ok)return Ty;ok=1;var e=Yle(),t=(function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!t&&t in a}return Ty=r,Ty}var Oy,ck;function C8(){if(ck)return Oy;ck=1;var e=Function.prototype,t=e.toString;function r(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Oy=r,Oy}var ky,dk;function Qle(){if(dk)return ky;dk=1;var e=Yj(),t=Kle(),r=ho(),a=C8(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,f=c.hasOwnProperty,p=RegExp("^"+u.call(f).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var v=e(x)?p:i;return v.test(a(x))}return ky=m,ky}var Ry,uk;function Jle(){if(uk)return Ry;uk=1;function e(t,r){return t==null?void 0:t[r]}return Ry=e,Ry}var Py,fk;function Ec(){if(fk)return Py;fk=1;var e=Qle(),t=Jle();function r(a,n){var i=t(a,n);return e(i)?i:void 0}return Py=r,Py}var Dy,mk;function rg(){if(mk)return Dy;mk=1;var e=Ec(),t=e(Object,"create");return Dy=t,Dy}var Iy,hk;function Zle(){if(hk)return Iy;hk=1;var e=rg();function t(){this.__data__=e?e(null):{},this.size=0}return Iy=t,Iy}var My,pk;function eoe(){if(pk)return My;pk=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return My=e,My}var Ly,xk;function toe(){if(xk)return Ly;xk=1;var e=rg(),t="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function n(i){var l=this.__data__;if(e){var c=l[i];return c===t?void 0:c}return a.call(l,i)?l[i]:void 0}return Ly=n,Ly}var Fy,gk;function roe(){if(gk)return Fy;gk=1;var e=rg(),t=Object.prototype,r=t.hasOwnProperty;function a(n){var i=this.__data__;return e?i[n]!==void 0:r.call(i,n)}return Fy=a,Fy}var Uy,bk;function aoe(){if(bk)return Uy;bk=1;var e=rg(),t="__lodash_hash_undefined__";function r(a,n){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&n===void 0?t:n,this}return Uy=r,Uy}var By,vk;function soe(){if(vk)return By;vk=1;var e=Zle(),t=eoe(),r=toe(),a=roe(),n=aoe();function i(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var f=l[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,By=i,By}var zy,yk;function noe(){if(yk)return zy;yk=1;function e(){this.__data__=[],this.size=0}return zy=e,zy}var qy,Sk;function Kj(){if(Sk)return qy;Sk=1;function e(t,r){return t===r||t!==t&&r!==r}return qy=e,qy}var $y,wk;function ag(){if(wk)return $y;wk=1;var e=Kj();function t(r,a){for(var n=r.length;n--;)if(e(r[n][0],a))return n;return-1}return $y=t,$y}var Hy,Nk;function ioe(){if(Nk)return Hy;Nk=1;var e=ag(),t=Array.prototype,r=t.splice;function a(n){var i=this.__data__,l=e(i,n);if(l<0)return!1;var c=i.length-1;return l==c?i.pop():r.call(i,l,1),--this.size,!0}return Hy=a,Hy}var Vy,jk;function loe(){if(jk)return Vy;jk=1;var e=ag();function t(r){var a=this.__data__,n=e(a,r);return n<0?void 0:a[n][1]}return Vy=t,Vy}var Gy,Ek;function ooe(){if(Ek)return Gy;Ek=1;var e=ag();function t(r){return e(this.__data__,r)>-1}return Gy=t,Gy}var Wy,Ak;function coe(){if(Ak)return Wy;Ak=1;var e=ag();function t(r,a){var n=this.__data__,i=e(n,r);return i<0?(++this.size,n.push([r,a])):n[i][1]=a,this}return Wy=t,Wy}var Xy,_k;function sg(){if(_k)return Xy;_k=1;var e=noe(),t=ioe(),r=loe(),a=ooe(),n=coe();function i(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var f=l[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,Xy=i,Xy}var Yy,Ck;function Qj(){if(Ck)return Yy;Ck=1;var e=Ec(),t=wi(),r=e(t,"Map");return Yy=r,Yy}var Ky,Tk;function doe(){if(Tk)return Ky;Tk=1;var e=soe(),t=sg(),r=Qj();function a(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Ky=a,Ky}var Qy,Ok;function uoe(){if(Ok)return Qy;Ok=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Qy=e,Qy}var Jy,kk;function ng(){if(kk)return Jy;kk=1;var e=uoe();function t(r,a){var n=r.__data__;return e(a)?n[typeof a=="string"?"string":"hash"]:n.map}return Jy=t,Jy}var Zy,Rk;function foe(){if(Rk)return Zy;Rk=1;var e=ng();function t(r){var a=e(this,r).delete(r);return this.size-=a?1:0,a}return Zy=t,Zy}var e1,Pk;function moe(){if(Pk)return e1;Pk=1;var e=ng();function t(r){return e(this,r).get(r)}return e1=t,e1}var t1,Dk;function hoe(){if(Dk)return t1;Dk=1;var e=ng();function t(r){return e(this,r).has(r)}return t1=t,t1}var r1,Ik;function poe(){if(Ik)return r1;Ik=1;var e=ng();function t(r,a){var n=e(this,r),i=n.size;return n.set(r,a),this.size+=n.size==i?0:1,this}return r1=t,r1}var a1,Mk;function Jj(){if(Mk)return a1;Mk=1;var e=doe(),t=foe(),r=moe(),a=hoe(),n=poe();function i(l){var c=-1,u=l==null?0:l.length;for(this.clear();++c<u;){var f=l[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=a,i.prototype.set=n,a1=i,a1}var s1,Lk;function T8(){if(Lk)return s1;Lk=1;var e=Jj(),t="Expected a function";function r(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError(t);var i=function(){var l=arguments,c=n?n.apply(this,l):l[0],u=i.cache;if(u.has(c))return u.get(c);var f=a.apply(this,l);return i.cache=u.set(c,f)||u,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,s1=r,s1}var n1,Fk;function xoe(){if(Fk)return n1;Fk=1;var e=T8(),t=500;function r(a){var n=e(a,function(l){return i.size===t&&i.clear(),l}),i=n.cache;return n}return n1=r,n1}var i1,Uk;function goe(){if(Uk)return i1;Uk=1;var e=xoe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=e(function(n){var i=[];return n.charCodeAt(0)===46&&i.push(""),n.replace(t,function(l,c,u,f){i.push(u?f.replace(r,"$1"):c||l)}),i});return i1=a,i1}var l1,Bk;function Zj(){if(Bk)return l1;Bk=1;function e(t,r){for(var a=-1,n=t==null?0:t.length,i=Array(n);++a<n;)i[a]=r(t[a],a,t);return i}return l1=e,l1}var o1,zk;function boe(){if(zk)return o1;zk=1;var e=pm(),t=Zj(),r=Rs(),a=gu(),n=e?e.prototype:void 0,i=n?n.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return t(c,l)+"";if(a(c))return i?i.call(c):"";var u=c+"";return u=="0"&&1/c==-1/0?"-0":u}return o1=l,o1}var c1,qk;function O8(){if(qk)return c1;qk=1;var e=boe();function t(r){return r==null?"":e(r)}return c1=t,c1}var d1,$k;function k8(){if($k)return d1;$k=1;var e=Rs(),t=Xj(),r=goe(),a=O8();function n(i,l){return e(i)?i:t(i,l)?[i]:r(a(i))}return d1=n,d1}var u1,Hk;function ig(){if(Hk)return u1;Hk=1;var e=gu();function t(r){if(typeof r=="string"||e(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return u1=t,u1}var f1,Vk;function eE(){if(Vk)return f1;Vk=1;var e=k8(),t=ig();function r(a,n){n=e(n,a);for(var i=0,l=n.length;a!=null&&i<l;)a=a[t(n[i++])];return i&&i==l?a:void 0}return f1=r,f1}var m1,Gk;function R8(){if(Gk)return m1;Gk=1;var e=eE();function t(r,a,n){var i=r==null?void 0:e(r,a);return i===void 0?n:i}return m1=t,m1}var voe=R8();const On=jr(voe);var h1,Wk;function yoe(){if(Wk)return h1;Wk=1;function e(t){return t==null}return h1=e,h1}var Soe=yoe();const zt=jr(Soe);var p1,Xk;function woe(){if(Xk)return p1;Xk=1;var e=pl(),t=Rs(),r=xl(),a="[object String]";function n(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==a}return p1=n,p1}var Noe=woe();const mc=jr(Noe);var joe=Yj();const Ot=jr(joe);var Eoe=ho();const bu=jr(Eoe);var x1={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function Aoe(){if(Yk)return or;Yk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function b(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case n:case a:case f:case p:return S;default:switch(S=S&&S.$$typeof,S){case c:case l:case u:case x:case m:case i:return S;default:return _}}case t:return _}}}return or.ContextConsumer=l,or.ContextProvider=i,or.Element=e,or.ForwardRef=u,or.Fragment=r,or.Lazy=x,or.Memo=m,or.Portal=t,or.Profiler=n,or.StrictMode=a,or.Suspense=f,or.SuspenseList=p,or.isAsyncMode=function(){return!1},or.isConcurrentMode=function(){return!1},or.isContextConsumer=function(S){return b(S)===l},or.isContextProvider=function(S){return b(S)===i},or.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},or.isForwardRef=function(S){return b(S)===u},or.isFragment=function(S){return b(S)===r},or.isLazy=function(S){return b(S)===x},or.isMemo=function(S){return b(S)===m},or.isPortal=function(S){return b(S)===t},or.isProfiler=function(S){return b(S)===n},or.isStrictMode=function(S){return b(S)===a},or.isSuspense=function(S){return b(S)===f},or.isSuspenseList=function(S){return b(S)===p},or.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===n||S===a||S===f||S===p||S===v||typeof S=="object"&&S!==null&&(S.$$typeof===x||S.$$typeof===m||S.$$typeof===i||S.$$typeof===l||S.$$typeof===u||S.$$typeof===y||S.getModuleId!==void 0)},or.typeOf=b,or}var Kk;function _oe(){return Kk||(Kk=1,x1.exports=Aoe()),x1.exports}var Coe=_oe(),g1,Qk;function P8(){if(Qk)return g1;Qk=1;var e=pl(),t=xl(),r="[object Number]";function a(n){return typeof n=="number"||t(n)&&e(n)==r}return g1=a,g1}var b1,Jk;function Toe(){if(Jk)return b1;Jk=1;var e=P8();function t(r){return e(r)&&r!=+r}return b1=t,b1}var Ooe=Toe();const vu=jr(Ooe);var koe=P8();const Roe=jr(koe);var Xn=function(t){return t===0?0:t>0?1:-1},Vo=function(t){return mc(t)&&t.indexOf("%")===t.length-1},We=function(t){return Roe(t)&&!vu(t)},Poe=function(t){return zt(t)},Ra=function(t){return We(t)||mc(t)},Doe=0,xm=function(t){var r=++Doe;return"".concat(t||"").concat(r)},hc=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&!mc(t))return a;var i;if(Vo(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return vu(i)&&(i=a),n&&i>r&&(i=r),i},Wl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ioe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},n=0;n<r;n++)if(!a[t[n]])a[t[n]]=!0;else return!0;return!1},Sn=function(t,r){return We(t)&&We(r)?function(a){return t+a*(r-t)}:function(){return r}};function Vp(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):On(a,t))===r})}var Moe=function(t,r){return We(t)&&We(r)?t-r:mc(t)&&mc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Od(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Fw(e){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fw(e)}var Loe=["viewBox","children"],Foe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zk=["points","pathLength"],v1={svg:Loe,polygon:Zk,polyline:Zk},tE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(P.isValidElement(t)&&(a=t.props),!bu(a))return null;var n={};return Object.keys(a).forEach(function(i){tE.includes(i)&&(n[i]=r||function(l){return a[i](a,l)})}),n},Uoe=function(t,r,a){return function(n){return t(r,a,n),null}},Wp=function(t,r,a){if(!bu(t)||Fw(t)!=="object")return null;var n=null;return Object.keys(t).forEach(function(i){var l=t[i];tE.includes(i)&&typeof l=="function"&&(n||(n={}),n[i]=Uoe(l,r,a))}),n},Boe=["children"],zoe=["children"];function eR(e,t){if(e==null)return{};var r=qoe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qoe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Uw(e){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uw(e)}var tR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},al=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rR=null,y1=null,rE=function e(t){if(t===rR&&Array.isArray(y1))return y1;var r=[];return P.Children.forEach(t,function(a){zt(a)||(Coe.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),y1=r,rR=t,r};function Jn(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(n){return al(n)}):a=[al(t)],rE(e).forEach(function(n){var i=On(n,"type.displayName")||On(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}function qs(e,t){var r=Jn(e,t);return r&&r[0]}var aR=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,n=r.height;return!(!We(a)||a<=0||!We(n)||n<=0)},$oe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hoe=function(t){return t&&t.type&&mc(t.type)&&$oe.indexOf(t.type)>=0},Voe=function(t){return t&&Uw(t)==="object"&&"clipDot"in t},Goe=function(t,r,a,n){var i,l=(i=v1==null?void 0:v1[n])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ot(t)&&(n&&l.includes(r)||Foe.includes(r))||a&&tE.includes(r)},Ft=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),!bu(n))return null;var i={};return Object.keys(n).forEach(function(l){var c;Goe((c=n)===null||c===void 0?void 0:c[l],l,r,a)&&(i[l]=n[l])}),i},Bw=function e(t,r){if(t===r)return!0;var a=P.Children.count(t);if(a!==P.Children.count(r))return!1;if(a===0)return!0;if(a===1)return sR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var n=0;n<a;n++){var i=t[n],l=r[n];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!sR(i,l))return!1}return!0},sR=function(t,r){if(zt(t)&&zt(r))return!0;if(!zt(t)&&!zt(r)){var a=t.props||{},n=a.children,i=eR(a,Boe),l=r.props||{},c=l.children,u=eR(l,zoe);return n&&c?Od(i,u)&&Bw(n,c):!n&&!c?Od(i,u):!1}return!1},nR=function(t,r){var a=[],n={};return rE(t).forEach(function(i,l){if(Hoe(i))a.push(i);else if(i){var c=al(i.type),u=r[c]||{},f=u.handler,p=u.once;if(f&&(!p||!n[c])){var m=f(i,c,l);a.push(m),n[c]=!0}}}),a},Woe=function(t){var r=t&&t.type;return r&&tR[r]?tR[r]:null},Xoe=function(t,r){return rE(r).indexOf(t)},Yoe=["children","width","height","viewBox","className","style","title","desc"];function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zw.apply(this,arguments)}function Koe(e,t){if(e==null)return{};var r=Qoe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Qoe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qw(e){var t=e.children,r=e.width,a=e.height,n=e.viewBox,i=e.className,l=e.style,c=e.title,u=e.desc,f=Koe(e,Yoe),p=n||{width:r,height:a,x:0,y:0},m=Qt("recharts-surface",i);return ge.createElement("svg",zw({},Ft(f,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ge.createElement("title",null,c),ge.createElement("desc",null,u),t)}var Joe=["children","className"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$w.apply(this,arguments)}function Zoe(e,t){if(e==null)return{};var r=ece(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ece(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Kr=ge.forwardRef(function(e,t){var r=e.children,a=e.className,n=Zoe(e,Joe),i=Qt("recharts-layer",a);return ge.createElement("g",$w({className:i},Ft(n,!0),{ref:t}),r)}),sl=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},S1,iR;function tce(){if(iR)return S1;iR=1;function e(t,r,a){var n=-1,i=t.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(i);++n<i;)l[n]=t[n+r];return l}return S1=e,S1}var w1,lR;function rce(){if(lR)return w1;lR=1;var e=tce();function t(r,a,n){var i=r.length;return n=n===void 0?i:n,!a&&n>=i?r:e(r,a,n)}return w1=t,w1}var N1,oR;function D8(){if(oR)return N1;oR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",n=t+r+a,i="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+e+n+i+"]");function u(f){return c.test(f)}return N1=u,N1}var j1,cR;function ace(){if(cR)return j1;cR=1;function e(t){return t.split("")}return j1=e,j1}var E1,dR;function sce(){if(dR)return E1;dR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",n=t+r+a,i="\\ufe0e\\ufe0f",l="["+e+"]",c="["+n+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+u+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=f+"?",b="["+i+"]?",S="(?:"+v+"(?:"+[p,m,x].join("|")+")"+b+y+")*",_=b+y+S,w="(?:"+[p+c+"?",c,m,x,l].join("|")+")",E=RegExp(u+"(?="+u+")|"+w+_,"g");function O(A){return A.match(E)||[]}return E1=O,E1}var A1,uR;function nce(){if(uR)return A1;uR=1;var e=ace(),t=D8(),r=sce();function a(n){return t(n)?r(n):e(n)}return A1=a,A1}var _1,fR;function ice(){if(fR)return _1;fR=1;var e=rce(),t=D8(),r=nce(),a=O8();function n(i){return function(l){l=a(l);var c=t(l)?r(l):void 0,u=c?c[0]:l.charAt(0),f=c?e(c,1).join(""):l.slice(1);return u[i]()+f}}return _1=n,_1}var C1,mR;function lce(){if(mR)return C1;mR=1;var e=ice(),t=e("toUpperCase");return C1=t,C1}var oce=lce();const lg=jr(oce);function Rr(e){return function(){return e}}const I8=Math.cos,Xp=Math.sin,ei=Math.sqrt,Yp=Math.PI,og=2*Yp,Hw=Math.PI,Vw=2*Hw,Bo=1e-6,cce=Vw-Bo;function M8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return M8;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class uce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?M8:dce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,l){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,u=a-t,f=n-r,p=l-t,m=c-r,x=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Bo)if(!(Math.abs(m*u-f*p)>Bo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,y=n-c,b=u*u+f*f,S=v*v+y*y,_=Math.sqrt(b),w=Math.sqrt(x),E=i*Math.tan((Hw-Math.acos((b+x-S)/(2*_*w)))/2),O=E/w,A=E/_;Math.abs(O-1)>Bo&&this._append`L${t+O*p},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*v>p*y)},${this._x1=t+A*u},${this._y1=r+A*f}`}}arc(t,r,a,n,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(n),u=a*Math.sin(n),f=t+c,p=r+u,m=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Bo||Math.abs(this._y1-p)>Bo)&&this._append`L${f},${p}`,a&&(x<0&&(x=x%Vw+Vw),x>cce?this._append`A${a},${a},0,1,${m},${t-c},${r-u}A${a},${a},0,1,${m},${this._x1=f},${this._y1=p}`:x>Bo&&this._append`A${a},${a},0,${+(x>=Hw)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function aE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new uce(t)}function sE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L8(e){this._context=e}L8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cg(e){return new L8(e)}function F8(e){return e[0]}function U8(e){return e[1]}function B8(e,t){var r=Rr(!0),a=null,n=cg,i=null,l=aE(c);e=typeof e=="function"?e:e===void 0?F8:Rr(e),t=typeof t=="function"?t:t===void 0?U8:Rr(t);function c(u){var f,p=(u=sE(u)).length,m,x=!1,v;for(a==null&&(i=n(v=l())),f=0;f<=p;++f)!(f<p&&r(m=u[f],f,u))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,f,u),+t(m,f,u));if(v)return i=null,v+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Rr(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:Rr(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Rr(!!u),c):r},c.curve=function(u){return arguments.length?(n=u,a!=null&&(i=n(a)),c):n},c.context=function(u){return arguments.length?(u==null?a=i=null:i=n(a=u),c):a},c}function Zh(e,t,r){var a=null,n=Rr(!0),i=null,l=cg,c=null,u=aE(f);e=typeof e=="function"?e:e===void 0?F8:Rr(+e),t=typeof t=="function"?t:Rr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?U8:Rr(+r);function f(m){var x,v,y,b=(m=sE(m)).length,S,_=!1,w,E=new Array(b),O=new Array(b);for(i==null&&(c=l(w=u())),x=0;x<=b;++x){if(!(x<b&&n(S=m[x],x,m))===_)if(_=!_)v=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=x-1;y>=v;--y)c.point(E[y],O[y]);c.lineEnd(),c.areaEnd()}_&&(E[x]=+e(S,x,m),O[x]=+t(S,x,m),c.point(a?+a(S,x,m):E[x],r?+r(S,x,m):O[x]))}if(w)return c=null,w+""||null}function p(){return B8().defined(n).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Rr(+m),a=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Rr(+m),f):e},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Rr(+m),f):a},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Rr(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Rr(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Rr(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(a).y(t)},f.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Rr(!!m),f):n},f.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),f):i},f}class z8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fce(e){return new z8(e,!0)}function mce(e){return new z8(e,!1)}const nE={draw(e,t){const r=ei(t/Yp);e.moveTo(r,0),e.arc(0,0,r,0,og)}},hce={draw(e,t){const r=ei(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},q8=ei(1/3),pce=q8*2,xce={draw(e,t){const r=ei(t/pce),a=r*q8;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},gce={draw(e,t){const r=ei(t),a=-r/2;e.rect(a,a,r,r)}},bce=.8908130915292852,$8=Xp(Yp/10)/Xp(7*Yp/10),vce=Xp(og/10)*$8,yce=-I8(og/10)*$8,Sce={draw(e,t){const r=ei(t*bce),a=vce*r,n=yce*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const l=og*i/5,c=I8(l),u=Xp(l);e.lineTo(u*r,-c*r),e.lineTo(c*a-u*n,u*a+c*n)}e.closePath()}},T1=ei(3),wce={draw(e,t){const r=-ei(t/(T1*3));e.moveTo(0,r*2),e.lineTo(-T1*r,-r),e.lineTo(T1*r,-r),e.closePath()}},mn=-.5,hn=ei(3)/2,Gw=1/ei(12),Nce=(Gw/2+1)*3,jce={draw(e,t){const r=ei(t/Nce),a=r/2,n=r*Gw,i=a,l=r*Gw+r,c=-i,u=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(c,u),e.lineTo(mn*a-hn*n,hn*a+mn*n),e.lineTo(mn*i-hn*l,hn*i+mn*l),e.lineTo(mn*c-hn*u,hn*c+mn*u),e.lineTo(mn*a+hn*n,mn*n-hn*a),e.lineTo(mn*i+hn*l,mn*l-hn*i),e.lineTo(mn*c+hn*u,mn*u-hn*c),e.closePath()}};function Ece(e,t){let r=null,a=aE(n);e=typeof e=="function"?e:Rr(e||nE),t=typeof t=="function"?t:Rr(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Rr(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function Kp(){}function Qp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H8(e){this._context=e}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ace(e){return new H8(e)}function V8(e){this._context=e}V8.prototype={areaStart:Kp,areaEnd:Kp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ce(e){return new V8(e)}function G8(e){this._context=e}G8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cce(e){return new G8(e)}function W8(e){this._context=e}W8.prototype={areaStart:Kp,areaEnd:Kp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Tce(e){return new W8(e)}function hR(e){return e<0?-1:1}function pR(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(r-e._y1)/(n||a<0&&-0),c=(i*n+l*a)/(a+n);return(hR(i)+hR(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function xR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function O1(e,t,r){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,n+c*t,i-c,l-c*r,i,l)}function Jp(e){this._context=e}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O1(this,this._t0,xR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,O1(this,xR(this,r=pR(this,e,t)),r);break;default:O1(this,this._t0,r=pR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function X8(e){this._context=new Y8(e)}(X8.prototype=Object.create(Jp.prototype)).point=function(e,t){Jp.prototype.point.call(this,t,e)};function Y8(e){this._context=e}Y8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function Oce(e){return new Jp(e)}function kce(e){return new X8(e)}function K8(e){this._context=e}K8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=gR(e),n=gR(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gR(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),l=new Array(r);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(n[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function Rce(e){return new K8(e)}function dg(e,t){this._context=e,this._t=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Pce(e){return new dg(e,.5)}function Dce(e){return new dg(e,0)}function Ice(e){return new dg(e,1)}function Vd(e,t){if((l=e.length)>1)for(var r=1,a,n,i=e[t[0]],l,c=i.length;r<l;++r)for(n=i,i=e[t[r]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Ww(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Mce(e,t){return e[t]}function Lce(e){const t=[];return t.key=e,t}function Fce(){var e=Rr([]),t=Ww,r=Vd,a=Mce;function n(i){var l=Array.from(e.apply(this,arguments),Lce),c,u=l.length,f=-1,p;for(const m of i)for(c=0,++f;c<u;++c)(l[c][f]=[0,+a(m,l[c].key,f,i)]).data=m;for(c=0,p=sE(t(l));c<u;++c)l[p[c]].index=c;return r(l,p),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Rr(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?Ww:typeof i=="function"?i:Rr(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??Vd,n):r},n}function Uce(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,l;n<i;++n){for(l=r=0;r<a;++r)l+=e[r][n][1]||0;if(l)for(r=0;r<a;++r)e[r][n][1]/=l}Vd(e,t)}}function Bce(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var l=0,c=0;l<n;++l)c+=e[l][r][1]||0;a[r][1]+=a[r][0]=-c/2}Vd(e,t)}}function zce(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,l;a<i;++a){for(var c=0,u=0,f=0;c<l;++c){for(var p=e[t[c]],m=p[a][1]||0,x=p[a-1][1]||0,v=(m-x)/2,y=0;y<c;++y){var b=e[t[y]],S=b[a][1]||0,_=b[a-1][1]||0;v+=S-_}u+=m,f+=v*m}n[a-1][1]+=n[a-1][0]=r,u&&(r-=f/u)}n[a-1][1]+=n[a-1][0]=r,Vd(e,t)}}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var qce=["type","size","sizeType"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xw.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(a){$ce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $ce(e,t,r){return t=Hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hce(e){var t=Vce(e,"string");return S0(t)=="symbol"?t:t+""}function Vce(e,t){if(S0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(S0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){if(e==null)return{};var r=Wce(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Wce(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Q8={symbolCircle:nE,symbolCross:hce,symbolDiamond:xce,symbolSquare:gce,symbolStar:Sce,symbolTriangle:wce,symbolWye:jce},Xce=Math.PI/180,Yce=function(t){var r="symbol".concat(lg(t));return Q8[r]||nE},Kce=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Xce;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Qce=function(t,r){Q8["symbol".concat(lg(t))]=r},iE=function(t){var r=t.type,a=r===void 0?"circle":r,n=t.size,i=n===void 0?64:n,l=t.sizeType,c=l===void 0?"area":l,u=Gce(t,qce),f=vR(vR({},u),{},{type:a,size:i,sizeType:c}),p=function(){var S=Yce(a),_=Ece().type(S).size(Kce(i,c,a));return _()},m=f.className,x=f.cx,v=f.cy,y=Ft(f,!0);return x===+x&&v===+v&&i===+i?ge.createElement("path",Xw({},y,{className:Qt("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(v,")"),d:p()})):null};iE.registerSymbol=Qce;function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yw.apply(this,arguments)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Jce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(a){w0(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ede(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Z8(a.key),a)}}function tde(e,t,r){return t&&ede(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rde(e,t,r){return t=Zp(t),ade(e,J8()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function ade(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sde(e)}function sde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function nde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Kw(e,t)}function w0(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=ide(e,"string");return Gd(t)=="symbol"?t:t+""}function ide(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pn=32,lE=(function(e){function t(){return Zce(this,t),rde(this,t,arguments)}return nde(t,e),tde(t,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,i=pn/2,l=pn/6,c=pn/3,u=a.inactive?n:a.color;if(a.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:pn,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(pn,"M").concat(2*c,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ge.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(pn/8,"h").concat(pn,"v").concat(pn*3/4,"h").concat(-pn,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(a.legendIcon)){var f=Jce({},a);return delete f.legendIcon,ge.cloneElement(a.legendIcon,f)}return ge.createElement(iE,{fill:u,cx:i,cy:i,size:pn,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,i=n.payload,l=n.iconSize,c=n.layout,u=n.formatter,f=n.inactiveColor,p={x:0,y:0,width:pn,height:pn},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,y){var b=v.formatter||u,S=Qt(w0(w0({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=Ot(v.value)?null:v.value;sl(!Ot(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=v.inactive?f:v.color;return ge.createElement("li",Yw({className:S,style:m,key:"legend-item-".concat(y)},Wp(a.props,v,y)),ge.createElement(qw,{width:l,height:l,viewBox:p,style:x},a.renderIcon(v)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(_,v,y):_))})}},{key:"render",value:function(){var a=this.props,n=a.payload,i=a.layout,l=a.align;if(!n||!n.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(P.PureComponent);w0(lE,"displayName","Legend");w0(lE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var k1,SR;function lde(){if(SR)return k1;SR=1;var e=sg();function t(){this.__data__=new e,this.size=0}return k1=t,k1}var R1,wR;function ode(){if(wR)return R1;wR=1;function e(t){var r=this.__data__,a=r.delete(t);return this.size=r.size,a}return R1=e,R1}var P1,NR;function cde(){if(NR)return P1;NR=1;function e(t){return this.__data__.get(t)}return P1=e,P1}var D1,jR;function dde(){if(jR)return D1;jR=1;function e(t){return this.__data__.has(t)}return D1=e,D1}var I1,ER;function ude(){if(ER)return I1;ER=1;var e=sg(),t=Qj(),r=Jj(),a=200;function n(i,l){var c=this.__data__;if(c instanceof e){var u=c.__data__;if(!t||u.length<a-1)return u.push([i,l]),this.size=++c.size,this;c=this.__data__=new r(u)}return c.set(i,l),this.size=c.size,this}return I1=n,I1}var M1,AR;function eL(){if(AR)return M1;AR=1;var e=sg(),t=lde(),r=ode(),a=cde(),n=dde(),i=ude();function l(c){var u=this.__data__=new e(c);this.size=u.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=n,l.prototype.set=i,M1=l,M1}var L1,_R;function fde(){if(_R)return L1;_R=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return L1=t,L1}var F1,CR;function mde(){if(CR)return F1;CR=1;function e(t){return this.__data__.has(t)}return F1=e,F1}var U1,TR;function tL(){if(TR)return U1;TR=1;var e=Jj(),t=fde(),r=mde();function a(n){var i=-1,l=n==null?0:n.length;for(this.__data__=new e;++i<l;)this.add(n[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=r,U1=a,U1}var B1,OR;function rL(){if(OR)return B1;OR=1;function e(t,r){for(var a=-1,n=t==null?0:t.length;++a<n;)if(r(t[a],a,t))return!0;return!1}return B1=e,B1}var z1,kR;function aL(){if(kR)return z1;kR=1;function e(t,r){return t.has(r)}return z1=e,z1}var q1,RR;function sL(){if(RR)return q1;RR=1;var e=tL(),t=rL(),r=aL(),a=1,n=2;function i(l,c,u,f,p,m){var x=u&a,v=l.length,y=c.length;if(v!=y&&!(x&&y>v))return!1;var b=m.get(l),S=m.get(c);if(b&&S)return b==c&&S==l;var _=-1,w=!0,E=u&n?new e:void 0;for(m.set(l,c),m.set(c,l);++_<v;){var O=l[_],A=c[_];if(f)var T=x?f(A,O,_,c,l,m):f(O,A,_,l,c,m);if(T!==void 0){if(T)continue;w=!1;break}if(E){if(!t(c,function(N,D){if(!r(E,D)&&(O===N||p(O,N,u,f,m)))return E.push(D)})){w=!1;break}}else if(!(O===A||p(O,A,u,f,m))){w=!1;break}}return m.delete(l),m.delete(c),w}return q1=i,q1}var $1,PR;function hde(){if(PR)return $1;PR=1;var e=wi(),t=e.Uint8Array;return $1=t,$1}var H1,DR;function pde(){if(DR)return H1;DR=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(n,i){a[++r]=[i,n]}),a}return H1=e,H1}var V1,IR;function oE(){if(IR)return V1;IR=1;function e(t){var r=-1,a=Array(t.size);return t.forEach(function(n){a[++r]=n}),a}return V1=e,V1}var G1,MR;function xde(){if(MR)return G1;MR=1;var e=pm(),t=hde(),r=Kj(),a=sL(),n=pde(),i=oE(),l=1,c=2,u="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",x="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",S="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",E=e?e.prototype:void 0,O=E?E.valueOf:void 0;function A(T,N,D,L,M,k,I){switch(D){case w:if(T.byteLength!=N.byteLength||T.byteOffset!=N.byteOffset)return!1;T=T.buffer,N=N.buffer;case _:return!(T.byteLength!=N.byteLength||!k(new t(T),new t(N)));case u:case f:case x:return r(+T,+N);case p:return T.name==N.name&&T.message==N.message;case v:case b:return T==N+"";case m:var V=n;case y:var q=L&l;if(V||(V=i),T.size!=N.size&&!q)return!1;var z=I.get(T);if(z)return z==N;L|=c,I.set(T,N);var R=a(V(T),V(N),L,M,k,I);return I.delete(T),R;case S:if(O)return O.call(T)==O.call(N)}return!1}return G1=A,G1}var W1,LR;function nL(){if(LR)return W1;LR=1;function e(t,r){for(var a=-1,n=r.length,i=t.length;++a<n;)t[i+a]=r[a];return t}return W1=e,W1}var X1,FR;function gde(){if(FR)return X1;FR=1;var e=nL(),t=Rs();function r(a,n,i){var l=n(a);return t(a)?l:e(l,i(a))}return X1=r,X1}var Y1,UR;function bde(){if(UR)return Y1;UR=1;function e(t,r){for(var a=-1,n=t==null?0:t.length,i=0,l=[];++a<n;){var c=t[a];r(c,a,t)&&(l[i++]=c)}return l}return Y1=e,Y1}var K1,BR;function vde(){if(BR)return K1;BR=1;function e(){return[]}return K1=e,K1}var Q1,zR;function yde(){if(zR)return Q1;zR=1;var e=bde(),t=vde(),r=Object.prototype,a=r.propertyIsEnumerable,n=Object.getOwnPropertySymbols,i=n?function(l){return l==null?[]:(l=Object(l),e(n(l),function(c){return a.call(l,c)}))}:t;return Q1=i,Q1}var J1,qR;function Sde(){if(qR)return J1;qR=1;function e(t,r){for(var a=-1,n=Array(t);++a<t;)n[a]=r(a);return n}return J1=e,J1}var Z1,$R;function wde(){if($R)return Z1;$R=1;var e=pl(),t=xl(),r="[object Arguments]";function a(n){return t(n)&&e(n)==r}return Z1=a,Z1}var eS,HR;function cE(){if(HR)return eS;HR=1;var e=wde(),t=xl(),r=Object.prototype,a=r.hasOwnProperty,n=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&a.call(l,"callee")&&!n.call(l,"callee")};return eS=i,eS}var Rf={exports:{}},tS,VR;function Nde(){if(VR)return tS;VR=1;function e(){return!1}return tS=e,tS}Rf.exports;var GR;function iL(){return GR||(GR=1,(function(e,t){var r=wi(),a=Nde(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===n,c=l?r.Buffer:void 0,u=c?c.isBuffer:void 0,f=u||a;e.exports=f})(Rf,Rf.exports)),Rf.exports}var rS,WR;function dE(){if(WR)return rS;WR=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(a,n){var i=typeof a;return n=n??e,!!n&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<n}return rS=r,rS}var aS,XR;function uE(){if(XR)return aS;XR=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return aS=t,aS}var sS,YR;function jde(){if(YR)return sS;YR=1;var e=pl(),t=uE(),r=xl(),a="[object Arguments]",n="[object Array]",i="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",x="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",S="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",O="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",k={};k[w]=k[E]=k[O]=k[A]=k[T]=k[N]=k[D]=k[L]=k[M]=!0,k[a]=k[n]=k[S]=k[i]=k[_]=k[l]=k[c]=k[u]=k[f]=k[p]=k[m]=k[x]=k[v]=k[y]=k[b]=!1;function I(V){return r(V)&&t(V.length)&&!!k[e(V)]}return sS=I,sS}var nS,KR;function lL(){if(KR)return nS;KR=1;function e(t){return function(r){return t(r)}}return nS=e,nS}var Pf={exports:{}};Pf.exports;var QR;function Ede(){return QR||(QR=1,(function(e,t){var r=_8(),a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,l=i&&r.process,c=(function(){try{var u=n&&n.require&&n.require("util").types;return u||l&&l.binding&&l.binding("util")}catch{}})();e.exports=c})(Pf,Pf.exports)),Pf.exports}var iS,JR;function oL(){if(JR)return iS;JR=1;var e=jde(),t=lL(),r=Ede(),a=r&&r.isTypedArray,n=a?t(a):e;return iS=n,iS}var lS,ZR;function Ade(){if(ZR)return lS;ZR=1;var e=Sde(),t=cE(),r=Rs(),a=iL(),n=dE(),i=oL(),l=Object.prototype,c=l.hasOwnProperty;function u(f,p){var m=r(f),x=!m&&t(f),v=!m&&!x&&a(f),y=!m&&!x&&!v&&i(f),b=m||x||v||y,S=b?e(f.length,String):[],_=S.length;for(var w in f)(p||c.call(f,w))&&!(b&&(w=="length"||v&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||n(w,_)))&&S.push(w);return S}return lS=u,lS}var oS,eP;function _de(){if(eP)return oS;eP=1;var e=Object.prototype;function t(r){var a=r&&r.constructor,n=typeof a=="function"&&a.prototype||e;return r===n}return oS=t,oS}var cS,tP;function cL(){if(tP)return cS;tP=1;function e(t,r){return function(a){return t(r(a))}}return cS=e,cS}var dS,rP;function Cde(){if(rP)return dS;rP=1;var e=cL(),t=e(Object.keys,Object);return dS=t,dS}var uS,aP;function Tde(){if(aP)return uS;aP=1;var e=_de(),t=Cde(),r=Object.prototype,a=r.hasOwnProperty;function n(i){if(!e(i))return t(i);var l=[];for(var c in Object(i))a.call(i,c)&&c!="constructor"&&l.push(c);return l}return uS=n,uS}var fS,sP;function gm(){if(sP)return fS;sP=1;var e=Yj(),t=uE();function r(a){return a!=null&&t(a.length)&&!e(a)}return fS=r,fS}var mS,nP;function ug(){if(nP)return mS;nP=1;var e=Ade(),t=Tde(),r=gm();function a(n){return r(n)?e(n):t(n)}return mS=a,mS}var hS,iP;function Ode(){if(iP)return hS;iP=1;var e=gde(),t=yde(),r=ug();function a(n){return e(n,r,t)}return hS=a,hS}var pS,lP;function kde(){if(lP)return pS;lP=1;var e=Ode(),t=1,r=Object.prototype,a=r.hasOwnProperty;function n(i,l,c,u,f,p){var m=c&t,x=e(i),v=x.length,y=e(l),b=y.length;if(v!=b&&!m)return!1;for(var S=v;S--;){var _=x[S];if(!(m?_ in l:a.call(l,_)))return!1}var w=p.get(i),E=p.get(l);if(w&&E)return w==l&&E==i;var O=!0;p.set(i,l),p.set(l,i);for(var A=m;++S<v;){_=x[S];var T=i[_],N=l[_];if(u)var D=m?u(N,T,_,l,i,p):u(T,N,_,i,l,p);if(!(D===void 0?T===N||f(T,N,c,u,p):D)){O=!1;break}A||(A=_=="constructor")}if(O&&!A){var L=i.constructor,M=l.constructor;L!=M&&"constructor"in i&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M)&&(O=!1)}return p.delete(i),p.delete(l),O}return pS=n,pS}var xS,oP;function Rde(){if(oP)return xS;oP=1;var e=Ec(),t=wi(),r=e(t,"DataView");return xS=r,xS}var gS,cP;function Pde(){if(cP)return gS;cP=1;var e=Ec(),t=wi(),r=e(t,"Promise");return gS=r,gS}var bS,dP;function dL(){if(dP)return bS;dP=1;var e=Ec(),t=wi(),r=e(t,"Set");return bS=r,bS}var vS,uP;function Dde(){if(uP)return vS;uP=1;var e=Ec(),t=wi(),r=e(t,"WeakMap");return vS=r,vS}var yS,fP;function Ide(){if(fP)return yS;fP=1;var e=Rde(),t=Qj(),r=Pde(),a=dL(),n=Dde(),i=pl(),l=C8(),c="[object Map]",u="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",x="[object DataView]",v=l(e),y=l(t),b=l(r),S=l(a),_=l(n),w=i;return(e&&w(new e(new ArrayBuffer(1)))!=x||t&&w(new t)!=c||r&&w(r.resolve())!=f||a&&w(new a)!=p||n&&w(new n)!=m)&&(w=function(E){var O=i(E),A=O==u?E.constructor:void 0,T=A?l(A):"";if(T)switch(T){case v:return x;case y:return c;case b:return f;case S:return p;case _:return m}return O}),yS=w,yS}var SS,mP;function Mde(){if(mP)return SS;mP=1;var e=eL(),t=sL(),r=xde(),a=kde(),n=Ide(),i=Rs(),l=iL(),c=oL(),u=1,f="[object Arguments]",p="[object Array]",m="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function y(b,S,_,w,E,O){var A=i(b),T=i(S),N=A?p:n(b),D=T?p:n(S);N=N==f?m:N,D=D==f?m:D;var L=N==m,M=D==m,k=N==D;if(k&&l(b)){if(!l(S))return!1;A=!0,L=!1}if(k&&!L)return O||(O=new e),A||c(b)?t(b,S,_,w,E,O):r(b,S,N,_,w,E,O);if(!(_&u)){var I=L&&v.call(b,"__wrapped__"),V=M&&v.call(S,"__wrapped__");if(I||V){var q=I?b.value():b,z=V?S.value():S;return O||(O=new e),E(q,z,_,w,O)}}return k?(O||(O=new e),a(b,S,_,w,E,O)):!1}return SS=y,SS}var wS,hP;function fE(){if(hP)return wS;hP=1;var e=Mde(),t=xl();function r(a,n,i,l,c){return a===n?!0:a==null||n==null||!t(a)&&!t(n)?a!==a&&n!==n:e(a,n,i,l,r,c)}return wS=r,wS}var NS,pP;function Lde(){if(pP)return NS;pP=1;var e=eL(),t=fE(),r=1,a=2;function n(i,l,c,u){var f=c.length,p=f,m=!u;if(i==null)return!p;for(i=Object(i);f--;){var x=c[f];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++f<p;){x=c[f];var v=x[0],y=i[v],b=x[1];if(m&&x[2]){if(y===void 0&&!(v in i))return!1}else{var S=new e;if(u)var _=u(y,b,v,i,l,S);if(!(_===void 0?t(b,y,r|a,u,S):_))return!1}}return!0}return NS=n,NS}var jS,xP;function uL(){if(xP)return jS;xP=1;var e=ho();function t(r){return r===r&&!e(r)}return jS=t,jS}var ES,gP;function Fde(){if(gP)return ES;gP=1;var e=uL(),t=ug();function r(a){for(var n=t(a),i=n.length;i--;){var l=n[i],c=a[l];n[i]=[l,c,e(c)]}return n}return ES=r,ES}var AS,bP;function fL(){if(bP)return AS;bP=1;function e(t,r){return function(a){return a==null?!1:a[t]===r&&(r!==void 0||t in Object(a))}}return AS=e,AS}var _S,vP;function Ude(){if(vP)return _S;vP=1;var e=Lde(),t=Fde(),r=fL();function a(n){var i=t(n);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===n||e(l,n,i)}}return _S=a,_S}var CS,yP;function Bde(){if(yP)return CS;yP=1;function e(t,r){return t!=null&&r in Object(t)}return CS=e,CS}var TS,SP;function zde(){if(SP)return TS;SP=1;var e=k8(),t=cE(),r=Rs(),a=dE(),n=uE(),i=ig();function l(c,u,f){u=e(u,c);for(var p=-1,m=u.length,x=!1;++p<m;){var v=i(u[p]);if(!(x=c!=null&&f(c,v)))break;c=c[v]}return x||++p!=m?x:(m=c==null?0:c.length,!!m&&n(m)&&a(v,m)&&(r(c)||t(c)))}return TS=l,TS}var OS,wP;function qde(){if(wP)return OS;wP=1;var e=Bde(),t=zde();function r(a,n){return a!=null&&t(a,n,e)}return OS=r,OS}var kS,NP;function $de(){if(NP)return kS;NP=1;var e=fE(),t=R8(),r=qde(),a=Xj(),n=uL(),i=fL(),l=ig(),c=1,u=2;function f(p,m){return a(p)&&n(m)?i(l(p),m):function(x){var v=t(x,p);return v===void 0&&v===m?r(x,p):e(m,v,c|u)}}return kS=f,kS}var RS,jP;function yu(){if(jP)return RS;jP=1;function e(t){return t}return RS=e,RS}var PS,EP;function Hde(){if(EP)return PS;EP=1;function e(t){return function(r){return r==null?void 0:r[t]}}return PS=e,PS}var DS,AP;function Vde(){if(AP)return DS;AP=1;var e=eE();function t(r){return function(a){return e(a,r)}}return DS=t,DS}var IS,_P;function Gde(){if(_P)return IS;_P=1;var e=Hde(),t=Vde(),r=Xj(),a=ig();function n(i){return r(i)?e(a(i)):t(i)}return IS=n,IS}var MS,CP;function po(){if(CP)return MS;CP=1;var e=Ude(),t=$de(),r=yu(),a=Rs(),n=Gde();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?a(l)?t(l[0],l[1]):e(l):n(l)}return MS=i,MS}var LS,TP;function mL(){if(TP)return LS;TP=1;function e(t,r,a,n){for(var i=t.length,l=a+(n?1:-1);n?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return LS=e,LS}var FS,OP;function Wde(){if(OP)return FS;OP=1;function e(t){return t!==t}return FS=e,FS}var US,kP;function Xde(){if(kP)return US;kP=1;function e(t,r,a){for(var n=a-1,i=t.length;++n<i;)if(t[n]===r)return n;return-1}return US=e,US}var BS,RP;function Yde(){if(RP)return BS;RP=1;var e=mL(),t=Wde(),r=Xde();function a(n,i,l){return i===i?r(n,i,l):e(n,t,l)}return BS=a,BS}var zS,PP;function Kde(){if(PP)return zS;PP=1;var e=Yde();function t(r,a){var n=r==null?0:r.length;return!!n&&e(r,a,0)>-1}return zS=t,zS}var qS,DP;function Qde(){if(DP)return qS;DP=1;function e(t,r,a){for(var n=-1,i=t==null?0:t.length;++n<i;)if(a(r,t[n]))return!0;return!1}return qS=e,qS}var $S,IP;function Jde(){if(IP)return $S;IP=1;function e(){}return $S=e,$S}var HS,MP;function Zde(){if(MP)return HS;MP=1;var e=dL(),t=Jde(),r=oE(),a=1/0,n=e&&1/r(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return HS=n,HS}var VS,LP;function eue(){if(LP)return VS;LP=1;var e=tL(),t=Kde(),r=Qde(),a=aL(),n=Zde(),i=oE(),l=200;function c(u,f,p){var m=-1,x=t,v=u.length,y=!0,b=[],S=b;if(p)y=!1,x=r;else if(v>=l){var _=f?null:n(u);if(_)return i(_);y=!1,x=a,S=new e}else S=f?[]:b;e:for(;++m<v;){var w=u[m],E=f?f(w):w;if(w=p||w!==0?w:0,y&&E===E){for(var O=S.length;O--;)if(S[O]===E)continue e;f&&S.push(E),b.push(w)}else x(S,E,p)||(S!==b&&S.push(E),b.push(w))}return b}return VS=c,VS}var GS,FP;function tue(){if(FP)return GS;FP=1;var e=po(),t=eue();function r(a,n){return a&&a.length?t(a,e(n,2)):[]}return GS=r,GS}var rue=tue();const UP=jr(rue);function hL(e,t,r){return t===!0?UP(e,r):Ot(t)?UP(e,t):e}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var aue=["ref"];function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(a){fg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zP(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xL(a.key),a)}}function nue(e,t,r){return t&&zP(e.prototype,t),r&&zP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iue(e,t,r){return t=ex(t),lue(e,pL()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function lue(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oue(e)}function oue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function cue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Qw(e,t)}function fg(e,t,r){return t=xL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=due(e,"string");return Wd(t)=="symbol"?t:t+""}function due(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uue(e,t){if(e==null)return{};var r=fue(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fue(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mue(e){return e.value}function hue(e,t){if(ge.isValidElement(e))return ge.cloneElement(e,t);if(typeof e=="function")return ge.createElement(e,t);t.ref;var r=uue(t,aue);return ge.createElement(lE,r)}var qP=1,kd=(function(e){function t(){var r;sue(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=iue(this,t,[].concat(n)),fg(r,"lastBoundingBox",{width:-1,height:-1}),r}return cue(t,e),nue(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>qP||Math.abs(n.height-this.lastBoundingBox.height)>qP)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,i=n.layout,l=n.align,c=n.verticalAlign,u=n.margin,f=n.chartWidth,p=n.chartHeight,m,x;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=l==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(c==="middle"){var y=this.getBBoxSnapshot();x={top:((p||0)-y.height)/2}}else x=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return $i($i({},m),x)}},{key:"render",value:function(){var a=this,n=this.props,i=n.content,l=n.width,c=n.height,u=n.wrapperStyle,f=n.payloadUniqBy,p=n.payload,m=$i($i({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ge.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){a.wrapperNode=v}},hue(i,$i($i({},this.props),{},{payload:hL(p,f,mue)})))}}],[{key:"getWithHeight",value:function(a,n){var i=$i($i({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&We(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||n}:null}}])})(P.PureComponent);fg(kd,"displayName","Legend");fg(kd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WS,$P;function pue(){if($P)return WS;$P=1;var e=pm(),t=cE(),r=Rs(),a=e?e.isConcatSpreadable:void 0;function n(i){return r(i)||t(i)||!!(a&&i&&i[a])}return WS=n,WS}var XS,HP;function gL(){if(HP)return XS;HP=1;var e=nL(),t=pue();function r(a,n,i,l,c){var u=-1,f=a.length;for(i||(i=t),c||(c=[]);++u<f;){var p=a[u];n>0&&i(p)?n>1?r(p,n-1,i,l,c):e(c,p):l||(c[c.length]=p)}return c}return XS=r,XS}var YS,VP;function xue(){if(VP)return YS;VP=1;function e(t){return function(r,a,n){for(var i=-1,l=Object(r),c=n(r),u=c.length;u--;){var f=c[t?u:++i];if(a(l[f],f,l)===!1)break}return r}}return YS=e,YS}var KS,GP;function gue(){if(GP)return KS;GP=1;var e=xue(),t=e();return KS=t,KS}var QS,WP;function bL(){if(WP)return QS;WP=1;var e=gue(),t=ug();function r(a,n){return a&&e(a,n,t)}return QS=r,QS}var JS,XP;function bue(){if(XP)return JS;XP=1;var e=gm();function t(r,a){return function(n,i){if(n==null)return n;if(!e(n))return r(n,i);for(var l=n.length,c=a?l:-1,u=Object(n);(a?c--:++c<l)&&i(u[c],c,u)!==!1;);return n}}return JS=t,JS}var ZS,YP;function mE(){if(YP)return ZS;YP=1;var e=bL(),t=bue(),r=t(e);return ZS=r,ZS}var e2,KP;function vL(){if(KP)return e2;KP=1;var e=mE(),t=gm();function r(a,n){var i=-1,l=t(a)?Array(a.length):[];return e(a,function(c,u,f){l[++i]=n(c,u,f)}),l}return e2=r,e2}var t2,QP;function vue(){if(QP)return t2;QP=1;function e(t,r){var a=t.length;for(t.sort(r);a--;)t[a]=t[a].value;return t}return t2=e,t2}var r2,JP;function yue(){if(JP)return r2;JP=1;var e=gu();function t(r,a){if(r!==a){var n=r!==void 0,i=r===null,l=r===r,c=e(r),u=a!==void 0,f=a===null,p=a===a,m=e(a);if(!f&&!m&&!c&&r>a||c&&u&&p&&!f&&!m||i&&u&&p||!n&&p||!l)return 1;if(!i&&!c&&!m&&r<a||m&&n&&l&&!i&&!c||f&&n&&l||!u&&l||!p)return-1}return 0}return r2=t,r2}var a2,ZP;function Sue(){if(ZP)return a2;ZP=1;var e=yue();function t(r,a,n){for(var i=-1,l=r.criteria,c=a.criteria,u=l.length,f=n.length;++i<u;){var p=e(l[i],c[i]);if(p){if(i>=f)return p;var m=n[i];return p*(m=="desc"?-1:1)}}return r.index-a.index}return a2=t,a2}var s2,eD;function wue(){if(eD)return s2;eD=1;var e=Zj(),t=eE(),r=po(),a=vL(),n=vue(),i=lL(),l=Sue(),c=yu(),u=Rs();function f(p,m,x){m.length?m=e(m,function(b){return u(b)?function(S){return t(S,b.length===1?b[0]:b)}:b}):m=[c];var v=-1;m=e(m,i(r));var y=a(p,function(b,S,_){var w=e(m,function(E){return E(b)});return{criteria:w,index:++v,value:b}});return n(y,function(b,S){return l(b,S,x)})}return s2=f,s2}var n2,tD;function Nue(){if(tD)return n2;tD=1;function e(t,r,a){switch(a.length){case 0:return t.call(r);case 1:return t.call(r,a[0]);case 2:return t.call(r,a[0],a[1]);case 3:return t.call(r,a[0],a[1],a[2])}return t.apply(r,a)}return n2=e,n2}var i2,rD;function jue(){if(rD)return i2;rD=1;var e=Nue(),t=Math.max;function r(a,n,i){return n=t(n===void 0?a.length-1:n,0),function(){for(var l=arguments,c=-1,u=t(l.length-n,0),f=Array(u);++c<u;)f[c]=l[n+c];c=-1;for(var p=Array(n+1);++c<n;)p[c]=l[c];return p[n]=i(f),e(a,this,p)}}return i2=r,i2}var l2,aD;function Eue(){if(aD)return l2;aD=1;function e(t){return function(){return t}}return l2=e,l2}var o2,sD;function yL(){if(sD)return o2;sD=1;var e=Ec(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return o2=t,o2}var c2,nD;function Aue(){if(nD)return c2;nD=1;var e=Eue(),t=yL(),r=yu(),a=t?function(n,i){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return c2=a,c2}var d2,iD;function _ue(){if(iD)return d2;iD=1;var e=800,t=16,r=Date.now;function a(n){var i=0,l=0;return function(){var c=r(),u=t-(c-l);if(l=c,u>0){if(++i>=e)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}return d2=a,d2}var u2,lD;function Cue(){if(lD)return u2;lD=1;var e=Aue(),t=_ue(),r=t(e);return u2=r,u2}var f2,oD;function Tue(){if(oD)return f2;oD=1;var e=yu(),t=jue(),r=Cue();function a(n,i){return r(t(n,i,e),n+"")}return f2=a,f2}var m2,cD;function mg(){if(cD)return m2;cD=1;var e=Kj(),t=gm(),r=dE(),a=ho();function n(i,l,c){if(!a(c))return!1;var u=typeof l;return(u=="number"?t(c)&&r(l,c.length):u=="string"&&l in c)?e(c[l],i):!1}return m2=n,m2}var h2,dD;function Oue(){if(dD)return h2;dD=1;var e=gL(),t=wue(),r=Tue(),a=mg(),n=r(function(i,l){if(i==null)return[];var c=l.length;return c>1&&a(i,l[0],l[1])?l=[]:c>2&&a(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return h2=n,h2}var kue=Oue();const hE=jr(kue);function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jw.apply(this,arguments)}function Rue(e,t){return Mue(e)||Iue(e,t)||Due(e,t)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Due(e,t){if(e){if(typeof e=="string")return uD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uD(e,t)}}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Iue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function Mue(e){if(Array.isArray(e))return e}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(a){Lue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lue(e,t,r){return t=Fue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=Uue(e,"string");return N0(t)=="symbol"?t:t+""}function Uue(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(N0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bue(e){return Array.isArray(e)&&Ra(e[0])&&Ra(e[1])?e.join(" ~ "):e}var zue=function(t){var r=t.separator,a=r===void 0?" : ":r,n=t.contentStyle,i=n===void 0?{}:n,l=t.itemStyle,c=l===void 0?{}:l,u=t.labelStyle,f=u===void 0?{}:u,p=t.payload,m=t.formatter,x=t.itemSorter,v=t.wrapperClassName,y=t.labelClassName,b=t.label,S=t.labelFormatter,_=t.accessibilityLayer,w=_===void 0?!1:_,E=function(){if(p&&p.length){var I={padding:0,margin:0},V=(x?hE(p,x):p).map(function(q,z){if(q.type==="none")return null;var R=p2({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},c),W=q.formatter||m||Bue,X=q.value,B=q.name,ee=X,Y=B;if(W&&ee!=null&&Y!=null){var F=W(X,B,q,z,p);if(Array.isArray(F)){var K=Rue(F,2);ee=K[0],Y=K[1]}else ee=F}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:R},Ra(Y)?ge.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ra(Y)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},ee),ge.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:I},V)}return null},O=p2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=p2({margin:0},f),T=!zt(b),N=T?b:"",D=Qt("recharts-default-tooltip",v),L=Qt("recharts-tooltip-label",y);T&&S&&p!==void 0&&p!==null&&(N=S(b,p));var M=w?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",Jw({className:D,style:O},M),ge.createElement("p",{className:L,style:A},ge.isValidElement(N)?N:"".concat(N)),E())};function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function ep(e,t,r){return t=que(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function que(e){var t=$ue(e,"string");return j0(t)=="symbol"?t:t+""}function $ue(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(j0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf="recharts-tooltip-wrapper",Hue={visibility:"hidden"};function Vue(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Qt(yf,ep(ep(ep(ep({},"".concat(yf,"-right"),We(r)&&t&&We(t.x)&&r>=t.x),"".concat(yf,"-left"),We(r)&&t&&We(t.x)&&r<t.x),"".concat(yf,"-bottom"),We(a)&&t&&We(t.y)&&a>=t.y),"".concat(yf,"-top"),We(a)&&t&&We(t.y)&&a<t.y))}function mD(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,n=e.offsetTopLeft,i=e.position,l=e.reverseDirection,c=e.tooltipDimension,u=e.viewBox,f=e.viewBoxDimension;if(i&&We(i[a]))return i[a];var p=r[a]-c-n,m=r[a]+n;if(t[a])return l[a]?p:m;if(l[a]){var x=p,v=u[a];return x<v?Math.max(m,u[a]):Math.max(p,u[a])}var y=m+c,b=u[a]+f;return y>b?Math.max(p,u[a]):Math.max(m,u[a])}function Gue(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Wue(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,n=e.position,i=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox,f,p,m;return l.height>0&&l.width>0&&r?(p=mD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=mD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=Gue({translateX:p,translateY:m,useTranslate3d:c})):f=Hue,{cssProperties:f,cssClasses:Vue({translateX:p,translateY:m,coordinate:r})}}function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(a){eN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yue(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wL(a.key),a)}}function Kue(e,t,r){return t&&Yue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Que(e,t,r){return t=tx(t),Jue(e,SL()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function Jue(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(e)}function Zue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Zw(e,t)}function eN(e,t,r){return t=wL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=tfe(e,"string");return Xd(t)=="symbol"?t:t+""}function tfe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xD=1,rfe=(function(e){function t(){var r;Xue(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=Que(this,t,[].concat(n)),eN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eN(r,"handleKeyDown",function(l){if(l.key==="Escape"){var c,u,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return efe(t,e),Kue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>xD||Math.abs(a.height-this.state.lastBoundingBox.height)>xD)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,i=n.active,l=n.allowEscapeViewBox,c=n.animationDuration,u=n.animationEasing,f=n.children,p=n.coordinate,m=n.hasPayload,x=n.isAnimationActive,v=n.offset,y=n.position,b=n.reverseDirection,S=n.useTranslate3d,_=n.viewBox,w=n.wrapperStyle,E=Wue({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:_}),O=E.cssClasses,A=E.cssProperties,T=pD(pD({transition:x&&i?"transform ".concat(c,"ms ").concat(u):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},w);return ge.createElement("div",{tabIndex:-1,className:O,style:T,ref:function(D){a.wrapperNode=D}},f)}}])})(P.PureComponent),afe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Su={isSsr:afe()};function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(a){pE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nfe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jL(a.key),a)}}function ife(e,t,r){return t&&nfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lfe(e,t,r){return t=rx(t),ofe(e,NL()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function ofe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(e)}function cfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function dfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}function tN(e,t){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},tN(e,t)}function pE(e,t,r){return t=jL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=ufe(e,"string");return Yd(t)=="symbol"?t:t+""}function ufe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Yd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ffe(e){return e.dataKey}function mfe(e,t){return ge.isValidElement(e)?ge.cloneElement(e,t):typeof e=="function"?ge.createElement(e,t):ge.createElement(zue,t)}var $n=(function(e){function t(){return sfe(this,t),lfe(this,t,arguments)}return dfe(t,e),ife(t,[{key:"render",value:function(){var a=this,n=this.props,i=n.active,l=n.allowEscapeViewBox,c=n.animationDuration,u=n.animationEasing,f=n.content,p=n.coordinate,m=n.filterNull,x=n.isAnimationActive,v=n.offset,y=n.payload,b=n.payloadUniqBy,S=n.position,_=n.reverseDirection,w=n.useTranslate3d,E=n.viewBox,O=n.wrapperStyle,A=y??[];m&&A.length&&(A=hL(y.filter(function(N){return N.value!=null&&(N.hide!==!0||a.props.includeHidden)}),b,ffe));var T=A.length>0;return ge.createElement(rfe,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:x,active:i,coordinate:p,hasPayload:T,offset:v,position:S,reverseDirection:_,useTranslate3d:w,viewBox:E,wrapperStyle:O},mfe(f,bD(bD({},this.props),{},{payload:A})))}}])})(P.PureComponent);pE($n,"displayName","Tooltip");pE($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var x2,vD;function hfe(){if(vD)return x2;vD=1;var e=wi(),t=function(){return e.Date.now()};return x2=t,x2}var g2,yD;function pfe(){if(yD)return g2;yD=1;var e=/\s/;function t(r){for(var a=r.length;a--&&e.test(r.charAt(a)););return a}return g2=t,g2}var b2,SD;function xfe(){if(SD)return b2;SD=1;var e=pfe(),t=/^\s+/;function r(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return b2=r,b2}var v2,wD;function EL(){if(wD)return v2;wD=1;var e=xfe(),t=ho(),r=gu(),a=NaN,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function u(f){if(typeof f=="number")return f;if(r(f))return a;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?c(f.slice(2),m?2:8):n.test(f)?a:+f}return v2=u,v2}var y2,ND;function gfe(){if(ND)return y2;ND=1;var e=ho(),t=hfe(),r=EL(),a="Expected a function",n=Math.max,i=Math.min;function l(c,u,f){var p,m,x,v,y,b,S=0,_=!1,w=!1,E=!0;if(typeof c!="function")throw new TypeError(a);u=r(u)||0,e(f)&&(_=!!f.leading,w="maxWait"in f,x=w?n(r(f.maxWait)||0,u):x,E="trailing"in f?!!f.trailing:E);function O(V){var q=p,z=m;return p=m=void 0,S=V,v=c.apply(z,q),v}function A(V){return S=V,y=setTimeout(D,u),_?O(V):v}function T(V){var q=V-b,z=V-S,R=u-q;return w?i(R,x-z):R}function N(V){var q=V-b,z=V-S;return b===void 0||q>=u||q<0||w&&z>=x}function D(){var V=t();if(N(V))return L(V);y=setTimeout(D,T(V))}function L(V){return y=void 0,E&&p?O(V):(p=m=void 0,v)}function M(){y!==void 0&&clearTimeout(y),S=0,p=b=m=y=void 0}function k(){return y===void 0?v:L(t())}function I(){var V=t(),q=N(V);if(p=arguments,m=this,b=V,q){if(y===void 0)return A(b);if(w)return clearTimeout(y),y=setTimeout(D,u),O(b)}return y===void 0&&(y=setTimeout(D,u)),v}return I.cancel=M,I.flush=k,I}return y2=l,y2}var S2,jD;function bfe(){if(jD)return S2;jD=1;var e=gfe(),t=ho(),r="Expected a function";function a(n,i,l){var c=!0,u=!0;if(typeof n!="function")throw new TypeError(r);return t(l)&&(c="leading"in l?!!l.leading:c,u="trailing"in l?!!l.trailing:u),e(n,i,{leading:c,maxWait:i,trailing:u})}return S2=a,S2}var vfe=bfe();const AL=jr(vfe);function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(a){yfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yfe(e,t,r){return t=Sfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=wfe(e,"string");return E0(t)=="symbol"?t:t+""}function wfe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(E0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nfe(e,t){return _fe(e)||Afe(e,t)||Efe(e,t)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Efe(e,t){if(e){if(typeof e=="string")return AD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(e,t)}}function AD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Afe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function _fe(e){if(Array.isArray(e))return e}var _D=P.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,n=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,c=e.height,u=c===void 0?"100%":c,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,x=e.maxHeight,v=e.children,y=e.debounce,b=y===void 0?0:y,S=e.id,_=e.className,w=e.onResize,E=e.style,O=E===void 0?{}:E,A=P.useRef(null),T=P.useRef();T.current=w,P.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var N=P.useState({containerWidth:n.width,containerHeight:n.height}),D=Nfe(N,2),L=D[0],M=D[1],k=P.useCallback(function(V,q){M(function(z){var R=Math.round(V),W=Math.round(q);return z.containerWidth===R&&z.containerHeight===W?z:{containerWidth:R,containerHeight:W}})},[]);P.useEffect(function(){var V=function(B){var ee,Y=B[0].contentRect,F=Y.width,K=Y.height;k(F,K),(ee=T.current)===null||ee===void 0||ee.call(T,F,K)};b>0&&(V=AL(V,b,{trailing:!0,leading:!1}));var q=new ResizeObserver(V),z=A.current.getBoundingClientRect(),R=z.width,W=z.height;return k(R,W),q.observe(A.current),function(){q.disconnect()}},[k,b]);var I=P.useMemo(function(){var V=L.containerWidth,q=L.containerHeight;if(V<0||q<0)return null;sl(Vo(l)||Vo(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,u),sl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Vo(l)?V:l,R=Vo(u)?q:u;r&&r>0&&(z?R=z/r:R&&(z=R*r),x&&R>x&&(R=x)),sl(z>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,R,l,u,p,m,r);var W=!Array.isArray(v)&&al(v.type).endsWith("Chart");return ge.Children.map(v,function(X){return ge.isValidElement(X)?P.cloneElement(X,tp({width:z,height:R},W?{style:tp({height:"100%",width:"100%",maxHeight:R,maxWidth:z},X.props.style)}:{})):X})},[r,v,u,x,m,p,L,l]);return ge.createElement("div",{id:S?"".concat(S):void 0,className:Qt("recharts-responsive-container",_),style:tp(tp({},O),{},{width:l,height:u,minWidth:p,minHeight:m,maxHeight:x}),ref:A},I)}),_L=function(t){return null};_L.displayName="Cell";function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(a){Cfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cfe(e,t,r){return t=Tfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tfe(e){var t=Ofe(e,"string");return A0(t)=="symbol"?t:t+""}function Ofe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(A0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xd={widthCache:{},cacheCount:0},kfe=2e3,Rfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TD="recharts_measurement_span";function Pfe(e){var t=rN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Su.isSsr)return{width:0,height:0};var a=Pfe(r),n=JSON.stringify({text:t,copyStyle:a});if(xd.widthCache[n])return xd.widthCache[n];try{var i=document.getElementById(TD);i||(i=document.createElement("span"),i.setAttribute("id",TD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=rN(rN({},Rfe),a);Object.assign(i.style,l),i.textContent="".concat(t);var c=i.getBoundingClientRect(),u={width:c.width,height:c.height};return xd.widthCache[n]=u,++xd.cacheCount>kfe&&(xd.cacheCount=0,xd.widthCache={}),u}catch{return{width:0,height:0}}},Dfe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}function ax(e,t){return Ffe(e)||Lfe(e,t)||Mfe(e,t)||Ife()}function Ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(e,t){if(e){if(typeof e=="string")return OD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OD(e,t)}}function OD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Lfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function Ffe(e){if(Array.isArray(e))return e}function Ufe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zfe(a.key),a)}}function Bfe(e,t,r){return t&&kD(e.prototype,t),r&&kD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zfe(e){var t=qfe(e,"string");return _0(t)=="symbol"?t:t+""}function qfe(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(_0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$fe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vfe=Object.keys(CL),Sd="NaN";function Gfe(e,t){return e*CL[t]}var rp=(function(){function e(t,r){Ufe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$fe.test(r)&&(this.num=NaN,this.unit=""),Vfe.includes(r)&&(this.num=Gfe(t,r),this.unit="px")}return Bfe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,n=(a=Hfe.exec(r))!==null&&a!==void 0?a:[],i=ax(n,3),l=i[1],c=i[2];return new e(parseFloat(l),c??"")}}])})();function TL(e){if(e.includes(Sd))return Sd;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=RD.exec(t))!==null&&r!==void 0?r:[],n=ax(a,4),i=n[1],l=n[2],c=n[3],u=rp.parse(i??""),f=rp.parse(c??""),p=l==="*"?u.multiply(f):u.divide(f);if(p.isNaN())return Sd;t=t.replace(RD,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=PD.exec(t))!==null&&m!==void 0?m:[],v=ax(x,4),y=v[1],b=v[2],S=v[3],_=rp.parse(y??""),w=rp.parse(S??""),E=b==="+"?_.add(w):_.subtract(w);if(E.isNaN())return Sd;t=t.replace(PD,E.toString())}return t}var DD=/\(([^()]*)\)/;function Wfe(e){for(var t=e;t.includes("(");){var r=DD.exec(t),a=ax(r,2),n=a[1];t=t.replace(DD,TL(n))}return t}function Xfe(e){var t=e.replace(/\s+/g,"");return t=Wfe(t),t=TL(t),t}function Yfe(e){try{return Xfe(e)}catch{return Sd}}function w2(e){var t=Yfe(e.slice(5,-1));return t===Sd?"":t}var Kfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qfe=["dx","dy","angle","className","breakAll"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aN.apply(this,arguments)}function ID(e,t){if(e==null)return{};var r=Jfe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jfe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function MD(e,t){return r0e(e)||t0e(e,t)||e0e(e,t)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(e,t){if(e){if(typeof e=="string")return LD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LD(e,t)}}function LD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function t0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function r0e(e){if(Array.isArray(e))return e}var OL=/[ \f\n\r\t\v\u2028\u2029]+/,kL=function(t){var r=t.children,a=t.breakAll,n=t.style;try{var i=[];zt(r)||(a?i=r.toString().split(""):i=r.toString().split(OL));var l=i.map(function(u){return{word:u,width:Wf(u,n).width}}),c=a?0:Wf("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},a0e=function(t,r,a,n,i){var l=t.maxLines,c=t.children,u=t.style,f=t.breakAll,p=We(l),m=c,x=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(R,W){var X=W.word,B=W.width,ee=R[R.length-1];if(ee&&(n==null||i||ee.width+B+a<Number(n)))ee.words.push(X),ee.width+=B+a;else{var Y={words:[X],width:B};R.push(Y)}return R},[])},v=x(r),y=function(z){return z.reduce(function(R,W){return R.width>W.width?R:W})};if(!p)return v;for(var b="",S=function(z){var R=m.slice(0,z),W=kL({breakAll:f,style:u,children:R+b}).wordsWithComputedWidth,X=x(W),B=X.length>l||y(X).width>Number(n);return[B,X]},_=0,w=m.length-1,E=0,O;_<=w&&E<=m.length-1;){var A=Math.floor((_+w)/2),T=A-1,N=S(T),D=MD(N,2),L=D[0],M=D[1],k=S(A),I=MD(k,1),V=I[0];if(!L&&!V&&(_=A+1),L&&V&&(w=A-1),!L&&V){O=M;break}E++}return O||v},FD=function(t){var r=zt(t)?[]:t.toString().split(OL);return[{words:r}]},s0e=function(t){var r=t.width,a=t.scaleToFit,n=t.children,i=t.style,l=t.breakAll,c=t.maxLines;if((r||a)&&!Su.isSsr){var u,f,p=kL({breakAll:l,children:n,style:i});if(p){var m=p.wordsWithComputedWidth,x=p.spaceWidth;u=m,f=x}else return FD(n);return a0e({breakAll:l,children:n,maxLines:c,style:i},u,f,r,a)}return FD(n)},UD="#808080",sx=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,i=n===void 0?0:n,l=t.lineHeight,c=l===void 0?"1em":l,u=t.capHeight,f=u===void 0?"0.71em":u,p=t.scaleToFit,m=p===void 0?!1:p,x=t.textAnchor,v=x===void 0?"start":x,y=t.verticalAnchor,b=y===void 0?"end":y,S=t.fill,_=S===void 0?UD:S,w=ID(t,Kfe),E=P.useMemo(function(){return s0e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:m,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,m,w.style,w.width]),O=w.dx,A=w.dy,T=w.angle,N=w.className,D=w.breakAll,L=ID(w,Qfe);if(!Ra(a)||!Ra(i))return null;var M=a+(We(O)?O:0),k=i+(We(A)?A:0),I;switch(b){case"start":I=w2("calc(".concat(f,")"));break;case"middle":I=w2("calc(".concat((E.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:I=w2("calc(".concat(E.length-1," * -").concat(c,")"));break}var V=[];if(m){var q=E[0].width,z=w.width;V.push("scale(".concat((We(z)?z/q:1)/q,")"))}return T&&V.push("rotate(".concat(T,", ").concat(M,", ").concat(k,")")),V.length&&(L.transform=V.join(" ")),ge.createElement("text",aN({},Ft(L,!0),{x:M,y:k,className:Qt("recharts-text",N),textAnchor:v,fill:_.includes("url")?UD:_}),E.map(function(R,W){var X=R.words.join(D?"":" ");return ge.createElement("tspan",{x:M,dy:W===0?I:c,key:"".concat(X,"-").concat(W)},X)}))};function eo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xE(e){let t,r,a;e.length!==2?(t=eo,r=(c,u)=>eo(e(c),u),a=(c,u)=>e(c)-u):(t=e===eo||e===n0e?e:i0e,r=e,a=e);function n(c,u,f=0,p=c.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;r(c[m],u)<0?f=m+1:p=m}while(f<p)}return f}function i(c,u,f=0,p=c.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;r(c[m],u)<=0?f=m+1:p=m}while(f<p)}return f}function l(c,u,f=0,p=c.length){const m=n(c,u,f,p-1);return m>f&&a(c[m-1],u)>-a(c[m],u)?m-1:m}return{left:n,center:l,right:i}}function i0e(){return 0}function RL(e){return e===null?NaN:+e}function*l0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o0e=xE(eo),bm=o0e.right;xE(RL).center;class BD extends Map{constructor(t,r=u0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(zD(this,t))}has(t){return super.has(zD(this,t))}set(t,r){return super.set(c0e(this,t),r)}delete(t){return super.delete(d0e(this,t))}}function zD({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function c0e({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function d0e({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function u0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f0e(e=eo){if(e===eo)return PL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function PL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const m0e=Math.sqrt(50),h0e=Math.sqrt(10),p0e=Math.sqrt(2);function nx(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=m0e?10:i>=h0e?5:i>=p0e?2:1;let c,u,f;return n<0?(f=Math.pow(10,-n)/l,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,n)*l,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=r&&r<2?nx(e,t,r*2):[c,u,f]}function sN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,l]=a?nx(t,e,r):nx(e,t,r);if(!(i>=n))return[];const c=i-n+1,u=new Array(c);if(a)if(l<0)for(let f=0;f<c;++f)u[f]=(i-f)/-l;else for(let f=0;f<c;++f)u[f]=(i-f)*l;else if(l<0)for(let f=0;f<c;++f)u[f]=(n+f)/-l;else for(let f=0;f<c;++f)u[f]=(n+f)*l;return u}function nN(e,t,r){return t=+t,e=+e,r=+r,nx(e,t,r)[2]}function iN(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?nN(t,e,r):nN(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function qD(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function $D(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function DL(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?PL:f0e(n);a>r;){if(a-r>600){const u=a-r+1,f=t-r+1,p=Math.log(u),m=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*m*(u-m)/u)*(f-u/2<0?-1:1),v=Math.max(r,Math.floor(t-f*m/u+x)),y=Math.min(a,Math.floor(t+(u-f)*m/u+x));DL(e,t,v,y,n)}const i=e[t];let l=r,c=a;for(Sf(e,r,t),n(e[a],i)>0&&Sf(e,r,a);l<c;){for(Sf(e,l,c),++l,--c;n(e[l],i)<0;)++l;for(;n(e[c],i)>0;)--c}n(e[r],i)===0?Sf(e,r,c):(++c,Sf(e,c,a)),c<=t&&(r=c+1),t<=c&&(a=c-1)}return e}function Sf(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function x0e(e,t,r){if(e=Float64Array.from(l0e(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return $D(e);if(t>=1)return qD(e);var a,n=(a-1)*t,i=Math.floor(n),l=qD(DL(e,i).subarray(0,i+1)),c=$D(e.subarray(i+1));return l+(c-l)*(n-i)}}function g0e(e,t,r=RL){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(n-i)}}function b0e(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function In(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lN=Symbol("implicit");function gE(){var e=new BD,t=[],r=[],a=lN;function n(i){let l=e.get(i);if(l===void 0){if(a!==lN)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BD;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return gE(t,r).unknown(a)},In.apply(n,arguments),n}function C0(){var e=gE().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,l,c=!1,u=0,f=0,p=.5;delete e.unknown;function m(){var x=t().length,v=n<a,y=v?n:a,b=v?a:n;i=(b-y)/Math.max(1,x-u+f*2),c&&(i=Math.floor(i)),y+=(b-y-i*(x-u))*p,l=i*(1-u),c&&(y=Math.round(y),l=Math.round(l));var S=b0e(x).map(function(_){return y+i*_});return r(v?S.reverse():S)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(c=!!x,m()):c},e.padding=function(x){return arguments.length?(u=Math.min(1,f=+x),m()):u},e.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),m()):u},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),m()):p},e.copy=function(){return C0(t(),[a,n]).round(c).paddingInner(u).paddingOuter(f).align(p)},In.apply(m(),arguments)}function IL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IL(t())},e}function Xf(){return IL(C0.apply(null,arguments).paddingInner(1))}function bE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ML(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function vm(){}var T0=.7,ix=1/T0,Rd="\\s*([+-]?\\d+)\\s*",O0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v0e=/^#([0-9a-f]{3,8})$/,y0e=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),S0e=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),w0e=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${O0}\\)$`),N0e=new RegExp(`^rgba\\(${xi},${xi},${xi},${O0}\\)$`),j0e=new RegExp(`^hsl\\(${O0},${xi},${xi}\\)$`),E0e=new RegExp(`^hsla\\(${O0},${xi},${xi},${O0}\\)$`),HD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bE(vm,k0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VD,formatHex:VD,formatHex8:A0e,formatHsl:_0e,formatRgb:GD,toString:GD});function VD(){return this.rgb().formatHex()}function A0e(){return this.rgb().formatHex8()}function _0e(){return LL(this).formatHsl()}function GD(){return this.rgb().formatRgb()}function k0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=v0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?WD(t):r===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ap(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ap(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y0e.exec(e))?new Ts(t[1],t[2],t[3],1):(t=S0e.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w0e.exec(e))?ap(t[1],t[2],t[3],t[4]):(t=N0e.exec(e))?ap(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j0e.exec(e))?KD(t[1],t[2]/100,t[3]/100,1):(t=E0e.exec(e))?KD(t[1],t[2]/100,t[3]/100,t[4]):HD.hasOwnProperty(e)?WD(HD[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function WD(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function ap(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ts(e,t,r,a)}function C0e(e){return e instanceof vm||(e=k0(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function oN(e,t,r,a){return arguments.length===1?C0e(e):new Ts(e,t,r,a??1)}function Ts(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}bE(Ts,oN,ML(vm,{brighter(e){return e=e==null?ix:Math.pow(ix,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?T0:Math.pow(T0,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(tc(this.r),tc(this.g),tc(this.b),lx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XD,formatHex:XD,formatHex8:T0e,formatRgb:YD,toString:YD}));function XD(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function T0e(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function YD(){const e=lx(this.opacity);return`${e===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${e===1?")":`, ${e})`}`}function lx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return e=tc(e),(e<16?"0":"")+e.toString(16)}function KD(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,r,a)}function LL(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof vm||(e=k0(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,c=i-n,u=(i+n)/2;return c?(t===i?l=(r-a)/c+(r<a)*6:r===i?l=(a-t)/c+2:l=(t-r)/c+4,c/=u<.5?i+n:2-i-n,l*=60):c=u>0&&u<1?0:l,new Vn(l,c,u,e.opacity)}function O0e(e,t,r,a){return arguments.length===1?LL(e):new Vn(e,t,r,a??1)}function Vn(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}bE(Vn,O0e,ML(vm,{brighter(e){return e=e==null?ix:Math.pow(ix,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?T0:Math.pow(T0,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Ts(N2(e>=240?e-240:e+120,n,a),N2(e,n,a),N2(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Vn(QD(this.h),sp(this.s),sp(this.l),lx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lx(this.opacity);return`${e===1?"hsl(":"hsla("}${QD(this.h)}, ${sp(this.s)*100}%, ${sp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QD(e){return e=(e||0)%360,e<0?e+360:e}function sp(e){return Math.max(0,Math.min(1,e||0))}function N2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vE=e=>()=>e;function k0e(e,t){return function(r){return e+r*t}}function R0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function P0e(e){return(e=+e)==1?FL:function(t,r){return r-t?R0e(t,r,e):vE(isNaN(t)?r:t)}}function FL(e,t){var r=t-e;return r?k0e(e,r):vE(isNaN(e)?t:e)}const JD=(function e(t){var r=P0e(t);function a(n,i){var l=r((n=oN(n)).r,(i=oN(i)).r),c=r(n.g,i.g),u=r(n.b,i.b),f=FL(n.opacity,i.opacity);return function(p){return n.r=l(p),n.g=c(p),n.b=u(p),n.opacity=f(p),n+""}}return a.gamma=e,a})(1);function D0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function I0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M0e(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)n[l]=wu(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<a;++l)i[l]=n[l](c);return i}}function L0e(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function ox(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F0e(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=wu(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var cN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j2=new RegExp(cN.source,"g");function U0e(e){return function(){return e}}function B0e(e){return function(t){return e(t)+""}}function z0e(e,t){var r=cN.lastIndex=j2.lastIndex=0,a,n,i,l=-1,c=[],u=[];for(e=e+"",t=t+"";(a=cN.exec(e))&&(n=j2.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(a=a[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,u.push({i:l,x:ox(a,n)})),r=j2.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?u[0]?B0e(u[0].x):U0e(t):(t=u.length,function(f){for(var p=0,m;p<t;++p)c[(m=u[p]).i]=m.x(f);return c.join("")})}function wu(e,t){var r=typeof t,a;return t==null||r==="boolean"?vE(t):(r==="number"?ox:r==="string"?(a=k0(t))?(t=a,JD):z0e:t instanceof k0?JD:t instanceof Date?L0e:I0e(t)?D0e:Array.isArray(t)?M0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F0e:ox)(e,t)}function yE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function q0e(e,t){t===void 0&&(t=e,e=wu);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(l){var c=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[c](l-c)}}function $0e(e){return function(){return e}}function cx(e){return+e}var ZD=[0,1];function vs(e){return e}function dN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$0e(isNaN(t)?NaN:.5)}function H0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function V0e(e,t,r){var a=e[0],n=e[1],i=t[0],l=t[1];return n<a?(a=dN(n,a),i=r(l,i)):(a=dN(a,n),i=r(i,l)),function(c){return i(a(c))}}function G0e(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)n[l]=dN(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var u=bm(e,c,1,a)-1;return i[u](n[u](c))}}function ym(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hg(){var e=ZD,t=ZD,r=wu,a,n,i,l=vs,c,u,f;function p(){var x=Math.min(e.length,t.length);return l!==vs&&(l=H0e(e[0],e[x-1])),c=x>2?G0e:V0e,u=f=null,m}function m(x){return x==null||isNaN(x=+x)?i:(u||(u=c(e.map(a),t,r)))(a(l(x)))}return m.invert=function(x){return l(n((f||(f=c(t,e.map(a),ox)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,cx),p()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=yE,p()},m.clamp=function(x){return arguments.length?(l=x?!0:vs,p()):l!==vs},m.interpolate=function(x){return arguments.length?(r=x,p()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,v){return a=x,n=v,p()}}function SE(){return hg()(vs,vs)}function W0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Kd(e){return e=dx(Math.abs(e)),e?e[1]:NaN}function X0e(e,t){return function(r,a){for(var n=r.length,i=[],l=0,c=e[0],u=0;n>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(r.substring(n-=c,n+c)),!((u+=c+1)>a));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Y0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var K0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R0(e){if(!(t=K0e.exec(e)))throw new Error("invalid format: "+e);var t;return new wE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R0.prototype=wE.prototype;function wE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q0e(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var UL;function J0e(e,t){var r=dx(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(UL=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+dx(e,Math.max(0,t+i-1))[0]}function e5(e,t){var r=dx(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const t5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>e5(e*100,t),r:e5,s:J0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r5(e){return e}var a5=Array.prototype.map,s5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Z0e(e){var t=e.grouping===void 0||e.thousands===void 0?r5:X0e(a5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?r5:Y0e(a5.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=R0(m);var x=m.fill,v=m.align,y=m.sign,b=m.symbol,S=m.zero,_=m.width,w=m.comma,E=m.precision,O=m.trim,A=m.type;A==="n"?(w=!0,A="g"):t5[A]||(E===void 0&&(E=12),O=!0,A="g"),(S||x==="0"&&v==="=")&&(S=!0,x="0",v="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=b==="$"?a:/[%p]/.test(A)?l:"",D=t5[A],L=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(k){var I=T,V=N,q,z,R;if(A==="c")V=D(k)+V,k="";else{k=+k;var W=k<0||1/k<0;if(k=isNaN(k)?u:D(Math.abs(k),E),O&&(k=Q0e(k)),W&&+k==0&&y!=="+"&&(W=!1),I=(W?y==="("?y:c:y==="-"||y==="("?"":y)+I,V=(A==="s"?s5[8+UL/3]:"")+V+(W&&y==="("?")":""),L){for(q=-1,z=k.length;++q<z;)if(R=k.charCodeAt(q),48>R||R>57){V=(R===46?n+k.slice(q+1):k.slice(q))+V,k=k.slice(0,q);break}}}w&&!S&&(k=t(k,1/0));var X=I.length+k.length+V.length,B=X<_?new Array(_-X+1).join(x):"";switch(w&&S&&(k=t(B+k,B.length?_-V.length:1/0),B=""),v){case"<":k=I+k+V+B;break;case"=":k=I+B+k+V;break;case"^":k=B.slice(0,X=B.length>>1)+I+k+V+B.slice(X);break;default:k=B+I+k+V;break}return i(k)}return M.toString=function(){return m+""},M}function p(m,x){var v=f((m=R0(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(Kd(x)/3)))*3,b=Math.pow(10,-y),S=s5[8+y/3];return function(_){return v(b*_)+S}}return{format:f,formatPrefix:p}}var np,NE,BL;eme({thousands:",",grouping:[3],currency:["$",""]});function eme(e){return np=Z0e(e),NE=np.format,BL=np.formatPrefix,np}function tme(e){return Math.max(0,-Kd(Math.abs(e)))}function rme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}function ame(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}function zL(e,t,r,a){var n=iN(e,t,r),i;switch(a=R0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=rme(n,l))&&(a.precision=i),BL(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=ame(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=tme(n))&&(a.precision=i-(a.type==="%")*2);break}}return NE(a)}function xo(e){var t=e.domain;return e.ticks=function(r){var a=t();return sN(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return zL(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,l=a[n],c=a[i],u,f,p=10;for(c<l&&(f=l,l=c,c=f,f=n,n=i,i=f);p-- >0;){if(f=nN(l,c,r),f===u)return a[n]=l,a[i]=c,t(a);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function ux(){var e=SE();return e.copy=function(){return ym(e,ux())},In.apply(e,arguments),xo(e)}function qL(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,cx),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return qL(e).unknown(t)},e=arguments.length?Array.from(e,cx):[0,1],xo(r)}function $L(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],l;return i<n&&(l=r,r=a,a=l,l=n,n=i,i=l),e[r]=t.floor(n),e[a]=t.ceil(i),e}function n5(e){return Math.log(e)}function i5(e){return Math.exp(e)}function sme(e){return-Math.log(-e)}function nme(e){return-Math.exp(-e)}function ime(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lme(e){return e===10?ime:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ome(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l5(e){return(t,r)=>-e(-t,r)}function jE(e){const t=e(n5,i5),r=t.domain;let a=10,n,i;function l(){return n=ome(a),i=lme(a),r()[0]<0?(n=l5(n),i=l5(i),e(sme,nme)):e(n5,i5),t}return t.base=function(c){return arguments.length?(a=+c,l()):a},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const u=r();let f=u[0],p=u[u.length-1];const m=p<f;m&&([f,p]=[p,f]);let x=n(f),v=n(p),y,b;const S=c==null?10:+c;let _=[];if(!(a%1)&&v-x<S){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(y=1;y<a;++y)if(b=x<0?y/i(-x):y*i(x),!(b<f)){if(b>p)break;_.push(b)}}else for(;x<=v;++x)for(y=a-1;y>=1;--y)if(b=x>0?y/i(-x):y*i(x),!(b<f)){if(b>p)break;_.push(b)}_.length*2<S&&(_=sN(f,p,S))}else _=sN(x,v,Math.min(v-x,S)).map(i);return m?_.reverse():_},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=R0(u)).precision==null&&(u.trim=!0),u=NE(u)),c===1/0)return u;const f=Math.max(1,a*c/t.ticks().length);return p=>{let m=p/i(Math.round(n(p)));return m*a<a-.5&&(m*=a),m<=f?u(p):""}},t.nice=()=>r($L(r(),{floor:c=>i(Math.floor(n(c))),ceil:c=>i(Math.ceil(n(c)))})),t}function HL(){const e=jE(hg()).domain([1,10]);return e.copy=()=>ym(e,HL()).base(e.base()),In.apply(e,arguments),e}function o5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function c5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EE(e){var t=1,r=e(o5(t),c5(t));return r.constant=function(a){return arguments.length?e(o5(t=+a),c5(t)):t},xo(r)}function VL(){var e=EE(hg());return e.copy=function(){return ym(e,VL()).constant(e.constant())},In.apply(e,arguments)}function d5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dme(e){return e<0?-e*e:e*e}function AE(e){var t=e(vs,vs),r=1;function a(){return r===1?e(vs,vs):r===.5?e(cme,dme):e(d5(r),d5(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},xo(t)}function _E(){var e=AE(hg());return e.copy=function(){return ym(e,_E()).exponent(e.exponent())},In.apply(e,arguments),e}function ume(){return _E.apply(null,arguments).exponent(.5)}function u5(e){return Math.sign(e)*e*e}function fme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GL(){var e=SE(),t=[0,1],r=!1,a;function n(i){var l=fme(e(i));return isNaN(l)?a:r?Math.round(l):l}return n.invert=function(i){return e.invert(u5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,cx)).map(u5)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return GL(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},In.apply(n,arguments),xo(n)}function WL(){var e=[],t=[],r=[],a;function n(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=g0e(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?a:t[bm(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(eo),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return WL().domain(e).range(t).unknown(a)},In.apply(i,arguments)}function XL(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function l(u){return u!=null&&u<=u?n[bm(a,u,0,r)]:i}function c(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},l.range=function(u){return arguments.length?(r=(n=Array.from(u)).length-1,c()):n.slice()},l.invertExtent=function(u){var f=n.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,a[0]]:f>=r?[a[r-1],t]:[a[f-1],a[f]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return XL().domain([e,t]).range(n).unknown(i)},In.apply(xo(l),arguments)}function YL(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[bm(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return YL().domain(e).range(t).unknown(r)},In.apply(n,arguments)}const E2=new Date,A2=new Date;function Da(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),c=n.ceil(i);return i-l<c-i?l:c},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,c)=>{const u=[];if(i=n.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return u;let f;do u.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<l);return u},n.filter=i=>Da(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(n.count=(i,l)=>(E2.setTime(+i),A2.setTime(+l),e(E2),e(A2),Math.floor(r(E2,A2))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const fx=Da(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Da(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fx);fx.range;const Xi=1e3,En=Xi*60,Yi=En*60,ol=Yi*24,CE=ol*7,f5=ol*30,_2=ol*365,Wo=Da(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCSeconds());Wo.range;const TE=Da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getMinutes());TE.range;const OE=Da(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCMinutes());OE.range;const kE=Da(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi-e.getMinutes()*En)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getHours());kE.range;const RE=Da(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCHours());RE.range;const Sm=Da(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*En)/ol,e=>e.getDate()-1);Sm.range;const pg=Da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ol,e=>e.getUTCDate()-1);pg.range;const KL=Da(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ol,e=>Math.floor(e/ol));KL.range;function Ac(e){return Da(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*En)/CE)}const xg=Ac(0),mx=Ac(1),mme=Ac(2),hme=Ac(3),Qd=Ac(4),pme=Ac(5),xme=Ac(6);xg.range;mx.range;mme.range;hme.range;Qd.range;pme.range;xme.range;function _c(e){return Da(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/CE)}const gg=_c(0),hx=_c(1),gme=_c(2),bme=_c(3),Jd=_c(4),vme=_c(5),yme=_c(6);gg.range;hx.range;gme.range;bme.range;Jd.range;vme.range;yme.range;const PE=Da(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());PE.range;const DE=Da(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DE.range;const cl=Da(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Da(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});cl.range;const dl=Da(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Da(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});dl.range;function QL(e,t,r,a,n,i){const l=[[Wo,1,Xi],[Wo,5,5*Xi],[Wo,15,15*Xi],[Wo,30,30*Xi],[i,1,En],[i,5,5*En],[i,15,15*En],[i,30,30*En],[n,1,Yi],[n,3,3*Yi],[n,6,6*Yi],[n,12,12*Yi],[a,1,ol],[a,2,2*ol],[r,1,CE],[t,1,f5],[t,3,3*f5],[e,1,_2]];function c(f,p,m){const x=p<f;x&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:u(f,p,m),y=v?v.range(f,+p+1):[];return x?y.reverse():y}function u(f,p,m){const x=Math.abs(p-f)/m,v=xE(([,,S])=>S).right(l,x);if(v===l.length)return e.every(iN(f/_2,p/_2,m));if(v===0)return fx.every(Math.max(iN(f,p,m),1));const[y,b]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return y.every(b)}return[c,u]}const[Sme,wme]=QL(dl,DE,gg,KL,RE,OE),[Nme,jme]=QL(cl,PE,xg,Sm,kE,TE);function C2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function T2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Eme(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,f=Nf(n),p=jf(n),m=Nf(i),x=jf(i),v=Nf(l),y=jf(l),b=Nf(c),S=jf(c),_=Nf(u),w=jf(u),E={a:W,A:X,b:B,B:ee,c:null,d:b5,e:b5,f:Xme,g:she,G:ihe,H:Vme,I:Gme,j:Wme,L:JL,m:Yme,M:Kme,p:Y,q:F,Q:S5,s:w5,S:Qme,u:Jme,U:Zme,V:ehe,w:the,W:rhe,x:null,X:null,y:ahe,Y:nhe,Z:lhe,"%":y5},O={a:K,A:J,b:H,B:ce,c:null,d:v5,e:v5,f:uhe,g:She,G:Nhe,H:ohe,I:che,j:dhe,L:eF,m:fhe,M:mhe,p:le,q:xe,Q:S5,s:w5,S:hhe,u:phe,U:xhe,V:ghe,w:bhe,W:vhe,x:null,X:null,y:yhe,Y:whe,Z:jhe,"%":y5},A={a:M,A:k,b:I,B:V,c:q,d:x5,e:x5,f:zme,g:p5,G:h5,H:g5,I:g5,j:Lme,L:Bme,m:Mme,M:Fme,p:L,q:Ime,Q:$me,s:Hme,S:Ume,u:Ome,U:kme,V:Rme,w:Tme,W:Pme,x:z,X:R,y:p5,Y:h5,Z:Dme,"%":qme};E.x=T(r,E),E.X=T(a,E),E.c=T(t,E),O.x=T(r,O),O.X=T(a,O),O.c=T(t,O);function T(se,fe){return function(we){var G=[],He=-1,Ue=0,he=se.length,Me,ye,$e;for(we instanceof Date||(we=new Date(+we));++He<he;)se.charCodeAt(He)===37&&(G.push(se.slice(Ue,He)),(ye=m5[Me=se.charAt(++He)])!=null?Me=se.charAt(++He):ye=Me==="e"?" ":"0",($e=fe[Me])&&(Me=$e(we,ye)),G.push(Me),Ue=He+1);return G.push(se.slice(Ue,He)),G.join("")}}function N(se,fe){return function(we){var G=wf(1900,void 0,1),He=D(G,se,we+="",0),Ue,he;if(He!=we.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(fe&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ue=T2(wf(G.y,0,1)),he=Ue.getUTCDay(),Ue=he>4||he===0?hx.ceil(Ue):hx(Ue),Ue=pg.offset(Ue,(G.V-1)*7),G.y=Ue.getUTCFullYear(),G.m=Ue.getUTCMonth(),G.d=Ue.getUTCDate()+(G.w+6)%7):(Ue=C2(wf(G.y,0,1)),he=Ue.getDay(),Ue=he>4||he===0?mx.ceil(Ue):mx(Ue),Ue=Sm.offset(Ue,(G.V-1)*7),G.y=Ue.getFullYear(),G.m=Ue.getMonth(),G.d=Ue.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),he="Z"in G?T2(wf(G.y,0,1)).getUTCDay():C2(wf(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(he+5)%7:G.w+G.U*7-(he+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,T2(G)):C2(G)}}function D(se,fe,we,G){for(var He=0,Ue=fe.length,he=we.length,Me,ye;He<Ue;){if(G>=he)return-1;if(Me=fe.charCodeAt(He++),Me===37){if(Me=fe.charAt(He++),ye=A[Me in m5?fe.charAt(He++):Me],!ye||(G=ye(se,we,G))<0)return-1}else if(Me!=we.charCodeAt(G++))return-1}return G}function L(se,fe,we){var G=f.exec(fe.slice(we));return G?(se.p=p.get(G[0].toLowerCase()),we+G[0].length):-1}function M(se,fe,we){var G=v.exec(fe.slice(we));return G?(se.w=y.get(G[0].toLowerCase()),we+G[0].length):-1}function k(se,fe,we){var G=m.exec(fe.slice(we));return G?(se.w=x.get(G[0].toLowerCase()),we+G[0].length):-1}function I(se,fe,we){var G=_.exec(fe.slice(we));return G?(se.m=w.get(G[0].toLowerCase()),we+G[0].length):-1}function V(se,fe,we){var G=b.exec(fe.slice(we));return G?(se.m=S.get(G[0].toLowerCase()),we+G[0].length):-1}function q(se,fe,we){return D(se,t,fe,we)}function z(se,fe,we){return D(se,r,fe,we)}function R(se,fe,we){return D(se,a,fe,we)}function W(se){return l[se.getDay()]}function X(se){return i[se.getDay()]}function B(se){return u[se.getMonth()]}function ee(se){return c[se.getMonth()]}function Y(se){return n[+(se.getHours()>=12)]}function F(se){return 1+~~(se.getMonth()/3)}function K(se){return l[se.getUTCDay()]}function J(se){return i[se.getUTCDay()]}function H(se){return u[se.getUTCMonth()]}function ce(se){return c[se.getUTCMonth()]}function le(se){return n[+(se.getUTCHours()>=12)]}function xe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=T(se+="",E);return fe.toString=function(){return se},fe},parse:function(se){var fe=N(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=T(se+="",O);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=N(se+="",!0);return fe.toString=function(){return se},fe}}}var m5={"-":"",_:" ",0:"0"},qa=/^\s*\d+/,Ame=/^%/,_me=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function Cme(e){return e.replace(_me,"\\$&")}function Nf(e){return new RegExp("^(?:"+e.map(Cme).join("|")+")","i")}function jf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Tme(e,t,r){var a=qa.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Ome(e,t,r){var a=qa.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function kme(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Rme(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Pme(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function h5(e,t,r){var a=qa.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function p5(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Dme(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Ime(e,t,r){var a=qa.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Mme(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function x5(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Lme(e,t,r){var a=qa.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function g5(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Fme(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Ume(e,t,r){var a=qa.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Bme(e,t,r){var a=qa.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function zme(e,t,r){var a=qa.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function qme(e,t,r){var a=Ame.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function $me(e,t,r){var a=qa.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Hme(e,t,r){var a=qa.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function b5(e,t){return sr(e.getDate(),t,2)}function Vme(e,t){return sr(e.getHours(),t,2)}function Gme(e,t){return sr(e.getHours()%12||12,t,2)}function Wme(e,t){return sr(1+Sm.count(cl(e),e),t,3)}function JL(e,t){return sr(e.getMilliseconds(),t,3)}function Xme(e,t){return JL(e,t)+"000"}function Yme(e,t){return sr(e.getMonth()+1,t,2)}function Kme(e,t){return sr(e.getMinutes(),t,2)}function Qme(e,t){return sr(e.getSeconds(),t,2)}function Jme(e){var t=e.getDay();return t===0?7:t}function Zme(e,t){return sr(xg.count(cl(e)-1,e),t,2)}function ZL(e){var t=e.getDay();return t>=4||t===0?Qd(e):Qd.ceil(e)}function ehe(e,t){return e=ZL(e),sr(Qd.count(cl(e),e)+(cl(e).getDay()===4),t,2)}function the(e){return e.getDay()}function rhe(e,t){return sr(mx.count(cl(e)-1,e),t,2)}function ahe(e,t){return sr(e.getFullYear()%100,t,2)}function she(e,t){return e=ZL(e),sr(e.getFullYear()%100,t,2)}function nhe(e,t){return sr(e.getFullYear()%1e4,t,4)}function ihe(e,t){var r=e.getDay();return e=r>=4||r===0?Qd(e):Qd.ceil(e),sr(e.getFullYear()%1e4,t,4)}function lhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function v5(e,t){return sr(e.getUTCDate(),t,2)}function ohe(e,t){return sr(e.getUTCHours(),t,2)}function che(e,t){return sr(e.getUTCHours()%12||12,t,2)}function dhe(e,t){return sr(1+pg.count(dl(e),e),t,3)}function eF(e,t){return sr(e.getUTCMilliseconds(),t,3)}function uhe(e,t){return eF(e,t)+"000"}function fhe(e,t){return sr(e.getUTCMonth()+1,t,2)}function mhe(e,t){return sr(e.getUTCMinutes(),t,2)}function hhe(e,t){return sr(e.getUTCSeconds(),t,2)}function phe(e){var t=e.getUTCDay();return t===0?7:t}function xhe(e,t){return sr(gg.count(dl(e)-1,e),t,2)}function tF(e){var t=e.getUTCDay();return t>=4||t===0?Jd(e):Jd.ceil(e)}function ghe(e,t){return e=tF(e),sr(Jd.count(dl(e),e)+(dl(e).getUTCDay()===4),t,2)}function bhe(e){return e.getUTCDay()}function vhe(e,t){return sr(hx.count(dl(e)-1,e),t,2)}function yhe(e,t){return sr(e.getUTCFullYear()%100,t,2)}function She(e,t){return e=tF(e),sr(e.getUTCFullYear()%100,t,2)}function whe(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function Nhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jd(e):Jd.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function jhe(){return"+0000"}function y5(){return"%"}function S5(e){return+e}function w5(e){return Math.floor(+e/1e3)}var gd,rF,aF;Ehe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ehe(e){return gd=Eme(e),rF=gd.format,gd.parse,aF=gd.utcFormat,gd.utcParse,gd}function Ahe(e){return new Date(e)}function _he(e){return e instanceof Date?+e:+new Date(+e)}function IE(e,t,r,a,n,i,l,c,u,f){var p=SE(),m=p.invert,x=p.domain,v=f(".%L"),y=f(":%S"),b=f("%I:%M"),S=f("%I %p"),_=f("%a %d"),w=f("%b %d"),E=f("%B"),O=f("%Y");function A(T){return(u(T)<T?v:c(T)<T?y:l(T)<T?b:i(T)<T?S:a(T)<T?n(T)<T?_:w:r(T)<T?E:O)(T)}return p.invert=function(T){return new Date(m(T))},p.domain=function(T){return arguments.length?x(Array.from(T,_he)):x().map(Ahe)},p.ticks=function(T){var N=x();return e(N[0],N[N.length-1],T??10)},p.tickFormat=function(T,N){return N==null?A:f(N)},p.nice=function(T){var N=x();return(!T||typeof T.range!="function")&&(T=t(N[0],N[N.length-1],T??10)),T?x($L(N,T)):p},p.copy=function(){return ym(p,IE(e,t,r,a,n,i,l,c,u,f))},p}function Che(){return In.apply(IE(Nme,jme,cl,PE,xg,Sm,kE,TE,Wo,rF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function The(){return In.apply(IE(Sme,wme,dl,DE,gg,pg,RE,OE,Wo,aF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bg(){var e=0,t=1,r,a,n,i,l=vs,c=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(n===0?.5:(m=(i(m)-r)*n,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(x){var v,y;return arguments.length?([v,y]=x,l=m(v,y),f):[l(0),l(1)]}}return f.range=p(wu),f.rangeRound=p(yE),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),a=m(t),n=r===a?0:1/(a-r),f}}function go(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sF(){var e=xo(bg()(vs));return e.copy=function(){return go(e,sF())},gl.apply(e,arguments)}function nF(){var e=jE(bg()).domain([1,10]);return e.copy=function(){return go(e,nF()).base(e.base())},gl.apply(e,arguments)}function iF(){var e=EE(bg());return e.copy=function(){return go(e,iF()).constant(e.constant())},gl.apply(e,arguments)}function ME(){var e=AE(bg());return e.copy=function(){return go(e,ME()).exponent(e.exponent())},gl.apply(e,arguments)}function Ohe(){return ME.apply(null,arguments).exponent(.5)}function lF(){var e=[],t=vs;function r(a){if(a!=null&&!isNaN(a=+a))return t((bm(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(eo),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>x0e(e,i/a))},r.copy=function(){return lF(t).domain(e)},gl.apply(r,arguments)}function vg(){var e=0,t=.5,r=1,a=1,n,i,l,c,u,f=vs,p,m=!1,x;function v(b){return isNaN(b=+b)?x:(b=.5+((b=+p(b))-i)*(a*b<a*i?c:u),f(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,n=p(e=+e),i=p(t=+t),l=p(r=+r),c=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(f=b,v):f};function y(b){return function(S){var _,w,E;return arguments.length?([_,w,E]=S,f=q0e(b,[_,w,E]),v):[f(0),f(.5),f(1)]}}return v.range=y(wu),v.rangeRound=y(yE),v.unknown=function(b){return arguments.length?(x=b,v):x},function(b){return p=b,n=b(e),i=b(t),l=b(r),c=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,v}}function oF(){var e=xo(vg()(vs));return e.copy=function(){return go(e,oF())},gl.apply(e,arguments)}function cF(){var e=jE(vg()).domain([.1,1,10]);return e.copy=function(){return go(e,cF()).base(e.base())},gl.apply(e,arguments)}function dF(){var e=EE(vg());return e.copy=function(){return go(e,dF()).constant(e.constant())},gl.apply(e,arguments)}function LE(){var e=AE(vg());return e.copy=function(){return go(e,LE()).exponent(e.exponent())},gl.apply(e,arguments)}function khe(){return LE.apply(null,arguments).exponent(.5)}const N5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C0,scaleDiverging:oF,scaleDivergingLog:cF,scaleDivergingPow:LE,scaleDivergingSqrt:khe,scaleDivergingSymlog:dF,scaleIdentity:qL,scaleImplicit:lN,scaleLinear:ux,scaleLog:HL,scaleOrdinal:gE,scalePoint:Xf,scalePow:_E,scaleQuantile:WL,scaleQuantize:XL,scaleRadial:GL,scaleSequential:sF,scaleSequentialLog:nF,scaleSequentialPow:ME,scaleSequentialQuantile:lF,scaleSequentialSqrt:Ohe,scaleSequentialSymlog:iF,scaleSqrt:ume,scaleSymlog:VL,scaleThreshold:YL,scaleTime:Che,scaleUtc:The,tickFormat:zL},Symbol.toStringTag,{value:"Module"}));var O2,j5;function uF(){if(j5)return O2;j5=1;var e=gu();function t(r,a,n){for(var i=-1,l=r.length;++i<l;){var c=r[i],u=a(c);if(u!=null&&(f===void 0?u===u&&!e(u):n(u,f)))var f=u,p=c}return p}return O2=t,O2}var k2,E5;function Rhe(){if(E5)return k2;E5=1;function e(t,r){return t>r}return k2=e,k2}var R2,A5;function Phe(){if(A5)return R2;A5=1;var e=uF(),t=Rhe(),r=yu();function a(n){return n&&n.length?e(n,r,t):void 0}return R2=a,R2}var Dhe=Phe();const Ql=jr(Dhe);var P2,_5;function Ihe(){if(_5)return P2;_5=1;function e(t,r){return t<r}return P2=e,P2}var D2,C5;function Mhe(){if(C5)return D2;C5=1;var e=uF(),t=Ihe(),r=yu();function a(n){return n&&n.length?e(n,r,t):void 0}return D2=a,D2}var Lhe=Mhe();const yg=jr(Lhe);var I2,T5;function Fhe(){if(T5)return I2;T5=1;var e=Zj(),t=po(),r=vL(),a=Rs();function n(i,l){var c=a(i)?e:r;return c(i,t(l,3))}return I2=n,I2}var M2,O5;function Uhe(){if(O5)return M2;O5=1;var e=gL(),t=Fhe();function r(a,n){return e(t(a,n),1)}return M2=r,M2}var Bhe=Uhe();const zhe=jr(Bhe);var L2,k5;function qhe(){if(k5)return L2;k5=1;var e=fE();function t(r,a){return e(r,a)}return L2=t,L2}var $he=qhe();const P0=jr($he);var Nu=1e9,Hhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UE,Wr=!0,Pn="[DecimalError] ",rc=Pn+"Invalid argument: ",FE=Pn+"Exponent out of range: ",ju=Math.floor,zo=Math.pow,Vhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xs,Ua=1e7,Lr=7,fF=9007199254740991,px=ju(fF/Lr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return nl(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return Cr(nl(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return ja(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Xs))throw Error(Pn+"NaN");if(r.s<1)throw Error(Pn+(r.s?"NaN":"-Infinity"));return r.eq(Xs)?new a(0):(Wr=!1,t=nl(D0(r,i),D0(e,i),i),Wr=!0,Cr(t,n))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pF(t,e):mF(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Pn+"NaN");return r.s?(Wr=!1,t=nl(r,e,0,1).times(e),Wr=!0,r.minus(t)):Cr(new a(r),n)};st.naturalExponential=st.exp=function(){return hF(this)};st.naturalLogarithm=st.ln=function(){return D0(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mF(t,e):pF(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=ja(n)+1,a=n.d.length-1,r=a*Lr+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,a,n,i,l,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Pn+"NaN")}for(e=ja(c),Wr=!1,n=Math.sqrt(+c),n==0||n==1/0?(t=fi(c.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=ju((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(n.toString()),r=u.precision,n=l=r+3;;)if(i=a,a=i.plus(nl(c,i,l+2)).times(.5),fi(i.d).slice(0,l)===(t=fi(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(Cr(i,r+1,0),i.times(i).eq(c)){a=i;break}}else if(t!="9999")break;l+=4}return Wr=!0,Cr(a,r)};st.times=st.mul=function(e){var t,r,a,n,i,l,c,u,f,p=this,m=p.constructor,x=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,r=p.e+e.e,u=x.length,f=v.length,u<f&&(i=x,x=v,v=i,l=u,u=f,f=l),i=[],l=u+f,a=l;a--;)i.push(0);for(a=f;--a>=0;){for(t=0,n=u+a;n>a;)c=i[n]+v[a]*x[n-a-1]+t,i[n--]=c%Ua|0,t=c/Ua|0;i[n]=(i[n]+t)%Ua|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Wr?Cr(e,m.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(vi(e,0,Nu),t===void 0?t=a.rounding:vi(t,0,8),Cr(r,e+ja(r)+1,t))};st.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=pc(a,!0):(vi(e,0,Nu),t===void 0?t=n.rounding:vi(t,0,8),a=Cr(new n(a),e+1,t),r=pc(a,!0,e+1)),r};st.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?pc(n):(vi(e,0,Nu),t===void 0?t=i.rounding:vi(t,0,8),a=Cr(new i(n),e+ja(n)+1,t),r=pc(a.abs(),!1,e+ja(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return Cr(new t(e),ja(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,a,n,i,l,c=this,u=c.constructor,f=12,p=+(e=new u(e));if(!e.s)return new u(Xs);if(c=new u(c),!c.s){if(e.s<1)throw Error(Pn+"Infinity");return c}if(c.eq(Xs))return c;if(a=u.precision,e.eq(Xs))return Cr(c,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=p<0?-p:p)<=fF){for(n=new u(Xs),t=Math.ceil(a/Lr+4),Wr=!1;r%2&&(n=n.times(c),P5(n.d,t)),r=ju(r/2),r!==0;)c=c.times(c),P5(c.d,t);return Wr=!0,e.s<0?new u(Xs).div(n):Cr(n,a)}}else if(i<0)throw Error(Pn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Wr=!1,n=e.times(D0(c,a+f)),Wr=!0,n=hF(n),n.s=i,n};st.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=ja(n),a=pc(n,r<=i.toExpNeg||r>=i.toExpPos)):(vi(e,1,Nu),t===void 0?t=i.rounding:vi(t,0,8),n=Cr(new i(n),e,t),r=ja(n),a=pc(n,e<=r||r<=i.toExpNeg,e)),a};st.toSignificantDigits=st.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(vi(e,1,Nu),t===void 0?t=a.rounding:vi(t,0,8)),Cr(new a(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ja(e),r=e.constructor;return pc(e,t<=r.toExpNeg||t>=r.toExpPos)};function mF(e,t){var r,a,n,i,l,c,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Wr?Cr(t,m):t;if(u=e.d,f=t.d,l=e.e,n=t.e,u=u.slice(),i=l-n,i){for(i<0?(a=u,i=-i,c=f.length):(a=f,n=l,c=u.length),l=Math.ceil(m/Lr),c=l>c?l+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=f.length,c-i<0&&(i=c,a=f,f=u,u=a),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Ua|0,u[i]%=Ua;for(r&&(u.unshift(r),++n),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=n,Wr?Cr(t,m):t}function vi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rc+e)}function fi(e){var t,r,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)a=e[t]+"",r=Lr-a.length,r&&(i+=Gl(r)),i+=a;l=e[t],a=l+"",r=Lr-a.length,r&&(i+=Gl(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var nl=(function(){function e(a,n){var i,l=0,c=a.length;for(a=a.slice();c--;)i=a[c]*n+l,a[c]=i%Ua|0,l=i/Ua|0;return l&&a.unshift(l),a}function t(a,n,i,l){var c,u;if(i!=l)u=i>l?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=n[c]){u=a[c]>n[c]?1:-1;break}return u}function r(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*Ua+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var c,u,f,p,m,x,v,y,b,S,_,w,E,O,A,T,N,D,L=a.constructor,M=a.s==n.s?1:-1,k=a.d,I=n.d;if(!a.s)return new L(a);if(!n.s)throw Error(Pn+"Division by zero");for(u=a.e-n.e,N=I.length,A=k.length,v=new L(M),y=v.d=[],f=0;I[f]==(k[f]||0);)++f;if(I[f]>(k[f]||0)&&--u,i==null?w=i=L.precision:l?w=i+(ja(a)-ja(n))+1:w=i,w<0)return new L(0);if(w=w/Lr+2|0,f=0,N==1)for(p=0,I=I[0],w++;(f<A||p)&&w--;f++)E=p*Ua+(k[f]||0),y[f]=E/I|0,p=E%I|0;else{for(p=Ua/(I[0]+1)|0,p>1&&(I=e(I,p),k=e(k,p),N=I.length,A=k.length),O=N,b=k.slice(0,N),S=b.length;S<N;)b[S++]=0;D=I.slice(),D.unshift(0),T=I[0],I[1]>=Ua/2&&++T;do p=0,c=t(I,b,N,S),c<0?(_=b[0],N!=S&&(_=_*Ua+(b[1]||0)),p=_/T|0,p>1?(p>=Ua&&(p=Ua-1),m=e(I,p),x=m.length,S=b.length,c=t(m,b,x,S),c==1&&(p--,r(m,N<x?D:I,x))):(p==0&&(c=p=1),m=I.slice()),x=m.length,x<S&&m.unshift(0),r(b,m,S),c==-1&&(S=b.length,c=t(I,b,N,S),c<1&&(p++,r(b,N<S?D:I,S))),S=b.length):c===0&&(p++,b=[0]),y[f++]=p,c&&b[0]?b[S++]=k[O]||0:(b=[k[O]],S=1);while((O++<A||b[0]!==void 0)&&w--)}return y[0]||y.shift(),v.e=u,Cr(v,l?i+ja(v)+1:i)}})();function hF(e,t){var r,a,n,i,l,c,u=0,f=0,p=e.constructor,m=p.precision;if(ja(e)>16)throw Error(FE+ja(e));if(!e.s)return new p(Xs);for(Wr=!1,c=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(a=Math.log(zo(2,f))/Math.LN10*2+5|0,c+=a,r=n=i=new p(Xs),p.precision=c;;){if(n=Cr(n.times(e),c),r=r.times(++u),l=i.plus(nl(n,r,c)),fi(l.d).slice(0,c)===fi(i.d).slice(0,c)){for(;f--;)i=Cr(i.times(i),c);return p.precision=m,t==null?(Wr=!0,Cr(i,m)):i}i=l}}function ja(e){for(var t=e.e*Lr,r=e.d[0];r>=10;r/=10)t++;return t}function F2(e,t,r){if(t>e.LN10.sd())throw Wr=!0,r&&(e.precision=r),Error(Pn+"LN10 precision limit exceeded");return Cr(new e(e.LN10),t)}function Gl(e){for(var t="";e--;)t+="0";return t}function D0(e,t){var r,a,n,i,l,c,u,f,p,m=1,x=10,v=e,y=v.d,b=v.constructor,S=b.precision;if(v.s<1)throw Error(Pn+(v.s?"NaN":"-Infinity"));if(v.eq(Xs))return new b(0);if(t==null?(Wr=!1,f=S):f=t,v.eq(10))return t==null&&(Wr=!0),F2(b,f);if(f+=x,b.precision=f,r=fi(y),a=r.charAt(0),i=ja(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=fi(v.d),a=r.charAt(0),m++;i=ja(v),a>1?(v=new b("0."+r),i++):v=new b(a+"."+r.slice(1))}else return u=F2(b,f+2,S).times(i+""),v=D0(new b(a+"."+r.slice(1)),f-x).plus(u),b.precision=S,t==null?(Wr=!0,Cr(v,S)):v;for(c=l=v=nl(v.minus(Xs),v.plus(Xs),f),p=Cr(v.times(v),f),n=3;;){if(l=Cr(l.times(p),f),u=c.plus(nl(l,new b(n),f)),fi(u.d).slice(0,f)===fi(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(F2(b,f+2,S).times(i+""))),c=nl(c,new b(m),f),b.precision=S,t==null?(Wr=!0,Cr(c,S)):c;c=u,n+=2}}function R5(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=ju(r/Lr),e.d=[],a=(r+1)%Lr,r<0&&(a+=Lr),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Lr;a<n;)e.d.push(+t.slice(a,a+=Lr));t=t.slice(a),a=Lr-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Wr&&(e.e>px||e.e<-px))throw Error(FE+r)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,t,r){var a,n,i,l,c,u,f,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Lr,n=t,f=m[p=0];else{if(p=Math.ceil((a+1)/Lr),i=m.length,p>=i)return e;for(f=i=m[p],l=1;i>=10;i/=10)l++;a%=Lr,n=a-Lr+l}if(r!==void 0&&(i=zo(10,l-n-1),c=f/i%10|0,u=t<0||m[p+1]!==void 0||f%i,u=r<4?(c||u)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(a>0?n>0?f/zo(10,l-n):0:m[p-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=ja(e),m.length=1,t=t-i-1,m[0]=zo(10,(Lr-t%Lr)%Lr),e.e=ju(-t/Lr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=p,i=1,p--):(m.length=p+1,i=zo(10,Lr-a),m[p]=n>0?(f/zo(10,l-n)%zo(10,n)|0)*i:0),u)for(;;)if(p==0){(m[0]+=i)==Ua&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=Ua)break;m[p--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Wr&&(e.e>px||e.e<-px))throw Error(FE+ja(e));return e}function pF(e,t){var r,a,n,i,l,c,u,f,p,m,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Wr?Cr(t,v):t;if(u=e.d,m=t.d,a=t.e,f=e.e,u=u.slice(),l=f-a,l){for(p=l<0,p?(r=u,l=-l,c=m.length):(r=m,a=f,c=u.length),n=Math.max(Math.ceil(v/Lr),c)+2,l>n&&(l=n,r.length=1),r.reverse(),n=l;n--;)r.push(0);r.reverse()}else{for(n=u.length,c=m.length,p=n<c,p&&(c=n),n=0;n<c;n++)if(u[n]!=m[n]){p=u[n]<m[n];break}l=0}for(p&&(r=u,u=m,m=r,t.s=-t.s),c=u.length,n=m.length-c;n>0;--n)u[c++]=0;for(n=m.length;n>l;){if(u[--n]<m[n]){for(i=n;i&&u[--i]===0;)u[i]=Ua-1;--u[i],u[n]+=Ua}u[n]-=m[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Wr?Cr(t,v):t):new x(0)}function pc(e,t,r){var a,n=ja(e),i=fi(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Gl(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Gl(-n-1)+i,r&&(a=r-l)>0&&(i+=Gl(a))):n>=l?(i+=Gl(n+1-l),r&&(a=r-n-1)>0&&(i=i+"."+Gl(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(n+1===l&&(i+="."),i+=Gl(a))),e.s<0?"-"+i:i}function P5(e,t){if(e.length>t)return e.length=t,!0}function xF(e){var t,r,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return R5(l,i.toString())}else if(typeof i!="string")throw Error(rc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Vhe.test(i))R5(l,i);else throw Error(rc+i)}if(n.prototype=st,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=xF,n.config=n.set=Ghe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function Ghe(e){if(!e||typeof e!="object")throw Error(Pn+"Object expected");var t,r,a,n=["precision",1,Nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(ju(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(rc+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(rc+r+": "+a);return this}var UE=xF(Hhe);Xs=new UE(1);const wr=UE;function Whe(e){return Qhe(e)||Khe(e)||Yhe(e)||Xhe()}function Xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(e,t){if(e){if(typeof e=="string")return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}}function Khe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Qhe(e){if(Array.isArray(e))return uN(e)}function uN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Jhe=function(t){return t},gF={},bF=function(t){return t===gF},D5=function(t){return function r(){return arguments.length===0||arguments.length===1&&bF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Zhe=function e(t,r){return t===1?r:D5(function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var l=n.filter(function(c){return c!==gF}).length;return l>=t?r.apply(void 0,n):e(t-l,D5(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=n.map(function(m){return bF(m)?u.shift():m});return r.apply(void 0,Whe(p).concat(u))}))})},Sg=function(t){return Zhe(t.length,t)},fN=function(t,r){for(var a=[],n=t;n<r;++n)a[n-t]=n;return a},epe=Sg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tpe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return Jhe;var n=r.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce(function(c,u){return u(c)},i.apply(void 0,arguments))}},mN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vF=function(t){var r=null,a=null;return function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return r&&i.every(function(c,u){return c===r[u]})||(r=i,a=t.apply(void 0,i)),a}};function rpe(e){var t;return e===0?t=1:t=Math.floor(new wr(e).abs().log(10).toNumber())+1,t}function ape(e,t,r){for(var a=new wr(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}var spe=Sg(function(e,t,r){var a=+e,n=+t;return a+r*(n-a)}),npe=Sg(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),ipe=Sg(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const wg={rangeStep:ape,getDigitCount:rpe,interpolateNumber:spe,uninterpolateNumber:npe,uninterpolateTruncation:ipe};function hN(e){return cpe(e)||ope(e)||yF(e)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cpe(e){if(Array.isArray(e))return pN(e)}function I0(e,t){return fpe(e)||upe(e,t)||yF(e,t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yF(e,t){if(e){if(typeof e=="string")return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function upe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,i=void 0;try{for(var l=e[Symbol.iterator](),c;!(a=(c=l.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(u){n=!0,i=u}finally{try{!a&&l.return!=null&&l.return()}finally{if(n)throw i}}return r}}function fpe(e){if(Array.isArray(e))return e}function SF(e){var t=I0(e,2),r=t[0],a=t[1],n=r,i=a;return r>a&&(n=a,i=r),[n,i]}function wF(e,t,r){if(e.lte(0))return new wr(0);var a=wg.getDigitCount(e.toNumber()),n=new wr(10).pow(a),i=e.div(n),l=a!==1?.05:.1,c=new wr(Math.ceil(i.div(l).toNumber())).add(r).mul(l),u=c.mul(n);return t?u:new wr(Math.ceil(u))}function mpe(e,t,r){var a=1,n=new wr(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new wr(10).pow(wg.getDigitCount(e)-1),n=new wr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new wr(Math.floor(e)))}else e===0?n=new wr(Math.floor((t-1)/2)):r||(n=new wr(Math.floor(e)));var l=Math.floor((t-1)/2),c=tpe(epe(function(u){return n.add(new wr(u-l).mul(a)).toNumber()}),fN);return c(0,t)}function NF(e,t,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var i=wF(new wr(t).sub(e).div(r-1),a,n),l;e<=0&&t>=0?l=new wr(0):(l=new wr(e).add(t).div(2),l=l.sub(new wr(l).mod(i)));var c=Math.ceil(l.sub(e).div(i).toNumber()),u=Math.ceil(new wr(t).sub(l).div(i).toNumber()),f=c+u+1;return f>r?NF(e,t,r,a,n+1):(f<r&&(u=t>0?u+(r-f):u,c=t>0?c:c+(r-f)),{step:i,tickMin:l.sub(new wr(c).mul(i)),tickMax:l.add(new wr(u).mul(i))})}function hpe(e){var t=I0(e,2),r=t[0],a=t[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),c=SF([r,a]),u=I0(c,2),f=u[0],p=u[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(hN(fN(0,n-1).map(function(){return 1/0}))):[].concat(hN(fN(0,n-1).map(function(){return-1/0})),[p]);return r>a?mN(m):m}if(f===p)return mpe(f,n,i);var x=NF(f,p,l,i),v=x.step,y=x.tickMin,b=x.tickMax,S=wg.rangeStep(y,b.add(new wr(.1).mul(v)),v);return r>a?mN(S):S}function ppe(e,t){var r=I0(e,2),a=r[0],n=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=SF([a,n]),c=I0(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0)return[a,n];if(u===f)return[u];var p=Math.max(t,2),m=wF(new wr(f).sub(u).div(p-1),i,0),x=[].concat(hN(wg.rangeStep(new wr(u),new wr(f).sub(new wr(.99).mul(m)),m)),[f]);return a>n?mN(x):x}var xpe=vF(hpe),gpe=vF(ppe),bpe="Invariant failed";function xc(e,t){throw new Error(bpe)}var vpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xx.apply(this,arguments)}function ype(e,t){return jpe(e)||Npe(e,t)||wpe(e,t)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(e,t){if(e){if(typeof e=="string")return I5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(e,t)}}function I5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Npe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function jpe(e){if(Array.isArray(e))return e}function Epe(e,t){if(e==null)return{};var r=Ape(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ape(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cpe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AF(a.key),a)}}function Tpe(e,t,r){return t&&Cpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ope(e,t,r){return t=gx(t),kpe(e,jF()?Reflect.construct(t,r||[],gx(e).constructor):t.apply(e,r))}function kpe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(e)}function Rpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},xN(e,t)}function EF(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=Dpe(e,"string");return Zd(t)=="symbol"?t:t+""}function Dpe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Zd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ng=(function(e){function t(){return _pe(this,t),Ope(this,t,arguments)}return Ppe(t,e),Tpe(t,[{key:"render",value:function(){var a=this.props,n=a.offset,i=a.layout,l=a.width,c=a.dataKey,u=a.data,f=a.dataPointFormatter,p=a.xAxis,m=a.yAxis,x=Epe(a,vpe),v=Ft(x,!1);this.props.direction==="x"&&p.type!=="number"&&xc();var y=u.map(function(b){var S=f(b,c),_=S.x,w=S.y,E=S.value,O=S.errorVal;if(!O)return null;var A=[],T,N;if(Array.isArray(O)){var D=ype(O,2);T=D[0],N=D[1]}else T=N=O;if(i==="vertical"){var L=p.scale,M=w+n,k=M+l,I=M-l,V=L(E-T),q=L(E+N);A.push({x1:q,y1:k,x2:q,y2:I}),A.push({x1:V,y1:M,x2:q,y2:M}),A.push({x1:V,y1:k,x2:V,y2:I})}else if(i==="horizontal"){var z=m.scale,R=_+n,W=R-l,X=R+l,B=z(E-T),ee=z(E+N);A.push({x1:W,y1:ee,x2:X,y2:ee}),A.push({x1:R,y1:B,x2:R,y2:ee}),A.push({x1:W,y1:B,x2:X,y2:B})}return ge.createElement(Kr,xx({className:"recharts-errorBar",key:"bar-".concat(A.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},v),A.map(function(Y){return ge.createElement("line",xx({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ge.createElement(Kr,{className:"recharts-errorBars"},y)}}])})(ge.Component);EF(Ng,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EF(Ng,"displayName","ErrorBar");function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(a){Ipe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ipe(e,t,r){return t=Mpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=Lpe(e,"string");return M0(t)=="symbol"?t:t+""}function Lpe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(M0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _F=function(t){var r=t.children,a=t.formattedGraphicalItems,n=t.legendWidth,i=t.legendContent,l=qs(r,kd);if(!l)return null;var c=kd.defaultProps,u=c!==void 0?Fo(Fo({},c),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(a||[]).reduce(function(p,m){var x=m.item,v=m.props,y=v.sectors||v.data||[];return p.concat(y.map(function(b){return{type:l.props.iconType||x.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(a||[]).map(function(p){var m=p.item,x=m.type.defaultProps,v=x!==void 0?Fo(Fo({},x),m.props):{},y=v.dataKey,b=v.name,S=v.legendType,_=v.hide;return{inactive:_,dataKey:y,type:u.iconType||S||"square",color:BE(m),value:b||y,payload:v}}),Fo(Fo(Fo({},u),kd.getWithHeight(l,n)),{},{payload:f,item:l})};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function L5(e){return zpe(e)||Bpe(e)||Upe(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function Bpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zpe(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(a){Pd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pd(e,t,r){return t=qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qpe(e){var t=$pe(e,"string");return L0(t)=="symbol"?t:t+""}function $pe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(L0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(e,t,r){return zt(e)||zt(t)?r:Ra(t)?On(e,t,r):Ot(t)?t(e):r}function Yf(e,t,r,a){var n=zhe(e,function(c){return Js(c,t)});if(r==="number"){var i=n.filter(function(c){return We(c)||parseFloat(c)});return i.length?[yg(i),Ql(i)]:[1/0,-1/0]}var l=a?n.filter(function(c){return!zt(c)}):n;return l.map(function(c){return Ra(c)||c instanceof Date?c:""})}var Hpe=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,c=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,f=0;f<c;f++){var p=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,x=f>=c-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Xn(m-p)!==Xn(x-m)){var y=[];if(Xn(x-m)===Xn(u[1]-u[0])){v=x;var b=m+u[1]-u[0];y[0]=Math.min(b,(b+p)/2),y[1]=Math.max(b,(b+p)/2)}else{v=p;var S=x+u[1]-u[0];y[0]=Math.min(m,(S+m)/2),y[1]=Math.max(m,(S+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>_[0]&&t<=_[1]||t>=y[0]&&t<=y[1]){l=n[f].index;break}}else{var w=Math.min(p,x),E=Math.max(p,x);if(t>(w+m)/2&&t<=(E+m)/2){l=n[f].index;break}}}else for(var O=0;O<c;O++)if(O===0&&t<=(a[O].coordinate+a[O+1].coordinate)/2||O>0&&O<c-1&&t>(a[O].coordinate+a[O-1].coordinate)/2&&t<=(a[O].coordinate+a[O+1].coordinate)/2||O===c-1&&t>(a[O].coordinate+a[O-1].coordinate)/2){l=a[O].index;break}return l},BE=function(t){var r,a=t,n=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ra(ra({},t.type.defaultProps),t.props):t.props,l=i.stroke,c=i.fill,u;switch(n){case"Line":u=l;break;case"Area":case"Radar":u=l&&l!=="none"?l:c;break;default:u=c;break}return u},Vpe=function(t){var r=t.barSize,a=t.totalSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var l={},c=Object.keys(i),u=0,f=c.length;u<f;u++)for(var p=i[c[u]].stackGroups,m=Object.keys(p),x=0,v=m.length;x<v;x++){var y=p[m[x]],b=y.items,S=y.cateAxisId,_=b.filter(function(N){return al(N.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,E=w!==void 0?ra(ra({},w),_[0].props):_[0].props,O=E.barSize,A=E[S];l[A]||(l[A]=[]);var T=zt(O)?r:O;l[A].push({item:_[0],stackList:_.slice(1),barSize:zt(T)?void 0:hc(T,a,0)})}}return l},Gpe=function(t){var r=t.barGap,a=t.barCategoryGap,n=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,c=t.maxBarSize,u=l.length;if(u<1)return null;var f=hc(r,n,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var x=!1,v=n/u,y=l.reduce(function(O,A){return O+A.barSize||0},0);y+=(u-1)*f,y>=n&&(y-=(u-1)*f,f=0),y>=n&&v>0&&(x=!0,v*=.9,y=u*v);var b=(n-y)/2>>0,S={offset:b-f,size:0};p=l.reduce(function(O,A){var T={item:A.item,position:{offset:S.offset+S.size+f,size:x?v:A.barSize}},N=[].concat(L5(O),[T]);return S=N[N.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(D){N.push({item:D,position:S})}),N},m)}else{var _=hc(a,n,0,!0);n-2*_-(u-1)*f<=0&&(f=0);var w=(n-2*_-(u-1)*f)/u;w>1&&(w>>=0);var E=c===+c?Math.min(w,c):w;p=l.reduce(function(O,A,T){var N=[].concat(L5(O),[{item:A.item,position:{offset:_+(w+f)*T+(w-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(D){N.push({item:D,position:N[N.length-1].position})}),N},m)}return p},Wpe=function(t,r,a,n){var i=a.children,l=a.width,c=a.margin,u=l-(c.left||0)-(c.right||0),f=_F({children:i,legendWidth:u});if(f){var p=n||{},m=p.width,x=p.height,v=f.align,y=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&v!=="center"&&We(t[v]))return ra(ra({},t),{},Pd({},v,t[v]+(m||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&y!=="middle"&&We(t[y]))return ra(ra({},t),{},Pd({},y,t[y]+(x||0)))}return t},Xpe=function(t,r,a){return zt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},CF=function(t,r,a,n,i){var l=r.props.children,c=Jn(l,Ng).filter(function(f){return Xpe(n,i,f.props.direction)});if(c&&c.length){var u=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=Js(p,a);if(zt(m))return f;var x=Array.isArray(m)?[yg(m),Ql(m)]:[m,m],v=u.reduce(function(y,b){var S=Js(p,b,0),_=x[0]-Math.abs(Array.isArray(S)?S[0]:S),w=x[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(_,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},Ype=function(t,r,a,n,i){var l=r.map(function(c){return CF(t,c,a,i,n)}).filter(function(c){return!zt(c)});return l&&l.length?l.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},TF=function(t,r,a,n,i){var l=r.map(function(u){var f=u.props.dataKey;return a==="number"&&f&&CF(t,u,f,n)||Yf(t,f,a,i)});if(a==="number")return l.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);var c={};return l.reduce(function(u,f){for(var p=0,m=f.length;p<m;p++)c[f[p]]||(c[f[p]]=!0,u.push(f[p]));return u},[])},OF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kF=function(t,r,a,n){if(n)return t.map(function(u){return u.coordinate});var i,l,c=t.map(function(u){return u.coordinate===r&&(i=!0),u.coordinate===a&&(l=!0),u.coordinate});return i||c.push(r),l||c.push(a),c},Ki=function(t,r,a){if(!t)return null;var n=t.scale,i=t.duplicateDomain,l=t.type,c=t.range,u=t.realScaleType==="scaleBand"?n.bandwidth()/2:2,f=(r||a)&&l==="category"&&n.bandwidth?n.bandwidth()/u:0;if(f=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Xn(c[0]-c[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:n(x)+f,value:m,offset:f}});return p.filter(function(m){return!vu(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:n(m)+f,value:m,index:x,offset:f}}):n.ticks&&!a?n.ticks(t.tickCount).map(function(m){return{coordinate:n(m)+f,value:m,offset:f}}):n.domain().map(function(m,x){return{coordinate:n(m)+f,value:i?i[m]:m,index:x,offset:f}})},U2=new WeakMap,ip=function(t,r){if(typeof r!="function")return t;U2.has(t)||U2.set(t,new WeakMap);var a=U2.get(t);if(a.has(r))return a.get(r);var n=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,n),n},Kpe=function(t,r,a){var n=t.scale,i=t.type,l=t.layout,c=t.axisType;if(n==="auto")return l==="radial"&&c==="radiusAxis"?{scale:C0(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:ux(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Xf(),realScaleType:"point"}:i==="category"?{scale:C0(),realScaleType:"band"}:{scale:ux(),realScaleType:"linear"};if(mc(n)){var u="scale".concat(lg(n));return{scale:(N5[u]||Xf)(),realScaleType:N5[u]?u:"point"}}return Ot(n)?{scale:n}:{scale:Xf(),realScaleType:"point"}},U5=1e-4,Qpe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,n=t.range(),i=Math.min(n[0],n[1])-U5,l=Math.max(n[0],n[1])+U5,c=t(r[0]),u=t(r[a-1]);(c<i||c>l||u<i||u>l)&&t.domain([r[0],r[a-1]])}},Jpe=function(t,r){if(!t)return null;for(var a=0,n=t.length;a<n;a++)if(t[a].item===r)return t[a].position;return null},Zpe=function(t,r){if(!r||r.length!==2||!We(r[0])||!We(r[1]))return t;var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!We(t[0])||t[0]<a)&&(i[0]=a),(!We(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<a&&(i[1]=a),i},exe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,l=0,c=0;c<r;++c){var u=vu(t[c][a][1])?t[c][a][0]:t[c][a][1];u>=0?(t[c][a][0]=i,t[c][a][1]=i+u,i=t[c][a][1]):(t[c][a][0]=l,t[c][a][1]=l+u,l=t[c][a][1])}},txe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,l=0;l<r;++l){var c=vu(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},rxe={sign:exe,expand:Uce,none:Vd,silhouette:Bce,wiggle:zce,positive:txe},axe=function(t,r,a){var n=r.map(function(c){return c.props.dataKey}),i=rxe[a],l=Fce().keys(n).value(function(c,u){return+Js(c,u,0)}).order(Ww).offset(i);return l(t)},sxe=function(t,r,a,n,i,l){if(!t)return null;var c=l?r.reverse():r,u={},f=c.reduce(function(m,x){var v,y=(v=x.type)!==null&&v!==void 0&&v.defaultProps?ra(ra({},x.type.defaultProps),x.props):x.props,b=y.stackId,S=y.hide;if(S)return m;var _=y[a],w=m[_]||{hasStack:!1,stackGroups:{}};if(Ra(b)){var E=w.stackGroups[b]||{numericAxisId:a,cateAxisId:n,items:[]};E.items.push(x),w.hasStack=!0,w.stackGroups[b]=E}else w.stackGroups[xm("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[x]};return ra(ra({},m),{},Pd({},_,w))},u),p={};return Object.keys(f).reduce(function(m,x){var v=f[x];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,S){var _=v.stackGroups[S];return ra(ra({},b),{},Pd({},S,{numericAxisId:a,cateAxisId:n,items:_.items,stackedData:axe(t,_.items,i)}))},y)}return ra(ra({},m),{},Pd({},x,v))},p)},nxe=function(t,r){var a=r.realScaleType,n=r.type,i=r.tickCount,l=r.originalDomain,c=r.allowDecimals,u=a||r.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&n==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=xpe(f,i,c);return t.domain([yg(p),Ql(p)]),{niceTicks:p}}if(i&&n==="number"){var m=t.domain(),x=gpe(m,i,c);return{niceTicks:x}}return null};function B5(e){var t=e.axis,r=e.ticks,a=e.bandSize,n=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zt(n[t.dataKey])){var c=Vp(r,"value",n[t.dataKey]);if(c)return c.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var u=Js(n,zt(l)?t.dataKey:l);return zt(u)?null:t.scale(u)}var z5=function(t){var r=t.axis,a=t.ticks,n=t.offset,i=t.bandSize,l=t.entry,c=t.index;if(r.type==="category")return a[c]?a[c].coordinate+n:null;var u=Js(l,r.dataKey,r.domain[c]);return zt(u)?null:r.scale(u)-i/2+n},ixe=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return n<=0&&i>=0?0:i<0?i:n}return a[0]},lxe=function(t,r){var a,n=(a=t.type)!==null&&a!==void 0&&a.defaultProps?ra(ra({},t.type.defaultProps),t.props):t.props,i=n.stackId;if(Ra(i)){var l=r[i];if(l){var c=l.items.indexOf(t);return c>=0?l.stackedData[c]:null}}return null},oxe=function(t){return t.reduce(function(r,a){return[yg(a.concat([r[0]]).filter(We)),Ql(a.concat([r[1]]).filter(We))]},[1/0,-1/0])},RF=function(t,r,a){return Object.keys(t).reduce(function(n,i){var l=t[i],c=l.stackedData,u=c.reduce(function(f,p){var m=oxe(p.slice(r,a+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},q5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bN=function(t,r,a){if(Ot(t))return t(r,a);if(!Array.isArray(t))return r;var n=[];if(We(t[0]))n[0]=a?t[0]:Math.min(t[0],r[0]);else if(q5.test(t[0])){var i=+q5.exec(t[0])[1];n[0]=r[0]-i}else Ot(t[0])?n[0]=t[0](r[0]):n[0]=r[0];if(We(t[1]))n[1]=a?t[1]:Math.max(t[1],r[1]);else if($5.test(t[1])){var l=+$5.exec(t[1])[1];n[1]=r[1]+l}else Ot(t[1])?n[1]=t[1](r[1]):n[1]=r[1];return n},bx=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!a||n>0)return n}if(t&&r&&r.length>=2){for(var i=hE(r,function(m){return m.coordinate}),l=1/0,c=1,u=i.length;c<u;c++){var f=i[c],p=i[c-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},H5=function(t,r,a){return!t||!t.length||P0(t,On(a,"type.defaultProps.domain"))?r:t},PF=function(t,r){var a=t.type.defaultProps?ra(ra({},t.type.defaultProps),t.props):t.props,n=a.dataKey,i=a.name,l=a.unit,c=a.formatter,u=a.tooltipType,f=a.chartType,p=a.hide;return ra(ra({},Ft(t,!1)),{},{dataKey:n,unit:l,formatter:c,name:i||n,color:BE(t),value:Js(r,n),type:u,payload:r,chartType:f,hide:p})};function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function V5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function G5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(r),!0).forEach(function(a){cxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cxe(e,t,r){return t=dxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dxe(e){var t=uxe(e,"string");return F0(t)=="symbol"?t:t+""}function uxe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(F0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=Math.PI/180,fxe=function(t){return t*180/Math.PI},Ja=function(t,r,a,n){return{x:t+Math.cos(-vx*n)*a,y:r+Math.sin(-vx*n)*a}},mxe=function(t,r){var a=t.x,n=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-l,2))},hxe=function(t,r){var a=t.x,n=t.y,i=r.cx,l=r.cy,c=mxe({x:a,y:n},{x:i,y:l});if(c<=0)return{radius:c};var u=(a-i)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:fxe(f),angleInRadian:f}},pxe=function(t){var r=t.startAngle,a=t.endAngle,n=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(n,i);return{startAngle:r-l*360,endAngle:a-l*360}},xxe=function(t,r){var a=r.startAngle,n=r.endAngle,i=Math.floor(a/360),l=Math.floor(n/360),c=Math.min(i,l);return t+c*360},W5=function(t,r){var a=t.x,n=t.y,i=hxe({x:a,y:n},r),l=i.radius,c=i.angle,u=r.innerRadius,f=r.outerRadius;if(l<u||l>f)return!1;if(l===0)return!0;var p=pxe(r),m=p.startAngle,x=p.endAngle,v=c,y;if(m<=x){for(;v>x;)v-=360;for(;v<m;)v+=360;y=v>=m&&v<=x}else{for(;v>m;)v-=360;for(;v<x;)v+=360;y=v>=x&&v<=m}return y?G5(G5({},r),{},{radius:l,angle:xxe(v,r)}):null};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}var gxe=["offset"];function bxe(e){return wxe(e)||Sxe(e)||yxe(e)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(e,t){if(e){if(typeof e=="string")return vN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(e,t)}}function Sxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wxe(e){if(Array.isArray(e))return vN(e)}function vN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Nxe(e,t){if(e==null)return{};var r=jxe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function jxe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function X5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(r),!0).forEach(function(a){Exe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Exe(e,t,r){return t=Axe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axe(e){var t=_xe(e,"string");return U0(t)=="symbol"?t:t+""}function _xe(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(U0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B0.apply(this,arguments)}var Cxe=function(t){var r=t.value,a=t.formatter,n=zt(t.children)?r:t.children;return Ot(a)?a(n):n},Txe=function(t,r){var a=Xn(r-t),n=Math.min(Math.abs(r-t),360);return a*n},Oxe=function(t,r,a){var n=t.position,i=t.viewBox,l=t.offset,c=t.className,u=i,f=u.cx,p=u.cy,m=u.innerRadius,x=u.outerRadius,v=u.startAngle,y=u.endAngle,b=u.clockWise,S=(m+x)/2,_=Txe(v,y),w=_>=0?1:-1,E,O;n==="insideStart"?(E=v+w*l,O=b):n==="insideEnd"?(E=y-w*l,O=!b):n==="end"&&(E=y+w*l,O=b),O=_<=0?O:!O;var A=Ja(f,p,S,E),T=Ja(f,p,S,E+(O?1:-1)*359),N="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(T.x,",").concat(T.y),D=zt(t.id)?xm("recharts-radial-line-"):t.id;return ge.createElement("text",B0({},a,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",c)}),ge.createElement("defs",null,ge.createElement("path",{id:D,d:N})),ge.createElement("textPath",{xlinkHref:"#".concat(D)},r))},kxe=function(t){var r=t.viewBox,a=t.offset,n=t.position,i=r,l=i.cx,c=i.cy,u=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,x=(p+m)/2;if(n==="outside"){var v=Ja(l,c,f+a,x),y=v.x,b=v.y;return{x:y,y:b,textAnchor:y>=l?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var S=(u+f)/2,_=Ja(l,c,S,x),w=_.x,E=_.y;return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Rxe=function(t){var r=t.viewBox,a=t.parentViewBox,n=t.offset,i=t.position,l=r,c=l.x,u=l.y,f=l.width,p=l.height,m=p>=0?1:-1,x=m*n,v=m>0?"end":"start",y=m>0?"start":"end",b=f>=0?1:-1,S=b*n,_=b>0?"end":"start",w=b>0?"start":"end";if(i==="top"){var E={x:c+f/2,y:u-m*n,textAnchor:"middle",verticalAnchor:v};return Ta(Ta({},E),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var O={x:c+f/2,y:u+p+x,textAnchor:"middle",verticalAnchor:y};return Ta(Ta({},O),a?{height:Math.max(a.y+a.height-(u+p),0),width:f}:{})}if(i==="left"){var A={x:c-S,y:u+p/2,textAnchor:_,verticalAnchor:"middle"};return Ta(Ta({},A),a?{width:Math.max(A.x-a.x,0),height:p}:{})}if(i==="right"){var T={x:c+f+S,y:u+p/2,textAnchor:w,verticalAnchor:"middle"};return Ta(Ta({},T),a?{width:Math.max(a.x+a.width-T.x,0),height:p}:{})}var N=a?{width:f,height:p}:{};return i==="insideLeft"?Ta({x:c+S,y:u+p/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Ta({x:c+f-S,y:u+p/2,textAnchor:_,verticalAnchor:"middle"},N):i==="insideTop"?Ta({x:c+f/2,y:u+x,textAnchor:"middle",verticalAnchor:y},N):i==="insideBottom"?Ta({x:c+f/2,y:u+p-x,textAnchor:"middle",verticalAnchor:v},N):i==="insideTopLeft"?Ta({x:c+S,y:u+x,textAnchor:w,verticalAnchor:y},N):i==="insideTopRight"?Ta({x:c+f-S,y:u+x,textAnchor:_,verticalAnchor:y},N):i==="insideBottomLeft"?Ta({x:c+S,y:u+p-x,textAnchor:w,verticalAnchor:v},N):i==="insideBottomRight"?Ta({x:c+f-S,y:u+p-x,textAnchor:_,verticalAnchor:v},N):bu(i)&&(We(i.x)||Vo(i.x))&&(We(i.y)||Vo(i.y))?Ta({x:c+hc(i.x,f),y:u+hc(i.y,p),textAnchor:"end",verticalAnchor:"end"},N):Ta({x:c+f/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Pxe=function(t){return"cx"in t&&We(t.cx)};function ns(e){var t=e.offset,r=t===void 0?5:t,a=Nxe(e,gxe),n=Ta({offset:r},a),i=n.viewBox,l=n.position,c=n.value,u=n.children,f=n.content,p=n.className,m=p===void 0?"":p,x=n.textBreakAll;if(!i||zt(c)&&zt(u)&&!P.isValidElement(f)&&!Ot(f))return null;if(P.isValidElement(f))return P.cloneElement(f,n);var v;if(Ot(f)){if(v=P.createElement(f,n),P.isValidElement(v))return v}else v=Cxe(n);var y=Pxe(i),b=Ft(n,!0);if(y&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Oxe(n,v,b);var S=y?kxe(n):Rxe(n);return ge.createElement(sx,B0({className:Qt("recharts-label",m)},b,S,{breakAll:x}),v)}ns.displayName="Label";var DF=function(t){var r=t.cx,a=t.cy,n=t.angle,i=t.startAngle,l=t.endAngle,c=t.r,u=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,x=t.y,v=t.top,y=t.left,b=t.width,S=t.height,_=t.clockWise,w=t.labelViewBox;if(w)return w;if(We(b)&&We(S)){if(We(m)&&We(x))return{x:m,y:x,width:b,height:S};if(We(v)&&We(y))return{x:v,y,width:b,height:S}}return We(m)&&We(x)?{x:m,y:x,width:0,height:0}:We(r)&&We(a)?{cx:r,cy:a,startAngle:i||n||0,endAngle:l||n||0,innerRadius:f||0,outerRadius:p||u||c||0,clockWise:_}:t.viewBox?t.viewBox:{}},Dxe=function(t,r){return t?t===!0?ge.createElement(ns,{key:"label-implicit",viewBox:r}):Ra(t)?ge.createElement(ns,{key:"label-implicit",viewBox:r,value:t}):P.isValidElement(t)?t.type===ns?P.cloneElement(t,{key:"label-implicit",viewBox:r}):ge.createElement(ns,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?ge.createElement(ns,{key:"label-implicit",content:t,viewBox:r}):bu(t)?ge.createElement(ns,B0({viewBox:r},t,{key:"label-implicit"})):null:null},Ixe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var n=t.children,i=DF(t),l=Jn(n,ns).map(function(u,f){return P.cloneElement(u,{viewBox:r||i,key:"label-".concat(f)})});if(!a)return l;var c=Dxe(t.label,r||i);return[c].concat(bxe(l))};ns.parseViewBox=DF;ns.renderCallByParent=Ixe;var B2,Y5;function Mxe(){if(Y5)return B2;Y5=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return B2=e,B2}var Lxe=Mxe();const Fxe=jr(Lxe);function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var Uxe=["valueAccessor"],Bxe=["data","dataKey","clockWise","id","textBreakAll"];function zxe(e){return Vxe(e)||Hxe(e)||$xe(e)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xe(e,t){if(e){if(typeof e=="string")return yN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yN(e,t)}}function Hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vxe(e){if(Array.isArray(e))return yN(e)}function yN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yx.apply(this,arguments)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Q5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(a){Gxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gxe(e,t,r){return t=Wxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxe(e){var t=Xxe(e,"string");return z0(t)=="symbol"?t:t+""}function Xxe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(z0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J5(e,t){if(e==null)return{};var r=Yxe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Yxe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Kxe=function(t){return Array.isArray(t.value)?Fxe(t.value):t.value};function to(e){var t=e.valueAccessor,r=t===void 0?Kxe:t,a=J5(e,Uxe),n=a.data,i=a.dataKey,l=a.clockWise,c=a.id,u=a.textBreakAll,f=J5(a,Bxe);return!n||!n.length?null:ge.createElement(Kr,{className:"recharts-label-list"},n.map(function(p,m){var x=zt(i)?r(p,m):Js(p&&p.payload,i),v=zt(c)?{}:{id:"".concat(c,"-").concat(m)};return ge.createElement(ns,yx({},Ft(p,!0),f,v,{parentViewBox:p.parentViewBox,value:x,textBreakAll:u,viewBox:ns.parseViewBox(zt(l)?p:Q5(Q5({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}to.displayName="LabelList";function Qxe(e,t){return e?e===!0?ge.createElement(to,{key:"labelList-implicit",data:t}):ge.isValidElement(e)||Ot(e)?ge.createElement(to,{key:"labelList-implicit",data:t,content:e}):bu(e)?ge.createElement(to,yx({data:t},e,{key:"labelList-implicit"})):null:null}function Jxe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,n=Jn(a,to).map(function(l,c){return P.cloneElement(l,{data:t,key:"labelList-".concat(c)})});if(!r)return n;var i=Qxe(e.label,t);return[i].concat(zxe(n))}to.renderCallByParent=Jxe;function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},SN.apply(this,arguments)}function Z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function e3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(r),!0).forEach(function(a){Zxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zxe(e,t,r){return t=ege(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ege(e){var t=tge(e,"string");return q0(t)=="symbol"?t:t+""}function tge(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(q0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rge=function(t,r){var a=Xn(r-t),n=Math.min(Math.abs(r-t),359.999);return a*n},lp=function(t){var r=t.cx,a=t.cy,n=t.radius,i=t.angle,l=t.sign,c=t.isExternal,u=t.cornerRadius,f=t.cornerIsExternal,p=u*(c?1:-1)+n,m=Math.asin(u/p)/vx,x=f?i:i+l*m,v=Ja(r,a,p,x),y=Ja(r,a,n,x),b=f?i-l*m:i,S=Ja(r,a,p*Math.cos(m*vx),b);return{center:v,circleTangency:y,lineTangency:S,theta:m}},IF=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,l=t.startAngle,c=t.endAngle,u=rge(l,c),f=l+u,p=Ja(r,a,i,l),m=Ja(r,a,i,f),x="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var v=Ja(r,a,n,l),y=Ja(r,a,n,f);x+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},age=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,c=t.forceCornerRadius,u=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=Xn(p-f),x=lp({cx:r,cy:a,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:u}),v=x.circleTangency,y=x.lineTangency,b=x.theta,S=lp({cx:r,cy:a,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),_=S.circleTangency,w=S.lineTangency,E=S.theta,O=u?Math.abs(f-p):Math.abs(f-p)-b-E;if(O<0)return c?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):IF({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:f,endAngle:p});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var T=lp({cx:r,cy:a,radius:n,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),N=T.circleTangency,D=T.lineTangency,L=T.theta,M=lp({cx:r,cy:a,radius:n,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),k=M.circleTangency,I=M.lineTangency,V=M.theta,q=u?Math.abs(f-p):Math.abs(f-p)-L-V;if(q<0&&l===0)return"".concat(A,"L").concat(r,",").concat(a,"Z");A+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else A+="L".concat(r,",").concat(a,"Z");return A},sge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MF=function(t){var r=e3(e3({},sge),t),a=r.cx,n=r.cy,i=r.innerRadius,l=r.outerRadius,c=r.cornerRadius,u=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,x=r.className;if(l<i||p===m)return null;var v=Qt("recharts-sector",x),y=l-i,b=hc(c,y,0,!0),S;return b>0&&Math.abs(p-m)<360?S=age({cx:a,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(b,y/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:m}):S=IF({cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),ge.createElement("path",SN({},Ft(r,!0),{className:v,d:S,role:"img"}))};function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wN.apply(this,arguments)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function r3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(a){nge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nge(e,t,r){return t=ige(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ige(e){var t=lge(e,"string");return $0(t)=="symbol"?t:t+""}function lge(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if($0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3={curveBasisClosed:_ce,curveBasisOpen:Cce,curveBasis:Ace,curveBumpX:fce,curveBumpY:mce,curveLinearClosed:Tce,curveLinear:cg,curveMonotoneX:Oce,curveMonotoneY:kce,curveNatural:Rce,curveStep:Pce,curveStepAfter:Ice,curveStepBefore:Dce},op=function(t){return t.x===+t.x&&t.y===+t.y},Ef=function(t){return t.x},Af=function(t){return t.y},oge=function(t,r){if(Ot(t))return t;var a="curve".concat(lg(t));return(a==="curveMonotone"||a==="curveBump")&&r?a3["".concat(a).concat(r==="vertical"?"Y":"X")]:a3[a]||cg},cge=function(t){var r=t.type,a=r===void 0?"linear":r,n=t.points,i=n===void 0?[]:n,l=t.baseLine,c=t.layout,u=t.connectNulls,f=u===void 0?!1:u,p=oge(a,c),m=f?i.filter(function(b){return op(b)}):i,x;if(Array.isArray(l)){var v=f?l.filter(function(b){return op(b)}):l,y=m.map(function(b,S){return r3(r3({},b),{},{base:v[S]})});return c==="vertical"?x=Zh().y(Af).x1(Ef).x0(function(b){return b.base.x}):x=Zh().x(Ef).y1(Af).y0(function(b){return b.base.y}),x.defined(op).curve(p),x(y)}return c==="vertical"&&We(l)?x=Zh().y(Af).x1(Ef).x0(l):We(l)?x=Zh().x(Ef).y1(Af).y0(l):x=B8().x(Ef).y(Af),x.defined(op).curve(p),x(m)},Kf=function(t){var r=t.className,a=t.points,n=t.path,i=t.pathRef;if((!a||!a.length)&&!n)return null;var l=a&&a.length?cge(t):n;return P.createElement("path",wN({},Ft(t,!1),Gp(t),{className:Qt("recharts-curve",r),d:l,ref:i}))},z2={exports:{}},q2,s3;function dge(){if(s3)return q2;s3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return q2=e,q2}var $2,n3;function uge(){if(n3)return $2;n3=1;var e=dge();function t(){}function r(){}return r.resetWarningCache=t,$2=function(){function a(l,c,u,f,p,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}a.isRequired=a;function n(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},$2}var i3;function fge(){return i3||(i3=1,z2.exports=uge()()),z2.exports}var mge=fge();const cr=jr(mge);var hge=Object.getOwnPropertyNames,pge=Object.getOwnPropertySymbols,xge=Object.prototype.hasOwnProperty;function l3(e,t){return function(a,n,i){return e(a,n,i)&&t(a,n,i)}}function cp(e){return function(r,a,n){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,n);var i=n.cache,l=i.get(r),c=i.get(a);if(l&&c)return l===a&&c===r;i.set(r,a),i.set(a,r);var u=e(r,a,n);return i.delete(r),i.delete(a),u}}function gge(e){return e!=null?e[Symbol.toStringTag]:void 0}function o3(e){return hge(e).concat(pge(e))}var bge=Object.hasOwn||(function(e,t){return xge.call(e,t)});function Cc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vge="__v",yge="__o",Sge="_owner",c3=Object.getOwnPropertyDescriptor,d3=Object.keys;function wge(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Nge(e,t){return Cc(e.getTime(),t.getTime())}function jge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ege(e,t){return e===t}function u3(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.entries(),l,c,u=0;(l=i.next())&&!l.done;){for(var f=t.entries(),p=!1,m=0;(c=f.next())&&!c.done;){if(n[m]){m++;continue}var x=l.value,v=c.value;if(r.equals(x[0],v[0],u,m,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){p=n[m]=!0;break}m++}if(!p)return!1;u++}return!0}var Age=Cc;function _ge(e,t,r){var a=d3(e),n=a.length;if(d3(t).length!==n)return!1;for(;n-- >0;)if(!LF(e,t,r,a[n]))return!1;return!0}function _f(e,t,r){var a=o3(e),n=a.length;if(o3(t).length!==n)return!1;for(var i,l,c;n-- >0;)if(i=a[n],!LF(e,t,r,i)||(l=c3(e,i),c=c3(t,i),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Cge(e,t){return Cc(e.valueOf(),t.valueOf())}function Tge(e,t){return e.source===t.source&&e.flags===t.flags}function f3(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.values(),l,c;(l=i.next())&&!l.done;){for(var u=t.values(),f=!1,p=0;(c=u.next())&&!c.done;){if(!n[p]&&r.equals(l.value,c.value,l.value,c.value,e,t,r)){f=n[p]=!0;break}p++}if(!f)return!1}return!0}function Oge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function LF(e,t,r,a){return(a===Sge||a===yge||a===vge)&&(e.$$typeof||t.$$typeof)?!0:bge(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Rge="[object Arguments]",Pge="[object Boolean]",Dge="[object Date]",Ige="[object Error]",Mge="[object Map]",Lge="[object Number]",Fge="[object Object]",Uge="[object RegExp]",Bge="[object Set]",zge="[object String]",qge="[object URL]",$ge=Array.isArray,m3=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,h3=Object.assign,Hge=Object.prototype.toString.call.bind(Object.prototype.toString);function Vge(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,n=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,c=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,x=e.areUrlsEqual,v=e.unknownTagComparators;return function(b,S,_){if(b===S)return!0;if(b==null||S==null)return!1;var w=typeof b;if(w!==typeof S)return!1;if(w!=="object")return w==="number"?l(b,S,_):w==="function"?n(b,S,_):!1;var E=b.constructor;if(E!==S.constructor)return!1;if(E===Object)return c(b,S,_);if($ge(b))return t(b,S,_);if(m3!=null&&m3(b))return m(b,S,_);if(E===Date)return r(b,S,_);if(E===RegExp)return f(b,S,_);if(E===Map)return i(b,S,_);if(E===Set)return p(b,S,_);var O=Hge(b);if(O===Dge)return r(b,S,_);if(O===Uge)return f(b,S,_);if(O===Mge)return i(b,S,_);if(O===Bge)return p(b,S,_);if(O===Fge)return typeof b.then!="function"&&typeof S.then!="function"&&c(b,S,_);if(O===qge)return x(b,S,_);if(O===Ige)return a(b,S,_);if(O===Rge)return c(b,S,_);if(O===Pge||O===Lge||O===zge)return u(b,S,_);if(v){var A=v[O];if(!A){var T=gge(b);T&&(A=v[T])}if(A)return A(b,S,_)}return!1}}function Gge(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,n={areArraysEqual:a?_f:wge,areDatesEqual:Nge,areErrorsEqual:jge,areFunctionsEqual:Ege,areMapsEqual:a?l3(u3,_f):u3,areNumbersEqual:Age,areObjectsEqual:a?_f:_ge,arePrimitiveWrappersEqual:Cge,areRegExpsEqual:Tge,areSetsEqual:a?l3(f3,_f):f3,areTypedArraysEqual:a?_f:Oge,areUrlsEqual:kge,unknownTagComparators:void 0};if(r&&(n=h3({},n,r(n))),t){var i=cp(n.areArraysEqual),l=cp(n.areMapsEqual),c=cp(n.areObjectsEqual),u=cp(n.areSetsEqual);n=h3({},n,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:u})}return n}function Wge(e){return function(t,r,a,n,i,l,c){return e(t,r,c)}}function Xge(e){var t=e.circular,r=e.comparator,a=e.createState,n=e.equals,i=e.strict;if(a)return function(u,f){var p=a(),m=p.cache,x=m===void 0?t?new WeakMap:void 0:m,v=p.meta;return r(u,f,{cache:x,equals:n,meta:v,strict:i})};if(t)return function(u,f){return r(u,f,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var l={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,f){return r(u,f,l)}}var Yge=bo();bo({strict:!0});bo({circular:!0});bo({circular:!0,strict:!0});bo({createInternalComparator:function(){return Cc}});bo({strict:!0,createInternalComparator:function(){return Cc}});bo({circular:!0,createInternalComparator:function(){return Cc}});bo({circular:!0,createInternalComparator:function(){return Cc},strict:!0});function bo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,n=e.createState,i=e.strict,l=i===void 0?!1:i,c=Gge(e),u=Vge(c),f=a?a(u):Wge(u);return Xge({circular:r,comparator:u,createState:n,equals:f,strict:l})}function Kge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function p3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function n(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Kge(n)};requestAnimationFrame(a)}function NN(e){"@babel/helpers - typeof";return NN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NN(e)}function Qge(e){return tbe(e)||ebe(e)||Zge(e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(e,t){if(e){if(typeof e=="string")return x3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(e,t)}}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ebe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tbe(e){if(Array.isArray(e))return e}function rbe(){var e={},t=function(){return null},r=!1,a=function n(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,c=Qge(l),u=c[0],f=c.slice(1);if(typeof u=="number"){p3(n.bind(null,f),u);return}n(u),p3(n.bind(null,f));return}NN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(a){FF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FF(e,t,r){return t=abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=sbe(e,"string");return H0(t)==="symbol"?t:String(t)}function sbe(e,t){if(H0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(H0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nbe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,n){return a.filter(function(i){return n.includes(i)})})},ibe=function(t){return t},lbe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qf=function(t,r){return Object.keys(r).reduce(function(a,n){return b3(b3({},a),{},FF({},n,t(n,r[n])))},{})},v3=function(t,r,a){return t.map(function(n){return"".concat(lbe(n)," ").concat(r,"ms ").concat(a)}).join(",")};function obe(e,t){return ube(e)||dbe(e,t)||UF(e,t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function ube(e){if(Array.isArray(e))return e}function fbe(e){return pbe(e)||hbe(e)||UF(e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function hbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pbe(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Sx=1e-4,BF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zF=function(t,r){return t.map(function(a,n){return a*Math.pow(r,n)}).reduce(function(a,n){return a+n})},y3=function(t,r){return function(a){var n=BF(t,r);return zF(n,a)}},xbe=function(t,r){return function(a){var n=BF(t,r),i=[].concat(fbe(n.map(function(l,c){return l*c}).slice(1)),[0]);return zF(i,a)}},S3=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],i=r[1],l=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":n=0,i=0,l=1,c=1;break;case"ease":n=.25,i=.1,l=.25,c=1;break;case"ease-in":n=.42,i=0,l=1,c=1;break;case"ease-out":n=.42,i=0,l=.58,c=1;break;case"ease-in-out":n=0,i=0,l=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),p=obe(f,4);n=p[0],i=p[1],l=p[2],c=p[3]}}}var m=y3(n,l),x=y3(i,c),v=xbe(n,l),y=function(_){return _>1?1:_<0?0:_},b=function(_){for(var w=_>1?1:_,E=w,O=0;O<8;++O){var A=m(E)-w,T=v(E);if(Math.abs(A-w)<Sx||T<Sx)return x(E);E=y(E-A/T)}return x(E)};return b.isStepper=!1,b},gbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,n=t.damping,i=n===void 0?8:n,l=t.dt,c=l===void 0?17:l,u=function(p,m,x){var v=-(p-m)*a,y=x*i,b=x+(v-y)*c/1e3,S=x*c/1e3+p;return Math.abs(S-m)<Sx&&Math.abs(b)<Sx?[m,0]:[S,b]};return u.isStepper=!0,u.dt=c,u},bbe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S3(n);case"spring":return gbe();default:if(n.split("(")[0]==="cubic-bezier")return S3(n)}return typeof n=="function"?n:null};function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function w3(e){return Sbe(e)||ybe(e)||qF(e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sbe(e){if(Array.isArray(e))return AN(e)}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(a){EN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EN(e,t,r){return t=wbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wbe(e){var t=Nbe(e,"string");return V0(t)==="symbol"?t:String(t)}function Nbe(e,t){if(V0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(V0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jbe(e,t){return _be(e)||Abe(e,t)||qF(e,t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qF(e,t){if(e){if(typeof e=="string")return AN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(e,t)}}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Abe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function _be(e){if(Array.isArray(e))return e}var wx=function(t,r,a){return t+(r-t)*a},_N=function(t){var r=t.from,a=t.to;return r!==a},Cbe=function e(t,r,a){var n=Qf(function(i,l){if(_N(l)){var c=t(l.from,l.to,l.velocity),u=jbe(c,2),f=u[0],p=u[1];return Ya(Ya({},l),{},{from:f,velocity:p})}return l},r);return a<1?Qf(function(i,l){return _N(l)?Ya(Ya({},l),{},{velocity:wx(l.velocity,n[i].velocity,a),from:wx(l.from,n[i].from,a)}):l},r):e(t,n,a-1)};const Tbe=(function(e,t,r,a,n){var i=nbe(e,t),l=i.reduce(function(S,_){return Ya(Ya({},S),{},EN({},_,[e[_],t[_]]))},{}),c=i.reduce(function(S,_){return Ya(Ya({},S),{},EN({},_,{from:e[_],velocity:0,to:t[_]}))},{}),u=-1,f,p,m=function(){return null},x=function(){return Qf(function(_,w){return w.from},c)},v=function(){return!Object.values(c).filter(_N).length},y=function(_){f||(f=_);var w=_-f,E=w/r.dt;c=Cbe(r,c,E),n(Ya(Ya(Ya({},e),t),x())),f=_,v()||(u=requestAnimationFrame(m))},b=function(_){p||(p=_);var w=(_-p)/a,E=Qf(function(A,T){return wx.apply(void 0,w3(T).concat([r(w)]))},l);if(n(Ya(Ya(Ya({},e),t),E)),w<1)u=requestAnimationFrame(m);else{var O=Qf(function(A,T){return wx.apply(void 0,w3(T).concat([r(1)]))},l);n(Ya(Ya(Ya({},e),t),O))}};return m=r.isStepper?y:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}});function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var Obe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kbe(e,t){if(e==null)return{};var r=Rbe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Rbe(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function H2(e){return Mbe(e)||Ibe(e)||Dbe(e)||Pbe()}function Pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(e,t){if(e){if(typeof e=="string")return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}}function Ibe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mbe(e){if(Array.isArray(e))return CN(e)}function CN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(a){Df(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Df(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fbe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$F(a.key),a)}}function Ube(e,t,r){return t&&Fbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $F(e){var t=Bbe(e,"string");return eu(t)==="symbol"?t:String(t)}function Bbe(e,t){if(eu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(eu(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},TN(e,t)}function qbe(e){var t=$be();return function(){var a=Nx(e),n;if(t){var i=Nx(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return ON(this,n)}}function ON(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kN(e)}function kN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(e)}var ul=(function(e){zbe(r,e);var t=qbe(r);function r(a,n){var i;Lbe(this,r),i=t.call(this,a,n);var l=i.props,c=l.isActive,u=l.attributeName,f=l.from,p=l.to,m=l.steps,x=l.children,v=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(kN(i)),i.changeStyle=i.changeStyle.bind(kN(i)),!c||v<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:p}),ON(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof x=="function")return i.state={style:f},ON(i);i.state={style:u?Df({},u,f):f}}else i.state={style:{}};return i}return Ube(r,[{key:"componentDidMount",value:function(){var n=this.props,i=n.isActive,l=n.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var i=this.props,l=i.isActive,c=i.canBegin,u=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,x=this.state.style;if(c){if(!l){var v={style:u?Df({},u,p):p};this.state&&x&&(u&&x[u]!==p||!u&&x!==p)&&this.setState(v);return}if(!(Yge(n.to,p)&&n.canBegin&&n.isActive)){var y=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||f?m:n.to;if(this.state&&x){var S={style:u?Df({},u,b):b};(u&&x[u]!==b||!u&&x!==b)&&this.setState(S)}this.runAnimation(qn(qn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var i=this,l=n.from,c=n.to,u=n.duration,f=n.easing,p=n.begin,m=n.onAnimationEnd,x=n.onAnimationStart,v=Tbe(l,c,bbe(f),u,this.changeStyle),y=function(){i.stopJSAnimation=v()};this.manager.start([x,p,y,u,m])}},{key:"runStepAnimation",value:function(n){var i=this,l=n.steps,c=n.begin,u=n.onAnimationStart,f=l[0],p=f.style,m=f.duration,x=m===void 0?0:m,v=function(b,S,_){if(_===0)return b;var w=S.duration,E=S.easing,O=E===void 0?"ease":E,A=S.style,T=S.properties,N=S.onAnimationEnd,D=_>0?l[_-1]:S,L=T||Object.keys(A);if(typeof O=="function"||O==="spring")return[].concat(H2(b),[i.runJSAnimation.bind(i,{from:D.style,to:A,duration:w,easing:O}),w]);var M=v3(L,w,O),k=qn(qn(qn({},D.style),A),{},{transition:M});return[].concat(H2(b),[k,w,N]).filter(ibe)};return this.manager.start([u].concat(H2(l.reduce(v,[p,Math.max(x,c)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=rbe());var i=n.begin,l=n.duration,c=n.attributeName,u=n.to,f=n.easing,p=n.onAnimationStart,m=n.onAnimationEnd,x=n.steps,v=n.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(n);return}if(x.length>1){this.runStepAnimation(n);return}var b=c?Df({},c,u):u,S=v3(Object.keys(b),l,f);y.start([p,i,qn(qn({},b),{},{transition:S}),l,m])}},{key:"render",value:function(){var n=this.props,i=n.children;n.begin;var l=n.duration;n.attributeName,n.easing;var c=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var u=kbe(n,Obe),f=P.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||f===0||l<=0)return i;var m=function(v){var y=v.props,b=y.style,S=b===void 0?{}:b,_=y.className,w=P.cloneElement(v,qn(qn({},u),{},{style:qn(qn({},S),p),className:_}));return w};return f===1?m(P.Children.only(i)):ge.createElement("div",null,P.Children.map(i,function(x){return m(x)}))}}]),r})(P.PureComponent);ul.displayName="Animate";ul.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ul.propTypes={from:cr.oneOfType([cr.object,cr.string]),to:cr.oneOfType([cr.object,cr.string]),attributeName:cr.string,duration:cr.number,begin:cr.number,easing:cr.oneOfType([cr.string,cr.func]),steps:cr.arrayOf(cr.shape({duration:cr.number.isRequired,style:cr.object.isRequired,easing:cr.oneOfType([cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cr.func]),properties:cr.arrayOf("string"),onAnimationEnd:cr.func})),children:cr.oneOfType([cr.node,cr.func]),isActive:cr.bool,canBegin:cr.bool,onAnimationEnd:cr.func,shouldReAnimate:cr.bool,onAnimationStart:cr.func,onAnimationReStart:cr.func};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jx.apply(this,arguments)}function Hbe(e,t){return Xbe(e)||Wbe(e,t)||Gbe(e,t)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gbe(e,t){if(e){if(typeof e=="string")return E3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E3(e,t)}}function E3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function Xbe(e){if(Array.isArray(e))return e}function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(a){Ybe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ybe(e,t,r){return t=Kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kbe(e){var t=Qbe(e,"string");return G0(t)=="symbol"?t:t+""}function Qbe(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(G0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C3=function(t,r,a,n,i){var l=Math.min(Math.abs(a)/2,Math.abs(n)/2),c=n>=0?1:-1,u=a>=0?1:-1,f=n>=0&&a>=0||n<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,v=4;x<v;x++)m[x]=i[x]>l?l:i[x];p="M".concat(t,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+u*m[0],",").concat(r)),p+="L ".concat(t+a-u*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+a,",").concat(r+c*m[1])),p+="L ".concat(t+a,",").concat(r+n-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+a-u*m[2],",").concat(r+n)),p+="L ".concat(t+u*m[3],",").concat(r+n),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+n-c*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var y=Math.min(l,i);p="M ".concat(t,",").concat(r+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(t+u*y,",").concat(r,`
            L `).concat(t+a-u*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(t+a,",").concat(r+c*y,`
            L `).concat(t+a,",").concat(r+n-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(t+a-u*y,",").concat(r+n,`
            L `).concat(t+u*y,",").concat(r+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(t,",").concat(r+n-c*y," Z")}else p="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return p},Jbe=function(t,r){if(!t||!r)return!1;var a=t.x,n=t.y,i=r.x,l=r.y,c=r.width,u=r.height;if(Math.abs(c)>0&&Math.abs(u)>0){var f=Math.min(i,i+c),p=Math.max(i,i+c),m=Math.min(l,l+u),x=Math.max(l,l+u);return a>=f&&a<=p&&n>=m&&n<=x}return!1},Zbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zE=function(t){var r=_3(_3({},Zbe),t),a=P.useRef(),n=P.useState(-1),i=Hbe(n,2),l=i[0],c=i[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var O=a.current.getTotalLength();O&&c(O)}catch{}},[]);var u=r.x,f=r.y,p=r.width,m=r.height,x=r.radius,v=r.className,y=r.animationEasing,b=r.animationDuration,S=r.animationBegin,_=r.isAnimationActive,w=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var E=Qt("recharts-rectangle",v);return w?ge.createElement(ul,{canBegin:l>0,from:{width:p,height:m,x:u,y:f},to:{width:p,height:m,x:u,y:f},duration:b,animationEasing:y,isActive:w},function(O){var A=O.width,T=O.height,N=O.x,D=O.y;return ge.createElement(ul,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:b,isActive:_,easing:y},ge.createElement("path",jx({},Ft(r,!0),{className:E,d:C3(N,D,A,T,x),ref:a})))}):ge.createElement("path",jx({},Ft(r,!0),{className:E,d:C3(u,f,p,m,x)}))};function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},RN.apply(this,arguments)}var qE=function(t){var r=t.cx,a=t.cy,n=t.r,i=t.className,l=Qt("recharts-dot",i);return r===+r&&a===+a&&n===+n?P.createElement("circle",RN({},Ft(t,!1),Gp(t),{className:l,cx:r,cy:a,r:n})):null};function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}var eve=["x","y","top","left","width","height","className"];function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},PN.apply(this,arguments)}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(a){rve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rve(e,t,r){return t=ave(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=sve(e,"string");return W0(t)=="symbol"?t:t+""}function sve(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(W0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nve(e,t){if(e==null)return{};var r=ive(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ive(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var lve=function(t,r,a,n,i,l){return"M".concat(t,",").concat(i,"v").concat(n,"M").concat(l,",").concat(r,"h").concat(a)},ove=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,i=n===void 0?0:n,l=t.top,c=l===void 0?0:l,u=t.left,f=u===void 0?0:u,p=t.width,m=p===void 0?0:p,x=t.height,v=x===void 0?0:x,y=t.className,b=nve(t,eve),S=tve({x:a,y:i,top:c,left:f,width:m,height:v},b);return!We(a)||!We(i)||!We(m)||!We(v)||!We(c)||!We(f)?null:ge.createElement("path",PN({},Ft(S,!0),{className:Qt("recharts-cross",y),d:lve(a,i,m,v,c,f)}))},V2,O3;function cve(){if(O3)return V2;O3=1;var e=cL(),t=e(Object.getPrototypeOf,Object);return V2=t,V2}var G2,k3;function dve(){if(k3)return G2;k3=1;var e=pl(),t=cve(),r=xl(),a="[object Object]",n=Function.prototype,i=Object.prototype,l=n.toString,c=i.hasOwnProperty,u=l.call(Object);function f(p){if(!r(p)||e(p)!=a)return!1;var m=t(p);if(m===null)return!0;var x=c.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==u}return G2=f,G2}var uve=dve();const fve=jr(uve);var W2,R3;function mve(){if(R3)return W2;R3=1;var e=pl(),t=xl(),r="[object Boolean]";function a(n){return n===!0||n===!1||t(n)&&e(n)==r}return W2=a,W2}var hve=mve();const pve=jr(hve);function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ex.apply(this,arguments)}function xve(e,t){return yve(e)||vve(e,t)||bve(e,t)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(e,t){if(e){if(typeof e=="string")return P3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P3(e,t)}}function P3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function yve(e){if(Array.isArray(e))return e}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(a){Sve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sve(e,t,r){return t=wve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wve(e){var t=Nve(e,"string");return X0(t)=="symbol"?t:t+""}function Nve(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(X0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M3=function(t,r,a,n,i){var l=a-n,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+a,",").concat(r),c+="L ".concat(t+a-l/2,",").concat(r+i),c+="L ".concat(t+a-l/2-n,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},jve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eve=function(t){var r=I3(I3({},jve),t),a=P.useRef(),n=P.useState(-1),i=xve(n,2),l=i[0],c=i[1];P.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var E=a.current.getTotalLength();E&&c(E)}catch{}},[]);var u=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,x=r.height,v=r.className,y=r.animationEasing,b=r.animationDuration,S=r.animationBegin,_=r.isUpdateAnimationActive;if(u!==+u||f!==+f||p!==+p||m!==+m||x!==+x||p===0&&m===0||x===0)return null;var w=Qt("recharts-trapezoid",v);return _?ge.createElement(ul,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:u,y:f},to:{upperWidth:p,lowerWidth:m,height:x,x:u,y:f},duration:b,animationEasing:y,isActive:_},function(E){var O=E.upperWidth,A=E.lowerWidth,T=E.height,N=E.x,D=E.y;return ge.createElement(ul,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:b,easing:y},ge.createElement("path",Ex({},Ft(r,!0),{className:w,d:M3(N,D,O,A,T),ref:a})))}):ge.createElement("g",null,ge.createElement("path",Ex({},Ft(r,!0),{className:w,d:M3(u,f,p,m,x)})))},Ave=["option","shapeType","propTransformer","activeClassName","isActive"];function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function _ve(e,t){if(e==null)return{};var r=Cve(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Cve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(a){Tve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tve(e,t,r){return t=Ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ove(e){var t=kve(e,"string");return Y0(t)=="symbol"?t:t+""}function kve(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Y0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rve(e,t){return Ax(Ax({},t),e)}function Pve(e,t){return e==="symbols"}function F3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ge.createElement(zE,r);case"trapezoid":return ge.createElement(Eve,r);case"sector":return ge.createElement(MF,r);case"symbols":if(Pve(t))return ge.createElement(iE,r);break;default:return null}}function Dve(e){return P.isValidElement(e)?e.props:e}function Ive(e){var t=e.option,r=e.shapeType,a=e.propTransformer,n=a===void 0?Rve:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,c=e.isActive,u=_ve(e,Ave),f;if(P.isValidElement(t))f=P.cloneElement(t,Ax(Ax({},u),Dve(t)));else if(Ot(t))f=t(u);else if(fve(t)&&!pve(t)){var p=n(t,u);f=ge.createElement(F3,{shapeType:r,elementProps:p})}else{var m=u;f=ge.createElement(F3,{shapeType:r,elementProps:m})}return c?ge.createElement(Kr,{className:l},f):f}function jg(e,t){return t!=null&&"trapezoids"in e.props}function Eg(e,t){return t!=null&&"sectors"in e.props}function K0(e,t){return t!=null&&"points"in e.props}function Mve(e,t){var r,a,n=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return n&&i}function Lve(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function Fve(e,t){var r=e.x===t.x,a=e.y===t.y,n=e.z===t.z;return r&&a&&n}function Uve(e,t){var r;return jg(e,t)?r=Mve:Eg(e,t)?r=Lve:K0(e,t)&&(r=Fve),r}function Bve(e,t){var r;return jg(e,t)?r="trapezoids":Eg(e,t)?r="sectors":K0(e,t)&&(r="points"),r}function zve(e,t){if(jg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Eg(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return K0(e,t)?t.payload:{}}function qve(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,n=Bve(r,t),i=zve(r,t),l=a.filter(function(u,f){var p=P0(i,u),m=r.props[n].filter(function(y){var b=Uve(r,t);return b(y,t)}),x=r.props[n].indexOf(m[m.length-1]),v=f===x;return p&&v}),c=a.indexOf(l[l.length-1]);return c}var X2,U3;function $ve(){if(U3)return X2;U3=1;var e=Math.ceil,t=Math.max;function r(a,n,i,l){for(var c=-1,u=t(e((n-a)/(i||1)),0),f=Array(u);u--;)f[l?u:++c]=a,a+=i;return f}return X2=r,X2}var Y2,B3;function HF(){if(B3)return Y2;B3=1;var e=EL(),t=1/0,r=17976931348623157e292;function a(n){if(!n)return n===0?n:0;if(n=e(n),n===t||n===-t){var i=n<0?-1:1;return i*r}return n===n?n:0}return Y2=a,Y2}var K2,z3;function Hve(){if(z3)return K2;z3=1;var e=$ve(),t=mg(),r=HF();function a(n){return function(i,l,c){return c&&typeof c!="number"&&t(i,l,c)&&(l=c=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),c=c===void 0?i<l?1:-1:r(c),e(i,l,c,n)}}return K2=a,K2}var Q2,q3;function Vve(){if(q3)return Q2;q3=1;var e=Hve(),t=e();return Q2=t,Q2}var Gve=Vve();const _x=jr(Gve);function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function H3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(a){VF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VF(e,t,r){return t=Wve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wve(e){var t=Xve(e,"string");return Q0(t)=="symbol"?t:t+""}function Xve(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Q0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yve=["Webkit","Moz","O","ms"],Kve=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),n=Yve.reduce(function(i,l){return H3(H3({},i),{},VF({},l+a,r))},{});return n[t]=r,n};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cx.apply(this,arguments)}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function J2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(a){zs(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G3(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WF(a.key),a)}}function Jve(e,t,r){return t&&G3(e.prototype,t),r&&G3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zve(e,t,r){return t=Tx(t),eye(e,GF()?Reflect.construct(t,r||[],Tx(e).constructor):t.apply(e,r))}function eye(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tye(e)}function tye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!e})()}function Tx(e){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(e)}function rye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},DN(e,t)}function zs(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=aye(e,"string");return tu(t)=="symbol"?t:t+""}function aye(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sye=function(t){var r=t.data,a=t.startIndex,n=t.endIndex,i=t.x,l=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,f=Xf().domain(_x(0,u)).range([i,i+l-c]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(a),endX:f(n),scale:f,scaleValues:p}},W3=function(t){return t.changedTouches&&!!t.changedTouches.length},ru=(function(e){function t(r){var a;return Qve(this,t),a=Zve(this,t,[r]),zs(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),zs(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),zs(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,i=n.endIndex,l=n.onDragEnd,c=n.startIndex;l==null||l({endIndex:i,startIndex:c})}),a.detachDragEndListener()}),zs(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),zs(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),zs(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),zs(a,"handleSlideDragStart",function(n){var i=W3(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return rye(t,e),Jve(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,i=a.endX,l=this.state.scaleValues,c=this.props,u=c.gap,f=c.data,p=f.length-1,m=Math.min(n,i),x=Math.max(n,i),v=t.getIndexInRange(l,m),y=t.getIndexInRange(l,x);return{startIndex:v-v%u,endIndex:y===p?p:y-y%u}}},{key:"getTextOfTick",value:function(a){var n=this.props,i=n.data,l=n.tickFormatter,c=n.dataKey,u=Js(i[a],c,a);return Ot(l)?l(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,i=n.slideMoveStartX,l=n.startX,c=n.endX,u=this.props,f=u.x,p=u.width,m=u.travellerWidth,x=u.startIndex,v=u.endIndex,y=u.onChange,b=a.pageX-i;b>0?b=Math.min(b,f+p-m-c,f+p-m-l):b<0&&(b=Math.max(b,f-l,f-c));var S=this.getIndex({startX:l+b,endX:c+b});(S.startIndex!==x||S.endIndex!==v)&&y&&y(S),this.setState({startX:l+b,endX:c+b,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var i=W3(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,i=n.brushMoveStartX,l=n.movingTravellerId,c=n.endX,u=n.startX,f=this.state[l],p=this.props,m=p.x,x=p.width,v=p.travellerWidth,y=p.onChange,b=p.gap,S=p.data,_={startX:this.state.startX,endX:this.state.endX},w=a.pageX-i;w>0?w=Math.min(w,m+x-v-f):w<0&&(w=Math.max(w,m-f)),_[l]=f+w;var E=this.getIndex(_),O=E.startIndex,A=E.endIndex,T=function(){var D=S.length-1;return l==="startX"&&(c>u?O%b===0:A%b===0)||c<u&&A===D||l==="endX"&&(c>u?A%b===0:O%b===0)||c>u&&A===D};this.setState(zs(zs({},l,f+w),"brushMoveStartX",a.pageX),function(){y&&T()&&y(E)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var i=this,l=this.state,c=l.scaleValues,u=l.startX,f=l.endX,p=this.state[n],m=c.indexOf(p);if(m!==-1){var x=m+a;if(!(x===-1||x>=c.length)){var v=c[x];n==="startX"&&v>=f||n==="endX"&&v<=u||this.setState(zs({},n,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,c=a.height,u=a.fill,f=a.stroke;return ge.createElement("rect",{stroke:f,fill:u,x:n,y:i,width:l,height:c})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,c=a.height,u=a.data,f=a.children,p=a.padding,m=P.Children.only(f);return m?ge.cloneElement(m,{x:n,y:i,width:l,height:c,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,n){var i,l,c=this,u=this.props,f=u.y,p=u.travellerWidth,m=u.height,x=u.traveller,v=u.ariaLabel,y=u.data,b=u.startIndex,S=u.endIndex,_=Math.max(a,this.props.x),w=J2(J2({},Ft(this.props,!1)),{},{x:_,y:f,width:p,height:m}),E=v||"Min value: ".concat((i=y[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=y[S])===null||l===void 0?void 0:l.name);return ge.createElement(Kr,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),c.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,n))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,w))}},{key:"renderSlide",value:function(a,n){var i=this.props,l=i.y,c=i.height,u=i.stroke,f=i.travellerWidth,p=Math.min(a,n)+f,m=Math.max(Math.abs(n-a)-f,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,i=a.endIndex,l=a.y,c=a.height,u=a.travellerWidth,f=a.stroke,p=this.state,m=p.startX,x=p.endX,v=5,y={pointerEvents:"none",fill:f};return ge.createElement(Kr,{className:"recharts-brush-texts"},ge.createElement(sx,Cx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-v,y:l+c/2},y),this.getTextOfTick(n)),ge.createElement(sx,Cx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+u+v,y:l+c/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,n=a.data,i=a.className,l=a.children,c=a.x,u=a.y,f=a.width,p=a.height,m=a.alwaysShowText,x=this.state,v=x.startX,y=x.endX,b=x.isTextActive,S=x.isSlideMoving,_=x.isTravellerMoving,w=x.isTravellerFocused;if(!n||!n.length||!We(c)||!We(u)||!We(f)||!We(p)||f<=0||p<=0)return null;var E=Qt("recharts-brush",i),O=ge.Children.count(l)===1,A=Kve("userSelect","none");return ge.createElement(Kr,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(b||S||_||w||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,i=a.y,l=a.width,c=a.height,u=a.stroke,f=Math.floor(i+c/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:n,y:i,width:l,height:c,fill:u,stroke:"none"}),ge.createElement("line",{x1:n+1,y1:f,x2:n+l-1,y2:f,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:n+1,y1:f+2,x2:n+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var i;return ge.isValidElement(a)?i=ge.cloneElement(a,n):Ot(a)?i=a(n):i=t.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(a,n){var i=a.data,l=a.width,c=a.x,u=a.travellerWidth,f=a.updateId,p=a.startIndex,m=a.endIndex;if(i!==n.prevData||f!==n.prevUpdateId)return J2({prevData:i,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:l},i&&i.length?sye({data:i,width:l,x:c,travellerWidth:u,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(n.scale&&(l!==n.prevWidth||c!==n.prevX||u!==n.prevTravellerWidth)){n.scale.range([c,c+l-u]);var x=n.scale.domain().map(function(v){return n.scale(v)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:f,prevX:c,prevWidth:l,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(a,n){for(var i=a.length,l=0,c=i-1;c-l>1;){var u=Math.floor((l+c)/2);a[u]>n?c=u:l=u}return n>=a[c]?c:l}}])})(P.PureComponent);zs(ru,"displayName","Brush");zs(ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Z2,X3;function nye(){if(X3)return Z2;X3=1;var e=mE();function t(r,a){var n;return e(r,function(i,l,c){return n=a(i,l,c),!n}),!!n}return Z2=t,Z2}var ew,Y3;function iye(){if(Y3)return ew;Y3=1;var e=rL(),t=po(),r=nye(),a=Rs(),n=mg();function i(l,c,u){var f=a(l)?e:r;return u&&n(l,c,u)&&(c=void 0),f(l,t(c,3))}return ew=i,ew}var lye=iye();const oye=jr(lye);var gi=function(t,r){var a=t.alwaysShow,n=t.ifOverflow;return a&&(n="extendDomain"),n===r},tw,K3;function cye(){if(K3)return tw;K3=1;var e=yL();function t(r,a,n){a=="__proto__"&&e?e(r,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[a]=n}return tw=t,tw}var rw,Q3;function dye(){if(Q3)return rw;Q3=1;var e=cye(),t=bL(),r=po();function a(n,i){var l={};return i=r(i,3),t(n,function(c,u,f){e(l,u,i(c,u,f))}),l}return rw=a,rw}var uye=dye();const fye=jr(uye);var aw,J3;function mye(){if(J3)return aw;J3=1;function e(t,r){for(var a=-1,n=t==null?0:t.length;++a<n;)if(!r(t[a],a,t))return!1;return!0}return aw=e,aw}var sw,Z3;function hye(){if(Z3)return sw;Z3=1;var e=mE();function t(r,a){var n=!0;return e(r,function(i,l,c){return n=!!a(i,l,c),n}),n}return sw=t,sw}var nw,eI;function pye(){if(eI)return nw;eI=1;var e=mye(),t=hye(),r=po(),a=Rs(),n=mg();function i(l,c,u){var f=a(l)?e:t;return u&&n(l,c,u)&&(c=void 0),f(l,r(c,3))}return nw=i,nw}var xye=pye();const XF=jr(xye);var gye=["x","y"];function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},IN.apply(this,arguments)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(a){bye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bye(e,t,r){return t=vye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vye(e){var t=yye(e,"string");return J0(t)=="symbol"?t:t+""}function yye(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(J0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sye(e,t){if(e==null)return{};var r=wye(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Nye(e,t){var r=e.x,a=e.y,n=Sye(e,gye),i="".concat(r),l=parseInt(i,10),c="".concat(a),u=parseInt(c,10),f="".concat(t.height||n.height),p=parseInt(f,10),m="".concat(t.width||n.width),x=parseInt(m,10);return Cf(Cf(Cf(Cf(Cf({},t),n),l?{x:l}:{}),u?{y:u}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function rI(e){return ge.createElement(Ive,IN({shapeType:"rectangle",propTransformer:Nye,activeClassName:"recharts-active-bar"},e))}var jye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof t=="number")return t;var i=We(a)||Poe(a);return i?t(a,n):(i||xc(),r)}},Eye=["value","background"],YF;function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function Aye(e,t){if(e==null)return{};var r=_ye(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _ye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ox.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(a){Jl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,QF(a.key),a)}}function Tye(e,t,r){return t&&sI(e.prototype,t),r&&sI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oye(e,t,r){return t=kx(t),kye(e,KF()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function kye(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(e)}function Rye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(e)}function Pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},MN(e,t)}function Jl(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=Dye(e,"string");return au(t)=="symbol"?t:t+""}function Dye(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(au(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tc=(function(e){function t(){var r;Cye(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=Oye(this,t,[].concat(n)),Jl(r,"state",{isAnimationFinished:!1}),Jl(r,"id",xm("recharts-bar-")),Jl(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Jl(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Pye(t,e),Tye(t,[{key:"renderRectanglesStatically",value:function(a){var n=this,i=this.props,l=i.shape,c=i.dataKey,u=i.activeIndex,f=i.activeBar,p=Ft(this.props,!1);return a&&a.map(function(m,x){var v=x===u,y=v?f:l,b=Sa(Sa(Sa({},p),m),{},{isActive:v,option:y,index:x,dataKey:c,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return ge.createElement(Kr,Ox({className:"recharts-bar-rectangle"},Wp(n.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x)}),ge.createElement(rI,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,i=n.data,l=n.layout,c=n.isAnimationActive,u=n.animationBegin,f=n.animationDuration,p=n.animationEasing,m=n.animationId,x=this.state.prevData;return ge.createElement(ul,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,b=i.map(function(S,_){var w=x&&x[_];if(w){var E=Sn(w.x,S.x),O=Sn(w.y,S.y),A=Sn(w.width,S.width),T=Sn(w.height,S.height);return Sa(Sa({},S),{},{x:E(y),y:O(y),width:A(y),height:T(y)})}if(l==="horizontal"){var N=Sn(0,S.height),D=N(y);return Sa(Sa({},S),{},{y:S.y+S.height-D,height:D})}var L=Sn(0,S.width),M=L(y);return Sa(Sa({},S),{},{width:M})});return ge.createElement(Kr,null,a.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&n&&n.length&&(!l||!P0(l,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,i=n.data,l=n.dataKey,c=n.activeIndex,u=Ft(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,x=Aye(f,Eye);if(!m)return null;var v=Sa(Sa(Sa(Sa(Sa({},x),{},{fill:"#eee"},m),u),Wp(a.props,f,p)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return ge.createElement(rI,Ox({key:"background-bar-".concat(p),option:a.props.background,isActive:p===c},v))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,c=i.xAxis,u=i.yAxis,f=i.layout,p=i.children,m=Jn(p,Ng);if(!m)return null;var x=f==="vertical"?l[0].height/2:l[0].width/2,v=function(S,_){var w=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:w,errorVal:Js(S,_)}},y={clipPath:a?"url(#clipPath-".concat(n,")"):null};return ge.createElement(Kr,y,m.map(function(b){return ge.cloneElement(b,{key:"error-bar-".concat(n,"-").concat(b.props.dataKey),data:l,xAxis:c,yAxis:u,layout:f,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,i=a.data,l=a.className,c=a.xAxis,u=a.yAxis,f=a.left,p=a.top,m=a.width,x=a.height,v=a.isAnimationActive,y=a.background,b=a.id;if(n||!i||!i.length)return null;var S=this.state.isAnimationFinished,_=Qt("recharts-bar",l),w=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,O=w||E,A=zt(b)?this.id:b;return ge.createElement(Kr,{className:_},w||E?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(A)},ge.createElement("rect",{x:w?f:f-m/2,y:E?p:p-x/2,width:w?m:m*2,height:E?x:x*2}))):null,ge.createElement(Kr,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(A,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,A),(!v||S)&&to.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])})(P.PureComponent);YF=Tc;Jl(Tc,"displayName","Bar");Jl(Tc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jl(Tc,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,n=e.bandSize,i=e.xAxis,l=e.yAxis,c=e.xAxisTicks,u=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,v=Jpe(a,r);if(!v)return null;var y=t.layout,b=r.type.defaultProps,S=b!==void 0?Sa(Sa({},b),r.props):r.props,_=S.dataKey,w=S.children,E=S.minPointSize,O=y==="horizontal"?l:i,A=f?O.scale.domain():null,T=ixe({numericAxis:O}),N=Jn(w,_L),D=m.map(function(L,M){var k,I,V,q,z,R;f?k=Zpe(f[p+M],A):(k=Js(L,_),Array.isArray(k)||(k=[T,k]));var W=jye(E,YF.defaultProps.minPointSize)(k[1],M);if(y==="horizontal"){var X,B=[l.scale(k[0]),l.scale(k[1])],ee=B[0],Y=B[1];I=z5({axis:i,ticks:c,bandSize:n,offset:v.offset,entry:L,index:M}),V=(X=Y??ee)!==null&&X!==void 0?X:void 0,q=v.size;var F=ee-Y;if(z=Number.isNaN(F)?0:F,R={x:I,y:l.y,width:q,height:l.height},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var K=Xn(z||W)*(Math.abs(W)-Math.abs(z));V-=K,z+=K}}else{var J=[i.scale(k[0]),i.scale(k[1])],H=J[0],ce=J[1];if(I=H,V=z5({axis:l,ticks:u,bandSize:n,offset:v.offset,entry:L,index:M}),q=ce-H,z=v.size,R={x:i.x,y:V,width:i.width,height:z},Math.abs(W)>0&&Math.abs(q)<Math.abs(W)){var le=Xn(q||W)*(Math.abs(W)-Math.abs(q));q+=le}}return Sa(Sa(Sa({},L),{},{x:I,y:V,width:q,height:z,value:f?k:k[1],payload:L,background:R},N&&N[M]&&N[M].props),{},{tooltipPayload:[PF(r,L)],tooltipPosition:{x:I+q/2,y:V+z/2}})});return Sa({data:D,layout:y},x)});function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function Iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,JF(a.key),a)}}function Mye(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(a){Ag(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ag(e,t,r){return t=JF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=Lye(e,"string");return Z0(t)=="symbol"?t:t+""}function Lye(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Z0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZF=function(t,r,a,n,i){var l=t.width,c=t.height,u=t.layout,f=t.children,p=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:c-a.bottom,bottomMirror:c-a.bottom},x=!!qs(f,Tc);return p.reduce(function(v,y){var b=r[y],S=b.orientation,_=b.domain,w=b.padding,E=w===void 0?{}:w,O=b.mirror,A=b.reversed,T="".concat(S).concat(O?"Mirror":""),N,D,L,M,k;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var I=_[1]-_[0],V=1/0,q=b.categoricalDomain.sort(Moe);if(q.forEach(function(J,H){H>0&&(V=Math.min((J||0)-(q[H-1]||0),V))}),Number.isFinite(V)){var z=V/I,R=b.layout==="vertical"?a.height:a.width;if(b.padding==="gap"&&(N=z*R/2),b.padding==="no-gap"){var W=hc(t.barCategoryGap,z*R),X=z*R/2;N=X-W-(X-W)/R*W}}}n==="xAxis"?D=[a.left+(E.left||0)+(N||0),a.left+a.width-(E.right||0)-(N||0)]:n==="yAxis"?D=u==="horizontal"?[a.top+a.height-(E.bottom||0),a.top+(E.top||0)]:[a.top+(E.top||0)+(N||0),a.top+a.height-(E.bottom||0)-(N||0)]:D=b.range,A&&(D=[D[1],D[0]]);var B=Kpe(b,i,x),ee=B.scale,Y=B.realScaleType;ee.domain(_).range(D),Qpe(ee);var F=nxe(ee,Hn(Hn({},b),{},{realScaleType:Y}));n==="xAxis"?(k=S==="top"&&!O||S==="bottom"&&O,L=a.left,M=m[T]-k*b.height):n==="yAxis"&&(k=S==="left"&&!O||S==="right"&&O,L=m[T]-k*b.width,M=a.top);var K=Hn(Hn(Hn({},b),F),{},{realScaleType:Y,x:L,y:M,scale:ee,width:n==="xAxis"?a.width:b.width,height:n==="yAxis"?a.height:b.height});return K.bandSize=bx(K,F),!b.hide&&n==="xAxis"?m[T]+=(k?-1:1)*K.height:b.hide||(m[T]+=(k?-1:1)*K.width),Hn(Hn({},v),{},Ag({},y,K))},{})},e7=function(t,r){var a=t.x,n=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(n,l),width:Math.abs(i-a),height:Math.abs(l-n)}},Fye=function(t){var r=t.x1,a=t.y1,n=t.x2,i=t.y2;return e7({x:r,y:a},{x:n,y:i})},t7=(function(){function e(t){Iye(this,e),this.scale=t}return Mye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),n=a[0],i=a[a.length-1];return n<=i?r>=n&&r<=i:r>=i&&r<=n}}],[{key:"create",value:function(r){return new e(r)}}])})();Ag(t7,"EPS",1e-4);var $E=function(t){var r=Object.keys(t).reduce(function(a,n){return Hn(Hn({},a),{},Ag({},n,t7.create(t[n])))},{});return Hn(Hn({},r),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,c=i.position;return fye(n,function(u,f){return r[f].apply(u,{bandAware:l,position:c})})},isInRange:function(n){return XF(n,function(i,l){return r[l].isInRange(i)})}})};function Uye(e){return(e%180+180)%180}var Bye=function(t){var r=t.width,a=t.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Uye(n),l=i*Math.PI/180,c=Math.atan(a/r),u=l>c&&l<Math.PI-c?a/Math.sin(l):r/Math.cos(l);return Math.abs(u)},iw,lI;function zye(){if(lI)return iw;lI=1;var e=po(),t=gm(),r=ug();function a(n){return function(i,l,c){var u=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(m){return f(u[m],m,u)}}var p=n(i,l,c);return p>-1?u[f?i[p]:p]:void 0}}return iw=a,iw}var lw,oI;function qye(){if(oI)return lw;oI=1;var e=HF();function t(r){var a=e(r),n=a%1;return a===a?n?a-n:a:0}return lw=t,lw}var ow,cI;function $ye(){if(cI)return ow;cI=1;var e=mL(),t=po(),r=qye(),a=Math.max;function n(i,l,c){var u=i==null?0:i.length;if(!u)return-1;var f=c==null?0:r(c);return f<0&&(f=a(u+f,0)),e(i,t(l,3),f)}return ow=n,ow}var cw,dI;function Hye(){if(dI)return cw;dI=1;var e=zye(),t=$ye(),r=e(t);return cw=r,cw}var Vye=Hye();const Gye=jr(Vye);var Wye=T8();const Xye=jr(Wye);var Yye=Xye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),HE=P.createContext(void 0),VE=P.createContext(void 0),r7=P.createContext(void 0),a7=P.createContext({}),s7=P.createContext(void 0),n7=P.createContext(0),i7=P.createContext(0),uI=function(t){var r=t.state,a=r.xAxisMap,n=r.yAxisMap,i=r.offset,l=t.clipPathId,c=t.children,u=t.width,f=t.height,p=Yye(i);return ge.createElement(HE.Provider,{value:a},ge.createElement(VE.Provider,{value:n},ge.createElement(a7.Provider,{value:i},ge.createElement(r7.Provider,{value:p},ge.createElement(s7.Provider,{value:l},ge.createElement(n7.Provider,{value:f},ge.createElement(i7.Provider,{value:u},c)))))))},Kye=function(){return P.useContext(s7)},l7=function(t){var r=P.useContext(HE);r==null&&xc();var a=r[t];return a==null&&xc(),a},Qye=function(){var t=P.useContext(HE);return Wl(t)},Jye=function(){var t=P.useContext(VE),r=Gye(t,function(a){return XF(a.domain,Number.isFinite)});return r||Wl(t)},o7=function(t){var r=P.useContext(VE);r==null&&xc();var a=r[t];return a==null&&xc(),a},Zye=function(){var t=P.useContext(r7);return t},e1e=function(){return P.useContext(a7)},GE=function(){return P.useContext(i7)},WE=function(){return P.useContext(n7)};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function t1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,d7(a.key),a)}}function a1e(e,t,r){return t&&r1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s1e(e,t,r){return t=Rx(t),n1e(e,c7()?Reflect.construct(t,r||[],Rx(e).constructor):t.apply(e,r))}function n1e(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(e)}function i1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c7=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(e)}function l1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},LN(e,t)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(a){XE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XE(e,t,r){return t=d7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=o1e(e,"string");return su(t)=="symbol"?t:t+""}function o1e(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(su(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c1e(e,t){return m1e(e)||f1e(e,t)||u1e(e,t)||d1e()}function d1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u1e(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function f1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function m1e(e){if(Array.isArray(e))return e}function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},FN.apply(this,arguments)}var h1e=function(t,r){var a;return ge.isValidElement(t)?a=ge.cloneElement(t,r):Ot(t)?a=t(r):a=ge.createElement("line",FN({},r,{className:"recharts-reference-line-line"})),a},p1e=function(t,r,a,n,i,l,c,u,f){var p=i.x,m=i.y,x=i.width,v=i.height;if(a){var y=f.y,b=t.y.apply(y,{position:l});if(gi(f,"discard")&&!t.y.isInRange(b))return null;var S=[{x:p+x,y:b},{x:p,y:b}];return u==="left"?S.reverse():S}if(r){var _=f.x,w=t.x.apply(_,{position:l});if(gi(f,"discard")&&!t.x.isInRange(w))return null;var E=[{x:w,y:m+v},{x:w,y:m}];return c==="top"?E.reverse():E}if(n){var O=f.segment,A=O.map(function(T){return t.apply(T,{position:l})});return gi(f,"discard")&&oye(A,function(T){return!t.isInRange(T)})?null:A}return null};function x1e(e){var t=e.x,r=e.y,a=e.segment,n=e.xAxisId,i=e.yAxisId,l=e.shape,c=e.className,u=e.alwaysShow,f=Kye(),p=l7(n),m=o7(i),x=Zye();if(!f||!x)return null;sl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=$E({x:p.scale,y:m.scale}),y=Ra(t),b=Ra(r),S=a&&a.length===2,_=p1e(v,y,b,S,x,e.position,p.orientation,m.orientation,e);if(!_)return null;var w=c1e(_,2),E=w[0],O=E.x,A=E.y,T=w[1],N=T.x,D=T.y,L=gi(e,"hidden")?"url(#".concat(f,")"):void 0,M=mI(mI({clipPath:L},Ft(e,!0)),{},{x1:O,y1:A,x2:N,y2:D});return ge.createElement(Kr,{className:Qt("recharts-reference-line",c)},h1e(l,M),ns.renderCallByParent(e,Fye({x1:O,y1:A,x2:N,y2:D})))}var YE=(function(e){function t(){return t1e(this,t),s1e(this,t,arguments)}return l1e(t,e),a1e(t,[{key:"render",value:function(){return ge.createElement(x1e,this.props)}}])})(ge.Component);XE(YE,"displayName","ReferenceLine");XE(YE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},UN.apply(this,arguments)}function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(a){_g(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function g1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f7(a.key),a)}}function v1e(e,t,r){return t&&b1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y1e(e,t,r){return t=Px(t),S1e(e,u7()?Reflect.construct(t,r||[],Px(e).constructor):t.apply(e,r))}function S1e(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(e)}function w1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u7=function(){return!!e})()}function Px(e){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},BN(e,t)}function _g(e,t,r){return t=f7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=j1e(e,"string");return nu(t)=="symbol"?t:t+""}function j1e(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1e=function(t){var r=t.x,a=t.y,n=t.xAxis,i=t.yAxis,l=$E({x:n.scale,y:i.scale}),c=l.apply({x:r,y:a},{bandAware:!0});return gi(t,"discard")&&!l.isInRange(c)?null:c},Cg=(function(e){function t(){return g1e(this,t),y1e(this,t,arguments)}return N1e(t,e),v1e(t,[{key:"render",value:function(){var a=this.props,n=a.x,i=a.y,l=a.r,c=a.alwaysShow,u=a.clipPathId,f=Ra(n),p=Ra(i);if(sl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=E1e(this.props);if(!m)return null;var x=m.x,v=m.y,y=this.props,b=y.shape,S=y.className,_=gi(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=xI(xI({clipPath:_},Ft(this.props,!0)),{},{cx:x,cy:v});return ge.createElement(Kr,{className:Qt("recharts-reference-dot",S)},t.renderDot(b,w),ns.renderCallByParent(this.props,{x:x-l,y:v-l,width:2*l,height:2*l}))}}])})(ge.Component);_g(Cg,"displayName","ReferenceDot");_g(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_g(Cg,"renderDot",function(e,t){var r;return ge.isValidElement(e)?r=ge.cloneElement(e,t):Ot(e)?r=e(t):r=ge.createElement(qE,UN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zN.apply(this,arguments)}function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(a){Tg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function A1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h7(a.key),a)}}function C1e(e,t,r){return t&&_1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T1e(e,t,r){return t=Dx(t),O1e(e,m7()?Reflect.construct(t,r||[],Dx(e).constructor):t.apply(e,r))}function O1e(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(e)}function k1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(e)}function R1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},qN(e,t)}function Tg(e,t,r){return t=h7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=P1e(e,"string");return iu(t)=="symbol"?t:t+""}function P1e(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(iu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D1e=function(t,r,a,n,i){var l=i.x1,c=i.x2,u=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var x=$E({x:p.scale,y:m.scale}),v={x:t?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(u,{position:"start"}):x.y.rangeMin},y={x:r?x.x.apply(c,{position:"end"}):x.x.rangeMax,y:n?x.y.apply(f,{position:"end"}):x.y.rangeMax};return gi(i,"discard")&&(!x.isInRange(v)||!x.isInRange(y))?null:e7(v,y)},Og=(function(e){function t(){return A1e(this,t),T1e(this,t,arguments)}return R1e(t,e),C1e(t,[{key:"render",value:function(){var a=this.props,n=a.x1,i=a.x2,l=a.y1,c=a.y2,u=a.className,f=a.alwaysShow,p=a.clipPathId;sl(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ra(n),x=Ra(i),v=Ra(l),y=Ra(c),b=this.props.shape;if(!m&&!x&&!v&&!y&&!b)return null;var S=D1e(m,x,v,y,this.props);if(!S&&!b)return null;var _=gi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ge.createElement(Kr,{className:Qt("recharts-reference-area",u)},t.renderRect(b,bI(bI({clipPath:_},Ft(this.props,!0)),S)),ns.renderCallByParent(this.props,S))}}])})(ge.Component);Tg(Og,"displayName","ReferenceArea");Tg(Og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tg(Og,"renderRect",function(e,t){var r;return ge.isValidElement(e)?r=ge.cloneElement(e,t):Ot(e)?r=e(t):r=ge.createElement(zE,zN({},t,{className:"recharts-reference-area-rect"})),r});function p7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function I1e(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Bye(a,r)}function M1e(e,t,r){var a=r==="width",n=e.x,i=e.y,l=e.width,c=e.height;return t===1?{start:a?n:i,end:a?n+l:i+c}:{start:a?n+l:i+c,end:a?n:i}}function Ix(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function L1e(e,t){return p7(e,t+1)}function F1e(e,t,r,a,n){for(var i=(a||[]).slice(),l=t.start,c=t.end,u=0,f=1,p=l,m=function(){var y=a==null?void 0:a[u];if(y===void 0)return{v:p7(a,f)};var b=u,S,_=function(){return S===void 0&&(S=r(y,b)),S},w=y.coordinate,E=u===0||Ix(e,w,_,p,c);E||(u=0,p=l,f+=1),E&&(p=w+e*(_()/2+n),u+=f)},x;f<=i.length;)if(x=m(),x)return x.v;return[]}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(a){U1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function U1e(e,t,r){return t=B1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=z1e(e,"string");return em(t)=="symbol"?t:t+""}function z1e(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(em(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q1e(e,t,r,a,n){for(var i=(a||[]).slice(),l=i.length,c=t.start,u=t.end,f=function(x){var v=i[x],y,b=function(){return y===void 0&&(y=r(v,x)),y};if(x===l-1){var S=e*(v.coordinate+e*b()/2-u);i[x]=v=ts(ts({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else i[x]=v=ts(ts({},v),{},{tickCoord:v.coordinate});var _=Ix(e,v.tickCoord,b,c,u);_&&(u=v.tickCoord-e*(b()/2+n),i[x]=ts(ts({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return i}function $1e(e,t,r,a,n,i){var l=(a||[]).slice(),c=l.length,u=t.start,f=t.end;if(i){var p=a[c-1],m=r(p,c-1),x=e*(p.coordinate+e*m/2-f);l[c-1]=p=ts(ts({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var v=Ix(e,p.tickCoord,function(){return m},u,f);v&&(f=p.tickCoord-e*(m/2+n),l[c-1]=ts(ts({},p),{},{isShow:!0}))}for(var y=i?c-1:c,b=function(w){var E=l[w],O,A=function(){return O===void 0&&(O=r(E,w)),O};if(w===0){var T=e*(E.coordinate-e*A()/2-u);l[w]=E=ts(ts({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else l[w]=E=ts(ts({},E),{},{tickCoord:E.coordinate});var N=Ix(e,E.tickCoord,A,u,f);N&&(u=E.tickCoord+e*(A()/2+n),l[w]=ts(ts({},E),{},{isShow:!0}))},S=0;S<y;S++)b(S);return l}function KE(e,t,r){var a=e.tick,n=e.ticks,i=e.viewBox,l=e.minTickGap,c=e.orientation,u=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!n||!n.length||!a)return[];if(We(u)||Su.isSsr)return L1e(n,typeof u=="number"&&We(u)?u:0);var x=[],v=c==="top"||c==="bottom"?"width":"height",y=p&&v==="width"?Wf(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(E,O){var A=Ot(f)?f(E.value,O):E.value;return v==="width"?I1e(Wf(A,{fontSize:t,letterSpacing:r}),y,m):Wf(A,{fontSize:t,letterSpacing:r})[v]},S=n.length>=2?Xn(n[1].coordinate-n[0].coordinate):1,_=M1e(i,S,v);return u==="equidistantPreserveStart"?F1e(S,_,b,n,l):(u==="preserveStart"||u==="preserveStartEnd"?x=$1e(S,_,b,n,l,u==="preserveStartEnd"):x=q1e(S,_,b,n,l),x.filter(function(w){return w.isShow}))}var H1e=["viewBox"],V1e=["viewBox"],G1e=["ticks"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wd.apply(this,arguments)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(a){QE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dw(e,t){if(e==null)return{};var r=W1e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function W1e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function X1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,g7(a.key),a)}}function Y1e(e,t,r){return t&&SI(e.prototype,t),r&&SI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1e(e,t,r){return t=Mx(t),Q1e(e,x7()?Reflect.construct(t,r||[],Mx(e).constructor):t.apply(e,r))}function Q1e(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1e(e)}function J1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(e)}function Z1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},$N(e,t)}function QE(e,t,r){return t=g7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=eSe(e,"string");return lu(t)=="symbol"?t:t+""}function eSe(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(lu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=(function(e){function t(r){var a;return X1e(this,t),a=K1e(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return Z1e(t,e),Y1e(t,[{key:"shouldComponentUpdate",value:function(a,n){var i=a.viewBox,l=dw(a,H1e),c=this.props,u=c.viewBox,f=dw(c,V1e);return!Od(i,u)||!Od(l,f)||!Od(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.x,l=n.y,c=n.width,u=n.height,f=n.orientation,p=n.tickSize,m=n.mirror,x=n.tickMargin,v,y,b,S,_,w,E=m?-1:1,O=a.tickSize||p,A=We(a.tickCoord)?a.tickCoord:a.coordinate;switch(f){case"top":v=y=a.coordinate,S=l+ +!m*u,b=S-E*O,w=b-E*x,_=A;break;case"left":b=S=a.coordinate,y=i+ +!m*c,v=y-E*O,_=v-E*x,w=A;break;case"right":b=S=a.coordinate,y=i+ +m*c,v=y+E*O,_=v+E*x,w=A;break;default:v=y=a.coordinate,S=l+ +m*u,b=S+E*O,w=b+E*x,_=A;break}return{line:{x1:v,y1:b,x2:y,y2:S},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,l;switch(n){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,l="end";switch(n){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,f=a.mirror,p=a.axisLine,m=_a(_a(_a({},Ft(this.props,!1)),Ft(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var x=+(u==="top"&&!f||u==="bottom"&&f);m=_a(_a({},m),{},{x1:n,y1:i+x*c,x2:n+l,y2:i+x*c})}else{var v=+(u==="left"&&!f||u==="right"&&f);m=_a(_a({},m),{},{x1:n+v*l,y1:i,x2:n+v*l,y2:i+c})}return ge.createElement("line",wd({},m,{className:Qt("recharts-cartesian-axis-line",On(p,"className"))}))}},{key:"renderTicks",value:function(a,n,i){var l=this,c=this.props,u=c.tickLine,f=c.stroke,p=c.tick,m=c.tickFormatter,x=c.unit,v=KE(_a(_a({},this.props),{},{ticks:a}),n,i),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),S=Ft(this.props,!1),_=Ft(p,!1),w=_a(_a({},S),{},{fill:"none"},Ft(u,!1)),E=v.map(function(O,A){var T=l.getTickLineCoord(O),N=T.line,D=T.tick,L=_a(_a(_a(_a({textAnchor:y,verticalAnchor:b},S),{},{stroke:"none",fill:f},_),D),{},{index:A,payload:O,visibleTicksCount:v.length,tickFormatter:m});return ge.createElement(Kr,wd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Wp(l.props,O,A)),u&&ge.createElement("line",wd({},w,N,{className:Qt("recharts-cartesian-axis-tick-line",On(u,"className"))})),p&&t.renderTickItem(p,L,"".concat(Ot(m)?m(O.value,A):O.value).concat(x||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var a=this,n=this.props,i=n.axisLine,l=n.width,c=n.height,u=n.ticksGenerator,f=n.className,p=n.hide;if(p)return null;var m=this.props,x=m.ticks,v=dw(m,G1e),y=x;return Ot(u)&&(y=x&&x.length>0?u(this.props):u(v)),l<=0||c<=0||!y||!y.length?null:ge.createElement(Kr,{className:Qt("recharts-cartesian-axis",f),ref:function(S){a.layerReference=S}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,i){var l,c=Qt(n.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(a)?l=ge.cloneElement(a,_a(_a({},n),{},{className:c})):Ot(a)?l=a(_a(_a({},n),{},{className:c})):l=ge.createElement(sx,wd({},n,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(P.Component);QE(Eu,"displayName","CartesianAxis");QE(Eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tSe=["x1","y1","x2","y2","key"],rSe=["offset"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(a){aSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aSe(e,t,r){return t=sSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sSe(e){var t=nSe(e,"string");return gc(t)=="symbol"?t:t+""}function nSe(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(gc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xo.apply(this,arguments)}function NI(e,t){if(e==null)return{};var r=iSe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iSe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var lSe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,n=t.x,i=t.y,l=t.width,c=t.height,u=t.ry;return ge.createElement("rect",{x:n,y:i,ry:u,width:l,height:c,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function b7(e,t){var r;if(ge.isValidElement(e))r=ge.cloneElement(e,t);else if(Ot(e))r=e(t);else{var a=t.x1,n=t.y1,i=t.x2,l=t.y2,c=t.key,u=NI(t,tSe),f=Ft(u,!1);f.offset;var p=NI(f,rSe);r=ge.createElement("line",Xo({},p,{x1:a,y1:n,x2:i,y2:l,fill:"none",key:c}))}return r}function oSe(e){var t=e.x,r=e.width,a=e.horizontal,n=a===void 0?!0:a,i=e.horizontalPoints;if(!n||!i||!i.length)return null;var l=i.map(function(c,u){var f=is(is({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return b7(n,f)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function cSe(e){var t=e.y,r=e.height,a=e.vertical,n=a===void 0?!0:a,i=e.verticalPoints;if(!n||!i||!i.length)return null;var l=i.map(function(c,u){var f=is(is({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return b7(n,f)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function dSe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,n=e.y,i=e.width,l=e.height,c=e.horizontalPoints,u=e.horizontal,f=u===void 0?!0:u;if(!f||!t||!t.length)return null;var p=c.map(function(x){return Math.round(x+n-n)}).sort(function(x,v){return x-v});n!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var y=!p[v+1],b=y?n+l-x:p[v+1]-x;if(b<=0)return null;var S=v%t.length;return ge.createElement("rect",{key:"react-".concat(v),y:x,x:a,height:b,width:i,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function uSe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,n=e.fillOpacity,i=e.x,l=e.y,c=e.width,u=e.height,f=e.verticalPoints;if(!r||!a||!a.length)return null;var p=f.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==p[0]&&p.unshift(0);var m=p.map(function(x,v){var y=!p[v+1],b=y?i+c-x:p[v+1]-x;if(b<=0)return null;var S=v%a.length;return ge.createElement("rect",{key:"react-".concat(v),x,y:l,width:b,height:u,stroke:"none",fill:a[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var fSe=function(t,r){var a=t.xAxis,n=t.width,i=t.height,l=t.offset;return kF(KE(is(is(is({},Eu.defaultProps),a),{},{ticks:Ki(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),l.left,l.left+l.width,r)},mSe=function(t,r){var a=t.yAxis,n=t.width,i=t.height,l=t.offset;return kF(KE(is(is(is({},Eu.defaultProps),a),{},{ticks:Ki(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),l.top,l.top+l.height,r)},bd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function v7(e){var t,r,a,n,i,l,c=GE(),u=WE(),f=e1e(),p=is(is({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:bd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:bd.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:bd.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:bd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:bd.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:bd.verticalFill,x:We(e.x)?e.x:f.left,y:We(e.y)?e.y:f.top,width:We(e.width)?e.width:f.width,height:We(e.height)?e.height:f.height}),m=p.x,x=p.y,v=p.width,y=p.height,b=p.syncWithTicks,S=p.horizontalValues,_=p.verticalValues,w=Qye(),E=Jye();if(!We(v)||v<=0||!We(y)||y<=0||!We(m)||m!==+m||!We(x)||x!==+x)return null;var O=p.verticalCoordinatesGenerator||fSe,A=p.horizontalCoordinatesGenerator||mSe,T=p.horizontalPoints,N=p.verticalPoints;if((!T||!T.length)&&Ot(A)){var D=S&&S.length,L=A({yAxis:E?is(is({},E),{},{ticks:D?S:E.ticks}):void 0,width:c,height:u,offset:f},D?!0:b);sl(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gc(L),"]")),Array.isArray(L)&&(T=L)}if((!N||!N.length)&&Ot(O)){var M=_&&_.length,k=O({xAxis:w?is(is({},w),{},{ticks:M?_:w.ticks}):void 0,width:c,height:u,offset:f},M?!0:b);sl(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gc(k),"]")),Array.isArray(k)&&(N=k)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(lSe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ge.createElement(oSe,Xo({},p,{offset:f,horizontalPoints:T,xAxis:w,yAxis:E})),ge.createElement(cSe,Xo({},p,{offset:f,verticalPoints:N,xAxis:w,yAxis:E})),ge.createElement(dSe,Xo({},p,{horizontalPoints:T})),ge.createElement(uSe,Xo({},p,{verticalPoints:N})))}v7.displayName="CartesianGrid";var hSe=["layout","type","stroke","connectNulls","isRange","ref"],pSe=["key"],y7;function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function S7(e,t){if(e==null)return{};var r=xSe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xSe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yo.apply(this,arguments)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(a){mi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EI(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,N7(a.key),a)}}function bSe(e,t,r){return t&&EI(e.prototype,t),r&&EI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vSe(e,t,r){return t=Lx(t),ySe(e,w7()?Reflect.construct(t,r||[],Lx(e).constructor):t.apply(e,r))}function ySe(e,t){if(t&&(ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SSe(e)}function SSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(e)}function wSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},HN(e,t)}function mi(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=NSe(e,"string");return ou(t)=="symbol"?t:t+""}function NSe(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(ou(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vo=(function(e){function t(){var r;gSe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=vSe(this,t,[].concat(n)),mi(r,"state",{isAnimationFinished:!0}),mi(r,"id",xm("recharts-area-")),mi(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ot(l)&&l()}),mi(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ot(l)&&l()}),r}return wSe(t,e),bSe(t,[{key:"renderDots",value:function(a,n,i){var l=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(l&&!c)return null;var u=this.props,f=u.dot,p=u.points,m=u.dataKey,x=Ft(this.props,!1),v=Ft(f,!0),y=p.map(function(S,_){var w=Vl(Vl(Vl({key:"dot-".concat(_),r:3},x),v),{},{index:_,cx:S.x,cy:S.y,dataKey:m,value:S.value,payload:S.payload,points:p});return t.renderDotItem(f,w)}),b={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return ge.createElement(Kr,Yo({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,i=n.baseLine,l=n.points,c=n.strokeWidth,u=l[0].x,f=l[l.length-1].x,p=a*Math.abs(u-f),m=Ql(l.map(function(x){return x.y||0}));return We(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Ql(i.map(function(x){return x.y||0})),m)),We(m)?ge.createElement("rect",{x:u<f?u:u-p,y:0,width:p,height:Math.floor(m+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,i=n.baseLine,l=n.points,c=n.strokeWidth,u=l[0].y,f=l[l.length-1].y,p=a*Math.abs(u-f),m=Ql(l.map(function(x){return x.x||0}));return We(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Ql(i.map(function(x){return x.x||0})),m)),We(m)?ge.createElement("rect",{x:0,y:u<f?u:u-p,width:m+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,i,l){var c=this.props,u=c.layout,f=c.type,p=c.stroke,m=c.connectNulls,x=c.isRange;c.ref;var v=S7(c,hSe);return ge.createElement(Kr,{clipPath:i?"url(#clipPath-".concat(l,")"):null},ge.createElement(Kf,Yo({},Ft(v,!0),{points:a,connectNulls:m,type:f,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),p!=="none"&&ge.createElement(Kf,Yo({},Ft(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:a})),p!=="none"&&x&&ge.createElement(Kf,Yo({},Ft(this.props,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:m,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var i=this,l=this.props,c=l.points,u=l.baseLine,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,x=l.animationEasing,v=l.animationId,y=this.state,b=y.prevPoints,S=y.prevBaseLine;return ge.createElement(ul,{begin:p,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var E=b.length/c.length,O=c.map(function(D,L){var M=Math.floor(L*E);if(b[M]){var k=b[M],I=Sn(k.x,D.x),V=Sn(k.y,D.y);return Vl(Vl({},D),{},{x:I(w),y:V(w)})}return D}),A;if(We(u)&&typeof u=="number"){var T=Sn(S,u);A=T(w)}else if(zt(u)||vu(u)){var N=Sn(S,0);A=N(w)}else A=u.map(function(D,L){var M=Math.floor(L*E);if(S[M]){var k=S[M],I=Sn(k.x,D.x),V=Sn(k.y,D.y);return Vl(Vl({},D),{},{x:I(w),y:V(w)})}return D});return i.renderAreaStatically(O,A,a,n)}return ge.createElement(Kr,null,ge.createElement("defs",null,ge.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(w))),ge.createElement(Kr,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(c,u,a,n)))})}},{key:"renderArea",value:function(a,n){var i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,f=this.state,p=f.prevPoints,m=f.prevBaseLine,x=f.totalLength;return u&&l&&l.length&&(!p&&x>0||!P0(p,l)||!P0(m,c))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(l,c,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,l=n.dot,c=n.points,u=n.className,f=n.top,p=n.left,m=n.xAxis,x=n.yAxis,v=n.width,y=n.height,b=n.isAnimationActive,S=n.id;if(i||!c||!c.length)return null;var _=this.state.isAnimationFinished,w=c.length===1,E=Qt("recharts-area",u),O=m&&m.allowDataOverflow,A=x&&x.allowDataOverflow,T=O||A,N=zt(S)?this.id:S,D=(a=Ft(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},L=D.r,M=L===void 0?3:L,k=D.strokeWidth,I=k===void 0?2:k,V=Voe(l)?l:{},q=V.clipDot,z=q===void 0?!0:q,R=M*2+I;return ge.createElement(Kr,{className:E},O||A?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(N)},ge.createElement("rect",{x:O?p:p-v/2,y:A?f:f-y/2,width:O?v:v*2,height:A?y:y*2})),!z&&ge.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ge.createElement("rect",{x:p-R/2,y:f-R/2,width:v+R,height:y+R}))):null,w?null:this.renderArea(T,N),(l||w)&&this.renderDots(T,z,N),(!b||_)&&to.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(P.PureComponent);y7=vo;mi(vo,"displayName","Area");mi(vo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Su.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});mi(vo,"getBaseValue",function(e,t,r,a){var n=e.layout,i=e.baseValue,l=t.props.baseValue,c=l??i;if(We(c)&&typeof c=="number")return c;var u=n==="horizontal"?a:r,f=u.scale.domain();if(u.type==="number"){var p=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return c==="dataMin"?m:c==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});mi(vo,"getComposedData",function(e){var t=e.props,r=e.item,a=e.xAxis,n=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,c=e.bandSize,u=e.dataKey,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,x=e.offset,v=t.layout,y=f&&f.length,b=y7.getBaseValue(t,r,a,n),S=v==="horizontal",_=!1,w=m.map(function(O,A){var T;y?T=f[p+A]:(T=Js(O,u),Array.isArray(T)?_=!0:T=[b,T]);var N=T[1]==null||y&&Js(O,u)==null;return S?{x:B5({axis:a,ticks:i,bandSize:c,entry:O,index:A}),y:N?null:n.scale(T[1]),value:T,payload:O}:{x:N?null:a.scale(T[1]),y:B5({axis:n,ticks:l,bandSize:c,entry:O,index:A}),value:T,payload:O}}),E;return y||_?E=w.map(function(O){var A=Array.isArray(O.value)?O.value[0]:null;return S?{x:O.x,y:A!=null&&O.y!=null?n.scale(A):null}:{x:A!=null?a.scale(A):null,y:O.y}}):E=S?n.scale(b):a.scale(b),Vl({points:w,baseLine:E,layout:v,isRange:_},x)});mi(vo,"renderDotItem",function(e,t){var r;if(ge.isValidElement(e))r=ge.cloneElement(e,t);else if(Ot(e))r=e(t);else{var a=Qt("recharts-area-dot",typeof e!="boolean"?e.className:""),n=t.key,i=S7(t,pSe);r=ge.createElement(qE,Yo({},i,{key:n,className:a}))}return r});function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function jSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ESe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,A7(a.key),a)}}function ASe(e,t,r){return t&&ESe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Se(e,t,r){return t=Fx(t),CSe(e,j7()?Reflect.construct(t,r||[],Fx(e).constructor):t.apply(e,r))}function CSe(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TSe(e)}function TSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j7=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(e)}function OSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},VN(e,t)}function E7(e,t,r){return t=A7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=kSe(e,"string");return cu(t)=="symbol"?t:t+""}function kSe(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(cu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},GN.apply(this,arguments)}function RSe(e){var t=e.xAxisId,r=GE(),a=WE(),n=l7(t);return n==null?null:P.createElement(Eu,GN({},n,{className:Qt("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Ki(l,!0)}}))}var wm=(function(e){function t(){return jSe(this,t),_Se(this,t,arguments)}return OSe(t,e),ASe(t,[{key:"render",value:function(){return P.createElement(RSe,this.props)}}])})(P.Component);E7(wm,"displayName","XAxis");E7(wm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function PSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DSe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,T7(a.key),a)}}function ISe(e,t,r){return t&&DSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MSe(e,t,r){return t=Ux(t),LSe(e,_7()?Reflect.construct(t,r||[],Ux(e).constructor):t.apply(e,r))}function LSe(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(e)}function FSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(e)}function USe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},WN(e,t)}function C7(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=BSe(e,"string");return du(t)=="symbol"?t:t+""}function BSe(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(du(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},XN.apply(this,arguments)}var zSe=function(t){var r=t.yAxisId,a=GE(),n=WE(),i=o7(r);return i==null?null:P.createElement(Eu,XN({},i,{className:Qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(c){return Ki(c,!0)}}))},Nm=(function(e){function t(){return PSe(this,t),MSe(this,t,arguments)}return USe(t,e),ISe(t,[{key:"render",value:function(){return P.createElement(zSe,this.props)}}])})(P.Component);C7(Nm,"displayName","YAxis");C7(Nm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AI(e){return VSe(e)||HSe(e)||$Se(e)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Se(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function HSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VSe(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var KN=function(t,r,a,n,i){var l=Jn(t,YE),c=Jn(t,Cg),u=[].concat(AI(l),AI(c)),f=Jn(t,Og),p="".concat(n,"Id"),m=n[0],x=r;if(u.length&&(x=u.reduce(function(b,S){if(S.props[p]===a&&gi(S.props,"extendDomain")&&We(S.props[m])){var _=S.props[m];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},x)),f.length){var v="".concat(m,"1"),y="".concat(m,"2");x=f.reduce(function(b,S){if(S.props[p]===a&&gi(S.props,"extendDomain")&&We(S.props[v])&&We(S.props[y])){var _=S.props[v],w=S.props[y];return[Math.min(b[0],_,w),Math.max(b[1],_,w)]}return b},x)}return i&&i.length&&(x=i.reduce(function(b,S){return We(S)?[Math.min(b[0],S),Math.max(b[1],S)]:b},x)),x},uw={exports:{}},_I;function GSe(){return _I||(_I=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function i(u,f,p,m,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new n(p,m||u,x),y=r?r+f:f;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],v]:u._events[y].push(v):(u._events[y]=v,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new a:delete u._events[f]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,v=m.length,y=new Array(v);x<v;x++)y[x]=m[x].fn;return y},c.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,x,v,y){var b=r?r+f:f;if(!this._events[b])return!1;var S=this._events[b],_=arguments.length,w,E;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,m),!0;case 4:return S.fn.call(S.context,p,m,x),!0;case 5:return S.fn.call(S.context,p,m,x,v),!0;case 6:return S.fn.call(S.context,p,m,x,v,y),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];S.fn.apply(S.context,w)}else{var O=S.length,A;for(E=0;E<O;E++)switch(S[E].once&&this.removeListener(f,S[E].fn,void 0,!0),_){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,p);break;case 3:S[E].fn.call(S[E].context,p,m);break;case 4:S[E].fn.call(S[E].context,p,m,x);break;default:if(!w)for(A=1,w=new Array(_-1);A<_;A++)w[A-1]=arguments[A];S[E].fn.apply(S[E].context,w)}}return!0},c.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,x){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var y=this._events[v];if(y.fn)y.fn===p&&(!x||y.once)&&(!m||y.context===m)&&l(this,v);else{for(var b=0,S=[],_=y.length;b<_;b++)(y[b].fn!==p||x&&!y[b].once||m&&y[b].context!==m)&&S.push(y[b]);S.length?this._events[v]=S.length===1?S[0]:S:l(this,v)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(uw)),uw.exports}var WSe=GSe();const XSe=jr(WSe);var fw=new XSe,mw="recharts.syncMouseEvents";function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function YSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KSe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,O7(a.key),a)}}function QSe(e,t,r){return t&&KSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hw(e,t,r){return t=O7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O7(e){var t=JSe(e,"string");return tm(t)=="symbol"?t:t+""}function JSe(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZSe=(function(){function e(){YSe(this,e),hw(this,"activeIndex",0),hw(this,"coordinateList",[]),hw(this,"layout","horizontal")}return QSe(e,[{key:"setDetails",value:function(r){var a,n=r.coordinateList,i=n===void 0?null:n,l=r.container,c=l===void 0?null:l,u=r.layout,f=u===void 0?null:u,p=r.offset,m=p===void 0?null:p,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,l=n.y,c=n.height,u=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+u+f,x=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function e2e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],n=e==null?void 0:e[1];if(a&&n&&We(a)&&We(n))return!0}return!1}function t2e(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function k7(e){var t=e.cx,r=e.cy,a=e.radius,n=e.startAngle,i=e.endAngle,l=Ja(t,r,a,n),c=Ja(t,r,a,i);return{points:[l,c],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function r2e(e,t,r){var a,n,i,l;if(e==="horizontal")a=t.x,i=a,n=r.top,l=r.top+r.height;else if(e==="vertical")n=t.y,l=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,u=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,x=Ja(c,u,f,m),v=Ja(c,u,p,m);a=x.x,n=x.y,i=v.x,l=v.y}else return k7(t);return[{x:a,y:n},{x:i,y:l}]}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(a){a2e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function a2e(e,t,r){return t=s2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s2e(e){var t=n2e(e,"string");return rm(t)=="symbol"?t:t+""}function n2e(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i2e(e){var t,r,a=e.element,n=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!i||!l||x!=="ScatterChart"&&n!=="axis")return null;var y,b=Kf;if(x==="ScatterChart")y=l,b=ove;else if(x==="BarChart")y=t2e(m,l,u,p),b=zE;else if(m==="radial"){var S=k7(l),_=S.cx,w=S.cy,E=S.radius,O=S.startAngle,A=S.endAngle;y={cx:_,cy:w,startAngle:O,endAngle:A,innerRadius:E,outerRadius:E},b=MF}else y={points:r2e(m,l,u)},b=Kf;var T=dp(dp(dp(dp({stroke:"#ccc",pointerEvents:"none"},u),y),Ft(v,!1)),{},{payload:c,payloadIndex:f,className:Qt("recharts-tooltip-cursor",v.className)});return P.isValidElement(v)?P.cloneElement(v,T):P.createElement(b,T)}var l2e=["item"],o2e=["children","className","width","height","style","compact","title","desc"];function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nd.apply(this,arguments)}function TI(e,t){return u2e(e)||d2e(e,t)||P7(e,t)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,l,c=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(p){f=!0,n=p}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw n}}return c}}function u2e(e){if(Array.isArray(e))return e}function OI(e,t){if(e==null)return{};var r=f2e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function f2e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function m2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,D7(a.key),a)}}function p2e(e,t,r){return t&&h2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x2e(e,t,r){return t=Bx(t),g2e(e,R7()?Reflect.construct(t,r||[],Bx(e).constructor):t.apply(e,r))}function g2e(e,t){if(t&&(uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b2e(e)}function b2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R7=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(e)}function v2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},QN(e,t)}function fu(e){return w2e(e)||S2e(e)||P7(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function S2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w2e(e){if(Array.isArray(e))return JN(e)}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(a){xt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xt(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=N2e(e,"string");return uu(t)=="symbol"?t:t+""}function N2e(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(uu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j2e={xAxis:["bottom","top"],yAxis:["left","right"]},E2e={width:"100%",height:"100%"},I7={x:0,y:0};function up(e){return e}var A2e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_2e=function(t,r,a,n){var i=r.find(function(p){return p&&p.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,c=n.radius;return Le(Le(Le({},n),Ja(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=i.coordinate,f=n.angle;return Le(Le(Le({},n),Ja(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return I7},kg=function(t,r){var a=r.graphicalItems,n=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(c,u){var f=u.props.data;return f&&f.length?[].concat(fu(c),fu(f)):c},[]);return l.length>0?l:t&&t.length&&We(n)&&We(i)?t.slice(n,i+1):[]};function M7(e){return e==="number"?[0,"auto"]:void 0}var ZN=function(t,r,a,n){var i=t.graphicalItems,l=t.tooltipAxis,c=kg(r,t);return a<0||!i||!i.length||a>=c.length?null:i.reduce(function(u,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?c:m;x=Vp(v,l.dataKey,n)}else x=m&&m[a]||c[a];return x?[].concat(fu(u),[PF(f,x)]):u},[])},RI=function(t,r,a,n){var i=n||{x:t.chartX,y:t.chartY},l=A2e(i,a),c=t.orderedTooltipTicks,u=t.tooltipAxis,f=t.tooltipTicks,p=Hpe(l,c,f,u);if(p>=0&&f){var m=f[p]&&f[p].value,x=ZN(t,r,p,m),v=_2e(a,c,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:x,activeCoordinate:v}}return null},C2e=function(t,r){var a=r.axes,n=r.graphicalItems,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=t.stackOffset,v=OF(p,i);return a.reduce(function(y,b){var S,_=b.type.defaultProps!==void 0?Le(Le({},b.type.defaultProps),b.props):b.props,w=_.type,E=_.dataKey,O=_.allowDataOverflow,A=_.allowDuplicatedCategory,T=_.scale,N=_.ticks,D=_.includeHidden,L=_[l];if(y[L])return y;var M=kg(t.data,{graphicalItems:n.filter(function(F){var K,J=l in F.props?F.props[l]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[l];return J===L}),dataStartIndex:u,dataEndIndex:f}),k=M.length,I,V,q;e2e(_.domain,O,w)&&(I=bN(_.domain,null,O),v&&(w==="number"||T!=="auto")&&(q=Yf(M,E,"category")));var z=M7(w);if(!I||I.length===0){var R,W=(R=_.domain)!==null&&R!==void 0?R:z;if(E){if(I=Yf(M,E,w),w==="category"&&v){var X=Ioe(I);A&&X?(V=I,I=_x(0,k)):A||(I=H5(W,I,b).reduce(function(F,K){return F.indexOf(K)>=0?F:[].concat(fu(F),[K])},[]))}else if(w==="category")A?I=I.filter(function(F){return F!==""&&!zt(F)}):I=H5(W,I,b).reduce(function(F,K){return F.indexOf(K)>=0||K===""||zt(K)?F:[].concat(fu(F),[K])},[]);else if(w==="number"){var B=Ype(M,n.filter(function(F){var K,J,H=l in F.props?F.props[l]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[l],ce="hide"in F.props?F.props.hide:(J=F.type.defaultProps)===null||J===void 0?void 0:J.hide;return H===L&&(D||!ce)}),E,i,p);B&&(I=B)}v&&(w==="number"||T!=="auto")&&(q=Yf(M,E,"category"))}else v?I=_x(0,k):c&&c[L]&&c[L].hasStack&&w==="number"?I=x==="expand"?[0,1]:RF(c[L].stackGroups,u,f):I=TF(M,n.filter(function(F){var K=l in F.props?F.props[l]:F.type.defaultProps[l],J="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return K===L&&(D||!J)}),w,p,!0);if(w==="number")I=KN(m,I,L,i,N),W&&(I=bN(W,I,O));else if(w==="category"&&W){var ee=W,Y=I.every(function(F){return ee.indexOf(F)>=0});Y&&(I=ee)}}return Le(Le({},y),{},xt({},L,Le(Le({},_),{},{axisType:i,domain:I,categoricalDomain:q,duplicateDomain:V,originalDomain:(S=_.domain)!==null&&S!==void 0?S:z,isCategorical:v,layout:p})))},{})},T2e=function(t,r){var a=r.graphicalItems,n=r.Axis,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,m=t.children,x=kg(t.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:f}),v=x.length,y=OF(p,i),b=-1;return a.reduce(function(S,_){var w=_.type.defaultProps!==void 0?Le(Le({},_.type.defaultProps),_.props):_.props,E=w[l],O=M7("number");if(!S[E]){b++;var A;return y?A=_x(0,v):c&&c[E]&&c[E].hasStack?(A=RF(c[E].stackGroups,u,f),A=KN(m,A,E,i)):(A=bN(O,TF(x,a.filter(function(T){var N,D,L=l in T.props?T.props[l]:(N=T.type.defaultProps)===null||N===void 0?void 0:N[l],M="hide"in T.props?T.props.hide:(D=T.type.defaultProps)===null||D===void 0?void 0:D.hide;return L===E&&!M}),"number",p),n.defaultProps.allowDataOverflow),A=KN(m,A,E,i)),Le(Le({},S),{},xt({},E,Le(Le({axisType:i},n.defaultProps),{},{hide:!0,orientation:On(j2e,"".concat(i,".").concat(b%2),null),domain:A,originalDomain:O,isCategorical:y,layout:p})))}return S},{})},O2e=function(t,r){var a=r.axisType,n=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,c=r.stackGroups,u=r.dataStartIndex,f=r.dataEndIndex,p=t.children,m="".concat(n,"Id"),x=Jn(p,i),v={};return x&&x.length?v=C2e(t,{axes:x,graphicalItems:l,axisType:n,axisIdKey:m,stackGroups:c,dataStartIndex:u,dataEndIndex:f}):l&&l.length&&(v=T2e(t,{Axis:i,graphicalItems:l,axisType:n,axisIdKey:m,stackGroups:c,dataStartIndex:u,dataEndIndex:f})),v},k2e=function(t){var r=Wl(t),a=Ki(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:hE(a,function(n){return n.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bx(r,a)}},PI=function(t){var r=t.children,a=t.defaultShowTooltip,n=qs(r,ru),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(l=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},R2e=function(t){return!t||!t.length?!1:t.some(function(r){var a=al(r&&r.type);return a&&a.indexOf("Bar")>=0})},DI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P2e=function(t,r){var a=t.props,n=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,c=t.yAxisMap,u=c===void 0?{}:c,f=a.width,p=a.height,m=a.children,x=a.margin||{},v=qs(m,ru),y=qs(m,kd),b=Object.keys(u).reduce(function(A,T){var N=u[T],D=N.orientation;return!N.mirror&&!N.hide?Le(Le({},A),{},xt({},D,A[D]+N.width)):A},{left:x.left||0,right:x.right||0}),S=Object.keys(l).reduce(function(A,T){var N=l[T],D=N.orientation;return!N.mirror&&!N.hide?Le(Le({},A),{},xt({},D,On(A,"".concat(D))+N.height)):A},{top:x.top||0,bottom:x.bottom||0}),_=Le(Le({},S),b),w=_.bottom;v&&(_.bottom+=v.props.height||ru.defaultProps.height),y&&r&&(_=Wpe(_,n,a,r));var E=f-_.left-_.right,O=p-_.top-_.bottom;return Le(Le({brushBottom:w},_),{},{width:Math.max(E,0),height:Math.max(O,0)})},D2e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},L7=function(t){var r=t.chartName,a=t.GraphicalChild,n=t.defaultTooltipEventType,i=n===void 0?"axis":n,l=t.validateTooltipEventTypes,c=l===void 0?["axis"]:l,u=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,x=function(_,w){var E=w.graphicalItems,O=w.stackGroups,A=w.offset,T=w.updateId,N=w.dataStartIndex,D=w.dataEndIndex,L=_.barSize,M=_.layout,k=_.barGap,I=_.barCategoryGap,V=_.maxBarSize,q=DI(M),z=q.numericAxisName,R=q.cateAxisName,W=R2e(E),X=[];return E.forEach(function(B,ee){var Y=kg(_.data,{graphicalItems:[B],dataStartIndex:N,dataEndIndex:D}),F=B.type.defaultProps!==void 0?Le(Le({},B.type.defaultProps),B.props):B.props,K=F.dataKey,J=F.maxBarSize,H=F["".concat(z,"Id")],ce=F["".concat(R,"Id")],le={},xe=u.reduce(function(ve,tt){var wt=w["".concat(tt.axisType,"Map")],Nt=F["".concat(tt.axisType,"Id")];wt&&wt[Nt]||tt.axisType==="zAxis"||xc();var bt=wt[Nt];return Le(Le({},ve),{},xt(xt({},tt.axisType,bt),"".concat(tt.axisType,"Ticks"),Ki(bt)))},le),se=xe[R],fe=xe["".concat(R,"Ticks")],we=O&&O[H]&&O[H].hasStack&&lxe(B,O[H].stackGroups),G=al(B.type).indexOf("Bar")>=0,He=bx(se,fe),Ue=[],he=W&&Vpe({barSize:L,stackGroups:O,totalSize:D2e(xe,R)});if(G){var Me,ye,$e=zt(J)?V:J,rt=(Me=(ye=bx(se,fe,!0))!==null&&ye!==void 0?ye:$e)!==null&&Me!==void 0?Me:0;Ue=Gpe({barGap:k,barCategoryGap:I,bandSize:rt!==He?rt:He,sizeList:he[ce],maxBarSize:$e}),rt!==He&&(Ue=Ue.map(function(ve){return Le(Le({},ve),{},{position:Le(Le({},ve.position),{},{offset:ve.position.offset-rt/2})})}))}var it=B&&B.type&&B.type.getComposedData;it&&X.push({props:Le(Le({},it(Le(Le({},xe),{},{displayedData:Y,props:_,dataKey:K,item:B,bandSize:He,barPosition:Ue,offset:A,stackedData:we,layout:M,dataStartIndex:N,dataEndIndex:D}))),{},xt(xt(xt({key:B.key||"item-".concat(ee)},z,xe[z]),R,xe[R]),"animationId",T)),childIndex:Xoe(B,_.children),item:B})}),X},v=function(_,w){var E=_.props,O=_.dataStartIndex,A=_.dataEndIndex,T=_.updateId;if(!aR({props:E}))return null;var N=E.children,D=E.layout,L=E.stackOffset,M=E.data,k=E.reverseStackOrder,I=DI(D),V=I.numericAxisName,q=I.cateAxisName,z=Jn(N,a),R=sxe(M,z,"".concat(V,"Id"),"".concat(q,"Id"),L,k),W=u.reduce(function(F,K){var J="".concat(K.axisType,"Map");return Le(Le({},F),{},xt({},J,O2e(E,Le(Le({},K),{},{graphicalItems:z,stackGroups:K.axisType===V&&R,dataStartIndex:O,dataEndIndex:A}))))},{}),X=P2e(Le(Le({},W),{},{props:E,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(F){W[F]=p(E,W[F],X,F.replace("Map",""),r)});var B=W["".concat(q,"Map")],ee=k2e(B),Y=x(E,Le(Le({},W),{},{dataStartIndex:O,dataEndIndex:A,updateId:T,graphicalItems:z,stackGroups:R,offset:X}));return Le(Le({formattedGraphicalItems:Y,graphicalItems:z,offset:X,stackGroups:R},ee),W)},y=(function(S){function _(w){var E,O,A;return m2e(this,_),A=x2e(this,_,[w]),xt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(A,"accessibilityManager",new ZSe),xt(A,"handleLegendBBoxUpdate",function(T){if(T){var N=A.state,D=N.dataStartIndex,L=N.dataEndIndex,M=N.updateId;A.setState(Le({legendBBox:T},v({props:A.props,dataStartIndex:D,dataEndIndex:L,updateId:M},Le(Le({},A.state),{},{legendBBox:T}))))}}),xt(A,"handleReceiveSyncEvent",function(T,N,D){if(A.props.syncId===T){if(D===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(N)}}),xt(A,"handleBrushChange",function(T){var N=T.startIndex,D=T.endIndex;if(N!==A.state.dataStartIndex||D!==A.state.dataEndIndex){var L=A.state.updateId;A.setState(function(){return Le({dataStartIndex:N,dataEndIndex:D},v({props:A.props,dataStartIndex:N,dataEndIndex:D,updateId:L},A.state))}),A.triggerSyncEvent({dataStartIndex:N,dataEndIndex:D})}}),xt(A,"handleMouseEnter",function(T){var N=A.getMouseInfo(T);if(N){var D=Le(Le({},N),{},{isTooltipActive:!0});A.setState(D),A.triggerSyncEvent(D);var L=A.props.onMouseEnter;Ot(L)&&L(D,T)}}),xt(A,"triggeredAfterMouseMove",function(T){var N=A.getMouseInfo(T),D=N?Le(Le({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(D),A.triggerSyncEvent(D);var L=A.props.onMouseMove;Ot(L)&&L(D,T)}),xt(A,"handleItemMouseEnter",function(T){A.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),xt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),xt(A,"handleMouseMove",function(T){T.persist(),A.throttleTriggeredAfterMouseMove(T)}),xt(A,"handleMouseLeave",function(T){A.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};A.setState(N),A.triggerSyncEvent(N);var D=A.props.onMouseLeave;Ot(D)&&D(N,T)}),xt(A,"handleOuterEvent",function(T){var N=Woe(T),D=On(A.props,"".concat(N));if(N&&Ot(D)){var L,M;/.*touch.*/i.test(N)?M=A.getMouseInfo(T.changedTouches[0]):M=A.getMouseInfo(T),D((L=M)!==null&&L!==void 0?L:{},T)}}),xt(A,"handleClick",function(T){var N=A.getMouseInfo(T);if(N){var D=Le(Le({},N),{},{isTooltipActive:!0});A.setState(D),A.triggerSyncEvent(D);var L=A.props.onClick;Ot(L)&&L(D,T)}}),xt(A,"handleMouseDown",function(T){var N=A.props.onMouseDown;if(Ot(N)){var D=A.getMouseInfo(T);N(D,T)}}),xt(A,"handleMouseUp",function(T){var N=A.props.onMouseUp;if(Ot(N)){var D=A.getMouseInfo(T);N(D,T)}}),xt(A,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),xt(A,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.handleMouseDown(T.changedTouches[0])}),xt(A,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&A.handleMouseUp(T.changedTouches[0])}),xt(A,"handleDoubleClick",function(T){var N=A.props.onDoubleClick;if(Ot(N)){var D=A.getMouseInfo(T);N(D,T)}}),xt(A,"handleContextMenu",function(T){var N=A.props.onContextMenu;if(Ot(N)){var D=A.getMouseInfo(T);N(D,T)}}),xt(A,"triggerSyncEvent",function(T){A.props.syncId!==void 0&&fw.emit(mw,A.props.syncId,T,A.eventEmitterSymbol)}),xt(A,"applySyncEvent",function(T){var N=A.props,D=N.layout,L=N.syncMethod,M=A.state.updateId,k=T.dataStartIndex,I=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)A.setState(Le({dataStartIndex:k,dataEndIndex:I},v({props:A.props,dataStartIndex:k,dataEndIndex:I,updateId:M},A.state)));else if(T.activeTooltipIndex!==void 0){var V=T.chartX,q=T.chartY,z=T.activeTooltipIndex,R=A.state,W=R.offset,X=R.tooltipTicks;if(!W)return;if(typeof L=="function")z=L(X,T);else if(L==="value"){z=-1;for(var B=0;B<X.length;B++)if(X[B].value===T.activeLabel){z=B;break}}var ee=Le(Le({},W),{},{x:W.left,y:W.top}),Y=Math.min(V,ee.x+ee.width),F=Math.min(q,ee.y+ee.height),K=X[z]&&X[z].value,J=ZN(A.state,A.props.data,z),H=X[z]?{x:D==="horizontal"?X[z].coordinate:Y,y:D==="horizontal"?F:X[z].coordinate}:I7;A.setState(Le(Le({},T),{},{activeLabel:K,activeCoordinate:H,activePayload:J,activeTooltipIndex:z}))}else A.setState(T)}),xt(A,"renderCursor",function(T){var N,D=A.state,L=D.isTooltipActive,M=D.activeCoordinate,k=D.activePayload,I=D.offset,V=D.activeTooltipIndex,q=D.tooltipAxisBandSize,z=A.getTooltipEventType(),R=(N=T.props.active)!==null&&N!==void 0?N:L,W=A.props.layout,X=T.key||"_recharts-cursor";return ge.createElement(i2e,{key:X,activeCoordinate:M,activePayload:k,activeTooltipIndex:V,chartName:r,element:T,isActive:R,layout:W,offset:I,tooltipAxisBandSize:q,tooltipEventType:z})}),xt(A,"renderPolarAxis",function(T,N,D){var L=On(T,"type.axisType"),M=On(A.state,"".concat(L,"Map")),k=T.type.defaultProps,I=k!==void 0?Le(Le({},k),T.props):T.props,V=M&&M[I["".concat(L,"Id")]];return P.cloneElement(T,Le(Le({},V),{},{className:Qt(L,V.className),key:T.key||"".concat(N,"-").concat(D),ticks:Ki(V,!0)}))}),xt(A,"renderPolarGrid",function(T){var N=T.props,D=N.radialLines,L=N.polarAngles,M=N.polarRadius,k=A.state,I=k.radiusAxisMap,V=k.angleAxisMap,q=Wl(I),z=Wl(V),R=z.cx,W=z.cy,X=z.innerRadius,B=z.outerRadius;return P.cloneElement(T,{polarAngles:Array.isArray(L)?L:Ki(z,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(M)?M:Ki(q,!0).map(function(ee){return ee.coordinate}),cx:R,cy:W,innerRadius:X,outerRadius:B,key:T.key||"polar-grid",radialLines:D})}),xt(A,"renderLegend",function(){var T=A.state.formattedGraphicalItems,N=A.props,D=N.children,L=N.width,M=N.height,k=A.props.margin||{},I=L-(k.left||0)-(k.right||0),V=_F({children:D,formattedGraphicalItems:T,legendWidth:I,legendContent:f});if(!V)return null;var q=V.item,z=OI(V,l2e);return P.cloneElement(q,Le(Le({},z),{},{chartWidth:L,chartHeight:M,margin:k,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),xt(A,"renderTooltip",function(){var T,N=A.props,D=N.children,L=N.accessibilityLayer,M=qs(D,$n);if(!M)return null;var k=A.state,I=k.isTooltipActive,V=k.activeCoordinate,q=k.activePayload,z=k.activeLabel,R=k.offset,W=(T=M.props.active)!==null&&T!==void 0?T:I;return P.cloneElement(M,{viewBox:Le(Le({},R),{},{x:R.left,y:R.top}),active:W,label:z,payload:W?q:[],coordinate:V,accessibilityLayer:L})}),xt(A,"renderBrush",function(T){var N=A.props,D=N.margin,L=N.data,M=A.state,k=M.offset,I=M.dataStartIndex,V=M.dataEndIndex,q=M.updateId;return P.cloneElement(T,{key:T.key||"_recharts-brush",onChange:ip(A.handleBrushChange,T.props.onChange),data:L,x:We(T.props.x)?T.props.x:k.left,y:We(T.props.y)?T.props.y:k.top+k.height+k.brushBottom-(D.bottom||0),width:We(T.props.width)?T.props.width:k.width,startIndex:I,endIndex:V,updateId:"brush-".concat(q)})}),xt(A,"renderReferenceElement",function(T,N,D){if(!T)return null;var L=A,M=L.clipPathId,k=A.state,I=k.xAxisMap,V=k.yAxisMap,q=k.offset,z=T.type.defaultProps||{},R=T.props,W=R.xAxisId,X=W===void 0?z.xAxisId:W,B=R.yAxisId,ee=B===void 0?z.yAxisId:B;return P.cloneElement(T,{key:T.key||"".concat(N,"-").concat(D),xAxis:I[X],yAxis:V[ee],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:M})}),xt(A,"renderActivePoints",function(T){var N=T.item,D=T.activePoint,L=T.basePoint,M=T.childIndex,k=T.isRange,I=[],V=N.props.key,q=N.item.type.defaultProps!==void 0?Le(Le({},N.item.type.defaultProps),N.item.props):N.item.props,z=q.activeDot,R=q.dataKey,W=Le(Le({index:M,dataKey:R,cx:D.x,cy:D.y,r:4,fill:BE(N.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ft(z,!1)),Gp(z));return I.push(_.renderActiveDot(z,W,"".concat(V,"-activePoint-").concat(M))),L?I.push(_.renderActiveDot(z,Le(Le({},W),{},{cx:L.x,cy:L.y}),"".concat(V,"-basePoint-").concat(M))):k&&I.push(null),I}),xt(A,"renderGraphicChild",function(T,N,D){var L=A.filterFormatItem(T,N,D);if(!L)return null;var M=A.getTooltipEventType(),k=A.state,I=k.isTooltipActive,V=k.tooltipAxis,q=k.activeTooltipIndex,z=k.activeLabel,R=A.props.children,W=qs(R,$n),X=L.props,B=X.points,ee=X.isRange,Y=X.baseLine,F=L.item.type.defaultProps!==void 0?Le(Le({},L.item.type.defaultProps),L.item.props):L.item.props,K=F.activeDot,J=F.hide,H=F.activeBar,ce=F.activeShape,le=!!(!J&&I&&W&&(K||H||ce)),xe={};M!=="axis"&&W&&W.props.trigger==="click"?xe={onClick:ip(A.handleItemMouseEnter,T.props.onClick)}:M!=="axis"&&(xe={onMouseLeave:ip(A.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:ip(A.handleItemMouseEnter,T.props.onMouseEnter)});var se=P.cloneElement(T,Le(Le({},L.props),xe));function fe(tt){return typeof V.dataKey=="function"?V.dataKey(tt.payload):null}if(le)if(q>=0){var we,G;if(V.dataKey&&!V.allowDuplicatedCategory){var He=typeof V.dataKey=="function"?fe:"payload.".concat(V.dataKey.toString());we=Vp(B,He,z),G=ee&&Y&&Vp(Y,He,z)}else we=B==null?void 0:B[q],G=ee&&Y&&Y[q];if(ce||H){var Ue=T.props.activeIndex!==void 0?T.props.activeIndex:q;return[P.cloneElement(T,Le(Le(Le({},L.props),xe),{},{activeIndex:Ue})),null,null]}if(!zt(we))return[se].concat(fu(A.renderActivePoints({item:L,activePoint:we,basePoint:G,childIndex:q,isRange:ee})))}else{var he,Me=(he=A.getItemByXY(A.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:se},ye=Me.graphicalItem,$e=ye.item,rt=$e===void 0?T:$e,it=ye.childIndex,ve=Le(Le(Le({},L.props),xe),{},{activeIndex:it});return[P.cloneElement(rt,ve),null,null]}return ee?[se,null,null]:[se,null]}),xt(A,"renderCustomized",function(T,N,D){return P.cloneElement(T,Le(Le({key:"recharts-customized-".concat(D)},A.props),A.state))}),xt(A,"renderMap",{CartesianGrid:{handler:up,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:up},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:up},YAxis:{handler:up},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=w.id)!==null&&E!==void 0?E:xm("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=AL(A.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),A.state={},A}return v2e(_,S),p2e(_,[{key:"componentDidMount",value:function(){var E,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,O=E.children,A=E.data,T=E.height,N=E.layout,D=qs(O,$n);if(D){var L=D.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,k=ZN(this.state,A,L,M),I=this.state.tooltipTicks[L].coordinate,V=(this.state.offset.top+T)/2,q=N==="horizontal",z=q?{x:I,y:V}:{y:I,x:V},R=this.state.formattedGraphicalItems.find(function(X){var B=X.item;return B.type.name==="Scatter"});R&&(z=Le(Le({},z),R.props.points[L].tooltipPosition),k=R.props.points[L].tooltipPayload);var W={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:z};this.setState(W),this.renderCursor(D),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,T;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(E){Bw([qs(E.children,$n)],[qs(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=qs(this.props.children,$n);if(E&&typeof E.props.shared=="boolean"){var O=E.props.shared?"axis":"item";return c.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var O=this.container,A=O.getBoundingClientRect(),T=Dfe(A),N={chartX:Math.round(E.pageX-T.left),chartY:Math.round(E.pageY-T.top)},D=A.width/O.offsetWidth||1,L=this.inRange(N.chartX,N.chartY,D);if(!L)return null;var M=this.state,k=M.xAxisMap,I=M.yAxisMap,V=this.getTooltipEventType(),q=RI(this.state,this.props.data,this.props.layout,L);if(V!=="axis"&&k&&I){var z=Wl(k).scale,R=Wl(I).scale,W=z&&z.invert?z.invert(N.chartX):null,X=R&&R.invert?R.invert(N.chartY):null;return Le(Le({},N),{},{xValue:W,yValue:X},q)}return q?Le(Le({},N),q):null}},{key:"inRange",value:function(E,O){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,N=E/A,D=O/A;if(T==="horizontal"||T==="vertical"){var L=this.state.offset,M=N>=L.left&&N<=L.left+L.width&&D>=L.top&&D<=L.top+L.height;return M?{x:N,y:D}:null}var k=this.state,I=k.angleAxisMap,V=k.radiusAxisMap;if(I&&V){var q=Wl(I);return W5({x:N,y:D},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,O=this.getTooltipEventType(),A=qs(E,$n),T={};A&&O==="axis"&&(A.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Gp(this.props,this.handleOuterEvent);return Le(Le({},N),T)}},{key:"addListener",value:function(){fw.on(mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fw.removeListener(mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,O,A){for(var T=this.state.formattedGraphicalItems,N=0,D=T.length;N<D;N++){var L=T[N];if(L.item===E||L.props.key===E.key||O===al(L.item.type)&&A===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,O=this.state.offset,A=O.left,T=O.top,N=O.height,D=O.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:E},ge.createElement("rect",{x:A,y:T,height:N,width:D})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(O,A){var T=TI(A,2),N=T[0],D=T[1];return Le(Le({},O),{},xt({},N,D.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(O,A){var T=TI(A,2),N=T[0],D=T[1];return Le(Le({},O),{},xt({},N,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[E])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(E){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[E])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(E){var O=this.state,A=O.formattedGraphicalItems,T=O.activeItem;if(A&&A.length)for(var N=0,D=A.length;N<D;N++){var L=A[N],M=L.props,k=L.item,I=k.type.defaultProps!==void 0?Le(Le({},k.type.defaultProps),k.props):k.props,V=al(k.type);if(V==="Bar"){var q=(M.data||[]).find(function(X){return Jbe(E,X)});if(q)return{graphicalItem:L,payload:q}}else if(V==="RadialBar"){var z=(M.data||[]).find(function(X){return W5(E,X)});if(z)return{graphicalItem:L,payload:z}}else if(jg(L,T)||Eg(L,T)||K0(L,T)){var R=qve({graphicalItem:L,activeTooltipItem:T,itemData:I.data}),W=I.activeIndex===void 0?R:I.activeIndex;return{graphicalItem:Le(Le({},L),{},{childIndex:W}),payload:K0(L,T)?I.data[R]:L.props.data[R]}}}return null}},{key:"render",value:function(){var E=this;if(!aR(this))return null;var O=this.props,A=O.children,T=O.className,N=O.width,D=O.height,L=O.style,M=O.compact,k=O.title,I=O.desc,V=OI(O,o2e),q=Ft(V,!1);if(M)return ge.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(qw,Nd({},q,{width:N,height:D,title:k,desc:I}),this.renderClipPath(),nR(A,this.renderMap)));if(this.props.accessibilityLayer){var z,R;q.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,q.role=(R=this.props.role)!==null&&R!==void 0?R:"application",q.onKeyDown=function(X){E.accessibilityManager.keyboardEvent(X)},q.onFocus=function(){E.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ge.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Nd({className:Qt("recharts-wrapper",T),style:Le({position:"relative",cursor:"default",width:N,height:D},L)},W,{ref:function(B){E.container=B}}),ge.createElement(qw,Nd({},q,{width:N,height:D,title:k,desc:I,style:E2e}),this.renderClipPath(),nR(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(P.Component);xt(y,"displayName",r),xt(y,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),xt(y,"getDerivedStateFromProps",function(S,_){var w=S.dataKey,E=S.data,O=S.children,A=S.width,T=S.height,N=S.layout,D=S.stackOffset,L=S.margin,M=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var I=PI(S);return Le(Le(Le({},I),{},{updateId:0},v(Le(Le({props:S},I),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:E,prevWidth:A,prevHeight:T,prevLayout:N,prevStackOffset:D,prevMargin:L,prevChildren:O})}if(w!==_.prevDataKey||E!==_.prevData||A!==_.prevWidth||T!==_.prevHeight||N!==_.prevLayout||D!==_.prevStackOffset||!Od(L,_.prevMargin)){var V=PI(S),q={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},z=Le(Le({},RI(_,E,N)),{},{updateId:_.updateId+1}),R=Le(Le(Le({},V),q),z);return Le(Le(Le({},R),v(Le({props:S},R),_)),{},{prevDataKey:w,prevData:E,prevWidth:A,prevHeight:T,prevLayout:N,prevStackOffset:D,prevMargin:L,prevChildren:O})}if(!Bw(O,_.prevChildren)){var W,X,B,ee,Y=qs(O,ru),F=Y&&(W=(X=Y.props)===null||X===void 0?void 0:X.startIndex)!==null&&W!==void 0?W:M,K=Y&&(B=(ee=Y.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&B!==void 0?B:k,J=F!==M||K!==k,H=!zt(E),ce=H&&!J?_.updateId:_.updateId+1;return Le(Le({updateId:ce},v(Le(Le({props:S},_),{},{updateId:ce,dataStartIndex:F,dataEndIndex:K}),_)),{},{prevChildren:O,dataStartIndex:F,dataEndIndex:K})}return null}),xt(y,"renderActiveDot",function(S,_,w){var E;return P.isValidElement(S)?E=P.cloneElement(S,_):Ot(S)?E=S(_):E=ge.createElement(qE,_),ge.createElement(Kr,{className:"recharts-active-dot",key:w},E)});var b=P.forwardRef(function(_,w){return ge.createElement(y,Nd({},_,{ref:w}))});return b.displayName=y.displayName,b},I2e=L7({chartName:"BarChart",GraphicalChild:Tc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wm},{axisType:"yAxis",AxisComp:Nm}],formatAxisMap:ZF}),M2e=L7({chartName:"AreaChart",GraphicalChild:vo,axisComponents:[{axisType:"xAxis",AxisComp:wm},{axisType:"yAxis",AxisComp:Nm}],formatAxisMap:ZF});const La={DASHBOARD:"adminDashboard.views.dashboard",CUSTOMERS:"adminDashboard.views.customers",PRODUCTS:"adminDashboard.views.products",SETTINGS:"adminDashboard.views.settings",QUOTES:"adminDashboard.views.quotes",MISSING:"adminDashboard.views.missing",IMPORT_REQUESTS:"adminDashboard.views.importRequests",ACCOUNT_REQUESTS:"adminDashboard.views.accountRequests",ACTIVITY_LOGS:"adminDashboard.views.activityLogs",ORDERS_MANAGER:"adminDashboard.views.ordersManager",ADMIN_USERS:"adminDashboard.views.adminUsers",MARKETING:"adminDashboard.views.marketing",PRICING:"adminDashboard.views.pricing",TRADER_TOOLS:"adminDashboard.views.traderTools",SUPPLIER_MARKETPLACE:"adminDashboard.views.supplierMarketplace",MARKETERS:"adminDashboard.views.marketers",INSTALLMENTS:"adminDashboard.views.installments",ADVERTISING:"adminDashboard.views.advertising",TEAM_SETTINGS:"adminDashboard.views.teamSettings"},fp={navy:"#0B1B3A",gold:"#C8A04F"},L2e=({onLogout:e})=>{const{t,i18n:r}=na(),[a,n]=P.useState("DASHBOARD"),i=r.dir()==="rtl",{badges:l,markOrdersAsSeen:c,markAccountsAsSeen:u,markQuotesAsSeen:f,markImportsAsSeen:p,markMissingAsSeen:m}=Gle(),{hasPermission:x,canAccess:v,isSuperAdmin:y,adminUser:b,role:S,loading:_}=hm(),[w,E]=P.useState([]),[O,A]=P.useState([]),[T,N]=P.useState([]),[D,L]=P.useState([]),[M,k]=P.useState([]),[I,V]=P.useState([]),[q,z]=P.useState([]),[R,W]=P.useState([]),[X,B]=P.useState([]),[ee,Y]=P.useState("CONNECTED"),[F,K]=P.useState(0),[J,H]=P.useState(!1),[ce,le]=P.useState(1),xe=20,{addToast:se}=qt();P.useEffect(()=>{fe();const $e=setInterval(we,3e4);return()=>clearInterval($e)},[]);const fe=async()=>{try{const[$e,rt,it,ve,tt,wt,Nt,bt,ft]=await Promise.all([de.getAllOrders(),new Promise(kt=>kt(JSON.parse(localStorage.getItem("b2b_users_sini_v2")||"[]"))),de.searchProducts(""),de.getAllQuoteRequests(),de.getImportRequests(),de.getAccountOpeningRequests(),de.getActivityLogs(),de.getMissingProductRequests(),de.getAllNotifications()]);E($e),A(rt),N(it),L(ve),k(tt),V(wt),z(Nt),W(bt),B(ft),we()}catch($e){console.error("Failed to load admin data",$e),Y("DISCONNECTED")}},we=async()=>{H(!0);try{const $e=await de.checkHealth();K($e.latency),$e.latency>500?Y("SLOW"):Y("CONNECTED")}catch{Y("DISCONNECTED")}finally{H(!1)}},G=P.useMemo(()=>{const $e=w.filter(Xe=>Xe.status!==Je.CANCELLED&&Xe.status!==Je.REJECTED).reduce((Xe,ct)=>Xe+ct.totalAmount,0),rt=w.filter(Xe=>new Date(Xe.date).toDateString()===new Date().toDateString()).filter(Xe=>Xe.status!==Je.CANCELLED&&Xe.status!==Je.REJECTED).reduce((Xe,ct)=>Xe+ct.totalAmount,0),it=w.filter(Xe=>Xe.status===Je.PENDING).length,ve=w.filter(Xe=>Xe.status===Je.APPROVED).length,tt=w.filter(Xe=>Xe.status===Je.SHIPPED).length,wt=w.filter(Xe=>Xe.status===Je.CANCELLED).length,Nt=T.filter(Xe=>Xe.stock<=0).length,bt=T.filter(Xe=>Xe.price===0).length,ft=O.filter(Xe=>Xe.role==="CUSTOMER_OWNER"&&Xe.isActive).length,kt=I.filter(Xe=>Xe.status==="NEW").length,Yt=D.filter(Xe=>Xe.status==="NEW"||Xe.status==="UNDER_REVIEW").length;return{totalRevenue:$e,todayRevenue:rt,pendingOrders:it,approvedOrders:ve,shippedOrders:tt,cancelledOrders:wt,totalOrders:w.length,totalProducts:T.length,outOfStock:Nt,needsPriceUpdate:bt,activeBusinesses:ft,pendingAccounts:kt,totalUsers:O.length,pendingQuotes:Yt}},[w,T,O,I,D]),He=P.useMemo(()=>({dailyStats:[...Array(30)].map((it,ve)=>{const tt=new Date;return tt.setDate(tt.getDate()-(29-ve)),tt.toISOString().split("T")[0]}).map(it=>{const ve=w.filter(tt=>tt.date.startsWith(it));return{date:it.slice(5),orders:ve.length,revenue:ve.filter(tt=>tt.status!==Je.CANCELLED).reduce((tt,wt)=>tt+wt.totalAmount,0)}})}),[w]),Ue=P.useMemo(()=>{const $e={};R.filter(tt=>tt.source==="SEARCH").forEach(tt=>{const wt=tt.query.trim().toLowerCase();$e[wt]=($e[wt]||0)+1});const rt=Object.entries($e).sort((tt,wt)=>wt[1]-tt[1]).slice(0,5),it={};w.forEach(tt=>{tt.status!==Je.CANCELLED&&(it[tt.createdByName||tt.userId]=(it[tt.createdByName||tt.userId]||0)+tt.totalAmount)});const ve=Object.entries(it).sort((tt,wt)=>wt[1]-tt[1]).slice(0,5);return{topMissing:rt,topCustomers:ve}},[R,w]),he=P.useMemo(()=>{const $e=new Date().toISOString().split("T")[0],rt=q.filter(it=>it.createdAt.startsWith($e));return{logins:rt.filter(it=>it.eventType==="LOGIN").length,orders:rt.filter(it=>it.eventType==="ORDER_CREATED").length,quotes:rt.filter(it=>it.eventType==="QUOTE_REQUEST").length,searches:rt.filter(it=>it.eventType==="SEARCH_PERFORMED").length}},[q]),Me=()=>s.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-full border text-sm font-bold shadow-sm backdrop-blur-md transition-all ${ee==="CONNECTED"?"bg-emerald-50/90 border-emerald-200 text-emerald-700":ee==="SLOW"?"bg-amber-50/90 border-amber-200 text-amber-700":"bg-red-50/90 border-red-200 text-red-700"}`,children:[s.jsx("div",{className:`w-2.5 h-2.5 rounded-full animate-pulse ${ee==="CONNECTED"?"bg-emerald-500":ee==="SLOW"?"bg-amber-500":"bg-red-500"}`}),s.jsx("span",{className:"hidden md:inline",children:t(ee==="CONNECTED"?"adminDashboard.connected":ee==="SLOW"?"adminDashboard.slowConnection":"adminDashboard.disconnected")}),s.jsxs("span",{className:"font-mono text-xs opacity-70",children:["(",F,"ms)"]}),s.jsx("button",{onClick:we,disabled:J,className:"p-1 hover:bg-black/5 rounded-full transition-colors",children:s.jsx(ua,{size:14,className:J?"animate-spin":""})})]}),ye=({title:$e,value:rt,subValue:it,icon:ve,colorClass:tt,delay:wt})=>s.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all duration-300 group animate-slide-up",style:{animationDelay:wt},children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:$e}),s.jsx("h3",{className:"text-2xl font-black text-slate-800 group-hover:text-brand-600 transition-colors",children:rt})]}),s.jsx("div",{className:`p-3 rounded-xl ${tt} bg-opacity-10 group-hover:scale-110 transition-transform`,children:ge.cloneElement(ve,{size:20,className:tt.replace("bg-","text-")})})]}),it&&s.jsx("div",{className:"pt-3 border-t border-slate-50",children:s.jsx("p",{className:"text-xs font-bold text-slate-400",children:it})})]});return s.jsxs("div",{className:"flex h-screen bg-slate-50 font-sans text-slate-900 overflow-hidden",dir:i?"rtl":"ltr",children:[s.jsxs("aside",{className:"w-72 bg-[#0B1B3A] text-white flex flex-col shadow-2xl z-20 flex-shrink-0",children:[s.jsxs("div",{className:"p-6 border-b border-slate-700/50 bg-[#08142b]",children:[s.jsxs("h1",{className:"text-xl font-black uppercase tracking-wider text-[#C8A04F] font-display flex items-center gap-2",children:[s.jsx(Ys,{size:24})," SINI ADMIN"]}),s.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-bold tracking-widest uppercase",children:"Wholesale Control Center"})]}),s.jsxs("nav",{className:"flex-1 p-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:[s.jsx("p",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:t("adminDashboard.mainSection")}),v("dashboard")&&s.jsx(Ca,{icon:s.jsx(a8,{size:20}),label:t("adminDashboard.dashboard"),active:a==="DASHBOARD",onClick:()=>n("DASHBOARD")}),v("activity_log")&&s.jsx(Ca,{icon:s.jsx(Rn,{size:20}),label:t("adminDashboard.activityLog"),active:a==="ACTIVITY_LOGS",onClick:()=>n("ACTIVITY_LOGS")}),s.jsx("p",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-wider mt-4",children:t("adminDashboard.ordersCustomersSection")}),v("orders")&&s.jsx(Ca,{icon:s.jsx(qp,{size:20}),label:t("adminDashboard.customerOrders"),active:a==="ORDERS_MANAGER",onClick:()=>{n("ORDERS_MANAGER"),c()},badge:l.orders}),v("account_requests")&&s.jsx(Ca,{icon:s.jsx(fc,{size:20}),label:t("adminDashboard.accountRequests"),active:a==="ACCOUNT_REQUESTS",onClick:()=>{n("ACCOUNT_REQUESTS"),u()},badge:l.accounts}),v("customers")&&s.jsx(Ca,{icon:s.jsx(Xt,{size:20}),label:t("adminDashboard.customersCRM"),active:a==="CUSTOMERS",onClick:()=>n("CUSTOMERS")}),v("quotes")&&s.jsx(Ca,{icon:s.jsx(lr,{size:20}),label:t("adminDashboard.quoteRequests"),active:a==="QUOTES",onClick:()=>{n("QUOTES"),f()},badge:l.quotes}),v("imports")&&s.jsx(Ca,{icon:s.jsx(fs,{size:20}),label:t("adminDashboard.importRequests"),active:a==="IMPORT_REQUESTS",onClick:()=>{n("IMPORT_REQUESTS"),p()},badge:l.imports}),v("missing")&&s.jsx(Ca,{icon:s.jsx(C4,{size:20}),label:t("adminDashboard.missingParts"),active:a==="MISSING",onClick:()=>{n("MISSING"),m()},badge:l.missing}),s.jsx("p",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-wider mt-4",children:t("adminDashboard.settingsSection")}),v("products")&&s.jsx(Ca,{icon:s.jsx(Ld,{size:20}),label:t("adminDashboard.products"),active:a==="PRODUCTS",onClick:()=>n("PRODUCTS")}),v("users")&&s.jsx(Ca,{icon:s.jsx(Xt,{size:20}),label:t("adminDashboard.users"),active:a==="ADMIN_USERS",onClick:()=>n("ADMIN_USERS")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(ds,{size:20}),label:t("adminDashboard.systemSettings"),active:a==="SETTINGS",onClick:()=>n("SETTINGS")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(cs,{size:20}),label:t("adminDashboard.marketingCenter"),active:a==="MARKETING",onClick:()=>n("MARKETING")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(Qs,{size:20}),label:t("adminDashboard.pricingCenter"),active:a==="PRICING",onClick:()=>n("PRICING")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(mm,{size:20}),label:t("adminDashboard.traderTools"),active:a==="TRADER_TOOLS",onClick:()=>n("TRADER_TOOLS")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx($p,{size:20}),label:t("adminDashboard.supplierMarketplace"),active:a==="SUPPLIER_MARKETPLACE",onClick:()=>n("SUPPLIER_MARKETPLACE")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx($d,{size:20}),label:t("adminDashboard.marketers"),active:a==="MARKETERS",onClick:()=>n("MARKETERS")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(Qs,{size:20}),label:t("adminDashboard.installments"),active:a==="INSTALLMENTS",onClick:()=>n("INSTALLMENTS")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(cs,{size:20}),label:t("adminDashboard.advertising"),active:a==="ADVERTISING",onClick:()=>n("ADVERTISING")}),v("settings_general")&&s.jsx(Ca,{icon:s.jsx(Xt,{size:20}),label:t("adminDashboard.teamSettings"),active:a==="TEAM_SETTINGS",onClick:()=>n("TEAM_SETTINGS")})]}),s.jsx("div",{className:"p-4 border-t border-slate-700/50 bg-[#08142b]",children:s.jsxs("button",{onClick:e,className:"flex items-center gap-3 text-red-400 hover:text-white text-sm font-bold w-full px-4 py-3 hover:bg-slate-800 rounded-xl transition-colors",children:[s.jsx(s8,{size:18})," ",t("nav.logout")]})})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto bg-slate-50 relative scroll-smooth",children:[s.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200 px-8 py-4 flex justify-between items-center shadow-sm",children:[s.jsxs("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:[a==="DASHBOARD"&&t("adminDashboard.pageTitles.dashboard"),a==="ORDERS_MANAGER"&&t("adminDashboard.pageTitles.ordersManager"),a==="ACTIVITY_LOGS"&&t("adminDashboard.pageTitles.activityLogs"),a==="ACCOUNT_REQUESTS"&&t("adminDashboard.pageTitles.accountRequests"),a==="CUSTOMERS"&&t("adminDashboard.pageTitles.customers"),a==="QUOTES"&&t("adminDashboard.pageTitles.quotes"),a==="IMPORT_REQUESTS"&&t("adminDashboard.pageTitles.imports"),a==="MISSING"&&t("adminDashboard.pageTitles.missing"),a==="SETTINGS"&&t("adminDashboard.pageTitles.settings"),a==="ADMIN_USERS"&&t("adminDashboard.pageTitles.users"),a==="MARKETING"&&t("adminDashboard.pageTitles.marketing"),a==="PRICING"&&t("adminDashboard.pageTitles.pricing"),a==="TRADER_TOOLS"&&t("adminDashboard.pageTitles.traderTools"),a==="SUPPLIER_MARKETPLACE"&&t("adminDashboard.pageTitles.supplierMarketplace"),a==="MARKETERS"&&t("adminDashboard.pageTitles.marketers"),a==="INSTALLMENTS"&&t("adminDashboard.pageTitles.installments"),a==="ADVERTISING"&&t("adminDashboard.pageTitles.advertising"),["PRODUCTS"].includes(a)&&t("adminDashboard.pageTitles.products")]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx($ne,{}),s.jsx(Me,{}),s.jsx("div",{className:"w-px h-8 bg-slate-200 mx-2"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-left hidden md:block",children:[s.jsx("p",{className:"text-sm font-bold text-slate-800",children:(b==null?void 0:b.fullName)||t("adminDashboard.generalManager")}),s.jsx("p",{className:"text-left text-[10px] text-slate-500 font-mono",children:(S==null?void 0:S.name)||"Super Admin"})]}),s.jsx("div",{className:"w-10 h-10 bg-[#0B1B3A] rounded-full flex items-center justify-center text-[#C8A04F] shadow-md border-2 border-[#C8A04F]",children:s.jsx(Ys,{size:20})})]})]})]}),s.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto space-y-8",children:[a==="DASHBOARD"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(ye,{title:t("adminDashboard.stats.todayRevenue"),value:`${G.todayRevenue.toLocaleString()} ${t("customerDashboard.sar")}`,subValue:`${t("adminDashboard.stats.totalRevenue")}: ${G.totalRevenue.toLocaleString()} ${t("customerDashboard.sar")}`,icon:s.jsx(um,{}),colorClass:"text-emerald-600 bg-emerald-100",delay:"0ms"}),s.jsx(ye,{title:t("adminDashboard.stats.pendingOrders"),value:G.pendingOrders,subValue:`${G.approvedOrders} ${t("adminDashboard.stats.approvedOrders")} | ${G.shippedOrders} ${t("adminDashboard.stats.shippedOrders")}`,icon:s.jsx(qp,{}),colorClass:"text-blue-600 bg-blue-100",delay:"50ms"}),s.jsx(ye,{title:t("adminDashboard.stats.activeBusinesses"),value:G.activeBusinesses,subValue:`${G.pendingAccounts} ${t("adminDashboard.stats.pendingAccounts")}`,icon:s.jsx(Xt,{}),colorClass:"text-[#C8A04F] bg-amber-100",delay:"100ms"}),s.jsx(ye,{title:t("adminDashboard.stats.pendingQuotes"),value:G.pendingQuotes,subValue:t("common.noData"),icon:s.jsx(lr,{}),colorClass:"text-slate-600 bg-slate-200",delay:"150ms"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-[400px] flex flex-col",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(uc,{size:20,className:"text-[#C8A04F]"})," ",t("adminDashboard.charts.dailyRevenue")," (30)"]})}),s.jsx("div",{className:"flex-1 w-full min-h-0",children:s.jsx(_D,{width:"100%",height:"100%",children:s.jsxs(M2e,{data:He.dailyStats,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:fp.navy,stopOpacity:.2}),s.jsx("stop",{offset:"95%",stopColor:fp.navy,stopOpacity:0})]})}),s.jsx(v7,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),s.jsx(wm,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),s.jsx(Nm,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),s.jsx($n,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:$e=>[`${$e.toLocaleString()} ${t("customerDashboard.sar")}`,t("adminDashboard.charts.revenue")]}),s.jsx(vo,{type:"monotone",dataKey:"revenue",stroke:fp.navy,strokeWidth:3,fillOpacity:1,fill:"url(#colorRev)"})]})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-[#0B1B3A] text-white p-6 rounded-2xl shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#C8A04F] rounded-full blur-[60px] opacity-20"}),s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 relative z-10",children:[s.jsx(tg,{size:20,className:"text-[#C8A04F]"})," ",t("dashboard.quickActions")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:[s.jsx(mp,{label:t("products.addProduct"),icon:s.jsx(xr,{size:16}),onClick:()=>n("PRODUCTS")}),s.jsx(mp,{label:t("common.refresh"),icon:s.jsx(ua,{size:16}),onClick:()=>n("PRODUCTS")}),s.jsx(mp,{label:t("adminDashboard.stats.pendingOrders"),icon:s.jsx(Xr,{size:16}),onClick:()=>n("QUOTES")}),s.jsx(mp,{label:t("common.export"),icon:s.jsx(Cn,{size:16}),onClick:()=>se(t("common.loading"),"success")})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-[200px] flex flex-col",children:[s.jsx("h3",{className:"font-bold text-slate-800 text-sm mb-4",children:t("adminDashboard.charts.dailyOrders")}),s.jsx("div",{className:"flex-1 w-full min-h-0",children:s.jsx(_D,{width:"100%",height:"100%",children:s.jsxs(I2e,{data:He.dailyStats,children:[s.jsx(Tc,{dataKey:"orders",fill:fp.gold,radius:[4,4,0,0]}),s.jsx($n,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px"}})]})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(C4,{size:20,className:"text-red-500"})," ",t("adminDashboard.charts.topMissingParts")]}),s.jsx("div",{className:"space-y-4",children:Ue.topMissing.length>0?Ue.topMissing.map(([$e,rt],it)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-white border border-slate-200 flex items-center justify-center text-xs font-bold text-slate-500",children:it+1}),s.jsx("span",{className:"font-bold text-slate-700",children:$e})]}),s.jsxs("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded-md",children:[rt," ",t("common.search")]})]},it)):s.jsx("p",{className:"text-center text-slate-400 py-8",children:t("common.noData")})}),s.jsxs("button",{onClick:()=>n("MISSING"),className:"w-full mt-4 text-center text-sm font-bold text-brand-600 hover:text-brand-700 py-2",children:[t("common.view")," ",t("adminDashboard.missingParts")]})]}),s.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Rn,{size:20,className:"text-blue-500"})," ",t("adminDashboard.activityLog")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(hp,{label:t("adminDashboard.activity.logins"),value:he.logins,color:"blue"}),s.jsx(hp,{label:t("adminDashboard.activity.ordersCreated"),value:he.orders,color:"emerald"}),s.jsx(hp,{label:t("adminDashboard.activity.quotesRequested"),value:he.quotes,color:"amber"}),s.jsx(hp,{label:t("adminDashboard.activity.searchesPerformed"),value:he.searches,color:"slate"})]}),s.jsxs("button",{onClick:()=>n("ACTIVITY_LOGS"),className:"w-full mt-6 bg-slate-50 text-slate-600 font-bold py-3 rounded-xl hover:bg-slate-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Zl,{size:16})," ",t("common.view")," ",t("adminDashboard.activityLog")]})]}),s.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-2xl border border-slate-200 shadow-sm",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center gap-2",children:[s.jsx(Wi,{size:20,className:"text-slate-400"})," ",t("nav.notifications")]}),s.jsxs("div",{className:"space-y-4",children:[X.slice(0,5).map($e=>s.jsxs("div",{className:"flex gap-3 items-start border-b border-slate-50 pb-3 last:border-0 last:pb-0",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-500 mt-2 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-slate-800 line-clamp-1",children:$e.title}),s.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:$e.message}),s.jsx("span",{className:"text-[10px] text-slate-400 mt-1 block",children:Dr($e.createdAt)})]})]},$e.id)),X.length===0&&s.jsx("p",{className:"text-center text-slate-400 py-8",children:t("notifications.noNotifications")})]})]})]})]}),a==="SETTINGS"&&(v("settings_general")?s.jsx(Fie,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="ADMIN_USERS"&&(v("users")?s.jsx(ile,{onRefresh:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="MARKETING"&&(v("settings_general")?s.jsx(ule,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="PRICING"&&(v("settings_general")?s.jsx(ble,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="TRADER_TOOLS"&&(v("settings_general")?s.jsx(jle,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="SUPPLIER_MARKETPLACE"&&(v("settings_general")?s.jsx(Ale,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="MARKETERS"&&(v("settings_general")?s.jsx(_le,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="INSTALLMENTS"&&(v("settings_general")?s.jsx(Ole,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="ADVERTISING"&&(v("settings_general")?s.jsx(Mle,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="TEAM_SETTINGS"&&(v("settings_general")?s.jsx(Hle,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="ORDERS_MANAGER"&&(v("orders")?s.jsx(Vie,{orders:w,users:O,onUpdate:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="ACCOUNT_REQUESTS"&&(v("account_requests")?s.jsx(Yie,{requests:I,onUpdate:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="CUSTOMERS"&&(v("customers")?s.jsx(ele,{}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="QUOTES"&&(v("quotes")?s.jsx(Qie,{quotes:D,onUpdate:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="MISSING"&&(v("missing")?s.jsx(Zie,{missingRequests:R}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="IMPORT_REQUESTS"&&(v("imports")?s.jsx(sle,{requests:M,onUpdate:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="ACTIVITY_LOGS"&&(v("activity_log")?s.jsx(U2e,{logs:q,page:ce,setPage:le,perPage:xe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")})),a==="PRODUCTS"&&(v("products")?s.jsx(nle,{onRefresh:fe}):s.jsx(Ma,{resourceName:t(La[a]),onGoHome:()=>n("DASHBOARD")}))]})]})]})},Ca=({icon:e,label:t,active:r,onClick:a,badge:n})=>s.jsxs("button",{onClick:a,className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all mb-1 ${r?"bg-[#C8A04F] text-[#0B1B3A] font-black shadow-md":"text-slate-300 hover:bg-slate-800 hover:text-white font-medium"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e,s.jsx("span",{className:"text-sm",children:t})]}),n>0&&s.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:n})]}),mp=({label:e,icon:t,onClick:r})=>s.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 text-white p-3 rounded-xl font-bold text-xs transition-all border border-white/5 backdrop-blur-sm",children:[t," ",e]}),hp=({label:e,value:t,color:r})=>{const a={blue:"bg-blue-50 text-blue-700",emerald:"bg-emerald-50 text-emerald-700",amber:"bg-amber-50 text-amber-700",slate:"bg-slate-100 text-slate-700"};return s.jsxs("div",{className:`p-4 rounded-xl ${a[r]} text-center`,children:[s.jsx("p",{className:"text-2xl font-black mb-1",children:t}),s.jsx("p",{className:"text-xs font-bold opacity-70",children:e})]})},F2e=()=>{const{t:e}=na(),[t,r]=P.useState([]),[a,n]=P.useState(!0);P.useEffect(()=>{const l=async()=>{try{const u=await de.getOnlineUsers(5);r(u)}catch(u){console.error("Failed to load online users",u)}finally{n(!1)}};l();const c=setInterval(l,3e4);return()=>clearInterval(c)},[]);const i=l=>{const c=Date.now()-new Date(l).getTime(),u=Math.floor(c/6e4);return u<1?e("adminDashboard.onlineUsers.now"):e("adminDashboard.onlineUsers.minutesAgo",{mins:u})};return s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm mb-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:s.jsx(tg,{size:20,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:e("adminDashboard.onlineUsers.title")}),s.jsx("p",{className:"text-xs text-slate-500",children:e("adminDashboard.onlineUsers.subtitle")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:t.length})]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(ua,{className:"animate-spin text-slate-400",size:24})}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.slice(0,12).map(l=>{var c;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-bold text-sm",children:((c=l.name)==null?void 0:c.charAt(0))||"?"}),s.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-sm text-slate-800 truncate",children:l.name}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:l.clientId}),s.jsxs("span",{className:"text-[10px] text-green-600 font-bold",children:[" ",l.lastActiveAt?i(l.lastActiveAt):e("adminDashboard.onlineUsers.online")]})]})]})]},l.id)})}):s.jsxs("div",{className:"text-center py-8 text-slate-400",children:[s.jsx(Xt,{size:32,className:"mx-auto mb-2 opacity-40"}),s.jsx("p",{className:"text-sm font-bold",children:e("adminDashboard.onlineUsers.noOnlineUsers")})]}),t.length>12&&s.jsx("p",{className:"text-center mt-4 text-xs text-slate-500",children:e("adminDashboard.onlineUsers.moreOnline",{count:t.length-12})})]})},U2e=({logs:e,page:t,setPage:r,perPage:a})=>{const{t:n}=na(),i=(t-1)*a,l=e.slice(i,i+a),c=Math.ceil(e.length/a);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(F2e,{}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm animate-fade-in",children:[s.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Rn,{size:18,className:"text-slate-600"}),n("adminDashboard.activityLogs.title")]}),s.jsxs("span",{className:"text-xs text-slate-500",children:[e.length," ",n("adminDashboard.activityLogs.activity")]})]}),s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-slate-50/50 text-slate-600 font-bold border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:n("adminDashboard.activityLogs.time")}),s.jsx("th",{className:"p-4",children:n("adminDashboard.activityLogs.user")}),s.jsx("th",{className:"p-4",children:n("adminDashboard.activityLogs.event")}),s.jsx("th",{className:"p-4",children:n("adminDashboard.activityLogs.details")})]})}),s.jsx("tbody",{children:l.length>0?l.map(u=>s.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50/50",children:[s.jsx("td",{className:"p-4 font-mono text-slate-500 text-xs",dir:"ltr",children:Dr(u.createdAt)}),s.jsx("td",{className:"p-4 font-bold",children:u.userName||u.userId}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-bold",children:u.eventType})}),s.jsx("td",{className:"p-4 text-slate-600",children:u.description})]},u.id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:[s.jsx(Xr,{size:32,className:"mx-auto mb-2 opacity-40"}),s.jsx("p",{className:"font-bold",children:n("adminDashboard.activityLogs.noActivities")})]})})})]}),c>1&&s.jsxs("div",{className:"p-4 flex justify-center gap-4 border-t border-slate-100",children:[s.jsx("button",{disabled:t===1,onClick:()=>r(t-1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:s.jsx(Zn,{size:16})}),s.jsxs("span",{className:"text-sm font-bold text-slate-600 pt-1",children:[t," / ",c]}),s.jsx("button",{disabled:t===c,onClick:()=>r(t+1),className:"p-2 border rounded hover:bg-slate-50 disabled:opacity-50",children:s.jsx(bi,{size:16})})]})]})]})},B2e=e=>{const[t,r]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const n=await de.getAdminUsers();if(n.length>0){const i=n.find(l=>l.isActive);r(i||n[0])}}catch(n){console.error("Failed to load admin user:",n)}})()},[]),s.jsx(Hie,{initialAdminUser:t,children:s.jsx(Vle,{children:s.jsx(L2e,{...e})})})},z2e=({toast:e,onDismiss:t})=>{const{dir:r}=Ea(),a={success:s.jsx(dr,{className:"w-5 h-5 text-green-600"}),error:s.jsx(_n,{className:"w-5 h-5 text-red-600"}),info:s.jsx(el,{className:"w-5 h-5 text-blue-600"})},n={success:"border-green-500 bg-white shadow-green-100",error:"border-red-500 bg-white shadow-red-100",info:"border-blue-500 bg-white shadow-blue-100"};return s.jsxs("div",{className:`
        pointer-events-auto 
        flex items-center gap-3 w-auto min-w-[320px] max-w-md
        rounded-lg border-l-4 rtl:border-l-0 rtl:border-r-4 shadow-xl ring-1 ring-black ring-opacity-5 
        px-5 py-4 transform transition-all duration-500 ease-out animate-slide-up
        hover:scale-105 cursor-pointer
        ${n[e.type]}
      `,onClick:()=>t(e.id),role:"alert",children:[s.jsx("div",{className:"flex-shrink-0 animate-pulse",children:a[e.type]}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-bold text-gray-800 leading-snug",children:e.message})}),s.jsx("div",{className:"flex flex-shrink-0 ml-1 rtl:mr-1",children:s.jsxs("button",{className:"inline-flex rounded-md p-1 text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",onClick:i=>{i.stopPropagation(),t(e.id)},children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(ar,{className:"h-4 w-4"})]})})]})},q2e=()=>{const{toasts:e,removeToast:t}=qt();return e.length===0?null:s.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-3 items-center pointer-events-none w-full px-4",children:e.map(r=>s.jsx(z2e,{toast:r,onDismiss:t},r.id))})},II=e=>[{icon:s.jsx(Yr,{size:32}),titleKey:"loading.verifyingCredentials"},{icon:s.jsx(zp,{size:32}),titleKey:"loading.connectingWarehouse"},{icon:s.jsx(Na,{size:32}),titleKey:"loading.loadingCatalog"},{icon:s.jsx(Zx,{size:32}),titleKey:"loading.applyingDiscounts"},{icon:s.jsx(Ld,{size:32}),titleKey:"loading.syncingInventory"},{icon:s.jsx(rl,{size:32}),titleKey:"loading.optimizingLogistics"},{icon:s.jsx(Rn,{size:32}),titleKey:"loading.finalizingSetup"},{icon:s.jsx(pi,{size:32}),titleKey:"loading.accessGranted"}];function $2e(){var ee,Y,F,K,J,H,ce,le,xe;const[e,t]=P.useState(null),[r,a]=P.useState(null),[n,i]=P.useState("LOGIN"),[l,c]=P.useState(!0),[u,f]=P.useState("OWNER"),[p,m]=P.useState(!0),[x,v]=P.useState(0),[y,b]=P.useState(!1),[S,_]=P.useState(0),[w,E]=P.useState(0),[O,A]=P.useState(""),[T,N]=P.useState(""),[D,L]=P.useState(!1),[M,k]=P.useState(null),{t:I}=na(),{i18n:V}=na(),q=Td(V.language),{addToast:z}=qt();P.useEffect(()=>{de.getSettings().then(k)},[]),P.useEffect(()=>{(async()=>{const fe=await de.getCurrentSession();if(fe)try{const G=fe.role==="CUSTOMER_STAFF"?"STAFF":"OWNER",He=G==="STAFF"?fe.phone:fe.clientId,Ue=G==="STAFF"?fe.activationCode:fe.password||"1",he=await de.login(He,Ue,G);t(he.user),a(he.profile),m(!1),c(!1);return}catch(G){console.error("Session restore failed",G),de.logout()}const we=localStorage.getItem("sini_car_persistent_session");if(we)try{const G=JSON.parse(we);if(G.expiresAt&&G.expiresAt>Date.now()&&G.sessionToken&&G.userId){if(de.validateSessionToken(G.userId,G.sessionToken)){const He=await de.getUserById(G.userId);if(He&&He.isActive){let Ue=null;if(He.role!=="SUPER_ADMIN"){const he=await de.getAllUsers(),Me=He.parentId||He.id,ye=he.find($e=>$e.user.id===Me);Ue=(ye==null?void 0:ye.profile)||null}localStorage.setItem("sini_car_current_user",JSON.stringify(He)),t(He),a(Ue),m(!1),c(!1);return}}localStorage.removeItem("sini_car_persistent_session")}else localStorage.removeItem("sini_car_persistent_session")}catch(G){console.error("Persistent session restore failed",G),localStorage.removeItem("sini_car_persistent_session")}c(!1)})()},[]);const R=async()=>{const se=await de.getCurrentSession();se&&t(se)};P.useEffect(()=>{!e&&!l&&!y&&(setTimeout(()=>v(1),300),setTimeout(()=>v(2),1e3),setTimeout(()=>v(3),1700),setTimeout(()=>m(!1),2500))},[l,e,y]);const W=async se=>{se.preventDefault();try{const fe=await de.login(O,T,u);b(!0),_(0),E(0);const we=4e3,G=II(I),He=we/G.length;let Ue=0;const he=setInterval(()=>{Ue++,Ue<G.length&&_(Ue)},He),Me=setInterval(()=>{E(ye=>Math.min(ye+1,100))},we/100);setTimeout(()=>{if(clearInterval(he),clearInterval(Me),D){const ye=`${fe.user.id}_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,$e={sessionToken:ye,userId:fe.user.id,loginType:u,createdAt:Date.now(),expiresAt:Date.now()+720*60*60*1e3};localStorage.setItem("sini_car_persistent_session",JSON.stringify($e)),de.storeSessionToken(fe.user.id,ye)}b(!1),t(fe.user),a(fe.profile),z(`${I("welcome")} ${fe.user.name}`,"success")},we)}catch(fe){z(fe.message,"error")}},X=async()=>{await de.logout(),localStorage.removeItem("sini_car_persistent_session"),t(null),a(null),i("LOGIN"),A(""),N(""),L(!1),m(!1),b(!1),z(I("logout"),"info")},B=()=>{const se={id:"guest_"+Date.now(),clientId:"GUEST",name:I("login.guest"),email:"",phone:"",role:"CUSTOMER_OWNER",isActive:!0,password:"",isGuest:!0};t(se),a(null),z(I("login.guestWelcome"),"info")};if(l&&!p)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050A14]",children:s.jsx("div",{className:"flex flex-col items-center gap-4",children:s.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"})})});if(e)return e.role==="SUPER_ADMIN"?s.jsx(B2e,{onLogout:X}):s.jsx(Lie,{user:e,profile:r,onLogout:X,onRefreshUser:R});if(n==="REGISTER")return s.jsx(Gne,{onSuccess:()=>i("LOGIN"),onSwitchToLogin:()=>i("LOGIN")});if(y){const fe=II()[S];return s.jsxs("div",{className:"fixed inset-0 bg-[#050A14] text-white flex flex-col items-center justify-center font-sans overflow-hidden z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-[#050A14] to-[#050A14]"}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(6,182,212,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(6,182,212,0.05)_1px,transparent_1px)] bg-[size:30px_30px] opacity-20"}),s.jsxs("div",{className:"relative z-10 w-full max-w-lg px-8 text-center",children:[s.jsxs("div",{className:"mb-12 relative h-32 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-cyan-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"relative z-10 w-24 h-24 bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl border border-cyan-500/30 flex items-center justify-center text-cyan-400 shadow-[0_0_30px_rgba(6,182,212,0.15)] transform transition-all duration-500 hover:scale-105",children:fe.icon}),s.jsx("div",{className:"absolute inset-0 animate-spin-slow",children:s.jsx("div",{className:"absolute top-0 left-1/2 w-2 h-2 bg-cyan-500 rounded-full shadow-[0_0_10px_#06b6d4]"})})]}),s.jsx("div",{className:"space-y-3 mb-12 min-h-[100px]",children:s.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight animate-fade-in key={loginStepIndex}",children:I(fe.titleKey)})}),s.jsx("div",{className:"relative w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-cyan-600 via-cyan-400 to-cyan-300 transition-all duration-300 ease-out shadow-[0_0_10px_#22d3ee]",style:{width:`${w}%`}})}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs font-mono text-slate-500",children:[s.jsx("span",{children:I("loading.systemInitialization")}),s.jsxs("span",{children:[Math.round(w),"%"]})]})]})]})}return p?s.jsxs("div",{className:"fixed inset-0 bg-[#050A14] text-white flex flex-col items-center justify-center font-sans overflow-hidden z-50",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-900 via-[#050A14] to-[#050A14]"}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,232,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,232,255,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-cyan-500 blur-2xl opacity-20 rounded-full animate-pulse"}),s.jsx(ec,{size:64,className:"text-cyan-400 relative z-10",strokeWidth:1})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`flex items-center gap-4 transition-all duration-700 ${x>=1?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${x>1?"border-green-500 text-green-500":"border-cyan-500/30 text-cyan-400 animate-pulse"}`,children:x>1?s.jsx(pi,{size:16}):s.jsx(zp,{size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold text-slate-200",children:I("intro.mainServer")}),s.jsx("p",{className:"text-xs text-slate-500 font-mono",children:I("intro.connectingServer")})]})]}),s.jsxs("div",{className:`flex items-center gap-4 transition-all duration-700 delay-100 ${x>=2?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${x>2?"border-green-500 text-green-500":"border-cyan-500/30 text-cyan-400 animate-pulse"}`,children:x>2?s.jsx(pi,{size:16}):s.jsx(Ld,{size:16})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold text-slate-200",children:I("intro.dataSync")}),s.jsx("p",{className:"text-xs text-slate-500 font-mono",children:I("intro.syncingData")})]})]}),s.jsxs("div",{className:`flex items-center gap-4 transition-all duration-700 delay-200 ${x>=3?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border ${x>=3?"border-cyan-400 text-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.5)]":"border-slate-700 text-slate-600"}`,children:s.jsx(fs,{size:16,className:x>=3?"animate-spin-slow":""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold text-slate-200",children:I("intro.logistics")}),s.jsx("p",{className:"text-xs text-slate-500 font-mono",children:I("intro.connectingWarehouses")})]})]})]}),s.jsx("div",{className:"mt-12 h-1 w-full bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-cyan-500 shadow-[0_0_10px_#06b6d4] transition-all duration-[4000ms] ease-out",style:{width:x>0?"100%":"0%"}})})]})]}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#050A14] relative overflow-hidden font-sans",dir:q,children:[s.jsx("div",{className:`absolute top-4 z-50 ${q==="rtl"?"left-4":"right-4"}`,children:s.jsx(Vj,{variant:"floating",size:"md"})}),s.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,232,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,232,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_80%)]"}),s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-cyan-900/20 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-900/20 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full blur-[2px] animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-1 h-1 bg-white rounded-full blur-[1px] animate-ping"})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 animate-fade-in-up",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-1000"}),s.jsxs("div",{className:"relative bg-[#0B1221]/90 backdrop-blur-xl border border-white/10 rounded-2xl p-8 md:p-12 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 mb-6 shadow-inner relative group-hover:scale-105 transition-transform duration-500",children:[s.jsx("div",{className:"absolute inset-0 bg-cyan-500/10 rounded-2xl animate-pulse"}),s.jsx(ec,{size:40,className:"text-cyan-400 relative z-10",strokeWidth:1.5})]}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2 tracking-tight","data-testid":"text-login-title",children:((ee=M==null?void 0:M.authPageTexts)==null?void 0:ee.loginTitle)||I("login.wholesaleLogin")}),s.jsx("h2",{className:"text-lg text-cyan-400 font-bold mb-3",children:I("common.siniCar")}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-cyan-500/80 text-sm font-mono tracking-wider",children:[s.jsx(Rn,{size:14}),s.jsx("span",{children:((Y=M==null?void 0:M.authPageTexts)==null?void 0:Y.loginSubtitle)||I("login.b2bPortal")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 p-1 bg-slate-900/60 rounded-lg mb-8 border border-slate-700",children:[s.jsx("button",{onClick:()=>{f("OWNER"),A(""),N("")},className:`py-2 rounded-md text-sm font-bold transition-all ${u==="OWNER"?"bg-cyan-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,"data-testid":"button-login-owner",children:I("login.ownerLogin")}),s.jsx("button",{onClick:()=>{f("STAFF"),A(""),N("")},className:`py-2 rounded-md text-sm font-bold transition-all ${u==="STAFF"?"bg-cyan-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,"data-testid":"button-login-staff",children:I("login.staffLogin")})]}),s.jsxs("form",{onSubmit:W,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[u==="OWNER"?((F=M==null?void 0:M.authPageTexts)==null?void 0:F.loginClientIdLabel)||I("login.clientId"):I("login.phoneNumber"),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500 shadow-[0_0_5px_#06b6d4]"})]}),s.jsxs("div",{className:"relative group/input",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none text-slate-500 group-focus-within/input:text-cyan-400 transition-colors",children:u==="OWNER"?s.jsx(y0,{size:20}):s.jsx(fm,{size:20})}),s.jsx("input",{type:u==="OWNER"?"text":"tel",required:!0,className:"block w-full pr-12 pl-4 py-4 bg-slate-900/50 border border-slate-700 text-white placeholder-slate-600 rounded-lg focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 transition-all font-mono",placeholder:u==="OWNER"?((K=M==null?void 0:M.authPageTexts)==null?void 0:K.loginClientIdPlaceholder)||"C-100200":"05xxxxxxxx",value:O,onChange:se=>A(se.target.value),"data-testid":"input-identifier"}),s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-slate-600 group-focus-within/input:border-cyan-500 transition-colors"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-slate-600 group-focus-within/input:border-cyan-500 transition-colors"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:u==="OWNER"?((J=M==null?void 0:M.authPageTexts)==null?void 0:J.loginPasswordLabel)||I("login.password"):I("login.activationCode")}),s.jsxs("div",{className:"relative group/input",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none text-slate-500 group-focus-within/input:text-cyan-400 transition-colors",children:u==="OWNER"?s.jsx(Yr,{size:20}):s.jsx(Ys,{size:20})}),s.jsx("input",{type:u==="OWNER"?"password":"text",required:!0,className:"block w-full pr-12 pl-4 py-4 bg-slate-900/50 border border-slate-700 text-white placeholder-slate-600 rounded-lg focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 transition-all",placeholder:u==="OWNER"?((H=M==null?void 0:M.authPageTexts)==null?void 0:H.loginPasswordPlaceholder)||"":"123456",value:T,onChange:se=>N(se.target.value),"data-testid":"input-password"}),s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-slate-600 group-focus-within/input:border-cyan-500 transition-colors"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-slate-600 group-focus-within/input:border-cyan-500 transition-colors"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-5 h-5 border border-slate-600 rounded bg-slate-900/50 group-hover:border-cyan-500 transition-colors",children:[s.jsx("input",{type:"checkbox",className:"peer appearance-none w-full h-full cursor-pointer",checked:D,onChange:se=>L(se.target.checked),"data-testid":"checkbox-remember-me"}),s.jsx(pi,{size:12,className:"text-cyan-400 opacity-0 peer-checked:opacity-100 absolute"})]}),s.jsx("span",{className:"text-sm text-slate-400 group-hover:text-cyan-400 transition-colors",children:I("login.rememberMe")})]}),u==="OWNER"&&s.jsx("a",{href:"#",className:"text-sm font-bold text-slate-500 hover:text-white transition-colors","data-testid":"link-forgot-password",children:((ce=M==null?void 0:M.authPageTexts)==null?void 0:ce.loginForgotPasswordText)||I("login.forgotPassword")})]}),s.jsxs("button",{type:"submit",disabled:l,className:"w-full py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold tracking-wide rounded-lg shadow-[0_0_20px_rgba(6,182,212,0.3)] hover:shadow-[0_0_30px_rgba(6,182,212,0.5)] transition-all flex items-center justify-center gap-3 group/btn relative overflow-hidden","data-testid":"button-login",children:[l?s.jsx("span",{className:"animate-pulse",children:I("login.verifying")}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"relative z-10",children:((le=M==null?void 0:M.authPageTexts)==null?void 0:le.loginButtonText)||I("login.enter")}),s.jsx(dc,{className:"w-5 h-5 rtl:rotate-180 relative z-10 group-hover/btn:translate-x-1 rtl:group-hover/btn:-translate-x-1 transition-transform"})]}),s.jsx("div",{className:"absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 group-hover/btn:animate-shine"})]})]}),s.jsxs("div",{className:"mt-10 pt-6 border-t border-white/5 flex flex-col items-center gap-3 text-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-500/80 bg-emerald-500/5 px-3 py-1 rounded-full border border-emerald-500/10",children:[s.jsx(Ys,{size:14}),s.jsx("span",{className:"text-[10px] font-bold tracking-wider",children:I("login.secureConnection")})]}),s.jsx("p",{className:"text-xs text-slate-500",children:I("login.securityNote")}),u==="OWNER"&&s.jsx("button",{onClick:()=>i("REGISTER"),className:"mt-4 text-cyan-500 text-sm font-bold hover:text-cyan-400 hover:underline transition-all","data-testid":"button-open-account-request",children:((xe=M==null?void 0:M.authPageTexts)==null?void 0:xe.loginRegisterLinkText)||I("login.openNewAccount")}),(M==null?void 0:M.guestModeEnabled)&&s.jsxs("button",{onClick:B,className:"mt-4 flex items-center justify-center gap-2 px-6 py-3 bg-slate-800/50 border border-slate-600 text-slate-300 rounded-lg font-bold hover:bg-slate-700/50 hover:border-cyan-500/50 hover:text-white transition-all group","data-testid":"button-guest-login",children:[s.jsx(fs,{size:18,className:"group-hover:text-cyan-400 transition-colors"}),s.jsx("span",{children:I("login.enterAsGuest")})]})]})]})]}),s.jsx("div",{className:"text-center mt-6 text-slate-600 text-xs font-mono",children:" 2025 SINI CAR WHOLESALE SYSTEMS. V2.5.0"})]})]})}function H2e(){return s.jsx(Bne,{children:s.jsx(qne,{children:s.jsxs(Tie,{children:[s.jsx(q2e,{}),s.jsx($2e,{})]})})})}const F7=document.getElementById("root");if(!F7)throw new Error("Could not find root element to mount to");const V2e=tz.createRoot(F7);V2e.render(s.jsx(ge.StrictMode,{children:s.jsx(H2e,{})}));export{Vi as _,Ih as c,jr as g};
