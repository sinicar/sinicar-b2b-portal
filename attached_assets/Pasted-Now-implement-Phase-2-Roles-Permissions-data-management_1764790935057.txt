Now implement Phase 2: Roles & Permissions data management.

Important:
- This phase is ONLY about defining and managing roles + their permissions as data.
- Do NOT enforce permissions on pages or buttons yet.
- The UI must be in Arabic.

-----------------------------------------
1) General Structure
-----------------------------------------

We already have an "المستخدمون" page in the admin panel.

Now we want to:

- Turn it into a two-tab interface:
  - Tab 1: "المستخدمون"
  - Tab 2: "الأدوار والصلاحيات"

The existing Users table and functionality stay in Tab 1.

All new work for this task happens in Tab 2 (Roles & Permissions) and in the user form (role selection).

-----------------------------------------
2) Data Model – Roles & Permissions
-----------------------------------------

Create a Roles data model and store it in mockApi/localStorage under key:
  "adminRoles"

Define TypeScript types similar to:

type PermissionAction =
  | 'view'
  | 'create'
  | 'edit'
  | 'delete'
  | 'approve'
  | 'reject'
  | 'export'
  | 'import'
  | 'configure'
  | 'manage_status'
  | 'manage_users'
  | 'manage_roles'
  | 'run_backup'
  | 'manage_api'
  | 'other';

type PermissionResource =
  | 'dashboard'
  | 'products'
  | 'customers'
  | 'customer_requests'
  | 'account_requests'
  | 'quotes'
  | 'orders'
  | 'imports'
  | 'missing'
  | 'crm'
  | 'activity_log'
  | 'notifications'
  | 'settings_general'
  | 'settings_status_labels'
  | 'settings_api'
  | 'settings_backup'
  | 'settings_security'
  | 'users'
  | 'roles'
  | 'export_center'
  | 'content_management'
  | 'other';

type Permission = {
  resource: PermissionResource;
  actions: PermissionAction[];
};

type Role = {
  id: string;
  name: string;          // Arabic name, e.g. "مشرف عام"
  description?: string;
  permissions: Permission[];
  isSystem?: boolean;    // built-in roles that cannot be deleted
};

Store roles as an array of Role objects in mockApi/localStorage.

Seed at least these default roles:

1) SuperAdmin
   - name: "مشرف عام"
   - description: "صلاحيات كاملة على النظام"
   - isSystem = true
   - permissions: all resources, all actions

2) Admin
   - name: "مدير النظام"
   - description: "إدارة عامة مع بعض القيود البسيطة"
   - isSystem = true
   - permissions: almost everything except very sensitive actions (e.g. cannot delete SuperAdmin)

3) SalesManager
   - name: "مدير المبيعات"
   - description: "إدارة المبيعات والعملاء والطلبات"
   - permissions: products/customers/quotes/orders/imports/missing/view/export/edit/approve/reject

4) SalesAgent
   - name: "موظف مبيعات"
   - description: "إضافة عروض أسعار وطلبات بدون إدارة الإعدادات"
   - permissions: view/create/edit on quotes and orders and customers, no settings, no users.

5) Viewer
   - name: "مشاهد فقط"
   - description: "عرض البيانات فقط بدون تعديل"
   - permissions: view only on most resources.

-----------------------------------------
3) UI – Tabs for Users & Roles
-----------------------------------------

On the existing "المستخدمون" admin page:

1) Add a tab bar or segmented control at the top with two tabs:
   - "المستخدمون"
   - "الأدوار والصلاحيات"

2) When "المستخدمون" is selected:
   - Show the existing Users table and actions (Phase 1).

3) When "الأدوار والصلاحيات" is selected:
   - Show the new Roles management interface described below.

-----------------------------------------
4) Roles Management UI (الأدوار والصلاحيات)
-----------------------------------------

In the "الأدوار والصلاحيات" tab, implement:

### 4.1 Roles list

A list or table showing:

- اسم الدور
- الوصف
- عدد المستخدمين المرتبطين بهذا الدور (optional)
- علامة إذا كان System role (e.g. "دور نظامي" badge)
- إجراءات

### 4.2 Actions on Roles

• إضافة دور جديد:
  - Button: "إضافة دور جديد"
  - Opens a modal with:
    - اسم الدور (Arabic name) – required
    - وصف الدور – optional
  - After creating the role, it should appear in the list.

• تعديل دور:
  - Edit name and description.
  - Open a details panel or modal for editing permissions (see 4.3).

• حذف دور:
  - Only allowed if:
    - role.isSystem !== true
    - AND no users are currently assigned to this role.
  - If there are users using this role:
    - Show a message in Arabic:
      "لا يمكن حذف هذا الدور لوجود مستخدمين مرتبطين به."

### 4.3 Permissions editor (Matrix / Checkboxes)

For the selected role, show a structured permissions editor:

- Group by Resource (in Arabic):
  - المنتجات
  - العملاء
  - طلبات العملاء
  - طلبات الحسابات
  - عروض الأسعار
  - الطلبات
  - طلبات الاستيراد
  - النواقص
  - قاعدة العملاء
  - سجل النشاط
  - الإشعارات
  - إعدادات عامة
  - إعدادات مسميات الحالات
  - إعدادات API
  - إعدادات النسخ الاحتياطي
  - إعدادات الأمان
  - المستخدمون
  - الأدوار والصلاحيات
  - إدارة المحتوى
  - إلخ…

- For each resource row, show checkboxes for available actions, mapped to PermissionAction:

  مثال لصف المنتجات:
  - عرض (view)
  - إضافة (create)
  - تعديل (edit)
  - حذف (delete)
  - تصدير (export)

  مثال لإعدادات API:
  - عرض (view)
  - إعدادات / تعديل (configure)

  مثال للمستخدمين:
  - إدارة المستخدمين (manage_users)
  - إدارة الأدوار (manage_roles)

Labels must be Arabic, but internally store the enums (view, create, etc.).

• Provide a "حفظ" button to save permissions for the role to mockApi/localStorage.

-----------------------------------------
5) Link Users to Roles (Replace text role field)
-----------------------------------------

Update the Users form/page from Phase 1:

1) Instead of a free-text "role" field:
   - Use a dropdown/select listing all roles from "adminRoles".

   Label: "الدور"

2) Store only `roleId` on the user (internally), not a plain text role name.

   So update the AdminUser model internally to:

   {
     ...
     roleId: string,   // link to Role.id
   }

3) In the Users table:
   - Show the role’s Arabic name by looking up the role with the same roleId.

4) For existing seed users:
   - Assign them to appropriate roles (SuperAdmin, SalesManager, SalesAgent, etc.).

-----------------------------------------
6) No enforcement yet
-----------------------------------------

Do NOT enforce permissions on any page or button in this phase.

- No "hasPermission" logic yet.
- All users should still see the same admin UI as before.

We only want:
- Roles data model
- Roles management UI
- Users linked to roles via roleId

The actual permission enforcement will be done in Phase 3.

-----------------------------------------
7) Final explanation after completion
-----------------------------------------

After you finish coding Phase 2:

Please reply with a summary in Arabic explaining:

1) How to open the "الأدوار والصلاحيات" tab.
2) How to:
   - إضافة دور جديد
   - تعديل صلاحيات دور
   - ربط مستخدم بدور معيّن
3) Where roles and permissions are stored in the data (which mockApi/localStorage keys).
4) Any limitations or TODOs you left for Phase 3.

Do NOT start Phase 3 (permission enforcement) until I confirm Phase 2 is complete.
